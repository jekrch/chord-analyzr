(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function o(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(a){if(a.ep)return;a.ep=!0;const u=o(a);fetch(a.href,u)}})();var Ci=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jn(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function nv(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var r=n.default;if(typeof r=="function"){var o=function i(){var a=!1;try{a=this instanceof i}catch{}return a?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};o.prototype=r.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var a=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(o,i,a.get?a:{enumerable:!0,get:function(){return n[i]}})}),o}var za={exports:{}},Go={},Ga={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var np;function rv(){if(np)return De;np=1;var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.iterator;function y(j){return j===null||typeof j!="object"?null:(j=v&&j[v]||j["@@iterator"],typeof j=="function"?j:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,k={};function P(j,R,re){this.props=j,this.context=R,this.refs=k,this.updater=re||N}P.prototype.isReactComponent={},P.prototype.setState=function(j,R){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,R,"setState")},P.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function Y(){}Y.prototype=P.prototype;function G(j,R,re){this.props=j,this.context=R,this.refs=k,this.updater=re||N}var K=G.prototype=new Y;K.constructor=G,E(K,P.prototype),K.isPureReactComponent=!0;var V=Array.isArray,T=Object.prototype.hasOwnProperty,$={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function A(j,R,re){var ue,H={},ae=null,ye=null;if(R!=null)for(ue in R.ref!==void 0&&(ye=R.ref),R.key!==void 0&&(ae=""+R.key),R)T.call(R,ue)&&!B.hasOwnProperty(ue)&&(H[ue]=R[ue]);var se=arguments.length-2;if(se===1)H.children=re;else if(1<se){for(var ce=Array(se),ke=0;ke<se;ke++)ce[ke]=arguments[ke+2];H.children=ce}if(j&&j.defaultProps)for(ue in se=j.defaultProps,se)H[ue]===void 0&&(H[ue]=se[ue]);return{$$typeof:n,type:j,key:ae,ref:ye,props:H,_owner:$.current}}function z(j,R){return{$$typeof:n,type:j.type,key:R,ref:j.ref,props:j.props,_owner:j._owner}}function U(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function W(j){var R={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(re){return R[re]})}var I=/\/+/g;function L(j,R){return typeof j=="object"&&j!==null&&j.key!=null?W(""+j.key):R.toString(36)}function ne(j,R,re,ue,H){var ae=typeof j;(ae==="undefined"||ae==="boolean")&&(j=null);var ye=!1;if(j===null)ye=!0;else switch(ae){case"string":case"number":ye=!0;break;case"object":switch(j.$$typeof){case n:case r:ye=!0}}if(ye)return ye=j,H=H(ye),j=ue===""?"."+L(ye,0):ue,V(H)?(re="",j!=null&&(re=j.replace(I,"$&/")+"/"),ne(H,R,re,"",function(ke){return ke})):H!=null&&(U(H)&&(H=z(H,re+(!H.key||ye&&ye.key===H.key?"":(""+H.key).replace(I,"$&/")+"/")+j)),R.push(H)),1;if(ye=0,ue=ue===""?".":ue+":",V(j))for(var se=0;se<j.length;se++){ae=j[se];var ce=ue+L(ae,se);ye+=ne(ae,R,re,ce,H)}else if(ce=y(j),typeof ce=="function")for(j=ce.call(j),se=0;!(ae=j.next()).done;)ae=ae.value,ce=ue+L(ae,se++),ye+=ne(ae,R,re,ce,H);else if(ae==="object")throw R=String(j),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return ye}function de(j,R,re){if(j==null)return j;var ue=[],H=0;return ne(j,ue,"","",function(ae){return R.call(re,ae,H++)}),ue}function le(j){if(j._status===-1){var R=j._result;R=R(),R.then(function(re){(j._status===0||j._status===-1)&&(j._status=1,j._result=re)},function(re){(j._status===0||j._status===-1)&&(j._status=2,j._result=re)}),j._status===-1&&(j._status=0,j._result=R)}if(j._status===1)return j._result.default;throw j._result}var pe={current:null},q={transition:null},X={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:q,ReactCurrentOwner:$};function Q(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:de,forEach:function(j,R,re){de(j,function(){R.apply(this,arguments)},re)},count:function(j){var R=0;return de(j,function(){R++}),R},toArray:function(j){return de(j,function(R){return R})||[]},only:function(j){if(!U(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},De.Component=P,De.Fragment=o,De.Profiler=a,De.PureComponent=G,De.StrictMode=i,De.Suspense=h,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,De.act=Q,De.cloneElement=function(j,R,re){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var ue=E({},j.props),H=j.key,ae=j.ref,ye=j._owner;if(R!=null){if(R.ref!==void 0&&(ae=R.ref,ye=$.current),R.key!==void 0&&(H=""+R.key),j.type&&j.type.defaultProps)var se=j.type.defaultProps;for(ce in R)T.call(R,ce)&&!B.hasOwnProperty(ce)&&(ue[ce]=R[ce]===void 0&&se!==void 0?se[ce]:R[ce])}var ce=arguments.length-2;if(ce===1)ue.children=re;else if(1<ce){se=Array(ce);for(var ke=0;ke<ce;ke++)se[ke]=arguments[ke+2];ue.children=se}return{$$typeof:n,type:j.type,key:H,ref:ae,props:ue,_owner:ye}},De.createContext=function(j){return j={$$typeof:f,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:u,_context:j},j.Consumer=j},De.createElement=A,De.createFactory=function(j){var R=A.bind(null,j);return R.type=j,R},De.createRef=function(){return{current:null}},De.forwardRef=function(j){return{$$typeof:p,render:j}},De.isValidElement=U,De.lazy=function(j){return{$$typeof:x,_payload:{_status:-1,_result:j},_init:le}},De.memo=function(j,R){return{$$typeof:g,type:j,compare:R===void 0?null:R}},De.startTransition=function(j){var R=q.transition;q.transition={};try{j()}finally{q.transition=R}},De.unstable_act=Q,De.useCallback=function(j,R){return pe.current.useCallback(j,R)},De.useContext=function(j){return pe.current.useContext(j)},De.useDebugValue=function(){},De.useDeferredValue=function(j){return pe.current.useDeferredValue(j)},De.useEffect=function(j,R){return pe.current.useEffect(j,R)},De.useId=function(){return pe.current.useId()},De.useImperativeHandle=function(j,R,re){return pe.current.useImperativeHandle(j,R,re)},De.useInsertionEffect=function(j,R){return pe.current.useInsertionEffect(j,R)},De.useLayoutEffect=function(j,R){return pe.current.useLayoutEffect(j,R)},De.useMemo=function(j,R){return pe.current.useMemo(j,R)},De.useReducer=function(j,R,re){return pe.current.useReducer(j,R,re)},De.useRef=function(j){return pe.current.useRef(j)},De.useState=function(j){return pe.current.useState(j)},De.useSyncExternalStore=function(j,R,re){return pe.current.useSyncExternalStore(j,R,re)},De.useTransition=function(){return pe.current.useTransition()},De.version="18.3.1",De}var rp;function Wi(){return rp||(rp=1,Ga.exports=rv()),Ga.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var op;function ov(){if(op)return Go;op=1;var n=Wi(),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function f(p,h,g){var x,v={},y=null,N=null;g!==void 0&&(y=""+g),h.key!==void 0&&(y=""+h.key),h.ref!==void 0&&(N=h.ref);for(x in h)i.call(h,x)&&!u.hasOwnProperty(x)&&(v[x]=h[x]);if(p&&p.defaultProps)for(x in h=p.defaultProps,h)v[x]===void 0&&(v[x]=h[x]);return{$$typeof:r,type:p,key:y,ref:N,props:v,_owner:a.current}}return Go.Fragment=o,Go.jsx=f,Go.jsxs=f,Go}var sp;function sv(){return sp||(sp=1,za.exports=ov()),za.exports}var c=sv(),w=Wi();const Pe=Jn(w);var ji={},Ua={exports:{}},Et={},Va={exports:{}},Wa={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ip;function iv(){return ip||(ip=1,function(n){function r(q,X){var Q=q.length;q.push(X);e:for(;0<Q;){var j=Q-1>>>1,R=q[j];if(0<a(R,X))q[j]=X,q[Q]=R,Q=j;else break e}}function o(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var X=q[0],Q=q.pop();if(Q!==X){q[0]=Q;e:for(var j=0,R=q.length,re=R>>>1;j<re;){var ue=2*(j+1)-1,H=q[ue],ae=ue+1,ye=q[ae];if(0>a(H,Q))ae<R&&0>a(ye,H)?(q[j]=ye,q[ae]=Q,j=ae):(q[j]=H,q[ue]=Q,j=ue);else if(ae<R&&0>a(ye,Q))q[j]=ye,q[ae]=Q,j=ae;else break e}}return X}function a(q,X){var Q=q.sortIndex-X.sortIndex;return Q!==0?Q:q.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();n.unstable_now=function(){return f.now()-p}}var h=[],g=[],x=1,v=null,y=3,N=!1,E=!1,k=!1,P=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function K(q){for(var X=o(g);X!==null;){if(X.callback===null)i(g);else if(X.startTime<=q)i(g),X.sortIndex=X.expirationTime,r(h,X);else break;X=o(g)}}function V(q){if(k=!1,K(q),!E)if(o(h)!==null)E=!0,le(T);else{var X=o(g);X!==null&&pe(V,X.startTime-q)}}function T(q,X){E=!1,k&&(k=!1,Y(A),A=-1),N=!0;var Q=y;try{for(K(X),v=o(h);v!==null&&(!(v.expirationTime>X)||q&&!W());){var j=v.callback;if(typeof j=="function"){v.callback=null,y=v.priorityLevel;var R=j(v.expirationTime<=X);X=n.unstable_now(),typeof R=="function"?v.callback=R:v===o(h)&&i(h),K(X)}else i(h);v=o(h)}if(v!==null)var re=!0;else{var ue=o(g);ue!==null&&pe(V,ue.startTime-X),re=!1}return re}finally{v=null,y=Q,N=!1}}var $=!1,B=null,A=-1,z=5,U=-1;function W(){return!(n.unstable_now()-U<z)}function I(){if(B!==null){var q=n.unstable_now();U=q;var X=!0;try{X=B(!0,q)}finally{X?L():($=!1,B=null)}}else $=!1}var L;if(typeof G=="function")L=function(){G(I)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,de=ne.port2;ne.port1.onmessage=I,L=function(){de.postMessage(null)}}else L=function(){P(I,0)};function le(q){B=q,$||($=!0,L())}function pe(q,X){A=P(function(){q(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_continueExecution=function(){E||N||(E=!0,le(T))},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return o(h)},n.unstable_next=function(q){switch(y){case 1:case 2:case 3:var X=3;break;default:X=y}var Q=y;y=X;try{return q()}finally{y=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(q,X){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Q=y;y=q;try{return X()}finally{y=Q}},n.unstable_scheduleCallback=function(q,X,Q){var j=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?j+Q:j):Q=j,q){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=Q+R,q={id:x++,callback:X,priorityLevel:q,startTime:Q,expirationTime:R,sortIndex:-1},Q>j?(q.sortIndex=Q,r(g,q),o(h)===null&&q===o(g)&&(k?(Y(A),A=-1):k=!0,pe(V,Q-j))):(q.sortIndex=R,r(h,q),E||N||(E=!0,le(T))),q},n.unstable_shouldYield=W,n.unstable_wrapCallback=function(q){var X=y;return function(){var Q=y;y=X;try{return q.apply(this,arguments)}finally{y=Q}}}}(Wa)),Wa}var lp;function lv(){return lp||(lp=1,Va.exports=iv()),Va.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ap;function av(){if(ap)return Et;ap=1;var n=Wi(),r=lv();function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function u(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(a[e]=t,e=0;e<t.length;e++)i.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},v={};function y(e){return h.call(v,e)?!0:h.call(x,e)?!1:g.test(e)?v[e]=!0:(x[e]=!0,!1)}function N(e,t,s,l){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return l?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function E(e,t,s,l){if(t===null||typeof t>"u"||N(e,t,s,l))return!0;if(l)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function k(e,t,s,l,d,m,b){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=l,this.attributeNamespace=d,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=m,this.removeEmptyString=b}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){P[e]=new k(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];P[t]=new k(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){P[e]=new k(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){P[e]=new k(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){P[e]=new k(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){P[e]=new k(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){P[e]=new k(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){P[e]=new k(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){P[e]=new k(e,5,!1,e.toLowerCase(),null,!1,!1)});var Y=/[\-:]([a-z])/g;function G(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Y,G);P[t]=new k(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Y,G);P[t]=new k(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Y,G);P[t]=new k(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){P[e]=new k(e,1,!1,e.toLowerCase(),null,!1,!1)}),P.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){P[e]=new k(e,1,!1,e.toLowerCase(),null,!0,!0)});function K(e,t,s,l){var d=P.hasOwnProperty(t)?P[t]:null;(d!==null?d.type!==0:l||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(E(t,s,d,l)&&(s=null),l||d===null?y(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):d.mustUseProperty?e[d.propertyName]=s===null?d.type===3?!1:"":s:(t=d.attributeName,l=d.attributeNamespace,s===null?e.removeAttribute(t):(d=d.type,s=d===3||d===4&&s===!0?"":""+s,l?e.setAttributeNS(l,t,s):e.setAttribute(t,s))))}var V=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),$=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),W=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),de=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),q=Symbol.iterator;function X(e){return e===null||typeof e!="object"?null:(e=q&&e[q]||e["@@iterator"],typeof e=="function"?e:null)}var Q=Object.assign,j;function R(e){if(j===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return`
`+j+e}var re=!1;function ue(e,t){if(!e||re)return"";re=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(F){var l=F}Reflect.construct(e,[],t)}else{try{t.call()}catch(F){l=F}e.call(t.prototype)}else{try{throw Error()}catch(F){l=F}e()}}catch(F){if(F&&l&&typeof F.stack=="string"){for(var d=F.stack.split(`
`),m=l.stack.split(`
`),b=d.length-1,S=m.length-1;1<=b&&0<=S&&d[b]!==m[S];)S--;for(;1<=b&&0<=S;b--,S--)if(d[b]!==m[S]){if(b!==1||S!==1)do if(b--,S--,0>S||d[b]!==m[S]){var C=`
`+d[b].replace(" at new "," at ");return e.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",e.displayName)),C}while(1<=b&&0<=S);break}}}finally{re=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?R(e):""}function H(e){switch(e.tag){case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return e=ue(e.type,!1),e;case 11:return e=ue(e.type.render,!1),e;case 1:return e=ue(e.type,!0),e;default:return""}}function ae(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case $:return"Portal";case z:return"Profiler";case A:return"StrictMode";case L:return"Suspense";case ne:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case W:return(e.displayName||"Context")+".Consumer";case U:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case de:return t=e.displayName||null,t!==null?t:ae(e.type)||"Memo";case le:t=e._payload,e=e._init;try{return ae(e(t))}catch{}}return null}function ye(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(t);case 8:return t===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function se(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ce(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ke(e){var t=ce(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,m=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(b){l=""+b,m.call(this,b)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Re(e){e._valueTracker||(e._valueTracker=ke(e))}function be(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),l="";return e&&(l=ce(e)?e.checked?"true":"false":e.value),e=l,e!==s?(t.setValue(e),!0):!1}function Xe(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ht(e,t){var s=t.checked;return Q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function ut(e,t){var s=t.defaultValue==null?"":t.defaultValue,l=t.checked!=null?t.checked:t.defaultChecked;s=se(t.value!=null?t.value:s),e._wrapperState={initialChecked:l,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qt(e,t){t=t.checked,t!=null&&K(e,"checked",t,!1)}function Kt(e,t){qt(e,t);var s=se(t.value),l=t.type;if(s!=null)l==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?En(e,t.type,s):t.hasOwnProperty("defaultValue")&&En(e,t.type,se(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function pn(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var l=t.type;if(!(l!=="submit"&&l!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function En(e,t,s){(t!=="number"||Xe(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var hn=Array.isArray;function Yt(e,t,s,l){if(e=e.options,t){t={};for(var d=0;d<s.length;d++)t["$"+s[d]]=!0;for(s=0;s<e.length;s++)d=t.hasOwnProperty("$"+e[s].value),e[s].selected!==d&&(e[s].selected=d),d&&l&&(e[s].defaultSelected=!0)}else{for(s=""+se(s),t=null,d=0;d<e.length;d++){if(e[d].value===s){e[d].selected=!0,l&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function oo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(o(91));return Q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ds(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(o(92));if(hn(s)){if(1<s.length)throw Error(o(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:se(s)}}function fs(e,t){var s=se(t.value),l=se(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),l!=null&&(e.defaultValue=""+l)}function ps(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function er(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nr(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?er(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Sr,hs=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,l,d){MSApp.execUnsafeLocalFunction(function(){return e(t,s,l,d)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Sr=Sr||document.createElement("div"),Sr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Sr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function tr(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var nr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ol=["Webkit","ms","Moz","O"];Object.keys(nr).forEach(function(e){ol.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),nr[t]=nr[e]})});function ms(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||nr.hasOwnProperty(e)&&nr[e]?(""+t).trim():t+"px"}function gs(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var l=s.indexOf("--")===0,d=ms(s,t[s],l);s==="float"&&(s="cssFloat"),l?e.setProperty(s,d):e[s]=d}}var sl=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function so(e,t){if(t){if(sl[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(o(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(t.style!=null&&typeof t.style!="object")throw Error(o(62))}}function rr(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cr=null;function io(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jr=null,Pn=null,_=null;function Z(e){if(e=Po(e)){if(typeof jr!="function")throw Error(o(280));var t=e.stateNode;t&&(t=Bs(t),jr(e.stateNode,e.type,t))}}function he(e){Pn?_?_.push(e):_=[e]:Pn=e}function Ie(){if(Pn){var e=Pn,t=_;if(_=Pn=null,Z(e),t)for(e=0;e<t.length;e++)Z(t[e])}}function Ke(e,t){return e(t)}function dt(){}var Ot=!1;function kn(e,t,s){if(Ot)return e(t,s);Ot=!0;try{return Ke(e,t,s)}finally{Ot=!1,(Pn!==null||_!==null)&&(dt(),Ie())}}function ln(e,t){var s=e.stateNode;if(s===null)return null;var l=Bs(s);if(l===null)return null;s=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(o(231,t,typeof s));return s}var lo=!1;if(p)try{var Tt={};Object.defineProperty(Tt,"passive",{get:function(){lo=!0}}),window.addEventListener("test",Tt,Tt),window.removeEventListener("test",Tt,Tt)}catch{lo=!1}function Er(e,t,s,l,d,m,b,S,C){var F=Array.prototype.slice.call(arguments,3);try{t.apply(s,F)}catch(ee){this.onError(ee)}}var Dn=!1,vs=null,xs=!1,il=null,cg={onError:function(e){Dn=!0,vs=e}};function ug(e,t,s,l,d,m,b,S,C){Dn=!1,vs=null,Er.apply(cg,arguments)}function dg(e,t,s,l,d,m,b,S,C){if(ug.apply(this,arguments),Dn){if(Dn){var F=vs;Dn=!1,vs=null}else throw Error(o(198));xs||(xs=!0,il=F)}}function or(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Cu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ju(e){if(or(e)!==e)throw Error(o(188))}function fg(e){var t=e.alternate;if(!t){if(t=or(e),t===null)throw Error(o(188));return t!==e?null:e}for(var s=e,l=t;;){var d=s.return;if(d===null)break;var m=d.alternate;if(m===null){if(l=d.return,l!==null){s=l;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===s)return ju(d),e;if(m===l)return ju(d),t;m=m.sibling}throw Error(o(188))}if(s.return!==l.return)s=d,l=m;else{for(var b=!1,S=d.child;S;){if(S===s){b=!0,s=d,l=m;break}if(S===l){b=!0,l=d,s=m;break}S=S.sibling}if(!b){for(S=m.child;S;){if(S===s){b=!0,s=m,l=d;break}if(S===l){b=!0,l=m,s=d;break}S=S.sibling}if(!b)throw Error(o(189))}}if(s.alternate!==l)throw Error(o(190))}if(s.tag!==3)throw Error(o(188));return s.stateNode.current===s?e:t}function Eu(e){return e=fg(e),e!==null?Pu(e):null}function Pu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Pu(e);if(t!==null)return t;e=e.sibling}return null}var ku=r.unstable_scheduleCallback,Du=r.unstable_cancelCallback,pg=r.unstable_shouldYield,hg=r.unstable_requestPaint,We=r.unstable_now,mg=r.unstable_getCurrentPriorityLevel,ll=r.unstable_ImmediatePriority,Ru=r.unstable_UserBlockingPriority,ys=r.unstable_NormalPriority,gg=r.unstable_LowPriority,Iu=r.unstable_IdlePriority,bs=null,an=null;function vg(e){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(bs,e,void 0,(e.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:bg,xg=Math.log,yg=Math.LN2;function bg(e){return e>>>=0,e===0?32:31-(xg(e)/yg|0)|0}var ws=64,Ns=4194304;function ao(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ss(e,t){var s=e.pendingLanes;if(s===0)return 0;var l=0,d=e.suspendedLanes,m=e.pingedLanes,b=s&268435455;if(b!==0){var S=b&~d;S!==0?l=ao(S):(m&=b,m!==0&&(l=ao(m)))}else b=s&~d,b!==0?l=ao(b):m!==0&&(l=ao(m));if(l===0)return 0;if(t!==0&&t!==l&&(t&d)===0&&(d=l&-l,m=t&-t,d>=m||d===16&&(m&4194240)!==0))return t;if((l&4)!==0&&(l|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=l;0<t;)s=31-Qt(t),d=1<<s,l|=e[s],t&=~d;return l}function wg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ng(e,t){for(var s=e.suspendedLanes,l=e.pingedLanes,d=e.expirationTimes,m=e.pendingLanes;0<m;){var b=31-Qt(m),S=1<<b,C=d[b];C===-1?((S&s)===0||(S&l)!==0)&&(d[b]=wg(S,t)):C<=t&&(e.expiredLanes|=S),m&=~S}}function al(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Au(){var e=ws;return ws<<=1,(ws&4194240)===0&&(ws=64),e}function cl(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function co(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qt(t),e[t]=s}function Sg(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<s;){var d=31-Qt(s),m=1<<d;t[d]=0,l[d]=-1,e[d]=-1,s&=~m}}function ul(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var l=31-Qt(s),d=1<<l;d&t|e[l]&t&&(e[l]|=t),s&=~d}}var Me=0;function _u(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ou,dl,Tu,Mu,Lu,fl=!1,Cs=[],Rn=null,In=null,An=null,uo=new Map,fo=new Map,_n=[],Cg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fu(e,t){switch(e){case"focusin":case"focusout":Rn=null;break;case"dragenter":case"dragleave":In=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":uo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fo.delete(t.pointerId)}}function po(e,t,s,l,d,m){return e===null||e.nativeEvent!==m?(e={blockedOn:t,domEventName:s,eventSystemFlags:l,nativeEvent:m,targetContainers:[d]},t!==null&&(t=Po(t),t!==null&&dl(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function jg(e,t,s,l,d){switch(t){case"focusin":return Rn=po(Rn,e,t,s,l,d),!0;case"dragenter":return In=po(In,e,t,s,l,d),!0;case"mouseover":return An=po(An,e,t,s,l,d),!0;case"pointerover":var m=d.pointerId;return uo.set(m,po(uo.get(m)||null,e,t,s,l,d)),!0;case"gotpointercapture":return m=d.pointerId,fo.set(m,po(fo.get(m)||null,e,t,s,l,d)),!0}return!1}function Bu(e){var t=sr(e.target);if(t!==null){var s=or(t);if(s!==null){if(t=s.tag,t===13){if(t=Cu(s),t!==null){e.blockedOn=t,Lu(e.priority,function(){Tu(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function js(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=hl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Cr=l,s.target.dispatchEvent(l),Cr=null}else return t=Po(s),t!==null&&dl(t),e.blockedOn=s,!1;t.shift()}return!0}function $u(e,t,s){js(e)&&s.delete(t)}function Eg(){fl=!1,Rn!==null&&js(Rn)&&(Rn=null),In!==null&&js(In)&&(In=null),An!==null&&js(An)&&(An=null),uo.forEach($u),fo.forEach($u)}function ho(e,t){e.blockedOn===t&&(e.blockedOn=null,fl||(fl=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Eg)))}function mo(e){function t(d){return ho(d,e)}if(0<Cs.length){ho(Cs[0],e);for(var s=1;s<Cs.length;s++){var l=Cs[s];l.blockedOn===e&&(l.blockedOn=null)}}for(Rn!==null&&ho(Rn,e),In!==null&&ho(In,e),An!==null&&ho(An,e),uo.forEach(t),fo.forEach(t),s=0;s<_n.length;s++)l=_n[s],l.blockedOn===e&&(l.blockedOn=null);for(;0<_n.length&&(s=_n[0],s.blockedOn===null);)Bu(s),s.blockedOn===null&&_n.shift()}var Pr=V.ReactCurrentBatchConfig,Es=!0;function Pg(e,t,s,l){var d=Me,m=Pr.transition;Pr.transition=null;try{Me=1,pl(e,t,s,l)}finally{Me=d,Pr.transition=m}}function kg(e,t,s,l){var d=Me,m=Pr.transition;Pr.transition=null;try{Me=4,pl(e,t,s,l)}finally{Me=d,Pr.transition=m}}function pl(e,t,s,l){if(Es){var d=hl(e,t,s,l);if(d===null)Il(e,t,l,Ps,s),Fu(e,l);else if(jg(d,e,t,s,l))l.stopPropagation();else if(Fu(e,l),t&4&&-1<Cg.indexOf(e)){for(;d!==null;){var m=Po(d);if(m!==null&&Ou(m),m=hl(e,t,s,l),m===null&&Il(e,t,l,Ps,s),m===d)break;d=m}d!==null&&l.stopPropagation()}else Il(e,t,l,null,s)}}var Ps=null;function hl(e,t,s,l){if(Ps=null,e=io(l),e=sr(e),e!==null)if(t=or(e),t===null)e=null;else if(s=t.tag,s===13){if(e=Cu(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ps=e,null}function zu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mg()){case ll:return 1;case Ru:return 4;case ys:case gg:return 16;case Iu:return 536870912;default:return 16}default:return 16}}var On=null,ml=null,ks=null;function Gu(){if(ks)return ks;var e,t=ml,s=t.length,l,d="value"in On?On.value:On.textContent,m=d.length;for(e=0;e<s&&t[e]===d[e];e++);var b=s-e;for(l=1;l<=b&&t[s-l]===d[m-l];l++);return ks=d.slice(e,1<l?1-l:void 0)}function Ds(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Rs(){return!0}function Uu(){return!1}function Pt(e){function t(s,l,d,m,b){this._reactName=s,this._targetInst=d,this.type=l,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(s=e[S],this[S]=s?s(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Rs:Uu,this.isPropagationStopped=Uu,this}return Q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Rs)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Rs)},persist:function(){},isPersistent:Rs}),t}var kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gl=Pt(kr),go=Q({},kr,{view:0,detail:0}),Dg=Pt(go),vl,xl,vo,Is=Q({},go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vo&&(vo&&e.type==="mousemove"?(vl=e.screenX-vo.screenX,xl=e.screenY-vo.screenY):xl=vl=0,vo=e),vl)},movementY:function(e){return"movementY"in e?e.movementY:xl}}),Vu=Pt(Is),Rg=Q({},Is,{dataTransfer:0}),Ig=Pt(Rg),Ag=Q({},go,{relatedTarget:0}),yl=Pt(Ag),_g=Q({},kr,{animationName:0,elapsedTime:0,pseudoElement:0}),Og=Pt(_g),Tg=Q({},kr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mg=Pt(Tg),Lg=Q({},kr,{data:0}),Wu=Pt(Lg),Fg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$g={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$g[e])?!!t[e]:!1}function bl(){return zg}var Gg=Q({},go,{key:function(e){if(e.key){var t=Fg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ds(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Bg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bl,charCode:function(e){return e.type==="keypress"?Ds(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ds(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ug=Pt(Gg),Vg=Q({},Is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hu=Pt(Vg),Wg=Q({},go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bl}),Hg=Pt(Wg),qg=Q({},kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kg=Pt(qg),Yg=Q({},Is,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qg=Pt(Yg),Zg=[9,13,27,32],wl=p&&"CompositionEvent"in window,xo=null;p&&"documentMode"in document&&(xo=document.documentMode);var Xg=p&&"TextEvent"in window&&!xo,qu=p&&(!wl||xo&&8<xo&&11>=xo),Ku=" ",Yu=!1;function Qu(e,t){switch(e){case"keyup":return Zg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dr=!1;function Jg(e,t){switch(e){case"compositionend":return Zu(t);case"keypress":return t.which!==32?null:(Yu=!0,Ku);case"textInput":return e=t.data,e===Ku&&Yu?null:e;default:return null}}function e0(e,t){if(Dr)return e==="compositionend"||!wl&&Qu(e,t)?(e=Gu(),ks=ml=On=null,Dr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qu&&t.locale!=="ko"?null:t.data;default:return null}}var t0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!t0[e.type]:t==="textarea"}function Ju(e,t,s,l){he(l),t=Ms(t,"onChange"),0<t.length&&(s=new gl("onChange","change",null,s,l),e.push({event:s,listeners:t}))}var yo=null,bo=null;function n0(e){vd(e,0)}function As(e){var t=Or(e);if(be(t))return e}function r0(e,t){if(e==="change")return t}var ed=!1;if(p){var Nl;if(p){var Sl="oninput"in document;if(!Sl){var td=document.createElement("div");td.setAttribute("oninput","return;"),Sl=typeof td.oninput=="function"}Nl=Sl}else Nl=!1;ed=Nl&&(!document.documentMode||9<document.documentMode)}function nd(){yo&&(yo.detachEvent("onpropertychange",rd),bo=yo=null)}function rd(e){if(e.propertyName==="value"&&As(bo)){var t=[];Ju(t,bo,e,io(e)),kn(n0,t)}}function o0(e,t,s){e==="focusin"?(nd(),yo=t,bo=s,yo.attachEvent("onpropertychange",rd)):e==="focusout"&&nd()}function s0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return As(bo)}function i0(e,t){if(e==="click")return As(t)}function l0(e,t){if(e==="input"||e==="change")return As(t)}function a0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zt=typeof Object.is=="function"?Object.is:a0;function wo(e,t){if(Zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),l=Object.keys(t);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var d=s[l];if(!h.call(t,d)||!Zt(e[d],t[d]))return!1}return!0}function od(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sd(e,t){var s=od(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=t&&l>=t)return{node:s,offset:t-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=od(s)}}function id(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?id(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ld(){for(var e=window,t=Xe();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Xe(e.document)}return t}function Cl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function c0(e){var t=ld(),s=e.focusedElem,l=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&id(s.ownerDocument.documentElement,s)){if(l!==null&&Cl(s)){if(t=l.start,e=l.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var d=s.textContent.length,m=Math.min(l.start,d);l=l.end===void 0?m:Math.min(l.end,d),!e.extend&&m>l&&(d=l,l=m,m=d),d=sd(s,m);var b=sd(s,l);d&&b&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==b.node||e.focusOffset!==b.offset)&&(t=t.createRange(),t.setStart(d.node,d.offset),e.removeAllRanges(),m>l?(e.addRange(t),e.extend(b.node,b.offset)):(t.setEnd(b.node,b.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var u0=p&&"documentMode"in document&&11>=document.documentMode,Rr=null,jl=null,No=null,El=!1;function ad(e,t,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;El||Rr==null||Rr!==Xe(l)||(l=Rr,"selectionStart"in l&&Cl(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),No&&wo(No,l)||(No=l,l=Ms(jl,"onSelect"),0<l.length&&(t=new gl("onSelect","select",null,t,s),e.push({event:t,listeners:l}),t.target=Rr)))}function _s(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Ir={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionend:_s("Transition","TransitionEnd")},Pl={},cd={};p&&(cd=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);function Os(e){if(Pl[e])return Pl[e];if(!Ir[e])return e;var t=Ir[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in cd)return Pl[e]=t[s];return e}var ud=Os("animationend"),dd=Os("animationiteration"),fd=Os("animationstart"),pd=Os("transitionend"),hd=new Map,md="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tn(e,t){hd.set(e,t),u(t,[e])}for(var kl=0;kl<md.length;kl++){var Dl=md[kl],d0=Dl.toLowerCase(),f0=Dl[0].toUpperCase()+Dl.slice(1);Tn(d0,"on"+f0)}Tn(ud,"onAnimationEnd"),Tn(dd,"onAnimationIteration"),Tn(fd,"onAnimationStart"),Tn("dblclick","onDoubleClick"),Tn("focusin","onFocus"),Tn("focusout","onBlur"),Tn(pd,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var So="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p0=new Set("cancel close invalid load scroll toggle".split(" ").concat(So));function gd(e,t,s){var l=e.type||"unknown-event";e.currentTarget=s,dg(l,t,void 0,e),e.currentTarget=null}function vd(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],d=l.event;l=l.listeners;e:{var m=void 0;if(t)for(var b=l.length-1;0<=b;b--){var S=l[b],C=S.instance,F=S.currentTarget;if(S=S.listener,C!==m&&d.isPropagationStopped())break e;gd(d,S,F),m=C}else for(b=0;b<l.length;b++){if(S=l[b],C=S.instance,F=S.currentTarget,S=S.listener,C!==m&&d.isPropagationStopped())break e;gd(d,S,F),m=C}}}if(xs)throw e=il,xs=!1,il=null,e}function Fe(e,t){var s=t[Ll];s===void 0&&(s=t[Ll]=new Set);var l=e+"__bubble";s.has(l)||(xd(t,e,2,!1),s.add(l))}function Rl(e,t,s){var l=0;t&&(l|=4),xd(s,e,l,t)}var Ts="_reactListening"+Math.random().toString(36).slice(2);function Co(e){if(!e[Ts]){e[Ts]=!0,i.forEach(function(s){s!=="selectionchange"&&(p0.has(s)||Rl(s,!1,e),Rl(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ts]||(t[Ts]=!0,Rl("selectionchange",!1,t))}}function xd(e,t,s,l){switch(zu(t)){case 1:var d=Pg;break;case 4:d=kg;break;default:d=pl}s=d.bind(null,t,s,e),d=void 0,!lo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),l?d!==void 0?e.addEventListener(t,s,{capture:!0,passive:d}):e.addEventListener(t,s,!0):d!==void 0?e.addEventListener(t,s,{passive:d}):e.addEventListener(t,s,!1)}function Il(e,t,s,l,d){var m=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var S=l.stateNode.containerInfo;if(S===d||S.nodeType===8&&S.parentNode===d)break;if(b===4)for(b=l.return;b!==null;){var C=b.tag;if((C===3||C===4)&&(C=b.stateNode.containerInfo,C===d||C.nodeType===8&&C.parentNode===d))return;b=b.return}for(;S!==null;){if(b=sr(S),b===null)return;if(C=b.tag,C===5||C===6){l=m=b;continue e}S=S.parentNode}}l=l.return}kn(function(){var F=m,ee=io(s),te=[];e:{var J=hd.get(e);if(J!==void 0){var fe=gl,ge=e;switch(e){case"keypress":if(Ds(s)===0)break e;case"keydown":case"keyup":fe=Ug;break;case"focusin":ge="focus",fe=yl;break;case"focusout":ge="blur",fe=yl;break;case"beforeblur":case"afterblur":fe=yl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=Vu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=Ig;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=Hg;break;case ud:case dd:case fd:fe=Og;break;case pd:fe=Kg;break;case"scroll":fe=Dg;break;case"wheel":fe=Qg;break;case"copy":case"cut":case"paste":fe=Mg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=Hu}var ve=(t&4)!==0,He=!ve&&e==="scroll",O=ve?J!==null?J+"Capture":null:J;ve=[];for(var D=F,M;D!==null;){M=D;var oe=M.stateNode;if(M.tag===5&&oe!==null&&(M=oe,O!==null&&(oe=ln(D,O),oe!=null&&ve.push(jo(D,oe,M)))),He)break;D=D.return}0<ve.length&&(J=new fe(J,ge,null,s,ee),te.push({event:J,listeners:ve}))}}if((t&7)===0){e:{if(J=e==="mouseover"||e==="pointerover",fe=e==="mouseout"||e==="pointerout",J&&s!==Cr&&(ge=s.relatedTarget||s.fromElement)&&(sr(ge)||ge[mn]))break e;if((fe||J)&&(J=ee.window===ee?ee:(J=ee.ownerDocument)?J.defaultView||J.parentWindow:window,fe?(ge=s.relatedTarget||s.toElement,fe=F,ge=ge?sr(ge):null,ge!==null&&(He=or(ge),ge!==He||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(fe=null,ge=F),fe!==ge)){if(ve=Vu,oe="onMouseLeave",O="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ve=Hu,oe="onPointerLeave",O="onPointerEnter",D="pointer"),He=fe==null?J:Or(fe),M=ge==null?J:Or(ge),J=new ve(oe,D+"leave",fe,s,ee),J.target=He,J.relatedTarget=M,oe=null,sr(ee)===F&&(ve=new ve(O,D+"enter",ge,s,ee),ve.target=M,ve.relatedTarget=He,oe=ve),He=oe,fe&&ge)t:{for(ve=fe,O=ge,D=0,M=ve;M;M=Ar(M))D++;for(M=0,oe=O;oe;oe=Ar(oe))M++;for(;0<D-M;)ve=Ar(ve),D--;for(;0<M-D;)O=Ar(O),M--;for(;D--;){if(ve===O||O!==null&&ve===O.alternate)break t;ve=Ar(ve),O=Ar(O)}ve=null}else ve=null;fe!==null&&yd(te,J,fe,ve,!1),ge!==null&&He!==null&&yd(te,He,ge,ve,!0)}}e:{if(J=F?Or(F):window,fe=J.nodeName&&J.nodeName.toLowerCase(),fe==="select"||fe==="input"&&J.type==="file")var xe=r0;else if(Xu(J))if(ed)xe=l0;else{xe=s0;var Se=o0}else(fe=J.nodeName)&&fe.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(xe=i0);if(xe&&(xe=xe(e,F))){Ju(te,xe,s,ee);break e}Se&&Se(e,J,F),e==="focusout"&&(Se=J._wrapperState)&&Se.controlled&&J.type==="number"&&En(J,"number",J.value)}switch(Se=F?Or(F):window,e){case"focusin":(Xu(Se)||Se.contentEditable==="true")&&(Rr=Se,jl=F,No=null);break;case"focusout":No=jl=Rr=null;break;case"mousedown":El=!0;break;case"contextmenu":case"mouseup":case"dragend":El=!1,ad(te,s,ee);break;case"selectionchange":if(u0)break;case"keydown":case"keyup":ad(te,s,ee)}var Ce;if(wl)e:{switch(e){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Dr?Qu(e,s)&&(je="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(je="onCompositionStart");je&&(qu&&s.locale!=="ko"&&(Dr||je!=="onCompositionStart"?je==="onCompositionEnd"&&Dr&&(Ce=Gu()):(On=ee,ml="value"in On?On.value:On.textContent,Dr=!0)),Se=Ms(F,je),0<Se.length&&(je=new Wu(je,e,null,s,ee),te.push({event:je,listeners:Se}),Ce?je.data=Ce:(Ce=Zu(s),Ce!==null&&(je.data=Ce)))),(Ce=Xg?Jg(e,s):e0(e,s))&&(F=Ms(F,"onBeforeInput"),0<F.length&&(ee=new Wu("onBeforeInput","beforeinput",null,s,ee),te.push({event:ee,listeners:F}),ee.data=Ce))}vd(te,t)})}function jo(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Ms(e,t){for(var s=t+"Capture",l=[];e!==null;){var d=e,m=d.stateNode;d.tag===5&&m!==null&&(d=m,m=ln(e,s),m!=null&&l.unshift(jo(e,m,d)),m=ln(e,t),m!=null&&l.push(jo(e,m,d))),e=e.return}return l}function Ar(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yd(e,t,s,l,d){for(var m=t._reactName,b=[];s!==null&&s!==l;){var S=s,C=S.alternate,F=S.stateNode;if(C!==null&&C===l)break;S.tag===5&&F!==null&&(S=F,d?(C=ln(s,m),C!=null&&b.unshift(jo(s,C,S))):d||(C=ln(s,m),C!=null&&b.push(jo(s,C,S)))),s=s.return}b.length!==0&&e.push({event:t,listeners:b})}var h0=/\r\n?/g,m0=/\u0000|\uFFFD/g;function bd(e){return(typeof e=="string"?e:""+e).replace(h0,`
`).replace(m0,"")}function Ls(e,t,s){if(t=bd(t),bd(e)!==t&&s)throw Error(o(425))}function Fs(){}var Al=null,_l=null;function Ol(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Tl=typeof setTimeout=="function"?setTimeout:void 0,g0=typeof clearTimeout=="function"?clearTimeout:void 0,wd=typeof Promise=="function"?Promise:void 0,v0=typeof queueMicrotask=="function"?queueMicrotask:typeof wd<"u"?function(e){return wd.resolve(null).then(e).catch(x0)}:Tl;function x0(e){setTimeout(function(){throw e})}function Ml(e,t){var s=t,l=0;do{var d=s.nextSibling;if(e.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(l===0){e.removeChild(d),mo(t);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=d}while(s);mo(t)}function Mn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Nd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var _r=Math.random().toString(36).slice(2),cn="__reactFiber$"+_r,Eo="__reactProps$"+_r,mn="__reactContainer$"+_r,Ll="__reactEvents$"+_r,y0="__reactListeners$"+_r,b0="__reactHandles$"+_r;function sr(e){var t=e[cn];if(t)return t;for(var s=e.parentNode;s;){if(t=s[mn]||s[cn]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Nd(e);e!==null;){if(s=e[cn])return s;e=Nd(e)}return t}e=s,s=e.parentNode}return null}function Po(e){return e=e[cn]||e[mn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Or(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function Bs(e){return e[Eo]||null}var Fl=[],Tr=-1;function Ln(e){return{current:e}}function Be(e){0>Tr||(e.current=Fl[Tr],Fl[Tr]=null,Tr--)}function Le(e,t){Tr++,Fl[Tr]=e.current,e.current=t}var Fn={},ft=Ln(Fn),wt=Ln(!1),ir=Fn;function Mr(e,t){var s=e.type.contextTypes;if(!s)return Fn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===t)return l.__reactInternalMemoizedMaskedChildContext;var d={},m;for(m in s)d[m]=t[m];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=d),d}function Nt(e){return e=e.childContextTypes,e!=null}function $s(){Be(wt),Be(ft)}function Sd(e,t,s){if(ft.current!==Fn)throw Error(o(168));Le(ft,t),Le(wt,s)}function Cd(e,t,s){var l=e.stateNode;if(t=t.childContextTypes,typeof l.getChildContext!="function")return s;l=l.getChildContext();for(var d in l)if(!(d in t))throw Error(o(108,ye(e)||"Unknown",d));return Q({},s,l)}function zs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fn,ir=ft.current,Le(ft,e),Le(wt,wt.current),!0}function jd(e,t,s){var l=e.stateNode;if(!l)throw Error(o(169));s?(e=Cd(e,t,ir),l.__reactInternalMemoizedMergedChildContext=e,Be(wt),Be(ft),Le(ft,e)):Be(wt),Le(wt,s)}var gn=null,Gs=!1,Bl=!1;function Ed(e){gn===null?gn=[e]:gn.push(e)}function w0(e){Gs=!0,Ed(e)}function Bn(){if(!Bl&&gn!==null){Bl=!0;var e=0,t=Me;try{var s=gn;for(Me=1;e<s.length;e++){var l=s[e];do l=l(!0);while(l!==null)}gn=null,Gs=!1}catch(d){throw gn!==null&&(gn=gn.slice(e+1)),ku(ll,Bn),d}finally{Me=t,Bl=!1}}return null}var Lr=[],Fr=0,Us=null,Vs=0,Mt=[],Lt=0,lr=null,vn=1,xn="";function ar(e,t){Lr[Fr++]=Vs,Lr[Fr++]=Us,Us=e,Vs=t}function Pd(e,t,s){Mt[Lt++]=vn,Mt[Lt++]=xn,Mt[Lt++]=lr,lr=e;var l=vn;e=xn;var d=32-Qt(l)-1;l&=~(1<<d),s+=1;var m=32-Qt(t)+d;if(30<m){var b=d-d%5;m=(l&(1<<b)-1).toString(32),l>>=b,d-=b,vn=1<<32-Qt(t)+d|s<<d|l,xn=m+e}else vn=1<<m|s<<d|l,xn=e}function $l(e){e.return!==null&&(ar(e,1),Pd(e,1,0))}function zl(e){for(;e===Us;)Us=Lr[--Fr],Lr[Fr]=null,Vs=Lr[--Fr],Lr[Fr]=null;for(;e===lr;)lr=Mt[--Lt],Mt[Lt]=null,xn=Mt[--Lt],Mt[Lt]=null,vn=Mt[--Lt],Mt[Lt]=null}var kt=null,Dt=null,$e=!1,Xt=null;function kd(e,t){var s=zt(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Dd(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kt=e,Dt=Mn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kt=e,Dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=lr!==null?{id:vn,overflow:xn}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=zt(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,kt=e,Dt=null,!0):!1;default:return!1}}function Gl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ul(e){if($e){var t=Dt;if(t){var s=t;if(!Dd(e,t)){if(Gl(e))throw Error(o(418));t=Mn(s.nextSibling);var l=kt;t&&Dd(e,t)?kd(l,s):(e.flags=e.flags&-4097|2,$e=!1,kt=e)}}else{if(Gl(e))throw Error(o(418));e.flags=e.flags&-4097|2,$e=!1,kt=e}}}function Rd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kt=e}function Ws(e){if(e!==kt)return!1;if(!$e)return Rd(e),$e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ol(e.type,e.memoizedProps)),t&&(t=Dt)){if(Gl(e))throw Id(),Error(o(418));for(;t;)kd(e,t),t=Mn(t.nextSibling)}if(Rd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){Dt=Mn(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}Dt=null}}else Dt=kt?Mn(e.stateNode.nextSibling):null;return!0}function Id(){for(var e=Dt;e;)e=Mn(e.nextSibling)}function Br(){Dt=kt=null,$e=!1}function Vl(e){Xt===null?Xt=[e]:Xt.push(e)}var N0=V.ReactCurrentBatchConfig;function ko(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(o(309));var l=s.stateNode}if(!l)throw Error(o(147,e));var d=l,m=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===m?t.ref:(t=function(b){var S=d.refs;b===null?delete S[m]:S[m]=b},t._stringRef=m,t)}if(typeof e!="string")throw Error(o(284));if(!s._owner)throw Error(o(290,e))}return e}function Hs(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ad(e){var t=e._init;return t(e._payload)}function _d(e){function t(O,D){if(e){var M=O.deletions;M===null?(O.deletions=[D],O.flags|=16):M.push(D)}}function s(O,D){if(!e)return null;for(;D!==null;)t(O,D),D=D.sibling;return null}function l(O,D){for(O=new Map;D!==null;)D.key!==null?O.set(D.key,D):O.set(D.index,D),D=D.sibling;return O}function d(O,D){return O=qn(O,D),O.index=0,O.sibling=null,O}function m(O,D,M){return O.index=M,e?(M=O.alternate,M!==null?(M=M.index,M<D?(O.flags|=2,D):M):(O.flags|=2,D)):(O.flags|=1048576,D)}function b(O){return e&&O.alternate===null&&(O.flags|=2),O}function S(O,D,M,oe){return D===null||D.tag!==6?(D=Ta(M,O.mode,oe),D.return=O,D):(D=d(D,M),D.return=O,D)}function C(O,D,M,oe){var xe=M.type;return xe===B?ee(O,D,M.props.children,oe,M.key):D!==null&&(D.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===le&&Ad(xe)===D.type)?(oe=d(D,M.props),oe.ref=ko(O,D,M),oe.return=O,oe):(oe=gi(M.type,M.key,M.props,null,O.mode,oe),oe.ref=ko(O,D,M),oe.return=O,oe)}function F(O,D,M,oe){return D===null||D.tag!==4||D.stateNode.containerInfo!==M.containerInfo||D.stateNode.implementation!==M.implementation?(D=Ma(M,O.mode,oe),D.return=O,D):(D=d(D,M.children||[]),D.return=O,D)}function ee(O,D,M,oe,xe){return D===null||D.tag!==7?(D=gr(M,O.mode,oe,xe),D.return=O,D):(D=d(D,M),D.return=O,D)}function te(O,D,M){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Ta(""+D,O.mode,M),D.return=O,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case T:return M=gi(D.type,D.key,D.props,null,O.mode,M),M.ref=ko(O,null,D),M.return=O,M;case $:return D=Ma(D,O.mode,M),D.return=O,D;case le:var oe=D._init;return te(O,oe(D._payload),M)}if(hn(D)||X(D))return D=gr(D,O.mode,M,null),D.return=O,D;Hs(O,D)}return null}function J(O,D,M,oe){var xe=D!==null?D.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return xe!==null?null:S(O,D,""+M,oe);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case T:return M.key===xe?C(O,D,M,oe):null;case $:return M.key===xe?F(O,D,M,oe):null;case le:return xe=M._init,J(O,D,xe(M._payload),oe)}if(hn(M)||X(M))return xe!==null?null:ee(O,D,M,oe,null);Hs(O,M)}return null}function fe(O,D,M,oe,xe){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return O=O.get(M)||null,S(D,O,""+oe,xe);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case T:return O=O.get(oe.key===null?M:oe.key)||null,C(D,O,oe,xe);case $:return O=O.get(oe.key===null?M:oe.key)||null,F(D,O,oe,xe);case le:var Se=oe._init;return fe(O,D,M,Se(oe._payload),xe)}if(hn(oe)||X(oe))return O=O.get(M)||null,ee(D,O,oe,xe,null);Hs(D,oe)}return null}function ge(O,D,M,oe){for(var xe=null,Se=null,Ce=D,je=D=0,tt=null;Ce!==null&&je<M.length;je++){Ce.index>je?(tt=Ce,Ce=null):tt=Ce.sibling;var Oe=J(O,Ce,M[je],oe);if(Oe===null){Ce===null&&(Ce=tt);break}e&&Ce&&Oe.alternate===null&&t(O,Ce),D=m(Oe,D,je),Se===null?xe=Oe:Se.sibling=Oe,Se=Oe,Ce=tt}if(je===M.length)return s(O,Ce),$e&&ar(O,je),xe;if(Ce===null){for(;je<M.length;je++)Ce=te(O,M[je],oe),Ce!==null&&(D=m(Ce,D,je),Se===null?xe=Ce:Se.sibling=Ce,Se=Ce);return $e&&ar(O,je),xe}for(Ce=l(O,Ce);je<M.length;je++)tt=fe(Ce,O,je,M[je],oe),tt!==null&&(e&&tt.alternate!==null&&Ce.delete(tt.key===null?je:tt.key),D=m(tt,D,je),Se===null?xe=tt:Se.sibling=tt,Se=tt);return e&&Ce.forEach(function(Kn){return t(O,Kn)}),$e&&ar(O,je),xe}function ve(O,D,M,oe){var xe=X(M);if(typeof xe!="function")throw Error(o(150));if(M=xe.call(M),M==null)throw Error(o(151));for(var Se=xe=null,Ce=D,je=D=0,tt=null,Oe=M.next();Ce!==null&&!Oe.done;je++,Oe=M.next()){Ce.index>je?(tt=Ce,Ce=null):tt=Ce.sibling;var Kn=J(O,Ce,Oe.value,oe);if(Kn===null){Ce===null&&(Ce=tt);break}e&&Ce&&Kn.alternate===null&&t(O,Ce),D=m(Kn,D,je),Se===null?xe=Kn:Se.sibling=Kn,Se=Kn,Ce=tt}if(Oe.done)return s(O,Ce),$e&&ar(O,je),xe;if(Ce===null){for(;!Oe.done;je++,Oe=M.next())Oe=te(O,Oe.value,oe),Oe!==null&&(D=m(Oe,D,je),Se===null?xe=Oe:Se.sibling=Oe,Se=Oe);return $e&&ar(O,je),xe}for(Ce=l(O,Ce);!Oe.done;je++,Oe=M.next())Oe=fe(Ce,O,je,Oe.value,oe),Oe!==null&&(e&&Oe.alternate!==null&&Ce.delete(Oe.key===null?je:Oe.key),D=m(Oe,D,je),Se===null?xe=Oe:Se.sibling=Oe,Se=Oe);return e&&Ce.forEach(function(tv){return t(O,tv)}),$e&&ar(O,je),xe}function He(O,D,M,oe){if(typeof M=="object"&&M!==null&&M.type===B&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case T:e:{for(var xe=M.key,Se=D;Se!==null;){if(Se.key===xe){if(xe=M.type,xe===B){if(Se.tag===7){s(O,Se.sibling),D=d(Se,M.props.children),D.return=O,O=D;break e}}else if(Se.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===le&&Ad(xe)===Se.type){s(O,Se.sibling),D=d(Se,M.props),D.ref=ko(O,Se,M),D.return=O,O=D;break e}s(O,Se);break}else t(O,Se);Se=Se.sibling}M.type===B?(D=gr(M.props.children,O.mode,oe,M.key),D.return=O,O=D):(oe=gi(M.type,M.key,M.props,null,O.mode,oe),oe.ref=ko(O,D,M),oe.return=O,O=oe)}return b(O);case $:e:{for(Se=M.key;D!==null;){if(D.key===Se)if(D.tag===4&&D.stateNode.containerInfo===M.containerInfo&&D.stateNode.implementation===M.implementation){s(O,D.sibling),D=d(D,M.children||[]),D.return=O,O=D;break e}else{s(O,D);break}else t(O,D);D=D.sibling}D=Ma(M,O.mode,oe),D.return=O,O=D}return b(O);case le:return Se=M._init,He(O,D,Se(M._payload),oe)}if(hn(M))return ge(O,D,M,oe);if(X(M))return ve(O,D,M,oe);Hs(O,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,D!==null&&D.tag===6?(s(O,D.sibling),D=d(D,M),D.return=O,O=D):(s(O,D),D=Ta(M,O.mode,oe),D.return=O,O=D),b(O)):s(O,D)}return He}var $r=_d(!0),Od=_d(!1),qs=Ln(null),Ks=null,zr=null,Wl=null;function Hl(){Wl=zr=Ks=null}function ql(e){var t=qs.current;Be(qs),e._currentValue=t}function Kl(e,t,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===s)break;e=e.return}}function Gr(e,t){Ks=e,Wl=zr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(St=!0),e.firstContext=null)}function Ft(e){var t=e._currentValue;if(Wl!==e)if(e={context:e,memoizedValue:t,next:null},zr===null){if(Ks===null)throw Error(o(308));zr=e,Ks.dependencies={lanes:0,firstContext:e}}else zr=zr.next=e;return t}var cr=null;function Yl(e){cr===null?cr=[e]:cr.push(e)}function Td(e,t,s,l){var d=t.interleaved;return d===null?(s.next=s,Yl(t)):(s.next=d.next,d.next=s),t.interleaved=s,yn(e,l)}function yn(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var $n=!1;function Ql(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Md(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zn(e,t,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(_e&2)!==0){var d=l.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),l.pending=t,yn(e,s)}return d=l.interleaved,d===null?(t.next=t,Yl(l)):(t.next=d.next,d.next=t),l.interleaved=t,yn(e,s)}function Ys(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var l=t.lanes;l&=e.pendingLanes,s|=l,t.lanes=s,ul(e,s)}}function Ld(e,t){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var d=null,m=null;if(s=s.firstBaseUpdate,s!==null){do{var b={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};m===null?d=m=b:m=m.next=b,s=s.next}while(s!==null);m===null?d=m=t:m=m.next=t}else d=m=t;s={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:l.shared,effects:l.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Qs(e,t,s,l){var d=e.updateQueue;$n=!1;var m=d.firstBaseUpdate,b=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var C=S,F=C.next;C.next=null,b===null?m=F:b.next=F,b=C;var ee=e.alternate;ee!==null&&(ee=ee.updateQueue,S=ee.lastBaseUpdate,S!==b&&(S===null?ee.firstBaseUpdate=F:S.next=F,ee.lastBaseUpdate=C))}if(m!==null){var te=d.baseState;b=0,ee=F=C=null,S=m;do{var J=S.lane,fe=S.eventTime;if((l&J)===J){ee!==null&&(ee=ee.next={eventTime:fe,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var ge=e,ve=S;switch(J=t,fe=s,ve.tag){case 1:if(ge=ve.payload,typeof ge=="function"){te=ge.call(fe,te,J);break e}te=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=ve.payload,J=typeof ge=="function"?ge.call(fe,te,J):ge,J==null)break e;te=Q({},te,J);break e;case 2:$n=!0}}S.callback!==null&&S.lane!==0&&(e.flags|=64,J=d.effects,J===null?d.effects=[S]:J.push(S))}else fe={eventTime:fe,lane:J,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ee===null?(F=ee=fe,C=te):ee=ee.next=fe,b|=J;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;J=S,S=J.next,J.next=null,d.lastBaseUpdate=J,d.shared.pending=null}}while(!0);if(ee===null&&(C=te),d.baseState=C,d.firstBaseUpdate=F,d.lastBaseUpdate=ee,t=d.shared.interleaved,t!==null){d=t;do b|=d.lane,d=d.next;while(d!==t)}else m===null&&(d.shared.lanes=0);fr|=b,e.lanes=b,e.memoizedState=te}}function Fd(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var l=e[t],d=l.callback;if(d!==null){if(l.callback=null,l=s,typeof d!="function")throw Error(o(191,d));d.call(l)}}}var Do={},un=Ln(Do),Ro=Ln(Do),Io=Ln(Do);function ur(e){if(e===Do)throw Error(o(174));return e}function Zl(e,t){switch(Le(Io,t),Le(Ro,e),Le(un,Do),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Nr(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Nr(t,e)}Be(un),Le(un,t)}function Ur(){Be(un),Be(Ro),Be(Io)}function Bd(e){ur(Io.current);var t=ur(un.current),s=Nr(t,e.type);t!==s&&(Le(Ro,e),Le(un,s))}function Xl(e){Ro.current===e&&(Be(un),Be(Ro))}var Ge=Ln(0);function Zs(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jl=[];function ea(){for(var e=0;e<Jl.length;e++)Jl[e]._workInProgressVersionPrimary=null;Jl.length=0}var Xs=V.ReactCurrentDispatcher,ta=V.ReactCurrentBatchConfig,dr=0,Ue=null,Ye=null,Je=null,Js=!1,Ao=!1,_o=0,S0=0;function pt(){throw Error(o(321))}function na(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Zt(e[s],t[s]))return!1;return!0}function ra(e,t,s,l,d,m){if(dr=m,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xs.current=e===null||e.memoizedState===null?P0:k0,e=s(l,d),Ao){m=0;do{if(Ao=!1,_o=0,25<=m)throw Error(o(301));m+=1,Je=Ye=null,t.updateQueue=null,Xs.current=D0,e=s(l,d)}while(Ao)}if(Xs.current=ni,t=Ye!==null&&Ye.next!==null,dr=0,Je=Ye=Ue=null,Js=!1,t)throw Error(o(300));return e}function oa(){var e=_o!==0;return _o=0,e}function dn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Ue.memoizedState=Je=e:Je=Je.next=e,Je}function Bt(){if(Ye===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=Je===null?Ue.memoizedState:Je.next;if(t!==null)Je=t,Ye=e;else{if(e===null)throw Error(o(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},Je===null?Ue.memoizedState=Je=e:Je=Je.next=e}return Je}function Oo(e,t){return typeof t=="function"?t(e):t}function sa(e){var t=Bt(),s=t.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=e;var l=Ye,d=l.baseQueue,m=s.pending;if(m!==null){if(d!==null){var b=d.next;d.next=m.next,m.next=b}l.baseQueue=d=m,s.pending=null}if(d!==null){m=d.next,l=l.baseState;var S=b=null,C=null,F=m;do{var ee=F.lane;if((dr&ee)===ee)C!==null&&(C=C.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),l=F.hasEagerState?F.eagerState:e(l,F.action);else{var te={lane:ee,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};C===null?(S=C=te,b=l):C=C.next=te,Ue.lanes|=ee,fr|=ee}F=F.next}while(F!==null&&F!==m);C===null?b=l:C.next=S,Zt(l,t.memoizedState)||(St=!0),t.memoizedState=l,t.baseState=b,t.baseQueue=C,s.lastRenderedState=l}if(e=s.interleaved,e!==null){d=e;do m=d.lane,Ue.lanes|=m,fr|=m,d=d.next;while(d!==e)}else d===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function ia(e){var t=Bt(),s=t.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=e;var l=s.dispatch,d=s.pending,m=t.memoizedState;if(d!==null){s.pending=null;var b=d=d.next;do m=e(m,b.action),b=b.next;while(b!==d);Zt(m,t.memoizedState)||(St=!0),t.memoizedState=m,t.baseQueue===null&&(t.baseState=m),s.lastRenderedState=m}return[m,l]}function $d(){}function zd(e,t){var s=Ue,l=Bt(),d=t(),m=!Zt(l.memoizedState,d);if(m&&(l.memoizedState=d,St=!0),l=l.queue,la(Vd.bind(null,s,l,e),[e]),l.getSnapshot!==t||m||Je!==null&&Je.memoizedState.tag&1){if(s.flags|=2048,To(9,Ud.bind(null,s,l,d,t),void 0,null),et===null)throw Error(o(349));(dr&30)!==0||Gd(s,t,d)}return d}function Gd(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Ud(e,t,s,l){t.value=s,t.getSnapshot=l,Wd(t)&&Hd(e)}function Vd(e,t,s){return s(function(){Wd(t)&&Hd(e)})}function Wd(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Zt(e,s)}catch{return!0}}function Hd(e){var t=yn(e,1);t!==null&&nn(t,e,1,-1)}function qd(e){var t=dn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:e},t.queue=e,e=e.dispatch=E0.bind(null,Ue,e),[t.memoizedState,e]}function To(e,t,s,l){return e={tag:e,create:t,destroy:s,deps:l,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,t.lastEffect=e)),e}function Kd(){return Bt().memoizedState}function ei(e,t,s,l){var d=dn();Ue.flags|=e,d.memoizedState=To(1|t,s,void 0,l===void 0?null:l)}function ti(e,t,s,l){var d=Bt();l=l===void 0?null:l;var m=void 0;if(Ye!==null){var b=Ye.memoizedState;if(m=b.destroy,l!==null&&na(l,b.deps)){d.memoizedState=To(t,s,m,l);return}}Ue.flags|=e,d.memoizedState=To(1|t,s,m,l)}function Yd(e,t){return ei(8390656,8,e,t)}function la(e,t){return ti(2048,8,e,t)}function Qd(e,t){return ti(4,2,e,t)}function Zd(e,t){return ti(4,4,e,t)}function Xd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Jd(e,t,s){return s=s!=null?s.concat([e]):null,ti(4,4,Xd.bind(null,t,e),s)}function aa(){}function ef(e,t){var s=Bt();t=t===void 0?null:t;var l=s.memoizedState;return l!==null&&t!==null&&na(t,l[1])?l[0]:(s.memoizedState=[e,t],e)}function tf(e,t){var s=Bt();t=t===void 0?null:t;var l=s.memoizedState;return l!==null&&t!==null&&na(t,l[1])?l[0]:(e=e(),s.memoizedState=[e,t],e)}function nf(e,t,s){return(dr&21)===0?(e.baseState&&(e.baseState=!1,St=!0),e.memoizedState=s):(Zt(s,t)||(s=Au(),Ue.lanes|=s,fr|=s,e.baseState=!0),t)}function C0(e,t){var s=Me;Me=s!==0&&4>s?s:4,e(!0);var l=ta.transition;ta.transition={};try{e(!1),t()}finally{Me=s,ta.transition=l}}function rf(){return Bt().memoizedState}function j0(e,t,s){var l=Wn(e);if(s={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null},of(e))sf(t,s);else if(s=Td(e,t,s,l),s!==null){var d=xt();nn(s,e,l,d),lf(s,t,l)}}function E0(e,t,s){var l=Wn(e),d={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null};if(of(e))sf(t,d);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=t.lastRenderedReducer,m!==null))try{var b=t.lastRenderedState,S=m(b,s);if(d.hasEagerState=!0,d.eagerState=S,Zt(S,b)){var C=t.interleaved;C===null?(d.next=d,Yl(t)):(d.next=C.next,C.next=d),t.interleaved=d;return}}catch{}finally{}s=Td(e,t,d,l),s!==null&&(d=xt(),nn(s,e,l,d),lf(s,t,l))}}function of(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function sf(e,t){Ao=Js=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function lf(e,t,s){if((s&4194240)!==0){var l=t.lanes;l&=e.pendingLanes,s|=l,t.lanes=s,ul(e,s)}}var ni={readContext:Ft,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},P0={readContext:Ft,useCallback:function(e,t){return dn().memoizedState=[e,t===void 0?null:t],e},useContext:Ft,useEffect:Yd,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,ei(4194308,4,Xd.bind(null,t,e),s)},useLayoutEffect:function(e,t){return ei(4194308,4,e,t)},useInsertionEffect:function(e,t){return ei(4,2,e,t)},useMemo:function(e,t){var s=dn();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var l=dn();return t=s!==void 0?s(t):t,l.memoizedState=l.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},l.queue=e,e=e.dispatch=j0.bind(null,Ue,e),[l.memoizedState,e]},useRef:function(e){var t=dn();return e={current:e},t.memoizedState=e},useState:qd,useDebugValue:aa,useDeferredValue:function(e){return dn().memoizedState=e},useTransition:function(){var e=qd(!1),t=e[0];return e=C0.bind(null,e[1]),dn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var l=Ue,d=dn();if($e){if(s===void 0)throw Error(o(407));s=s()}else{if(s=t(),et===null)throw Error(o(349));(dr&30)!==0||Gd(l,t,s)}d.memoizedState=s;var m={value:s,getSnapshot:t};return d.queue=m,Yd(Vd.bind(null,l,m,e),[e]),l.flags|=2048,To(9,Ud.bind(null,l,m,s,t),void 0,null),s},useId:function(){var e=dn(),t=et.identifierPrefix;if($e){var s=xn,l=vn;s=(l&~(1<<32-Qt(l)-1)).toString(32)+s,t=":"+t+"R"+s,s=_o++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=S0++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},k0={readContext:Ft,useCallback:ef,useContext:Ft,useEffect:la,useImperativeHandle:Jd,useInsertionEffect:Qd,useLayoutEffect:Zd,useMemo:tf,useReducer:sa,useRef:Kd,useState:function(){return sa(Oo)},useDebugValue:aa,useDeferredValue:function(e){var t=Bt();return nf(t,Ye.memoizedState,e)},useTransition:function(){var e=sa(Oo)[0],t=Bt().memoizedState;return[e,t]},useMutableSource:$d,useSyncExternalStore:zd,useId:rf,unstable_isNewReconciler:!1},D0={readContext:Ft,useCallback:ef,useContext:Ft,useEffect:la,useImperativeHandle:Jd,useInsertionEffect:Qd,useLayoutEffect:Zd,useMemo:tf,useReducer:ia,useRef:Kd,useState:function(){return ia(Oo)},useDebugValue:aa,useDeferredValue:function(e){var t=Bt();return Ye===null?t.memoizedState=e:nf(t,Ye.memoizedState,e)},useTransition:function(){var e=ia(Oo)[0],t=Bt().memoizedState;return[e,t]},useMutableSource:$d,useSyncExternalStore:zd,useId:rf,unstable_isNewReconciler:!1};function Jt(e,t){if(e&&e.defaultProps){t=Q({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function ca(e,t,s,l){t=e.memoizedState,s=s(l,t),s=s==null?t:Q({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var ri={isMounted:function(e){return(e=e._reactInternals)?or(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var l=xt(),d=Wn(e),m=bn(l,d);m.payload=t,s!=null&&(m.callback=s),t=zn(e,m,d),t!==null&&(nn(t,e,d,l),Ys(t,e,d))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var l=xt(),d=Wn(e),m=bn(l,d);m.tag=1,m.payload=t,s!=null&&(m.callback=s),t=zn(e,m,d),t!==null&&(nn(t,e,d,l),Ys(t,e,d))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=xt(),l=Wn(e),d=bn(s,l);d.tag=2,t!=null&&(d.callback=t),t=zn(e,d,l),t!==null&&(nn(t,e,l,s),Ys(t,e,l))}};function af(e,t,s,l,d,m,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,m,b):t.prototype&&t.prototype.isPureReactComponent?!wo(s,l)||!wo(d,m):!0}function cf(e,t,s){var l=!1,d=Fn,m=t.contextType;return typeof m=="object"&&m!==null?m=Ft(m):(d=Nt(t)?ir:ft.current,l=t.contextTypes,m=(l=l!=null)?Mr(e,d):Fn),t=new t(s,m),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ri,e.stateNode=t,t._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=m),t}function uf(e,t,s,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,l),t.state!==e&&ri.enqueueReplaceState(t,t.state,null)}function ua(e,t,s,l){var d=e.stateNode;d.props=s,d.state=e.memoizedState,d.refs={},Ql(e);var m=t.contextType;typeof m=="object"&&m!==null?d.context=Ft(m):(m=Nt(t)?ir:ft.current,d.context=Mr(e,m)),d.state=e.memoizedState,m=t.getDerivedStateFromProps,typeof m=="function"&&(ca(e,t,m,s),d.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(t=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),t!==d.state&&ri.enqueueReplaceState(d,d.state,null),Qs(e,s,d,l),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function Vr(e,t){try{var s="",l=t;do s+=H(l),l=l.return;while(l);var d=s}catch(m){d=`
Error generating stack: `+m.message+`
`+m.stack}return{value:e,source:t,stack:d,digest:null}}function da(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function fa(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var R0=typeof WeakMap=="function"?WeakMap:Map;function df(e,t,s){s=bn(-1,s),s.tag=3,s.payload={element:null};var l=t.value;return s.callback=function(){ui||(ui=!0,Pa=l),fa(e,t)},s}function ff(e,t,s){s=bn(-1,s),s.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var d=t.value;s.payload=function(){return l(d)},s.callback=function(){fa(e,t)}}var m=e.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(s.callback=function(){fa(e,t),typeof l!="function"&&(Un===null?Un=new Set([this]):Un.add(this));var b=t.stack;this.componentDidCatch(t.value,{componentStack:b!==null?b:""})}),s}function pf(e,t,s){var l=e.pingCache;if(l===null){l=e.pingCache=new R0;var d=new Set;l.set(t,d)}else d=l.get(t),d===void 0&&(d=new Set,l.set(t,d));d.has(s)||(d.add(s),e=V0.bind(null,e,t,s),t.then(e,e))}function hf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mf(e,t,s,l,d){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=bn(-1,1),t.tag=2,zn(s,t,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var I0=V.ReactCurrentOwner,St=!1;function vt(e,t,s,l){t.child=e===null?Od(t,null,s,l):$r(t,e.child,s,l)}function gf(e,t,s,l,d){s=s.render;var m=t.ref;return Gr(t,d),l=ra(e,t,s,l,m,d),s=oa(),e!==null&&!St?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,wn(e,t,d)):($e&&s&&$l(t),t.flags|=1,vt(e,t,l,d),t.child)}function vf(e,t,s,l,d){if(e===null){var m=s.type;return typeof m=="function"&&!Oa(m)&&m.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=m,xf(e,t,m,l,d)):(e=gi(s.type,null,l,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(m=e.child,(e.lanes&d)===0){var b=m.memoizedProps;if(s=s.compare,s=s!==null?s:wo,s(b,l)&&e.ref===t.ref)return wn(e,t,d)}return t.flags|=1,e=qn(m,l),e.ref=t.ref,e.return=t,t.child=e}function xf(e,t,s,l,d){if(e!==null){var m=e.memoizedProps;if(wo(m,l)&&e.ref===t.ref)if(St=!1,t.pendingProps=l=m,(e.lanes&d)!==0)(e.flags&131072)!==0&&(St=!0);else return t.lanes=e.lanes,wn(e,t,d)}return pa(e,t,s,l,d)}function yf(e,t,s){var l=t.pendingProps,d=l.children,m=e!==null?e.memoizedState:null;if(l.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Hr,Rt),Rt|=s;else{if((s&1073741824)===0)return e=m!==null?m.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le(Hr,Rt),Rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=m!==null?m.baseLanes:s,Le(Hr,Rt),Rt|=l}else m!==null?(l=m.baseLanes|s,t.memoizedState=null):l=s,Le(Hr,Rt),Rt|=l;return vt(e,t,d,s),t.child}function bf(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function pa(e,t,s,l,d){var m=Nt(s)?ir:ft.current;return m=Mr(t,m),Gr(t,d),s=ra(e,t,s,l,m,d),l=oa(),e!==null&&!St?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,wn(e,t,d)):($e&&l&&$l(t),t.flags|=1,vt(e,t,s,d),t.child)}function wf(e,t,s,l,d){if(Nt(s)){var m=!0;zs(t)}else m=!1;if(Gr(t,d),t.stateNode===null)si(e,t),cf(t,s,l),ua(t,s,l,d),l=!0;else if(e===null){var b=t.stateNode,S=t.memoizedProps;b.props=S;var C=b.context,F=s.contextType;typeof F=="object"&&F!==null?F=Ft(F):(F=Nt(s)?ir:ft.current,F=Mr(t,F));var ee=s.getDerivedStateFromProps,te=typeof ee=="function"||typeof b.getSnapshotBeforeUpdate=="function";te||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(S!==l||C!==F)&&uf(t,b,l,F),$n=!1;var J=t.memoizedState;b.state=J,Qs(t,l,b,d),C=t.memoizedState,S!==l||J!==C||wt.current||$n?(typeof ee=="function"&&(ca(t,s,ee,l),C=t.memoizedState),(S=$n||af(t,s,S,l,J,C,F))?(te||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(t.flags|=4194308)):(typeof b.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=C),b.props=l,b.state=C,b.context=F,l=S):(typeof b.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{b=t.stateNode,Md(e,t),S=t.memoizedProps,F=t.type===t.elementType?S:Jt(t.type,S),b.props=F,te=t.pendingProps,J=b.context,C=s.contextType,typeof C=="object"&&C!==null?C=Ft(C):(C=Nt(s)?ir:ft.current,C=Mr(t,C));var fe=s.getDerivedStateFromProps;(ee=typeof fe=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(S!==te||J!==C)&&uf(t,b,l,C),$n=!1,J=t.memoizedState,b.state=J,Qs(t,l,b,d);var ge=t.memoizedState;S!==te||J!==ge||wt.current||$n?(typeof fe=="function"&&(ca(t,s,fe,l),ge=t.memoizedState),(F=$n||af(t,s,F,l,J,ge,C)||!1)?(ee||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(l,ge,C),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(l,ge,C)),typeof b.componentDidUpdate=="function"&&(t.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof b.componentDidUpdate!="function"||S===e.memoizedProps&&J===e.memoizedState||(t.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&J===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=ge),b.props=l,b.state=ge,b.context=C,l=F):(typeof b.componentDidUpdate!="function"||S===e.memoizedProps&&J===e.memoizedState||(t.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&J===e.memoizedState||(t.flags|=1024),l=!1)}return ha(e,t,s,l,m,d)}function ha(e,t,s,l,d,m){bf(e,t);var b=(t.flags&128)!==0;if(!l&&!b)return d&&jd(t,s,!1),wn(e,t,m);l=t.stateNode,I0.current=t;var S=b&&typeof s.getDerivedStateFromError!="function"?null:l.render();return t.flags|=1,e!==null&&b?(t.child=$r(t,e.child,null,m),t.child=$r(t,null,S,m)):vt(e,t,S,m),t.memoizedState=l.state,d&&jd(t,s,!0),t.child}function Nf(e){var t=e.stateNode;t.pendingContext?Sd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Sd(e,t.context,!1),Zl(e,t.containerInfo)}function Sf(e,t,s,l,d){return Br(),Vl(d),t.flags|=256,vt(e,t,s,l),t.child}var ma={dehydrated:null,treeContext:null,retryLane:0};function ga(e){return{baseLanes:e,cachePool:null,transitions:null}}function Cf(e,t,s){var l=t.pendingProps,d=Ge.current,m=!1,b=(t.flags&128)!==0,S;if((S=b)||(S=e!==null&&e.memoizedState===null?!1:(d&2)!==0),S?(m=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),Le(Ge,d&1),e===null)return Ul(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(b=l.children,e=l.fallback,m?(l=t.mode,m=t.child,b={mode:"hidden",children:b},(l&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=b):m=vi(b,l,0,null),e=gr(e,l,s,null),m.return=t,e.return=t,m.sibling=e,t.child=m,t.child.memoizedState=ga(s),t.memoizedState=ma,e):va(t,b));if(d=e.memoizedState,d!==null&&(S=d.dehydrated,S!==null))return A0(e,t,b,l,S,d,s);if(m){m=l.fallback,b=t.mode,d=e.child,S=d.sibling;var C={mode:"hidden",children:l.children};return(b&1)===0&&t.child!==d?(l=t.child,l.childLanes=0,l.pendingProps=C,t.deletions=null):(l=qn(d,C),l.subtreeFlags=d.subtreeFlags&14680064),S!==null?m=qn(S,m):(m=gr(m,b,s,null),m.flags|=2),m.return=t,l.return=t,l.sibling=m,t.child=l,l=m,m=t.child,b=e.child.memoizedState,b=b===null?ga(s):{baseLanes:b.baseLanes|s,cachePool:null,transitions:b.transitions},m.memoizedState=b,m.childLanes=e.childLanes&~s,t.memoizedState=ma,l}return m=e.child,e=m.sibling,l=qn(m,{mode:"visible",children:l.children}),(t.mode&1)===0&&(l.lanes=s),l.return=t,l.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=l,t.memoizedState=null,l}function va(e,t){return t=vi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function oi(e,t,s,l){return l!==null&&Vl(l),$r(t,e.child,null,s),e=va(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function A0(e,t,s,l,d,m,b){if(s)return t.flags&256?(t.flags&=-257,l=da(Error(o(422))),oi(e,t,b,l)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(m=l.fallback,d=t.mode,l=vi({mode:"visible",children:l.children},d,0,null),m=gr(m,d,b,null),m.flags|=2,l.return=t,m.return=t,l.sibling=m,t.child=l,(t.mode&1)!==0&&$r(t,e.child,null,b),t.child.memoizedState=ga(b),t.memoizedState=ma,m);if((t.mode&1)===0)return oi(e,t,b,null);if(d.data==="$!"){if(l=d.nextSibling&&d.nextSibling.dataset,l)var S=l.dgst;return l=S,m=Error(o(419)),l=da(m,l,void 0),oi(e,t,b,l)}if(S=(b&e.childLanes)!==0,St||S){if(l=et,l!==null){switch(b&-b){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(l.suspendedLanes|b))!==0?0:d,d!==0&&d!==m.retryLane&&(m.retryLane=d,yn(e,d),nn(l,e,d,-1))}return _a(),l=da(Error(o(421))),oi(e,t,b,l)}return d.data==="$?"?(t.flags|=128,t.child=e.child,t=W0.bind(null,e),d._reactRetry=t,null):(e=m.treeContext,Dt=Mn(d.nextSibling),kt=t,$e=!0,Xt=null,e!==null&&(Mt[Lt++]=vn,Mt[Lt++]=xn,Mt[Lt++]=lr,vn=e.id,xn=e.overflow,lr=t),t=va(t,l.children),t.flags|=4096,t)}function jf(e,t,s){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Kl(e.return,t,s)}function xa(e,t,s,l,d){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:d}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=s,m.tailMode=d)}function Ef(e,t,s){var l=t.pendingProps,d=l.revealOrder,m=l.tail;if(vt(e,t,l.children,s),l=Ge.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jf(e,s,t);else if(e.tag===19)jf(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(Le(Ge,l),(t.mode&1)===0)t.memoizedState=null;else switch(d){case"forwards":for(s=t.child,d=null;s!==null;)e=s.alternate,e!==null&&Zs(e)===null&&(d=s),s=s.sibling;s=d,s===null?(d=t.child,t.child=null):(d=s.sibling,s.sibling=null),xa(t,!1,d,s,m);break;case"backwards":for(s=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&Zs(e)===null){t.child=d;break}e=d.sibling,d.sibling=s,s=d,d=e}xa(t,!0,s,null,m);break;case"together":xa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function si(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function wn(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),fr|=t.lanes,(s&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,s=qn(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=qn(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function _0(e,t,s){switch(t.tag){case 3:Nf(t),Br();break;case 5:Bd(t);break;case 1:Nt(t.type)&&zs(t);break;case 4:Zl(t,t.stateNode.containerInfo);break;case 10:var l=t.type._context,d=t.memoizedProps.value;Le(qs,l._currentValue),l._currentValue=d;break;case 13:if(l=t.memoizedState,l!==null)return l.dehydrated!==null?(Le(Ge,Ge.current&1),t.flags|=128,null):(s&t.child.childLanes)!==0?Cf(e,t,s):(Le(Ge,Ge.current&1),e=wn(e,t,s),e!==null?e.sibling:null);Le(Ge,Ge.current&1);break;case 19:if(l=(s&t.childLanes)!==0,(e.flags&128)!==0){if(l)return Ef(e,t,s);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Le(Ge,Ge.current),l)break;return null;case 22:case 23:return t.lanes=0,yf(e,t,s)}return wn(e,t,s)}var Pf,ya,kf,Df;Pf=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},ya=function(){},kf=function(e,t,s,l){var d=e.memoizedProps;if(d!==l){e=t.stateNode,ur(un.current);var m=null;switch(s){case"input":d=Ht(e,d),l=Ht(e,l),m=[];break;case"select":d=Q({},d,{value:void 0}),l=Q({},l,{value:void 0}),m=[];break;case"textarea":d=oo(e,d),l=oo(e,l),m=[];break;default:typeof d.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Fs)}so(s,l);var b;s=null;for(F in d)if(!l.hasOwnProperty(F)&&d.hasOwnProperty(F)&&d[F]!=null)if(F==="style"){var S=d[F];for(b in S)S.hasOwnProperty(b)&&(s||(s={}),s[b]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(a.hasOwnProperty(F)?m||(m=[]):(m=m||[]).push(F,null));for(F in l){var C=l[F];if(S=d?.[F],l.hasOwnProperty(F)&&C!==S&&(C!=null||S!=null))if(F==="style")if(S){for(b in S)!S.hasOwnProperty(b)||C&&C.hasOwnProperty(b)||(s||(s={}),s[b]="");for(b in C)C.hasOwnProperty(b)&&S[b]!==C[b]&&(s||(s={}),s[b]=C[b])}else s||(m||(m=[]),m.push(F,s)),s=C;else F==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,S=S?S.__html:void 0,C!=null&&S!==C&&(m=m||[]).push(F,C)):F==="children"?typeof C!="string"&&typeof C!="number"||(m=m||[]).push(F,""+C):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(a.hasOwnProperty(F)?(C!=null&&F==="onScroll"&&Fe("scroll",e),m||S===C||(m=[])):(m=m||[]).push(F,C))}s&&(m=m||[]).push("style",s);var F=m;(t.updateQueue=F)&&(t.flags|=4)}},Df=function(e,t,s,l){s!==l&&(t.flags|=4)};function Mo(e,t){if(!$e)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(t)for(var d=e.child;d!==null;)s|=d.lanes|d.childLanes,l|=d.subtreeFlags&14680064,l|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)s|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=l,e.childLanes=s,t}function O0(e,t,s){var l=t.pendingProps;switch(zl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(t),null;case 1:return Nt(t.type)&&$s(),ht(t),null;case 3:return l=t.stateNode,Ur(),Be(wt),Be(ft),ea(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Ws(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Xt!==null&&(Ra(Xt),Xt=null))),ya(e,t),ht(t),null;case 5:Xl(t);var d=ur(Io.current);if(s=t.type,e!==null&&t.stateNode!=null)kf(e,t,s,l,d),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!l){if(t.stateNode===null)throw Error(o(166));return ht(t),null}if(e=ur(un.current),Ws(t)){l=t.stateNode,s=t.type;var m=t.memoizedProps;switch(l[cn]=t,l[Eo]=m,e=(t.mode&1)!==0,s){case"dialog":Fe("cancel",l),Fe("close",l);break;case"iframe":case"object":case"embed":Fe("load",l);break;case"video":case"audio":for(d=0;d<So.length;d++)Fe(So[d],l);break;case"source":Fe("error",l);break;case"img":case"image":case"link":Fe("error",l),Fe("load",l);break;case"details":Fe("toggle",l);break;case"input":ut(l,m),Fe("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!m.multiple},Fe("invalid",l);break;case"textarea":ds(l,m),Fe("invalid",l)}so(s,m),d=null;for(var b in m)if(m.hasOwnProperty(b)){var S=m[b];b==="children"?typeof S=="string"?l.textContent!==S&&(m.suppressHydrationWarning!==!0&&Ls(l.textContent,S,e),d=["children",S]):typeof S=="number"&&l.textContent!==""+S&&(m.suppressHydrationWarning!==!0&&Ls(l.textContent,S,e),d=["children",""+S]):a.hasOwnProperty(b)&&S!=null&&b==="onScroll"&&Fe("scroll",l)}switch(s){case"input":Re(l),pn(l,m,!0);break;case"textarea":Re(l),ps(l);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(l.onclick=Fs)}l=d,t.updateQueue=l,l!==null&&(t.flags|=4)}else{b=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=er(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=b.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=b.createElement(s,{is:l.is}):(e=b.createElement(s),s==="select"&&(b=e,l.multiple?b.multiple=!0:l.size&&(b.size=l.size))):e=b.createElementNS(e,s),e[cn]=t,e[Eo]=l,Pf(e,t,!1,!1),t.stateNode=e;e:{switch(b=rr(s,l),s){case"dialog":Fe("cancel",e),Fe("close",e),d=l;break;case"iframe":case"object":case"embed":Fe("load",e),d=l;break;case"video":case"audio":for(d=0;d<So.length;d++)Fe(So[d],e);d=l;break;case"source":Fe("error",e),d=l;break;case"img":case"image":case"link":Fe("error",e),Fe("load",e),d=l;break;case"details":Fe("toggle",e),d=l;break;case"input":ut(e,l),d=Ht(e,l),Fe("invalid",e);break;case"option":d=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},d=Q({},l,{value:void 0}),Fe("invalid",e);break;case"textarea":ds(e,l),d=oo(e,l),Fe("invalid",e);break;default:d=l}so(s,d),S=d;for(m in S)if(S.hasOwnProperty(m)){var C=S[m];m==="style"?gs(e,C):m==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&hs(e,C)):m==="children"?typeof C=="string"?(s!=="textarea"||C!=="")&&tr(e,C):typeof C=="number"&&tr(e,""+C):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(a.hasOwnProperty(m)?C!=null&&m==="onScroll"&&Fe("scroll",e):C!=null&&K(e,m,C,b))}switch(s){case"input":Re(e),pn(e,l,!1);break;case"textarea":Re(e),ps(e);break;case"option":l.value!=null&&e.setAttribute("value",""+se(l.value));break;case"select":e.multiple=!!l.multiple,m=l.value,m!=null?Yt(e,!!l.multiple,m,!1):l.defaultValue!=null&&Yt(e,!!l.multiple,l.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=Fs)}switch(s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ht(t),null;case 6:if(e&&t.stateNode!=null)Df(e,t,e.memoizedProps,l);else{if(typeof l!="string"&&t.stateNode===null)throw Error(o(166));if(s=ur(Io.current),ur(un.current),Ws(t)){if(l=t.stateNode,s=t.memoizedProps,l[cn]=t,(m=l.nodeValue!==s)&&(e=kt,e!==null))switch(e.tag){case 3:Ls(l.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ls(l.nodeValue,s,(e.mode&1)!==0)}m&&(t.flags|=4)}else l=(s.nodeType===9?s:s.ownerDocument).createTextNode(l),l[cn]=t,t.stateNode=l}return ht(t),null;case 13:if(Be(Ge),l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if($e&&Dt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Id(),Br(),t.flags|=98560,m=!1;else if(m=Ws(t),l!==null&&l.dehydrated!==null){if(e===null){if(!m)throw Error(o(318));if(m=t.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(o(317));m[cn]=t}else Br(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ht(t),m=!1}else Xt!==null&&(Ra(Xt),Xt=null),m=!0;if(!m)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=s,t):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ge.current&1)!==0?Qe===0&&(Qe=3):_a())),t.updateQueue!==null&&(t.flags|=4),ht(t),null);case 4:return Ur(),ya(e,t),e===null&&Co(t.stateNode.containerInfo),ht(t),null;case 10:return ql(t.type._context),ht(t),null;case 17:return Nt(t.type)&&$s(),ht(t),null;case 19:if(Be(Ge),m=t.memoizedState,m===null)return ht(t),null;if(l=(t.flags&128)!==0,b=m.rendering,b===null)if(l)Mo(m,!1);else{if(Qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(b=Zs(e),b!==null){for(t.flags|=128,Mo(m,!1),l=b.updateQueue,l!==null&&(t.updateQueue=l,t.flags|=4),t.subtreeFlags=0,l=s,s=t.child;s!==null;)m=s,e=l,m.flags&=14680066,b=m.alternate,b===null?(m.childLanes=0,m.lanes=e,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=b.childLanes,m.lanes=b.lanes,m.child=b.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=b.memoizedProps,m.memoizedState=b.memoizedState,m.updateQueue=b.updateQueue,m.type=b.type,e=b.dependencies,m.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Le(Ge,Ge.current&1|2),t.child}e=e.sibling}m.tail!==null&&We()>qr&&(t.flags|=128,l=!0,Mo(m,!1),t.lanes=4194304)}else{if(!l)if(e=Zs(b),e!==null){if(t.flags|=128,l=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Mo(m,!0),m.tail===null&&m.tailMode==="hidden"&&!b.alternate&&!$e)return ht(t),null}else 2*We()-m.renderingStartTime>qr&&s!==1073741824&&(t.flags|=128,l=!0,Mo(m,!1),t.lanes=4194304);m.isBackwards?(b.sibling=t.child,t.child=b):(s=m.last,s!==null?s.sibling=b:t.child=b,m.last=b)}return m.tail!==null?(t=m.tail,m.rendering=t,m.tail=t.sibling,m.renderingStartTime=We(),t.sibling=null,s=Ge.current,Le(Ge,l?s&1|2:s&1),t):(ht(t),null);case 22:case 23:return Aa(),l=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(t.flags|=8192),l&&(t.mode&1)!==0?(Rt&1073741824)!==0&&(ht(t),t.subtreeFlags&6&&(t.flags|=8192)):ht(t),null;case 24:return null;case 25:return null}throw Error(o(156,t.tag))}function T0(e,t){switch(zl(t),t.tag){case 1:return Nt(t.type)&&$s(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ur(),Be(wt),Be(ft),ea(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Xl(t),null;case 13:if(Be(Ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Br()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Be(Ge),null;case 4:return Ur(),null;case 10:return ql(t.type._context),null;case 22:case 23:return Aa(),null;case 24:return null;default:return null}}var ii=!1,mt=!1,M0=typeof WeakSet=="function"?WeakSet:Set,me=null;function Wr(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(l){Ve(e,t,l)}else s.current=null}function ba(e,t,s){try{s()}catch(l){Ve(e,t,l)}}var Rf=!1;function L0(e,t){if(Al=Es,e=ld(),Cl(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var d=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{s.nodeType,m.nodeType}catch{s=null;break e}var b=0,S=-1,C=-1,F=0,ee=0,te=e,J=null;t:for(;;){for(var fe;te!==s||d!==0&&te.nodeType!==3||(S=b+d),te!==m||l!==0&&te.nodeType!==3||(C=b+l),te.nodeType===3&&(b+=te.nodeValue.length),(fe=te.firstChild)!==null;)J=te,te=fe;for(;;){if(te===e)break t;if(J===s&&++F===d&&(S=b),J===m&&++ee===l&&(C=b),(fe=te.nextSibling)!==null)break;te=J,J=te.parentNode}te=fe}s=S===-1||C===-1?null:{start:S,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(_l={focusedElem:e,selectionRange:s},Es=!1,me=t;me!==null;)if(t=me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,me=e;else for(;me!==null;){t=me;try{var ge=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var ve=ge.memoizedProps,He=ge.memoizedState,O=t.stateNode,D=O.getSnapshotBeforeUpdate(t.elementType===t.type?ve:Jt(t.type,ve),He);O.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var M=t.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(oe){Ve(t,t.return,oe)}if(e=t.sibling,e!==null){e.return=t.return,me=e;break}me=t.return}return ge=Rf,Rf=!1,ge}function Lo(e,t,s){var l=t.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&e)===e){var m=d.destroy;d.destroy=void 0,m!==void 0&&ba(t,s,m)}d=d.next}while(d!==l)}}function li(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var l=s.create;s.destroy=l()}s=s.next}while(s!==t)}}function wa(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function If(e){var t=e.alternate;t!==null&&(e.alternate=null,If(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[cn],delete t[Eo],delete t[Ll],delete t[y0],delete t[b0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Af(e){return e.tag===5||e.tag===3||e.tag===4}function _f(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Af(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Na(e,t,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Fs));else if(l!==4&&(e=e.child,e!==null))for(Na(e,t,s),e=e.sibling;e!==null;)Na(e,t,s),e=e.sibling}function Sa(e,t,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(Sa(e,t,s),e=e.sibling;e!==null;)Sa(e,t,s),e=e.sibling}var st=null,en=!1;function Gn(e,t,s){for(s=s.child;s!==null;)Of(e,t,s),s=s.sibling}function Of(e,t,s){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(bs,s)}catch{}switch(s.tag){case 5:mt||Wr(s,t);case 6:var l=st,d=en;st=null,Gn(e,t,s),st=l,en=d,st!==null&&(en?(e=st,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):st.removeChild(s.stateNode));break;case 18:st!==null&&(en?(e=st,s=s.stateNode,e.nodeType===8?Ml(e.parentNode,s):e.nodeType===1&&Ml(e,s),mo(e)):Ml(st,s.stateNode));break;case 4:l=st,d=en,st=s.stateNode.containerInfo,en=!0,Gn(e,t,s),st=l,en=d;break;case 0:case 11:case 14:case 15:if(!mt&&(l=s.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){d=l=l.next;do{var m=d,b=m.destroy;m=m.tag,b!==void 0&&((m&2)!==0||(m&4)!==0)&&ba(s,t,b),d=d.next}while(d!==l)}Gn(e,t,s);break;case 1:if(!mt&&(Wr(s,t),l=s.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=s.memoizedProps,l.state=s.memoizedState,l.componentWillUnmount()}catch(S){Ve(s,t,S)}Gn(e,t,s);break;case 21:Gn(e,t,s);break;case 22:s.mode&1?(mt=(l=mt)||s.memoizedState!==null,Gn(e,t,s),mt=l):Gn(e,t,s);break;default:Gn(e,t,s)}}function Tf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new M0),t.forEach(function(l){var d=H0.bind(null,e,l);s.has(l)||(s.add(l),l.then(d,d))})}}function tn(e,t){var s=t.deletions;if(s!==null)for(var l=0;l<s.length;l++){var d=s[l];try{var m=e,b=t,S=b;e:for(;S!==null;){switch(S.tag){case 5:st=S.stateNode,en=!1;break e;case 3:st=S.stateNode.containerInfo,en=!0;break e;case 4:st=S.stateNode.containerInfo,en=!0;break e}S=S.return}if(st===null)throw Error(o(160));Of(m,b,d),st=null,en=!1;var C=d.alternate;C!==null&&(C.return=null),d.return=null}catch(F){Ve(d,t,F)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Mf(t,e),t=t.sibling}function Mf(e,t){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(tn(t,e),fn(e),l&4){try{Lo(3,e,e.return),li(3,e)}catch(ve){Ve(e,e.return,ve)}try{Lo(5,e,e.return)}catch(ve){Ve(e,e.return,ve)}}break;case 1:tn(t,e),fn(e),l&512&&s!==null&&Wr(s,s.return);break;case 5:if(tn(t,e),fn(e),l&512&&s!==null&&Wr(s,s.return),e.flags&32){var d=e.stateNode;try{tr(d,"")}catch(ve){Ve(e,e.return,ve)}}if(l&4&&(d=e.stateNode,d!=null)){var m=e.memoizedProps,b=s!==null?s.memoizedProps:m,S=e.type,C=e.updateQueue;if(e.updateQueue=null,C!==null)try{S==="input"&&m.type==="radio"&&m.name!=null&&qt(d,m),rr(S,b);var F=rr(S,m);for(b=0;b<C.length;b+=2){var ee=C[b],te=C[b+1];ee==="style"?gs(d,te):ee==="dangerouslySetInnerHTML"?hs(d,te):ee==="children"?tr(d,te):K(d,ee,te,F)}switch(S){case"input":Kt(d,m);break;case"textarea":fs(d,m);break;case"select":var J=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!m.multiple;var fe=m.value;fe!=null?Yt(d,!!m.multiple,fe,!1):J!==!!m.multiple&&(m.defaultValue!=null?Yt(d,!!m.multiple,m.defaultValue,!0):Yt(d,!!m.multiple,m.multiple?[]:"",!1))}d[Eo]=m}catch(ve){Ve(e,e.return,ve)}}break;case 6:if(tn(t,e),fn(e),l&4){if(e.stateNode===null)throw Error(o(162));d=e.stateNode,m=e.memoizedProps;try{d.nodeValue=m}catch(ve){Ve(e,e.return,ve)}}break;case 3:if(tn(t,e),fn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{mo(t.containerInfo)}catch(ve){Ve(e,e.return,ve)}break;case 4:tn(t,e),fn(e);break;case 13:tn(t,e),fn(e),d=e.child,d.flags&8192&&(m=d.memoizedState!==null,d.stateNode.isHidden=m,!m||d.alternate!==null&&d.alternate.memoizedState!==null||(Ea=We())),l&4&&Tf(e);break;case 22:if(ee=s!==null&&s.memoizedState!==null,e.mode&1?(mt=(F=mt)||ee,tn(t,e),mt=F):tn(t,e),fn(e),l&8192){if(F=e.memoizedState!==null,(e.stateNode.isHidden=F)&&!ee&&(e.mode&1)!==0)for(me=e,ee=e.child;ee!==null;){for(te=me=ee;me!==null;){switch(J=me,fe=J.child,J.tag){case 0:case 11:case 14:case 15:Lo(4,J,J.return);break;case 1:Wr(J,J.return);var ge=J.stateNode;if(typeof ge.componentWillUnmount=="function"){l=J,s=J.return;try{t=l,ge.props=t.memoizedProps,ge.state=t.memoizedState,ge.componentWillUnmount()}catch(ve){Ve(l,s,ve)}}break;case 5:Wr(J,J.return);break;case 22:if(J.memoizedState!==null){Bf(te);continue}}fe!==null?(fe.return=J,me=fe):Bf(te)}ee=ee.sibling}e:for(ee=null,te=e;;){if(te.tag===5){if(ee===null){ee=te;try{d=te.stateNode,F?(m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(S=te.stateNode,C=te.memoizedProps.style,b=C!=null&&C.hasOwnProperty("display")?C.display:null,S.style.display=ms("display",b))}catch(ve){Ve(e,e.return,ve)}}}else if(te.tag===6){if(ee===null)try{te.stateNode.nodeValue=F?"":te.memoizedProps}catch(ve){Ve(e,e.return,ve)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===e)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===e)break e;for(;te.sibling===null;){if(te.return===null||te.return===e)break e;ee===te&&(ee=null),te=te.return}ee===te&&(ee=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:tn(t,e),fn(e),l&4&&Tf(e);break;case 21:break;default:tn(t,e),fn(e)}}function fn(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(Af(s)){var l=s;break e}s=s.return}throw Error(o(160))}switch(l.tag){case 5:var d=l.stateNode;l.flags&32&&(tr(d,""),l.flags&=-33);var m=_f(e);Sa(e,m,d);break;case 3:case 4:var b=l.stateNode.containerInfo,S=_f(e);Na(e,S,b);break;default:throw Error(o(161))}}catch(C){Ve(e,e.return,C)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function F0(e,t,s){me=e,Lf(e)}function Lf(e,t,s){for(var l=(e.mode&1)!==0;me!==null;){var d=me,m=d.child;if(d.tag===22&&l){var b=d.memoizedState!==null||ii;if(!b){var S=d.alternate,C=S!==null&&S.memoizedState!==null||mt;S=ii;var F=mt;if(ii=b,(mt=C)&&!F)for(me=d;me!==null;)b=me,C=b.child,b.tag===22&&b.memoizedState!==null?$f(d):C!==null?(C.return=b,me=C):$f(d);for(;m!==null;)me=m,Lf(m),m=m.sibling;me=d,ii=S,mt=F}Ff(e)}else(d.subtreeFlags&8772)!==0&&m!==null?(m.return=d,me=m):Ff(e)}}function Ff(e){for(;me!==null;){var t=me;if((t.flags&8772)!==0){var s=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:mt||li(5,t);break;case 1:var l=t.stateNode;if(t.flags&4&&!mt)if(s===null)l.componentDidMount();else{var d=t.elementType===t.type?s.memoizedProps:Jt(t.type,s.memoizedProps);l.componentDidUpdate(d,s.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var m=t.updateQueue;m!==null&&Fd(t,m,l);break;case 3:var b=t.updateQueue;if(b!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Fd(t,b,s)}break;case 5:var S=t.stateNode;if(s===null&&t.flags&4){s=S;var C=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&s.focus();break;case"img":C.src&&(s.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var F=t.alternate;if(F!==null){var ee=F.memoizedState;if(ee!==null){var te=ee.dehydrated;te!==null&&mo(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}mt||t.flags&512&&wa(t)}catch(J){Ve(t,t.return,J)}}if(t===e){me=null;break}if(s=t.sibling,s!==null){s.return=t.return,me=s;break}me=t.return}}function Bf(e){for(;me!==null;){var t=me;if(t===e){me=null;break}var s=t.sibling;if(s!==null){s.return=t.return,me=s;break}me=t.return}}function $f(e){for(;me!==null;){var t=me;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{li(4,t)}catch(C){Ve(t,s,C)}break;case 1:var l=t.stateNode;if(typeof l.componentDidMount=="function"){var d=t.return;try{l.componentDidMount()}catch(C){Ve(t,d,C)}}var m=t.return;try{wa(t)}catch(C){Ve(t,m,C)}break;case 5:var b=t.return;try{wa(t)}catch(C){Ve(t,b,C)}}}catch(C){Ve(t,t.return,C)}if(t===e){me=null;break}var S=t.sibling;if(S!==null){S.return=t.return,me=S;break}me=t.return}}var B0=Math.ceil,ai=V.ReactCurrentDispatcher,Ca=V.ReactCurrentOwner,$t=V.ReactCurrentBatchConfig,_e=0,et=null,qe=null,it=0,Rt=0,Hr=Ln(0),Qe=0,Fo=null,fr=0,ci=0,ja=0,Bo=null,Ct=null,Ea=0,qr=1/0,Nn=null,ui=!1,Pa=null,Un=null,di=!1,Vn=null,fi=0,$o=0,ka=null,pi=-1,hi=0;function xt(){return(_e&6)!==0?We():pi!==-1?pi:pi=We()}function Wn(e){return(e.mode&1)===0?1:(_e&2)!==0&&it!==0?it&-it:N0.transition!==null?(hi===0&&(hi=Au()),hi):(e=Me,e!==0||(e=window.event,e=e===void 0?16:zu(e.type)),e)}function nn(e,t,s,l){if(50<$o)throw $o=0,ka=null,Error(o(185));co(e,s,l),((_e&2)===0||e!==et)&&(e===et&&((_e&2)===0&&(ci|=s),Qe===4&&Hn(e,it)),jt(e,l),s===1&&_e===0&&(t.mode&1)===0&&(qr=We()+500,Gs&&Bn()))}function jt(e,t){var s=e.callbackNode;Ng(e,t);var l=Ss(e,e===et?it:0);if(l===0)s!==null&&Du(s),e.callbackNode=null,e.callbackPriority=0;else if(t=l&-l,e.callbackPriority!==t){if(s!=null&&Du(s),t===1)e.tag===0?w0(Gf.bind(null,e)):Ed(Gf.bind(null,e)),v0(function(){(_e&6)===0&&Bn()}),s=null;else{switch(_u(l)){case 1:s=ll;break;case 4:s=Ru;break;case 16:s=ys;break;case 536870912:s=Iu;break;default:s=ys}s=Qf(s,zf.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function zf(e,t){if(pi=-1,hi=0,(_e&6)!==0)throw Error(o(327));var s=e.callbackNode;if(Kr()&&e.callbackNode!==s)return null;var l=Ss(e,e===et?it:0);if(l===0)return null;if((l&30)!==0||(l&e.expiredLanes)!==0||t)t=mi(e,l);else{t=l;var d=_e;_e|=2;var m=Vf();(et!==e||it!==t)&&(Nn=null,qr=We()+500,hr(e,t));do try{G0();break}catch(S){Uf(e,S)}while(!0);Hl(),ai.current=m,_e=d,qe!==null?t=0:(et=null,it=0,t=Qe)}if(t!==0){if(t===2&&(d=al(e),d!==0&&(l=d,t=Da(e,d))),t===1)throw s=Fo,hr(e,0),Hn(e,l),jt(e,We()),s;if(t===6)Hn(e,l);else{if(d=e.current.alternate,(l&30)===0&&!$0(d)&&(t=mi(e,l),t===2&&(m=al(e),m!==0&&(l=m,t=Da(e,m))),t===1))throw s=Fo,hr(e,0),Hn(e,l),jt(e,We()),s;switch(e.finishedWork=d,e.finishedLanes=l,t){case 0:case 1:throw Error(o(345));case 2:mr(e,Ct,Nn);break;case 3:if(Hn(e,l),(l&130023424)===l&&(t=Ea+500-We(),10<t)){if(Ss(e,0)!==0)break;if(d=e.suspendedLanes,(d&l)!==l){xt(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=Tl(mr.bind(null,e,Ct,Nn),t);break}mr(e,Ct,Nn);break;case 4:if(Hn(e,l),(l&4194240)===l)break;for(t=e.eventTimes,d=-1;0<l;){var b=31-Qt(l);m=1<<b,b=t[b],b>d&&(d=b),l&=~m}if(l=d,l=We()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*B0(l/1960))-l,10<l){e.timeoutHandle=Tl(mr.bind(null,e,Ct,Nn),l);break}mr(e,Ct,Nn);break;case 5:mr(e,Ct,Nn);break;default:throw Error(o(329))}}}return jt(e,We()),e.callbackNode===s?zf.bind(null,e):null}function Da(e,t){var s=Bo;return e.current.memoizedState.isDehydrated&&(hr(e,t).flags|=256),e=mi(e,t),e!==2&&(t=Ct,Ct=s,t!==null&&Ra(t)),e}function Ra(e){Ct===null?Ct=e:Ct.push.apply(Ct,e)}function $0(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var l=0;l<s.length;l++){var d=s[l],m=d.getSnapshot;d=d.value;try{if(!Zt(m(),d))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hn(e,t){for(t&=~ja,t&=~ci,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Qt(t),l=1<<s;e[s]=-1,t&=~l}}function Gf(e){if((_e&6)!==0)throw Error(o(327));Kr();var t=Ss(e,0);if((t&1)===0)return jt(e,We()),null;var s=mi(e,t);if(e.tag!==0&&s===2){var l=al(e);l!==0&&(t=l,s=Da(e,l))}if(s===1)throw s=Fo,hr(e,0),Hn(e,t),jt(e,We()),s;if(s===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,mr(e,Ct,Nn),jt(e,We()),null}function Ia(e,t){var s=_e;_e|=1;try{return e(t)}finally{_e=s,_e===0&&(qr=We()+500,Gs&&Bn())}}function pr(e){Vn!==null&&Vn.tag===0&&(_e&6)===0&&Kr();var t=_e;_e|=1;var s=$t.transition,l=Me;try{if($t.transition=null,Me=1,e)return e()}finally{Me=l,$t.transition=s,_e=t,(_e&6)===0&&Bn()}}function Aa(){Rt=Hr.current,Be(Hr)}function hr(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,g0(s)),qe!==null)for(s=qe.return;s!==null;){var l=s;switch(zl(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&$s();break;case 3:Ur(),Be(wt),Be(ft),ea();break;case 5:Xl(l);break;case 4:Ur();break;case 13:Be(Ge);break;case 19:Be(Ge);break;case 10:ql(l.type._context);break;case 22:case 23:Aa()}s=s.return}if(et=e,qe=e=qn(e.current,null),it=Rt=t,Qe=0,Fo=null,ja=ci=fr=0,Ct=Bo=null,cr!==null){for(t=0;t<cr.length;t++)if(s=cr[t],l=s.interleaved,l!==null){s.interleaved=null;var d=l.next,m=s.pending;if(m!==null){var b=m.next;m.next=d,l.next=b}s.pending=l}cr=null}return e}function Uf(e,t){do{var s=qe;try{if(Hl(),Xs.current=ni,Js){for(var l=Ue.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}Js=!1}if(dr=0,Je=Ye=Ue=null,Ao=!1,_o=0,Ca.current=null,s===null||s.return===null){Qe=1,Fo=t,qe=null;break}e:{var m=e,b=s.return,S=s,C=t;if(t=it,S.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=C,ee=S,te=ee.tag;if((ee.mode&1)===0&&(te===0||te===11||te===15)){var J=ee.alternate;J?(ee.updateQueue=J.updateQueue,ee.memoizedState=J.memoizedState,ee.lanes=J.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var fe=hf(b);if(fe!==null){fe.flags&=-257,mf(fe,b,S,m,t),fe.mode&1&&pf(m,F,t),t=fe,C=F;var ge=t.updateQueue;if(ge===null){var ve=new Set;ve.add(C),t.updateQueue=ve}else ge.add(C);break e}else{if((t&1)===0){pf(m,F,t),_a();break e}C=Error(o(426))}}else if($e&&S.mode&1){var He=hf(b);if(He!==null){(He.flags&65536)===0&&(He.flags|=256),mf(He,b,S,m,t),Vl(Vr(C,S));break e}}m=C=Vr(C,S),Qe!==4&&(Qe=2),Bo===null?Bo=[m]:Bo.push(m),m=b;do{switch(m.tag){case 3:m.flags|=65536,t&=-t,m.lanes|=t;var O=df(m,C,t);Ld(m,O);break e;case 1:S=C;var D=m.type,M=m.stateNode;if((m.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Un===null||!Un.has(M)))){m.flags|=65536,t&=-t,m.lanes|=t;var oe=ff(m,S,t);Ld(m,oe);break e}}m=m.return}while(m!==null)}Hf(s)}catch(xe){t=xe,qe===s&&s!==null&&(qe=s=s.return);continue}break}while(!0)}function Vf(){var e=ai.current;return ai.current=ni,e===null?ni:e}function _a(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),et===null||(fr&268435455)===0&&(ci&268435455)===0||Hn(et,it)}function mi(e,t){var s=_e;_e|=2;var l=Vf();(et!==e||it!==t)&&(Nn=null,hr(e,t));do try{z0();break}catch(d){Uf(e,d)}while(!0);if(Hl(),_e=s,ai.current=l,qe!==null)throw Error(o(261));return et=null,it=0,Qe}function z0(){for(;qe!==null;)Wf(qe)}function G0(){for(;qe!==null&&!pg();)Wf(qe)}function Wf(e){var t=Yf(e.alternate,e,Rt);e.memoizedProps=e.pendingProps,t===null?Hf(e):qe=t,Ca.current=null}function Hf(e){var t=e;do{var s=t.alternate;if(e=t.return,(t.flags&32768)===0){if(s=O0(s,t,Rt),s!==null){qe=s;return}}else{if(s=T0(s,t),s!==null){s.flags&=32767,qe=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qe=6,qe=null;return}}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);Qe===0&&(Qe=5)}function mr(e,t,s){var l=Me,d=$t.transition;try{$t.transition=null,Me=1,U0(e,t,s,l)}finally{$t.transition=d,Me=l}return null}function U0(e,t,s,l){do Kr();while(Vn!==null);if((_e&6)!==0)throw Error(o(327));s=e.finishedWork;var d=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var m=s.lanes|s.childLanes;if(Sg(e,m),e===et&&(qe=et=null,it=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||di||(di=!0,Qf(ys,function(){return Kr(),null})),m=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||m){m=$t.transition,$t.transition=null;var b=Me;Me=1;var S=_e;_e|=4,Ca.current=null,L0(e,s),Mf(s,e),c0(_l),Es=!!Al,_l=Al=null,e.current=s,F0(s),hg(),_e=S,Me=b,$t.transition=m}else e.current=s;if(di&&(di=!1,Vn=e,fi=d),m=e.pendingLanes,m===0&&(Un=null),vg(s.stateNode),jt(e,We()),t!==null)for(l=e.onRecoverableError,s=0;s<t.length;s++)d=t[s],l(d.value,{componentStack:d.stack,digest:d.digest});if(ui)throw ui=!1,e=Pa,Pa=null,e;return(fi&1)!==0&&e.tag!==0&&Kr(),m=e.pendingLanes,(m&1)!==0?e===ka?$o++:($o=0,ka=e):$o=0,Bn(),null}function Kr(){if(Vn!==null){var e=_u(fi),t=$t.transition,s=Me;try{if($t.transition=null,Me=16>e?16:e,Vn===null)var l=!1;else{if(e=Vn,Vn=null,fi=0,(_e&6)!==0)throw Error(o(331));var d=_e;for(_e|=4,me=e.current;me!==null;){var m=me,b=m.child;if((me.flags&16)!==0){var S=m.deletions;if(S!==null){for(var C=0;C<S.length;C++){var F=S[C];for(me=F;me!==null;){var ee=me;switch(ee.tag){case 0:case 11:case 15:Lo(8,ee,m)}var te=ee.child;if(te!==null)te.return=ee,me=te;else for(;me!==null;){ee=me;var J=ee.sibling,fe=ee.return;if(If(ee),ee===F){me=null;break}if(J!==null){J.return=fe,me=J;break}me=fe}}}var ge=m.alternate;if(ge!==null){var ve=ge.child;if(ve!==null){ge.child=null;do{var He=ve.sibling;ve.sibling=null,ve=He}while(ve!==null)}}me=m}}if((m.subtreeFlags&2064)!==0&&b!==null)b.return=m,me=b;else e:for(;me!==null;){if(m=me,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:Lo(9,m,m.return)}var O=m.sibling;if(O!==null){O.return=m.return,me=O;break e}me=m.return}}var D=e.current;for(me=D;me!==null;){b=me;var M=b.child;if((b.subtreeFlags&2064)!==0&&M!==null)M.return=b,me=M;else e:for(b=D;me!==null;){if(S=me,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:li(9,S)}}catch(xe){Ve(S,S.return,xe)}if(S===b){me=null;break e}var oe=S.sibling;if(oe!==null){oe.return=S.return,me=oe;break e}me=S.return}}if(_e=d,Bn(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(bs,e)}catch{}l=!0}return l}finally{Me=s,$t.transition=t}}return!1}function qf(e,t,s){t=Vr(s,t),t=df(e,t,1),e=zn(e,t,1),t=xt(),e!==null&&(co(e,1,t),jt(e,t))}function Ve(e,t,s){if(e.tag===3)qf(e,e,s);else for(;t!==null;){if(t.tag===3){qf(t,e,s);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Un===null||!Un.has(l))){e=Vr(s,e),e=ff(t,e,1),t=zn(t,e,1),e=xt(),t!==null&&(co(t,1,e),jt(t,e));break}}t=t.return}}function V0(e,t,s){var l=e.pingCache;l!==null&&l.delete(t),t=xt(),e.pingedLanes|=e.suspendedLanes&s,et===e&&(it&s)===s&&(Qe===4||Qe===3&&(it&130023424)===it&&500>We()-Ea?hr(e,0):ja|=s),jt(e,t)}function Kf(e,t){t===0&&((e.mode&1)===0?t=1:(t=Ns,Ns<<=1,(Ns&130023424)===0&&(Ns=4194304)));var s=xt();e=yn(e,t),e!==null&&(co(e,t,s),jt(e,s))}function W0(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Kf(e,s)}function H0(e,t){var s=0;switch(e.tag){case 13:var l=e.stateNode,d=e.memoizedState;d!==null&&(s=d.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(o(314))}l!==null&&l.delete(t),Kf(e,s)}var Yf;Yf=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||wt.current)St=!0;else{if((e.lanes&s)===0&&(t.flags&128)===0)return St=!1,_0(e,t,s);St=(e.flags&131072)!==0}else St=!1,$e&&(t.flags&1048576)!==0&&Pd(t,Vs,t.index);switch(t.lanes=0,t.tag){case 2:var l=t.type;si(e,t),e=t.pendingProps;var d=Mr(t,ft.current);Gr(t,s),d=ra(null,t,l,e,d,s);var m=oa();return t.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Nt(l)?(m=!0,zs(t)):m=!1,t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Ql(t),d.updater=ri,t.stateNode=d,d._reactInternals=t,ua(t,l,e,s),t=ha(null,t,l,!0,m,s)):(t.tag=0,$e&&m&&$l(t),vt(null,t,d,s),t=t.child),t;case 16:l=t.elementType;e:{switch(si(e,t),e=t.pendingProps,d=l._init,l=d(l._payload),t.type=l,d=t.tag=K0(l),e=Jt(l,e),d){case 0:t=pa(null,t,l,e,s);break e;case 1:t=wf(null,t,l,e,s);break e;case 11:t=gf(null,t,l,e,s);break e;case 14:t=vf(null,t,l,Jt(l.type,e),s);break e}throw Error(o(306,l,""))}return t;case 0:return l=t.type,d=t.pendingProps,d=t.elementType===l?d:Jt(l,d),pa(e,t,l,d,s);case 1:return l=t.type,d=t.pendingProps,d=t.elementType===l?d:Jt(l,d),wf(e,t,l,d,s);case 3:e:{if(Nf(t),e===null)throw Error(o(387));l=t.pendingProps,m=t.memoizedState,d=m.element,Md(e,t),Qs(t,l,null,s);var b=t.memoizedState;if(l=b.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},t.updateQueue.baseState=m,t.memoizedState=m,t.flags&256){d=Vr(Error(o(423)),t),t=Sf(e,t,l,s,d);break e}else if(l!==d){d=Vr(Error(o(424)),t),t=Sf(e,t,l,s,d);break e}else for(Dt=Mn(t.stateNode.containerInfo.firstChild),kt=t,$e=!0,Xt=null,s=Od(t,null,l,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Br(),l===d){t=wn(e,t,s);break e}vt(e,t,l,s)}t=t.child}return t;case 5:return Bd(t),e===null&&Ul(t),l=t.type,d=t.pendingProps,m=e!==null?e.memoizedProps:null,b=d.children,Ol(l,d)?b=null:m!==null&&Ol(l,m)&&(t.flags|=32),bf(e,t),vt(e,t,b,s),t.child;case 6:return e===null&&Ul(t),null;case 13:return Cf(e,t,s);case 4:return Zl(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=$r(t,null,l,s):vt(e,t,l,s),t.child;case 11:return l=t.type,d=t.pendingProps,d=t.elementType===l?d:Jt(l,d),gf(e,t,l,d,s);case 7:return vt(e,t,t.pendingProps,s),t.child;case 8:return vt(e,t,t.pendingProps.children,s),t.child;case 12:return vt(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(l=t.type._context,d=t.pendingProps,m=t.memoizedProps,b=d.value,Le(qs,l._currentValue),l._currentValue=b,m!==null)if(Zt(m.value,b)){if(m.children===d.children&&!wt.current){t=wn(e,t,s);break e}}else for(m=t.child,m!==null&&(m.return=t);m!==null;){var S=m.dependencies;if(S!==null){b=m.child;for(var C=S.firstContext;C!==null;){if(C.context===l){if(m.tag===1){C=bn(-1,s&-s),C.tag=2;var F=m.updateQueue;if(F!==null){F=F.shared;var ee=F.pending;ee===null?C.next=C:(C.next=ee.next,ee.next=C),F.pending=C}}m.lanes|=s,C=m.alternate,C!==null&&(C.lanes|=s),Kl(m.return,s,t),S.lanes|=s;break}C=C.next}}else if(m.tag===10)b=m.type===t.type?null:m.child;else if(m.tag===18){if(b=m.return,b===null)throw Error(o(341));b.lanes|=s,S=b.alternate,S!==null&&(S.lanes|=s),Kl(b,s,t),b=m.sibling}else b=m.child;if(b!==null)b.return=m;else for(b=m;b!==null;){if(b===t){b=null;break}if(m=b.sibling,m!==null){m.return=b.return,b=m;break}b=b.return}m=b}vt(e,t,d.children,s),t=t.child}return t;case 9:return d=t.type,l=t.pendingProps.children,Gr(t,s),d=Ft(d),l=l(d),t.flags|=1,vt(e,t,l,s),t.child;case 14:return l=t.type,d=Jt(l,t.pendingProps),d=Jt(l.type,d),vf(e,t,l,d,s);case 15:return xf(e,t,t.type,t.pendingProps,s);case 17:return l=t.type,d=t.pendingProps,d=t.elementType===l?d:Jt(l,d),si(e,t),t.tag=1,Nt(l)?(e=!0,zs(t)):e=!1,Gr(t,s),cf(t,l,d),ua(t,l,d,s),ha(null,t,l,!0,e,s);case 19:return Ef(e,t,s);case 22:return yf(e,t,s)}throw Error(o(156,t.tag))};function Qf(e,t){return ku(e,t)}function q0(e,t,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,t,s,l){return new q0(e,t,s,l)}function Oa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function K0(e){if(typeof e=="function")return Oa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===I)return 11;if(e===de)return 14}return 2}function qn(e,t){var s=e.alternate;return s===null?(s=zt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function gi(e,t,s,l,d,m){var b=2;if(l=e,typeof e=="function")Oa(e)&&(b=1);else if(typeof e=="string")b=5;else e:switch(e){case B:return gr(s.children,d,m,t);case A:b=8,d|=8;break;case z:return e=zt(12,s,t,d|2),e.elementType=z,e.lanes=m,e;case L:return e=zt(13,s,t,d),e.elementType=L,e.lanes=m,e;case ne:return e=zt(19,s,t,d),e.elementType=ne,e.lanes=m,e;case pe:return vi(s,d,m,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:b=10;break e;case W:b=9;break e;case I:b=11;break e;case de:b=14;break e;case le:b=16,l=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return t=zt(b,s,t,d),t.elementType=e,t.type=l,t.lanes=m,t}function gr(e,t,s,l){return e=zt(7,e,l,t),e.lanes=s,e}function vi(e,t,s,l){return e=zt(22,e,l,t),e.elementType=pe,e.lanes=s,e.stateNode={isHidden:!1},e}function Ta(e,t,s){return e=zt(6,e,null,t),e.lanes=s,e}function Ma(e,t,s){return t=zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Y0(e,t,s,l,d){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cl(0),this.expirationTimes=cl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cl(0),this.identifierPrefix=l,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function La(e,t,s,l,d,m,b,S,C){return e=new Y0(e,t,s,S,C),t===1?(t=1,m===!0&&(t|=8)):t=0,m=zt(3,null,null,t),e.current=m,m.stateNode=e,m.memoizedState={element:l,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ql(m),e}function Q0(e,t,s){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:l==null?null:""+l,children:e,containerInfo:t,implementation:s}}function Zf(e){if(!e)return Fn;e=e._reactInternals;e:{if(or(e)!==e||e.tag!==1)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Nt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(o(171))}if(e.tag===1){var s=e.type;if(Nt(s))return Cd(e,s,t)}return t}function Xf(e,t,s,l,d,m,b,S,C){return e=La(s,l,!0,e,d,m,b,S,C),e.context=Zf(null),s=e.current,l=xt(),d=Wn(s),m=bn(l,d),m.callback=t??null,zn(s,m,d),e.current.lanes=d,co(e,d,l),jt(e,l),e}function xi(e,t,s,l){var d=t.current,m=xt(),b=Wn(d);return s=Zf(s),t.context===null?t.context=s:t.pendingContext=s,t=bn(m,b),t.payload={element:e},l=l===void 0?null:l,l!==null&&(t.callback=l),e=zn(d,t,b),e!==null&&(nn(e,d,b,m),Ys(e,d,b)),b}function yi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Jf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Fa(e,t){Jf(e,t),(e=e.alternate)&&Jf(e,t)}function Z0(){return null}var ep=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ba(e){this._internalRoot=e}bi.prototype.render=Ba.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));xi(e,t,null,null)},bi.prototype.unmount=Ba.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pr(function(){xi(null,e,null,null)}),t[mn]=null}};function bi(e){this._internalRoot=e}bi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mu();e={blockedOn:null,target:e,priority:t};for(var s=0;s<_n.length&&t!==0&&t<_n[s].priority;s++);_n.splice(s,0,e),s===0&&Bu(e)}};function $a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tp(){}function X0(e,t,s,l,d){if(d){if(typeof l=="function"){var m=l;l=function(){var F=yi(b);m.call(F)}}var b=Xf(t,l,e,0,null,!1,!1,"",tp);return e._reactRootContainer=b,e[mn]=b.current,Co(e.nodeType===8?e.parentNode:e),pr(),b}for(;d=e.lastChild;)e.removeChild(d);if(typeof l=="function"){var S=l;l=function(){var F=yi(C);S.call(F)}}var C=La(e,0,!1,null,null,!1,!1,"",tp);return e._reactRootContainer=C,e[mn]=C.current,Co(e.nodeType===8?e.parentNode:e),pr(function(){xi(t,C,s,l)}),C}function Ni(e,t,s,l,d){var m=s._reactRootContainer;if(m){var b=m;if(typeof d=="function"){var S=d;d=function(){var C=yi(b);S.call(C)}}xi(t,b,e,d)}else b=X0(s,t,e,d,l);return yi(b)}Ou=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=ao(t.pendingLanes);s!==0&&(ul(t,s|1),jt(t,We()),(_e&6)===0&&(qr=We()+500,Bn()))}break;case 13:pr(function(){var l=yn(e,1);if(l!==null){var d=xt();nn(l,e,1,d)}}),Fa(e,1)}},dl=function(e){if(e.tag===13){var t=yn(e,134217728);if(t!==null){var s=xt();nn(t,e,134217728,s)}Fa(e,134217728)}},Tu=function(e){if(e.tag===13){var t=Wn(e),s=yn(e,t);if(s!==null){var l=xt();nn(s,e,t,l)}Fa(e,t)}},Mu=function(){return Me},Lu=function(e,t){var s=Me;try{return Me=e,t()}finally{Me=s}},jr=function(e,t,s){switch(t){case"input":if(Kt(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var l=s[t];if(l!==e&&l.form===e.form){var d=Bs(l);if(!d)throw Error(o(90));be(l),Kt(l,d)}}}break;case"textarea":fs(e,s);break;case"select":t=s.value,t!=null&&Yt(e,!!s.multiple,t,!1)}},Ke=Ia,dt=pr;var J0={usingClientEntryPoint:!1,Events:[Po,Or,Bs,he,Ie,Ia]},zo={findFiberByHostInstance:sr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ev={bundleType:zo.bundleType,version:zo.version,rendererPackageName:zo.rendererPackageName,rendererConfig:zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Eu(e),e===null?null:e.stateNode},findFiberByHostInstance:zo.findFiberByHostInstance||Z0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Si=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Si.isDisabled&&Si.supportsFiber)try{bs=Si.inject(ev),an=Si}catch{}}return Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J0,Et.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$a(t))throw Error(o(200));return Q0(e,t,null,s)},Et.createRoot=function(e,t){if(!$a(e))throw Error(o(299));var s=!1,l="",d=ep;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=La(e,1,!1,null,null,s,!1,l,d),e[mn]=t.current,Co(e.nodeType===8?e.parentNode:e),new Ba(t)},Et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=Eu(t),e=e===null?null:e.stateNode,e},Et.flushSync=function(e){return pr(e)},Et.hydrate=function(e,t,s){if(!wi(t))throw Error(o(200));return Ni(null,e,t,!0,s)},Et.hydrateRoot=function(e,t,s){if(!$a(e))throw Error(o(405));var l=s!=null&&s.hydratedSources||null,d=!1,m="",b=ep;if(s!=null&&(s.unstable_strictMode===!0&&(d=!0),s.identifierPrefix!==void 0&&(m=s.identifierPrefix),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),t=Xf(t,null,e,1,s??null,d,!1,m,b),e[mn]=t.current,Co(e),l)for(e=0;e<l.length;e++)s=l[e],d=s._getVersion,d=d(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,d]:t.mutableSourceEagerHydrationData.push(s,d);return new bi(t)},Et.render=function(e,t,s){if(!wi(t))throw Error(o(200));return Ni(null,e,t,!1,s)},Et.unmountComponentAtNode=function(e){if(!wi(e))throw Error(o(40));return e._reactRootContainer?(pr(function(){Ni(null,null,e,!1,function(){e._reactRootContainer=null,e[mn]=null})}),!0):!1},Et.unstable_batchedUpdates=Ia,Et.unstable_renderSubtreeIntoContainer=function(e,t,s,l){if(!wi(s))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return Ni(e,t,s,!1,l)},Et.version="18.3.1-next-f1338f8080-20240426",Et}var cp;function zh(){if(cp)return Ua.exports;cp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),Ua.exports=av(),Ua.exports}var up;function cv(){if(up)return ji;up=1;var n=zh();return ji.createRoot=n.createRoot,ji.hydrateRoot=n.hydrateRoot,ji}var uv=cv();const dv=Jn(uv);var Ha,dp;function fv(){if(dp)return Ha;dp=1,Ha=n;function n(r,o,i){if(r!=null&&typeof r!="number")throw new Error("start must be a number or null");if(o!=null&&typeof o!="number")throw new Error("stop must be a number or null");if(i!=null&&typeof i!="number")throw new Error("step must be a number or null");o==null&&(o=r||0,r=0),i==null&&(i=o>r?1:-1);for(var a=[],u=r<o;u?r<o:r>o;r+=i)a.push(r);return a}return Ha}var pv=fv();const $c=Jn(pv);var qa={exports:{}},Ka,fp;function hv(){if(fp)return Ka;fp=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ka=n,Ka}var Ya,pp;function mv(){if(pp)return Ya;pp=1;var n=hv();function r(){}function o(){}return o.resetWarningCache=r,Ya=function(){function i(f,p,h,g,x,v){if(v!==n){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}i.isRequired=i;function a(){return i}var u={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:o,resetWarningCache:r};return u.PropTypes=u,u},Ya}var hp;function gv(){return hp||(hp=1,qa.exports=mv()()),qa.exports}var vv=gv();const Ne=Jn(vv);var Qa={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var mp;function xv(){return mp||(mp=1,function(n){(function(){var r={}.hasOwnProperty;function o(){for(var u="",f=0;f<arguments.length;f++){var p=arguments[f];p&&(u=a(u,i(p)))}return u}function i(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return o.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var f="";for(var p in u)r.call(u,p)&&u[p]&&(f=a(f,p));return f}function a(u,f){return f?u?u+" "+f:u+f:u}n.exports?(o.default=o,n.exports=o):window.classNames=o})()}(Qa)),Qa.exports}var yv=xv();const at=Jn(yv);var Za,gp;function bv(){if(gp)return Za;gp=1;var n=200,r="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",a="[object Function]",u="[object GeneratorFunction]",f=/[\\^$.*+?()[\]{}|]/g,p=/^\[object .+?Constructor\]$/,h=typeof Ci=="object"&&Ci&&Ci.Object===Object&&Ci,g=typeof self=="object"&&self&&self.Object===Object&&self,x=h||g||Function("return this")();function v(_,Z,he){switch(he.length){case 0:return _.call(Z);case 1:return _.call(Z,he[0]);case 2:return _.call(Z,he[0],he[1]);case 3:return _.call(Z,he[0],he[1],he[2])}return _.apply(Z,he)}function y(_,Z){var he=_?_.length:0;return!!he&&k(_,Z,0)>-1}function N(_,Z){for(var he=-1,Ie=Z.length,Ke=_.length;++he<Ie;)_[Ke+he]=Z[he];return _}function E(_,Z,he,Ie){for(var Ke=_.length,dt=he+-1;++dt<Ke;)if(Z(_[dt],dt,_))return dt;return-1}function k(_,Z,he){if(Z!==Z)return E(_,P,he);for(var Ie=he-1,Ke=_.length;++Ie<Ke;)if(_[Ie]===Z)return Ie;return-1}function P(_){return _!==_}function Y(_,Z){return _.has(Z)}function G(_,Z){return _?.[Z]}function K(_){var Z=!1;if(_!=null&&typeof _.toString!="function")try{Z=!!(_+"")}catch{}return Z}var V=Array.prototype,T=Function.prototype,$=Object.prototype,B=x["__core-js_shared__"],A=function(){var _=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||"");return _?"Symbol(src)_1."+_:""}(),z=T.toString,U=$.hasOwnProperty,W=$.toString,I=RegExp("^"+z.call(U).replace(f,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L=x.Symbol,ne=$.propertyIsEnumerable,de=V.splice,le=L?L.isConcatSpreadable:void 0,pe=Math.max,q=Nr(x,"Map"),X=Nr(Object,"create");function Q(_){var Z=-1,he=_?_.length:0;for(this.clear();++Z<he;){var Ie=_[Z];this.set(Ie[0],Ie[1])}}function j(){this.__data__=X?X(null):{}}function R(_){return this.has(_)&&delete this.__data__[_]}function re(_){var Z=this.__data__;if(X){var he=Z[_];return he===r?void 0:he}return U.call(Z,_)?Z[_]:void 0}function ue(_){var Z=this.__data__;return X?Z[_]!==void 0:U.call(Z,_)}function H(_,Z){var he=this.__data__;return he[_]=X&&Z===void 0?r:Z,this}Q.prototype.clear=j,Q.prototype.delete=R,Q.prototype.get=re,Q.prototype.has=ue,Q.prototype.set=H;function ae(_){var Z=-1,he=_?_.length:0;for(this.clear();++Z<he;){var Ie=_[Z];this.set(Ie[0],Ie[1])}}function ye(){this.__data__=[]}function se(_){var Z=this.__data__,he=Yt(Z,_);if(he<0)return!1;var Ie=Z.length-1;return he==Ie?Z.pop():de.call(Z,he,1),!0}function ce(_){var Z=this.__data__,he=Yt(Z,_);return he<0?void 0:Z[he][1]}function ke(_){return Yt(this.__data__,_)>-1}function Re(_,Z){var he=this.__data__,Ie=Yt(he,_);return Ie<0?he.push([_,Z]):he[Ie][1]=Z,this}ae.prototype.clear=ye,ae.prototype.delete=se,ae.prototype.get=ce,ae.prototype.has=ke,ae.prototype.set=Re;function be(_){var Z=-1,he=_?_.length:0;for(this.clear();++Z<he;){var Ie=_[Z];this.set(Ie[0],Ie[1])}}function Xe(){this.__data__={hash:new Q,map:new(q||ae),string:new Q}}function Ht(_){return er(this,_).delete(_)}function ut(_){return er(this,_).get(_)}function qt(_){return er(this,_).has(_)}function Kt(_,Z){return er(this,_).set(_,Z),this}be.prototype.clear=Xe,be.prototype.delete=Ht,be.prototype.get=ut,be.prototype.has=qt,be.prototype.set=Kt;function pn(_){var Z=-1,he=_?_.length:0;for(this.__data__=new be;++Z<he;)this.add(_[Z])}function En(_){return this.__data__.set(_,r),this}function hn(_){return this.__data__.has(_)}pn.prototype.add=pn.prototype.push=En,pn.prototype.has=hn;function Yt(_,Z){for(var he=_.length;he--;)if(ms(_[he][0],Z))return he;return-1}function oo(_,Z,he,Ie){var Ke=-1,dt=y,Ot=!0,kn=_.length,ln=[],lo=Z.length;if(!kn)return ln;Z.length>=n&&(dt=Y,Ot=!1,Z=new pn(Z));e:for(;++Ke<kn;){var Tt=_[Ke],Er=Tt;if(Tt=Tt!==0?Tt:0,Ot&&Er===Er){for(var Dn=lo;Dn--;)if(Z[Dn]===Er)continue e;ln.push(Tt)}else dt(Z,Er,Ie)||ln.push(Tt)}return ln}function ds(_,Z,he,Ie,Ke){var dt=-1,Ot=_.length;for(he||(he=Sr),Ke||(Ke=[]);++dt<Ot;){var kn=_[dt];he(kn)&&N(Ke,kn)}return Ke}function fs(_){if(!jr(_)||tr(_))return!1;var Z=Cr(_)||K(_)?I:p;return Z.test(nr(_))}function ps(_,Z){return Z=pe(Z===void 0?_.length-1:Z,0),function(){for(var he=arguments,Ie=-1,Ke=pe(he.length-Z,0),dt=Array(Ke);++Ie<Ke;)dt[Ie]=he[Z+Ie];Ie=-1;for(var Ot=Array(Z+1);++Ie<Z;)Ot[Ie]=he[Ie];return Ot[Z]=dt,v(_,this,Ot)}}function er(_,Z){var he=_.__data__;return hs(Z)?he[typeof Z=="string"?"string":"hash"]:he.map}function Nr(_,Z){var he=G(_,Z);return fs(he)?he:void 0}function Sr(_){return sl(_)||gs(_)||!!(le&&_&&_[le])}function hs(_){var Z=typeof _;return Z=="string"||Z=="number"||Z=="symbol"||Z=="boolean"?_!=="__proto__":_===null}function tr(_){return!!A&&A in _}function nr(_){if(_!=null){try{return z.call(_)}catch{}try{return _+""}catch{}}return""}var ol=ps(function(_,Z){return rr(_)?oo(_,ds(Z,1,rr)):[]});function ms(_,Z){return _===Z||_!==_&&Z!==Z}function gs(_){return rr(_)&&U.call(_,"callee")&&(!ne.call(_,"callee")||W.call(_)==i)}var sl=Array.isArray;function so(_){return _!=null&&io(_.length)&&!Cr(_)}function rr(_){return Pn(_)&&so(_)}function Cr(_){var Z=jr(_)?W.call(_):"";return Z==a||Z==u}function io(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=o}function jr(_){var Z=typeof _;return!!_&&(Z=="object"||Z=="function")}function Pn(_){return!!_&&typeof _=="object"}return Za=ol,Za}var wv=bv();const vp=Jn(wv);function Hi(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function Nv(n,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function qi(n,r,o){return r&&Nv(n.prototype,r),n}function ze(n,r,o){return r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n}function jc(){return jc=Object.assign||function(n){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},jc.apply(this,arguments)}function Ki(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),r&&Ec(n,r)}function Qr(n){return Qr=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},Qr(n)}function Ec(n,r){return Ec=Object.setPrototypeOf||function(i,a){return i.__proto__=a,i},Ec(n,r)}function Sv(n,r){if(n==null)return{};var o={},i=Object.keys(n),a,u;for(u=0;u<i.length;u++)a=i[u],!(r.indexOf(a)>=0)&&(o[a]=n[a]);return o}function Cv(n,r){if(n==null)return{};var o=Sv(n,r),i,a;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(n);for(a=0;a<u.length;a++)i=u[a],!(r.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(o[i]=n[i])}return o}function nt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Yi(n,r){return r&&(typeof r=="object"||typeof r=="function")?r:nt(n)}function jv(n,r){return Ev(n)||Pv(n,r)||kv()}function Ev(n){if(Array.isArray(n))return n}function Pv(n,r){var o=[],i=!0,a=!1,u=void 0;try{for(var f=n[Symbol.iterator](),p;!(i=(p=f.next()).done)&&(o.push(p.value),!(r&&o.length===r));i=!0);}catch(h){a=!0,u=h}finally{try{!i&&f.return!=null&&f.return()}finally{if(a)throw u}}return o}function kv(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var Dv=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],Rv=["Db","Eb","Gb","Ab","Bb"],Iv={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},Ai=12,zc=Ai,Gc=127,Av=/([a-g])([#b]?)(\d+)/,Pc=12;function _v(n){if(!n)throw Error("Invalid note argument");var r=Av.exec(n.toLowerCase());if(!r)throw Error("Invalid note argument");var o=jv(r,4),i=o[1],a=o[2],u=o[3],f="".concat(i.toUpperCase()).concat(a),p=Iv[f];if(p==null)throw Error("Invalid note argument");return Ai+p+Pc*parseInt(u,10)}function Ov(n){var r=(n-Ai)%Pc,o=Math.floor((n-Ai)/Pc),i=Dv[r];return{note:"".concat(i).concat(o),pitchName:i,octave:o,midiNumber:n,isAccidental:Rv.includes(i)}}function Tv(){return $c(zc,Gc+1).reduce(function(n,r){return n[r]=Ov(r),n},{})}var Mv=Tv();function Gh(n){var r=Mv[n];if(!r)throw Error("Invalid MIDI number");return r}var Lv=$c(zc,Gc+1).filter(function(n){return!Gh(n).isAccidental}),gt={fromNote:_v,getAttributes:Gh,MIN_MIDI_NUMBER:zc,MAX_MIDI_NUMBER:Gc,NATURAL_MIDI_NUMBERS:Lv},Uc=function(n){Ki(r,n);function r(){var o,i;Hi(this,r);for(var a=arguments.length,u=new Array(a),f=0;f<a;f++)u[f]=arguments[f];return i=Yi(this,(o=Qr(r)).call.apply(o,[this].concat(u))),ze(nt(i),"onPlayNoteInput",function(){i.props.onPlayNoteInput(i.props.midiNumber)}),ze(nt(i),"onStopNoteInput",function(){i.props.onStopNoteInput(i.props.midiNumber)}),i}return qi(r,[{key:"getAbsoluteKeyPosition",value:function(i){var a=7,u=gt.getAttributes(i),f=u.octave,p=u.pitchName,h=this.props.pitchPositions[p],g=a*f;return h+g}},{key:"getRelativeKeyPosition",value:function(i){return this.getAbsoluteKeyPosition(i)-this.getAbsoluteKeyPosition(this.props.noteRange.first)}},{key:"render",value:function(){var i=this.props,a=i.naturalKeyWidth,u=i.accidentalWidthRatio,f=i.midiNumber,p=i.gliss,h=i.useTouchEvents,g=i.accidental,x=i.active,v=i.disabled,y=i.children;return Pe.createElement("div",{className:at("ReactPiano__Key",{"ReactPiano__Key--accidental":g,"ReactPiano__Key--natural":!g,"ReactPiano__Key--disabled":v,"ReactPiano__Key--active":x}),style:{left:xp(this.getRelativeKeyPosition(f)*a),width:xp(g?u*a:a)},onMouseDown:h?null:this.onPlayNoteInput,onMouseUp:h?null:this.onStopNoteInput,onMouseEnter:p?this.onPlayNoteInput:null,onMouseLeave:this.onStopNoteInput,onTouchStart:h?this.onPlayNoteInput:null,onTouchCancel:h?this.onStopNoteInput:null,onTouchEnd:h?this.onStopNoteInput:null},Pe.createElement("div",{className:"ReactPiano__NoteLabelContainer"},y))}}]),r}(Pe.Component);ze(Uc,"propTypes",{midiNumber:Ne.number.isRequired,naturalKeyWidth:Ne.number.isRequired,gliss:Ne.bool.isRequired,useTouchEvents:Ne.bool.isRequired,accidental:Ne.bool.isRequired,active:Ne.bool.isRequired,disabled:Ne.bool.isRequired,onPlayNoteInput:Ne.func.isRequired,onStopNoteInput:Ne.func.isRequired,accidentalWidthRatio:Ne.number.isRequired,pitchPositions:Ne.object.isRequired,children:Ne.node});ze(Uc,"defaultProps",{accidentalWidthRatio:.65,pitchPositions:{C:0,Db:.55,D:1,Eb:1.8,E:2,F:3,Gb:3.5,G:4,Ab:4.7,A:5,Bb:5.85,B:6}});function xp(n){return"".concat(n*100,"%")}var Vc=function(n){Ki(r,n);function r(){return Hi(this,r),Yi(this,Qr(r).apply(this,arguments))}return qi(r,[{key:"getMidiNumbers",value:function(){return $c(this.props.noteRange.first,this.props.noteRange.last+1)}},{key:"getNaturalKeyCount",value:function(){return this.getMidiNumbers().filter(function(i){var a=gt.getAttributes(i),u=a.isAccidental;return!u}).length}},{key:"getNaturalKeyWidth",value:function(){return 1/this.getNaturalKeyCount()}},{key:"getWidth",value:function(){return this.props.width?this.props.width:"100%"}},{key:"getHeight",value:function(){if(!this.props.width)return"100%";var i=this.props.width*this.getNaturalKeyWidth();return"".concat(i/this.props.keyWidthToHeight,"px")}},{key:"render",value:function(){var i=this,a=this.getNaturalKeyWidth();return Pe.createElement("div",{className:at("ReactPiano__Keyboard",this.props.className),style:{width:this.getWidth(),height:this.getHeight()}},this.getMidiNumbers().map(function(u){var f=gt.getAttributes(u);f.note;var p=f.isAccidental,h=!i.props.disabled&&i.props.activeNotes.includes(u);return Pe.createElement(Uc,{naturalKeyWidth:a,midiNumber:u,noteRange:i.props.noteRange,active:h,accidental:p,disabled:i.props.disabled,onPlayNoteInput:i.props.onPlayNoteInput,onStopNoteInput:i.props.onStopNoteInput,gliss:i.props.gliss,useTouchEvents:i.props.useTouchEvents,key:u},i.props.disabled?null:i.props.renderNoteLabel({isActive:h,isAccidental:p,midiNumber:u}))}))}}]),r}(Pe.Component);ze(Vc,"propTypes",{noteRange:Fv,activeNotes:Ne.arrayOf(Ne.number),onPlayNoteInput:Ne.func.isRequired,onStopNoteInput:Ne.func.isRequired,renderNoteLabel:Ne.func.isRequired,keyWidthToHeight:Ne.number.isRequired,className:Ne.string,disabled:Ne.bool,gliss:Ne.bool,useTouchEvents:Ne.bool,width:Ne.number});ze(Vc,"defaultProps",{disabled:!1,gliss:!1,useTouchEvents:!1,keyWidthToHeight:.33,renderNoteLabel:function(){}});function yp(n){return typeof n!="number"?!1:gt.NATURAL_MIDI_NUMBERS.includes(n)}function Fv(n,r,o){var i=n[r],a=i.first,u=i.last;if(!a||!u)return new Error("Invalid prop ".concat(r," supplied to ").concat(o,". ").concat(r," must be an object with .first and .last values."));if(!yp(a)||!yp(u))return new Error("Invalid prop ".concat(r," supplied to ").concat(o,". ").concat(r," values must be valid MIDI numbers, and should not be accidentals (sharp or flat notes)."));if(a>=u)return new Error("Invalid prop ".concat(r," supplied to ").concat(o,". ").concat(r,".first must be smaller than ").concat(r,".last."))}var Wc=function(n){Ki(r,n);function r(){var o,i;Hi(this,r);for(var a=arguments.length,u=new Array(a),f=0;f<a;f++)u[f]=arguments[f];return i=Yi(this,(o=Qr(r)).call.apply(o,[this].concat(u))),ze(nt(i),"state",{isMouseDown:!1,useTouchEvents:!1}),ze(nt(i),"handleNoteChanges",function(p){var h=p.prevActiveNotes,g=p.nextActiveNotes;if(!i.props.disabled){var x=vp(h,g),v=vp(g,h);v.forEach(function(y){i.props.playNote(y)}),x.forEach(function(y){i.props.stopNote(y)})}}),ze(nt(i),"getMidiNumberForKey",function(p){if(!i.props.keyboardShortcuts)return null;var h=i.props.keyboardShortcuts.find(function(g){return g.key===p});return h&&h.midiNumber}),ze(nt(i),"getKeyForMidiNumber",function(p){if(!i.props.keyboardShortcuts)return null;var h=i.props.keyboardShortcuts.find(function(g){return g.midiNumber===p});return h&&h.key}),ze(nt(i),"onKeyDown",function(p){if(!(p.ctrlKey||p.metaKey||p.shiftKey)){var h=i.getMidiNumberForKey(p.key);h&&i.onPlayNoteInput(h)}}),ze(nt(i),"onKeyUp",function(p){var h=i.getMidiNumberForKey(p.key);h&&i.onStopNoteInput(h)}),ze(nt(i),"onPlayNoteInput",function(p){i.props.disabled||i.props.onPlayNoteInput(p,i.props.activeNotes)}),ze(nt(i),"onStopNoteInput",function(p){i.props.disabled||i.props.onStopNoteInput(p,i.props.activeNotes)}),ze(nt(i),"onMouseDown",function(){i.setState({isMouseDown:!0})}),ze(nt(i),"onMouseUp",function(){i.setState({isMouseDown:!1})}),ze(nt(i),"onTouchStart",function(){i.setState({useTouchEvents:!0})}),ze(nt(i),"renderNoteLabel",function(p){var h=p.midiNumber,g=p.isActive,x=p.isAccidental,v=i.getKeyForMidiNumber(h);return i.props.renderNoteLabel({keyboardShortcut:v,midiNumber:h,isActive:g,isAccidental:x})}),i}return qi(r,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)}},{key:"componentDidUpdate",value:function(i,a){this.props.activeNotes!==i.activeNotes&&this.handleNoteChanges({prevActiveNotes:i.activeNotes||[],nextActiveNotes:this.props.activeNotes||[]})}},{key:"render",value:function(){return Pe.createElement("div",{style:{width:"100%",height:"100%"},onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchStart:this.onTouchStart,"data-testid":"container"},Pe.createElement(Vc,{noteRange:this.props.noteRange,onPlayNoteInput:this.onPlayNoteInput,onStopNoteInput:this.onStopNoteInput,activeNotes:this.props.activeNotes,className:this.props.className,disabled:this.props.disabled,width:this.props.width,keyWidthToHeight:this.props.keyWidthToHeight,gliss:this.state.isMouseDown,useTouchEvents:this.state.useTouchEvents,renderNoteLabel:this.renderNoteLabel}))}}]),r}(Pe.Component);ze(Wc,"propTypes",{noteRange:Ne.object.isRequired,activeNotes:Ne.arrayOf(Ne.number.isRequired).isRequired,playNote:Ne.func.isRequired,stopNote:Ne.func.isRequired,onPlayNoteInput:Ne.func.isRequired,onStopNoteInput:Ne.func.isRequired,renderNoteLabel:Ne.func.isRequired,className:Ne.string,disabled:Ne.bool,width:Ne.number,keyWidthToHeight:Ne.number,keyboardShortcuts:Ne.arrayOf(Ne.shape({key:Ne.string.isRequired,midiNumber:Ne.number.isRequired}))});ze(Wc,"defaultProps",{renderNoteLabel:function(r){var o=r.keyboardShortcut;r.midiNumber;var i=r.isActive,a=r.isAccidental;return o?Pe.createElement("div",{className:at("ReactPiano__NoteLabel",{"ReactPiano__NoteLabel--active":i,"ReactPiano__NoteLabel--accidental":a,"ReactPiano__NoteLabel--natural":!a})},o):null}});var Hc=function(n){Ki(r,n);function r(){var o,i;Hi(this,r);for(var a=arguments.length,u=new Array(a),f=0;f<a;f++)u[f]=arguments[f];return i=Yi(this,(o=Qr(r)).call.apply(o,[this].concat(u))),ze(nt(i),"state",{activeNotes:i.props.activeNotes||[]}),ze(nt(i),"handlePlayNoteInput",function(p){i.setState(function(h){return i.props.onPlayNoteInput&&i.props.onPlayNoteInput(p,{prevActiveNotes:h.activeNotes}),h.activeNotes.includes(p)?null:{activeNotes:h.activeNotes.concat(p)}})}),ze(nt(i),"handleStopNoteInput",function(p){i.setState(function(h){return i.props.onStopNoteInput&&i.props.onStopNoteInput(p,{prevActiveNotes:i.state.activeNotes}),{activeNotes:h.activeNotes.filter(function(g){return p!==g})}})}),i}return qi(r,[{key:"componentDidUpdate",value:function(i){i.activeNotes!==this.props.activeNotes&&this.state.activeNotes!==this.props.activeNotes&&this.setState({activeNotes:this.props.activeNotes||[]})}},{key:"render",value:function(){var i=this.props;i.activeNotes,i.onPlayNoteInput,i.onStopNoteInput;var a=Cv(i,["activeNotes","onPlayNoteInput","onStopNoteInput"]);return Pe.createElement(Wc,jc({activeNotes:this.state.activeNotes,onPlayNoteInput:this.handlePlayNoteInput,onStopNoteInput:this.handleStopNoteInput},a))}}]),r}(Pe.Component);ze(Hc,"propTypes",{noteRange:Ne.object.isRequired,activeNotes:Ne.arrayOf(Ne.number.isRequired),playNote:Ne.func.isRequired,stopNote:Ne.func.isRequired,onPlayNoteInput:Ne.func,onStopNoteInput:Ne.func,renderNoteLabel:Ne.func,className:Ne.string,disabled:Ne.bool,width:Ne.number,keyWidthToHeight:Ne.number,keyboardShortcuts:Ne.arrayOf(Ne.shape({key:Ne.string.isRequired,midiNumber:Ne.number.isRequired}))});function Bv(n){for(var r=n.firstNote,o=n.lastNote,i=n.keyboardConfig,a=r,u=0,f=[];u<i.length&&a<=o;){var p=i[u],h=gt.getAttributes(a),g=h.isAccidental;g?f.push({key:p.flat,midiNumber:a}):(f.push({key:p.natural,midiNumber:a}),u+=1),a+=1}return f}var bp={create:Bv,BOTTOM_ROW:[{natural:"z",flat:"a",sharp:"s"},{natural:"x",flat:"s",sharp:"d"},{natural:"c",flat:"d",sharp:"f"},{natural:"v",flat:"f",sharp:"g"},{natural:"b",flat:"g",sharp:"h"},{natural:"n",flat:"h",sharp:"j"},{natural:"m",flat:"j",sharp:"k"},{natural:",",flat:"k",sharp:"l"},{natural:".",flat:"l",sharp:";"},{natural:"/",flat:";",sharp:"'"}],HOME_ROW:[{natural:"a",flat:"q",sharp:"w"},{natural:"s",flat:"w",sharp:"e"},{natural:"d",flat:"e",sharp:"r"},{natural:"f",flat:"r",sharp:"t"},{natural:"g",flat:"t",sharp:"y"},{natural:"h",flat:"y",sharp:"u"},{natural:"j",flat:"u",sharp:"i"},{natural:"k",flat:"i",sharp:"o"},{natural:"l",flat:"o",sharp:"p"},{natural:";",flat:"p",sharp:"["},{natural:"'",flat:"[",sharp:"]"}],QWERTY_ROW:[{natural:"q",flat:"1",sharp:"2"},{natural:"w",flat:"2",sharp:"3"},{natural:"e",flat:"3",sharp:"4"},{natural:"r",flat:"4",sharp:"5"},{natural:"t",flat:"5",sharp:"6"},{natural:"y",flat:"6",sharp:"7"},{natural:"u",flat:"7",sharp:"8"},{natural:"i",flat:"8",sharp:"9"},{natural:"o",flat:"9",sharp:"0"},{natural:"p",flat:"0",sharp:"-"},{natural:"[",flat:"-",sharp:"="}]};const wp=n=>{let r;const o=new Set,i=(g,x)=>{const v=typeof g=="function"?g(r):g;if(!Object.is(v,r)){const y=r;r=x??(typeof v!="object"||v===null)?v:Object.assign({},r,v),o.forEach(N=>N(r,y))}},a=()=>r,p={setState:i,getState:a,getInitialState:()=>h,subscribe:g=>(o.add(g),()=>o.delete(g))},h=r=n(i,a,p);return p},$v=n=>n?wp(n):wp,zv=n=>n;function Gv(n,r=zv){const o=Pe.useSyncExternalStore(n.subscribe,Pe.useCallback(()=>r(n.getState()),[n,r]),Pe.useCallback(()=>r(n.getInitialState()),[n,r]));return Pe.useDebugValue(o),o}const Np=n=>{const r=$v(n),o=i=>Gv(r,i);return Object.assign(o,r),o},ls=n=>n?Np(n):Np;class Sp extends Error{constructor(r,o,i){super(i),this.name="ApiError",this.url=o.url,this.status=o.status,this.statusText=o.statusText,this.body=o.body,this.request=r}}class Uv extends Error{constructor(r){super(r),this.name="CancelError"}get isCancelled(){return!0}}class Vv{#t;#n;#e;#r;#s;#i;#o;constructor(r){this.#t=!1,this.#n=!1,this.#e=!1,this.#r=[],this.#s=new Promise((o,i)=>{this.#i=o,this.#o=i;const a=p=>{this.#t||this.#n||this.#e||(this.#t=!0,this.#i&&this.#i(p))},u=p=>{this.#t||this.#n||this.#e||(this.#n=!0,this.#o&&this.#o(p))},f=p=>{this.#t||this.#n||this.#e||this.#r.push(p)};return Object.defineProperty(f,"isResolved",{get:()=>this.#t}),Object.defineProperty(f,"isRejected",{get:()=>this.#n}),Object.defineProperty(f,"isCancelled",{get:()=>this.#e}),r(a,u,f)})}get[Symbol.toStringTag](){return"Cancellable Promise"}then(r,o){return this.#s.then(r,o)}catch(r){return this.#s.catch(r)}finally(r){return this.#s.finally(r)}cancel(){if(!(this.#t||this.#n||this.#e)){if(this.#e=!0,this.#r.length)try{for(const r of this.#r)r()}catch(r){console.warn("Cancellation threw an error",r);return}this.#r.length=0,this.#o&&this.#o(new Uv("Request aborted"))}}get isCancelled(){return this.#e}}const qc={BASE:"http://localhost:8080",VERSION:"0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0},Kc=n=>n!=null,as=n=>typeof n=="string",Xa=n=>as(n)&&n!=="",Yc=n=>typeof n=="object"&&typeof n.type=="string"&&typeof n.stream=="function"&&typeof n.arrayBuffer=="function"&&typeof n.constructor=="function"&&typeof n.constructor.name=="string"&&/^(Blob|File)$/.test(n.constructor.name)&&/^(Blob|File)$/.test(n[Symbol.toStringTag]),Uh=n=>n instanceof FormData,Wv=n=>{try{return btoa(n)}catch{return Buffer.from(n).toString("base64")}},Hv=n=>{const r=[],o=(a,u)=>{r.push(`${encodeURIComponent(a)}=${encodeURIComponent(String(u))}`)},i=(a,u)=>{Kc(u)&&(Array.isArray(u)?u.forEach(f=>{i(a,f)}):typeof u=="object"?Object.entries(u).forEach(([f,p])=>{i(`${a}[${f}]`,p)}):o(a,u))};return Object.entries(n).forEach(([a,u])=>{i(a,u)}),r.length>0?`?${r.join("&")}`:""},qv=(n,r)=>{const o=encodeURI,i=r.url.replace("{api-version}",n.VERSION).replace(/{(.*?)}/g,(u,f)=>r.path?.hasOwnProperty(f)?o(String(r.path[f])):u),a=`${n.BASE}${i}`;return r.query?`${a}${Hv(r.query)}`:a},Kv=n=>{if(n.formData){const r=new FormData,o=(i,a)=>{as(a)||Yc(a)?r.append(i,a):r.append(i,JSON.stringify(a))};return Object.entries(n.formData).filter(([i,a])=>Kc(a)).forEach(([i,a])=>{Array.isArray(a)?a.forEach(u=>o(i,u)):o(i,a)}),r}},Ei=async(n,r)=>r,Yv=async(n,r)=>{const[o,i,a,u]=await Promise.all([Ei(r,n.TOKEN),Ei(r,n.USERNAME),Ei(r,n.PASSWORD),Ei(r,n.HEADERS)]),f=Object.entries({Accept:"application/json",...u,...r.headers}).filter(([p,h])=>Kc(h)).reduce((p,[h,g])=>({...p,[h]:String(g)}),{});if(Xa(o)&&(f.Authorization=`Bearer ${o}`),Xa(i)&&Xa(a)){const p=Wv(`${i}:${a}`);f.Authorization=`Basic ${p}`}return r.body&&(r.mediaType?f["Content-Type"]=r.mediaType:Yc(r.body)?f["Content-Type"]=r.body.type||"application/octet-stream":as(r.body)?f["Content-Type"]="text/plain":Uh(r.body)||(f["Content-Type"]="application/json")),new Headers(f)},Qv=n=>{if(n.body!==void 0)return n.mediaType?.includes("/json")?JSON.stringify(n.body):as(n.body)||Yc(n.body)||Uh(n.body)?n.body:JSON.stringify(n.body)},Zv=async(n,r,o,i,a,u,f)=>{const p=new AbortController,h={headers:u,body:i??a,method:r.method,signal:p.signal};return f(()=>p.abort()),await fetch(o,h)},Xv=(n,r)=>{if(r){const o=n.headers.get(r);if(as(o))return o}},Jv=async n=>{if(n.status!==204)try{const r=n.headers.get("Content-Type");if(r)return["application/json","application/problem+json"].some(a=>r.toLowerCase().startsWith(a))?await n.json():await n.text()}catch(r){console.error(r)}},ex=(n,r)=>{const i={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...n.errors}[r.status];if(i)throw new Sp(n,r,i);if(!r.ok){const a=r.status??"unknown",u=r.statusText??"unknown",f=(()=>{try{return JSON.stringify(r.body,null,2)}catch{return}})();throw new Sp(n,r,`Generic Error: status: ${a}; status text: ${u}; body: ${f}`)}},Qc=(n,r)=>new Vv(async(o,i,a)=>{try{const u=qv(n,r),f=Kv(r),p=Qv(r),h=await Yv(n,r);if(!a.isCancelled){const g=await Zv(n,r,u,p,f,h,a),x=await Jv(g),v=Xv(g,r.responseHeader),y={url:u,ok:g.ok,status:g.status,statusText:g.statusText,body:v??x};ex(r,y),o(y.body)}}catch(u){i(u)}});class tx{static getModeKeyChords(r,o){return Qc(qc,{method:"GET",url:"/api/chords",query:{key:r,mode:o}})}}class Cp{static getModes(){return Qc(qc,{method:"GET",url:"/api/modes"})}}class nx{static getScaleNotes(r,o){return Qc(qc,{method:"GET",url:"/api/scales",query:{key:r,mode:o}})}}class rx{constructor(){this.baseUrl="/data",this.indexCache=null,this.modesCache=null,this.chordsCache=new Map,this.scalesCache=new Map}normalizeKey(r){const o=r.trim();return o.length===0?"":o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()}async loadIndex(){if(this.indexCache)return this.indexCache;try{const r=await fetch(`${this.baseUrl}/index.json`);if(!r.ok)throw new Error(`Failed to load index: ${r.statusText}`);return this.indexCache=await r.json(),this.indexCache}catch(r){throw console.error("Error loading static data index:",r),new Error("Failed to load static data. Please ensure the data generation completed successfully.")}}async getModes(){if(this.modesCache)return this.modesCache;try{const r=await fetch(`${this.baseUrl}/modes.json`);if(!r.ok)throw new Error(`Failed to load modes: ${r.statusText}`);return this.modesCache=await r.json(),this.modesCache}catch(r){throw console.error("Error loading modes from static data:",r),r}}async getModeKeyChords(r,o){try{const i=this.normalizeKey(r),u=(await this.loadIndex()).modes.find(g=>g.name===o);if(!u||!u.id)throw new Error(`Mode "${o}" not found`);const f=u.id.toString();if(this.chordsCache.has(f))return this.chordsCache.get(f).filter(x=>x.keyName===i);const p=await fetch(`${this.baseUrl}/chords-mode-${f}.json`);if(!p.ok)throw new Error(`Failed to load chords for mode ${o}: ${p.statusText}`);const h=await p.json();return this.chordsCache.set(f,h),h.filter(g=>g.keyName===i)}catch(i){throw console.error("Error loading chords from static data:",i),i}}async getScaleNotes(r,o){try{const i=this.normalizeKey(r),u=(await this.loadIndex()).modes.find(g=>g.name===o);if(!u||!u.id)throw new Error(`Mode "${o}" not found`);const f=u.id.toString();if(this.scalesCache.has(f))return this.scalesCache.get(f)[i]||[];const p=await fetch(`${this.baseUrl}/scales-mode-${f}.json`);if(!p.ok)throw new Error(`Failed to load scales for mode ${o}: ${p.statusText}`);const h=await p.json();return this.scalesCache.set(f,h),h[i]||[]}catch(i){throw console.error("Error loading scale notes from static data:",i),i}}async getMetadata(){const r=await this.loadIndex();return{generatedAt:r.generated_at,modesCount:r.modes.length}}clearCache(){this.indexCache=null,this.modesCache=null,this.chordsCache.clear(),this.scalesCache.clear()}}const Yr=new rx,ox={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080",VITE_USE_STATIC_DATA:"true"};function sx(){try{return ox||{}}catch{return console.warn("Failed to access import.meta.env, using fallbacks"),{}}}const ix=sx();function jp(n,r=""){const o=ix[n];return typeof o=="string"?o:r}class lx{constructor(){const r=jp("VITE_USE_STATIC_DATA","true");console.log("Initializing DataService with environment:",{useStaticData:r}),this.config={useStaticData:r.toLowerCase()!=="false",apiBaseUrl:jp("VITE_API_BASE_URL","http://localhost:8080")},console.log("DataService initialized with config:",this.config)}async getModes(){return this.config.useStaticData?(console.log("Loading modes from static data"),Yr.getModes()):(console.log("Loading modes from API"),Cp.getModes())}async getModeKeyChords(r,o){return this.config.useStaticData?(console.log(`Loading chords from static data: ${o} in ${r}`),Yr.getModeKeyChords(r,o)):(console.log(`Loading chords from API: ${o} in ${r}`),tx.getModeKeyChords(r,o))}async getScaleNotes(r,o){return this.config.useStaticData?(console.log(`Loading scale notes from static data: ${o} in ${r}`),Yr.getScaleNotes(r,o)):(console.log(`Loading scale notes from API: ${o} in ${r}`),nx.getScaleNotes(r,o))}getConfig(){return{...this.config}}updateConfig(r){this.config={...this.config,...r},console.log("DataService configuration updated:",this.config),r.useStaticData!==void 0&&Yr.clearCache()}async getDataSourceInfo(){if(this.config.useStaticData)try{return{source:"static",metadata:await Yr.getMetadata()}}catch{return{source:"static",metadata:{error:"Failed to load metadata"}}}else return{source:"api",metadata:{baseUrl:this.config.apiBaseUrl}}}async testConnection(){const r=Date.now();try{return this.config.useStaticData?await Yr.getModes():await Cp.getModes(),{success:!0,responseTime:Date.now()-r}}catch(o){return{success:!1,error:o instanceof Error?o.message:"Unknown error",responseTime:Date.now()-r}}}}const _i=new lx,ax={"C##":"D","D##":"E","E#":"F","F##":"G","G##":"A","A##":"B","B#":"C",Cb:"B",Db:"C#",Eb:"D#",Fb:"E",Gb:"F#",Ab:"G#",Bb:"A#",Dbb:"C",Ebb:"D",Fbb:"E",Gbb:"F",Abb:"G",Bbb:"A",Cbb:"B"},Qo=n=>{if(n)return ax[n]||n},Cn=ls((n,r)=>({chords:void 0,scaleNotes:[],key:"C",mode:"Ionian",modes:[],loadingChords:!1,normalizedScaleNotes:[],setKey:o=>{n({key:o}),r().fetchMusicData(o,r().mode)},setMode:o=>{n({mode:o}),r().fetchMusicData(r().key,o)},setModes:o=>{n({modes:o});const{key:i,mode:a,chords:u}=r();!u&&i&&a&&r().fetchMusicData(i,a)},fetchMusicData:async(o,i)=>{if(!(!o||!i)){n({loadingChords:!0});try{const[a,u]=await Promise.all([_i.getModeKeyChords(o,i),_i.getScaleNotes(o,i)]),f=u.map(p=>p.noteName?Qo(p.noteName):null).filter(Boolean);n({chords:a,scaleNotes:u,normalizedScaleNotes:f,loadingChords:!1})}catch(a){console.error("Error fetching music data:",a),n({loadingChords:!1})}}},initialize:async()=>{const{key:o,mode:i}=r();await r().fetchMusicData(o,i)}})),cx=["electric_piano_1","acoustic_grand_piano","bright_acoustic_piano","electric_grand_piano","honkytonk_piano","electric_piano_2","harpsichord","clavinet"],ux=()=>({instrumentName:"electric_piano_1",cutOffPreviousNotes:!0,eq:{bass:0,mid:0,treble:0},octaveOffset:0,reverbLevel:0,noteDuration:.8,volume:.8,chorusLevel:0,delayLevel:0}),qo=ls((n,r)=>({pianoSettings:ux(),availableInstruments:cx,updatePianoSettings:o=>n(i=>({pianoSettings:{...i.pianoSettings,...o}})),setPianoInstrument:o=>r().updatePianoSettings({instrumentName:o}),setCutOffPreviousNotes:o=>r().updatePianoSettings({cutOffPreviousNotes:o}),setEq:o=>r().updatePianoSettings({eq:o}),setOctaveOffset:o=>r().updatePianoSettings({octaveOffset:o}),setReverbLevel:o=>r().updatePianoSettings({reverbLevel:o}),setNoteDuration:o=>r().updatePianoSettings({noteDuration:o}),setVolume:o=>r().updatePianoSettings({volume:o}),setChorusLevel:o=>r().updatePianoSettings({chorusLevel:o}),setDelayLevel:o=>r().updatePianoSettings({delayLevel:o}),setAvailableInstruments:o=>n({availableInstruments:o})})),yr=ls((n,r)=>({activeNotes:[],activeChordIndex:null,highlightedChordIndex:null,addedChords:[],temporaryChord:null,isPlayingScale:!1,scalePlaybackTimeouts:[],setActiveNotes:o=>n({activeNotes:o}),setActiveChordIndex:o=>n({activeChordIndex:o}),setHighlightedChordIndex:o=>n({highlightedChordIndex:o}),setTemporaryChord:o=>n({temporaryChord:o}),setIsPlayingScale:o=>n({isPlayingScale:o}),addChord:(o,i,a,u,f)=>n(p=>({addedChords:[...p.addedChords,{name:o,notes:i,pattern:[...a],originalKey:u,originalMode:f,originalNotes:i}]})),updateChord:(o,i)=>n(a=>{const u=[...a.addedChords];return u[o]={...i},{addedChords:u}}),removeChord:o=>n(i=>{const a=i.addedChords.filter((f,p)=>p!==o);let u=i.activeChordIndex;return i.activeChordIndex===o?u=null:i.activeChordIndex!==null&&i.activeChordIndex>o&&(u=i.activeChordIndex-1),{addedChords:a,activeChordIndex:u}}),clearAllChords:()=>n({addedChords:[],activeChordIndex:null,temporaryChord:null}),updateChordPattern:(o,i)=>n(a=>{const u=[...a.addedChords];return u[o]={...u[o],pattern:[...i]},{addedChords:u}}),playNotes:o=>{n({activeNotes:[]}),setTimeout(()=>n({activeNotes:o}),10)},handleFetchOriginalChord:async(o,i,a)=>{try{return(await _i.getModeKeyChords(i,a)).find(p=>p.chordName===o)?.chordNoteNames||null}catch(u){return console.error("Failed to fetch original chord:",u),null}},addScalePlaybackTimeout:o=>n(i=>({scalePlaybackTimeouts:[...i.scalePlaybackTimeouts,o]})),clearScalePlaybackTimeouts:()=>{const{scalePlaybackTimeouts:o}=r();o.forEach(clearTimeout),n({scalePlaybackTimeouts:[]})}})),eo=ls((n,r)=>({globalPatternState:{currentPattern:["1","2","3","4"],isPlaying:!1,bpm:120,subdivision:.25,swing:0,currentStep:0,repeat:!0,lastChordChangeTime:0,globalClockStartTime:0},currentlyActivePattern:["1","2","3","4"],setGlobalPatternState:o=>n(i=>({globalPatternState:{...i.globalPatternState,...o}})),setCurrentlyActivePattern:o=>n({currentlyActivePattern:o}),togglePlayback:()=>{const{globalPatternState:o}=r(),i=!o.isPlaying;n(a=>({globalPatternState:{...a.globalPatternState,isPlaying:i}}))},updatePattern:o=>{n(i=>({globalPatternState:{...i.globalPatternState,...o}}))}})),Zc=ls(n=>({isDeleteMode:!1,isLiveMode:!1,showPatternSystem:!1,setIsDeleteMode:r=>n({isDeleteMode:r}),setIsLiveMode:r=>n({isLiveMode:r}),setShowPatternSystem:r=>n({showPatternSystem:r}),toggleDeleteMode:()=>n(r=>({isDeleteMode:!r.isDeleteMode})),toggleLiveMode:()=>n(r=>({isLiveMode:!r.isLiveMode})),togglePatternSystem:()=>n(r=>({showPatternSystem:!r.showPatternSystem}))}));function dx(){const[n,r]=w.useState(),[o,i]=w.useState(null);return w.useEffect(()=>{(async()=>{try{const u=await _i.getModes();r(u.map(f=>f.name))}catch(u){i(u),console.error("Error fetching modes:",u)}})()},[]),{modes:n,error:o}}const Ep=["C","D","E","F","G","A","B"],Oi=(n,r,o)=>{const i=o.split(", ");let a=Ep.indexOf(Qo(i[0])[0]),u=n;return i.map((f,p)=>{const h=Qo(f),g=Ep.indexOf(h[0]);return g<a&&p>0&&u++,u>r&&(u=r),a=g,{note:h,octave:u}})},lt=n=>Math.max(0,Math.round(n)).toString(36),Ze=n=>parseInt(n,36)||0,fx=(n,r,o,i,a,u,f,p,h,g,x,v,y,N)=>{if(console.log("Encoding state - addedChords:",o.length,"chords available:",N?.length),!N?.length||!x.length||!v.length)return console.log("Skipping encode due to missing data"),"";try{const E="v7",k=x.indexOf(n),P=lt(Math.max(0,k)),Y=v.indexOf(r),G=lt(Math.max(0,Y)),K=i.slice(0,16).map(ce=>ce.replace(/[xX]/gi,"0")).join("."),V=Math.max(60,Math.min(200,a)),T=lt(V-60),B={.125:"0",.25:"1",.5:"2",1:"3",2:"4"}[u]||"1",A=Math.max(0,Math.min(50,f)),z=lt(A),U=(p?2:0)+(h?1:0),W=lt(U),I=`${T}|${B}|${z}|${W}`,L=y.indexOf(g.instrumentName),ne=lt(Math.max(0,L)),de=g.cutOffPreviousNotes?"1":"0",le=lt(Math.round(g.eq.bass)+24),pe=lt(Math.round(g.eq.mid)+24),q=lt(Math.round(g.eq.treble)+24),X=lt(g.octaveOffset+3),Q=lt(Math.round(g.reverbLevel*35)),j=lt(Math.max(0,Math.round(g.noteDuration*10)-1)),R=lt(Math.round(g.volume*35)),re=lt(Math.round(g.chorusLevel*35)),ue=lt(Math.round(g.delayLevel*35)),H=`${ne}|${de}|${le}|${pe}|${q}|${X}|${Q}|${j}|${R}|${re}|${ue}`,ye=o.map(ce=>{const ke=encodeURIComponent(ce.name),Re=encodeURIComponent(ce.notes);let be=`${ke}~${Re}`;if(ce.originalKey&&ce.originalMode){const ut=x.indexOf(ce.originalKey),qt=v.indexOf(ce.originalMode);ut>=0&&qt>=0&&(be+=`@${lt(ut)}${lt(qt)}`)}const Xe=ce.pattern.map(ut=>ut.replace(/[xX]/gi,"0")).join("."),Ht=i.map(ut=>ut.replace(/[xX]/gi,"0")).join(".");if(Xe===Ht)return be;{const ut=ce.pattern.slice(0,16).map(qt=>qt.replace(/[xX]/gi,"0")).join(".");return`${be}:${ut}`}}).filter(Boolean).join("|"),se=`${E}_${P}_${G}_${K}_${I}_${H}_${ye}`;return console.log("Encoded state result:",se),se}catch(E){return console.error("Failed to encode state:",E),""}},px=(n,r,o,i,a)=>{if(console.log("Decoding state:",n),!n||!a?.length||!r.length||!o.length)return console.log("Cannot decode - missing data"),null;try{const u=n.split("_");console.log("State parts:",u);const f=u[0];if(!["v2","v3","v4","v5","v6","v7"].includes(f)||u.length<6)return console.log("Invalid state format or version"),null;const p=Ze(u[1]||"0"),h=r[p]||r[0],g=Ze(u[2]||"0"),x=o[g]||o[0],v=u[3]||(f==="v4"||f==="v5"||f==="v6"||f==="v7"?"1.2.3.4":"1234"),y=f==="v4"||f==="v5"||f==="v6"||f==="v7"?v.split(".").map(I=>I==="0"?"x":I):v.split("").map(I=>I==="0"?"x":I),N=(u[4]||"").split("|"),E=Ze(N[0]||"60")+60,P={0:.125,1:.25,2:.5,3:1,4:2}[N[1]||"1"]||.25,Y=Ze(N[2]||"0"),G=Ze(N[3]||"0"),K=(G&2)!==0,V=(G&1)!==0,T=(u[5]||"").split("|"),B={volume:.8,chorusLevel:0,delayLevel:0},A={instrumentName:i[Ze(T[0]||"0")]||i[0]||"electric_piano_1",cutOffPreviousNotes:(T[1]||"1")==="1",eq:{bass:Ze(T[2]||"o")-24,mid:Ze(T[3]||"o")-24,treble:Ze(T[4]||"o")-24},octaveOffset:Ze(T[5]||"3")-3,reverbLevel:Ze(T[6]||"0")/35,noteDuration:(Ze(T[7]||"7")+1)/10,volume:f==="v6"||f==="v7"?Ze(T[8]||Math.round(B.volume*35).toString(36))/35:B.volume,chorusLevel:f==="v6"||f==="v7"?Ze(T[9]||"0")/35:B.chorusLevel,delayLevel:f==="v6"||f==="v7"?Ze(T[10]||"0")/35:B.delayLevel},z=[],U=u[6]||"";if(U){const I=U.split("|").filter(Boolean);console.log("Chord entries to decode:",I);for(const L of I)if(f==="v5"||f==="v6"||f==="v7"){const[ne,de]=L.split(":");let le=ne,pe,q;if(f==="v7"&&ne.includes("@")){const[j,R]=ne.split("@");if(le=j,R.length>=2){const re=Ze(R[0]),ue=Ze(R[1]);pe=r[re],q=o[ue]}}const[X,Q]=le.split("~");if(X&&Q){const j=decodeURIComponent(X),R=decodeURIComponent(Q);let re;de?re=de.split(".").map(H=>H==="0"?"x":H):re=[...y];const ue={name:j,notes:R,pattern:re,originalKey:pe||h,originalMode:q,originalNotes:R};z.push(ue),console.log("Successfully decoded chord:",j)}else console.warn("Invalid chord format:",L)}else{let ne,de;if(L.includes(":")){const[pe,q]=L.split(":");ne=Ze(pe),de=f==="v4"?q.split(".").map(X=>X==="0"?"x":X):q.split("").map(X=>X==="0"?"x":X)}else ne=Ze(L),de=[...y];let le;if(f==="v3"||f==="v4")le=a[ne];else{const pe=L.includes(":")?L.split(":")[0]:L;le=a.find(q=>q.chordName&&hx(q.chordName)===pe)}le?.chordName&&le?.chordNoteNames?(z.push({name:le.chordName,notes:le.chordNoteNames,pattern:de,originalKey:h,originalMode:x,originalNotes:le.chordNoteNames}),console.log("Successfully decoded chord:",le.chordName)):console.warn("Could not find chord at index/name:",f==="v3"||f==="v4"?ne:L)}}const W={key:h,mode:x,pattern:y,bpm:E,subdivision:P,swing:Y,showPattern:K,liveMode:V,addedChords:z,pianoSettings:A};return console.log("Decoded state result:",W),console.log("Decoded addedChords:",z.length),W}catch(u){return console.error("Failed to decode state:",u),null}},hx=n=>n.replace(/[^a-zA-Z0-9]/g,"").substring(0,8),mx=(n,r="s")=>{if(n){const o=new URL(window.location.href);o.searchParams.set(r,n),window.history.replaceState({},"",o.toString()),console.log("URL updated with state:",n)}},gx=(n="s")=>new URL(window.location.href).searchParams.get(n),vx=(n,r,o,i,a,u,f,p,h,g,x,v,y,N,E="s")=>{const k=fx(n,r,o,i,a,u,f,p,h,g,x,v,y,N);mx(k,E)},xx=(n,r,o,i,a="s")=>{const u=gx(a);return u?px(u,n,r,o,i):null},Pp=4,kp=7,Dp=["C","C#","D","Eb","E","F","F#","G","G#","A","A#","B"],yx=(n,r)=>{if(!n||n.length===0)return!0;const o=n[r%n.length];return o!=="x"&&o!=="X"},Rp=(n,r,o,i)=>n?i:r!==null&&o[r]?o[r].pattern:i,bx=()=>{const n=Cn(),r=qo(),o=yr(),i=eo(),a=Zc(),{modes:u}=dx(),f=w.useRef(null),p=w.useRef(0),h=w.useRef(0),g=w.useRef(0),x=w.useRef(!1),v=w.useRef(null),y=w.useRef(!0),N=w.useRef(!1);w.useEffect(()=>{u&&!N.current&&(N.current=!0,n.setModes(u),n.chords||n.initialize())},[u]);const E=w.useMemo(()=>6e4/i.globalPatternState.bpm*i.globalPatternState.subdivision,[i.globalPatternState.bpm,i.globalPatternState.subdivision]),k=w.useCallback(W=>{if(i.globalPatternState.swing===0)return E;const I=W%2===1,L=1+i.globalPatternState.swing/100;return I?E*L:E/L},[E,i.globalPatternState.swing]),P=w.useCallback(()=>Rp(o.temporaryChord,o.activeChordIndex,o.addedChords,i.currentlyActivePattern),[o.temporaryChord,o.activeChordIndex,o.addedChords,i.currentlyActivePattern]),Y=w.useCallback(()=>{n.chords?.length&&u?.length&&!y.current&&vx(n.key,n.mode,o.addedChords,i.globalPatternState.currentPattern,i.globalPatternState.bpm,i.globalPatternState.subdivision,i.globalPatternState.swing,a.showPatternSystem,a.isLiveMode,r.pianoSettings,Dp,u,r.availableInstruments,n.chords)},[n.key,n.mode,n.chords,o.addedChords,i.globalPatternState,a.showPatternSystem,a.isLiveMode,r.pianoSettings,r.availableInstruments,u]),G=w.useCallback(()=>{if(n.chords?.length){const W=xx(Dp,u||[],r.availableInstruments,n.chords);W&&(n.setKey(W.key),n.setMode(W.mode),o.clearAllChords(),W.addedChords.forEach(I=>{o.addChord(I.name,I.notes,I.pattern||["1","2","3","4"],I.originalKey||W.key,I.originalMode||W.mode)}),i.setGlobalPatternState({currentPattern:W.pattern,bpm:W.bpm,subdivision:W.subdivision,swing:W.swing}),a.setShowPatternSystem(W.showPattern),a.setIsLiveMode(W.liveMode),r.updatePianoSettings(W.pianoSettings))}},[n.chords,u,r.availableInstruments]),K=w.useCallback((W,I,L)=>{if(a.isDeleteMode&&I!==void 0){o.removeChord(I);return}const ne=Oi(Pp,kp,W);I!==void 0?(o.setTemporaryChord(null),o.setActiveChordIndex(I),i.globalPatternState.isPlaying||o.playNotes(ne),o.setHighlightedChordIndex(I),setTimeout(()=>o.setHighlightedChordIndex(null),150)):(L&&o.setTemporaryChord({name:L,notes:W}),i.globalPatternState.isPlaying||o.playNotes(ne))},[a.isDeleteMode,i.globalPatternState.isPlaying]),V=w.useCallback((W,I)=>{o.addChord(W,I,i.currentlyActivePattern,n.key,n.mode)},[i.currentlyActivePattern,n.key,n.mode]),T=w.useCallback((W,I)=>{const L={name:I.name,notes:I.notes,pattern:I.pattern||["1","2","3","4"],originalKey:I.originalKey||n.key,originalMode:I.originalMode||n.mode,originalNotes:I.originalNotes||I.notes};o.updateChord(W,L)},[n.key,n.mode]),$=w.useCallback(()=>{o.clearAllChords(),i.setGlobalPatternState({isPlaying:!1}),a.setIsLiveMode(!1)},[]),B=w.useCallback(W=>{i.updatePattern(W),W.hasOwnProperty("isPlaying")&&W.isPlaying&&(p.current=0,h.current=Date.now(),g.current=Date.now()),W.hasOwnProperty("currentStep")&&W.currentStep===0&&(p.current=0,h.current=Date.now(),g.current=Date.now())},[]),A=w.useCallback(()=>{const W=!i.globalPatternState.isPlaying;i.setGlobalPatternState({isPlaying:W}),W&&(p.current=0,h.current=Date.now(),g.current=Date.now())},[i.globalPatternState.isPlaying]),z=w.useCallback(()=>{if(o.isPlayingScale){o.clearScalePlaybackTimeouts(),o.setActiveNotes([]),o.setIsPlayingScale(!1);return}if(!n.scaleNotes?.length)return;o.setIsPlayingScale(!0);const W=i.globalPatternState.isPlaying;W&&i.setGlobalPatternState({isPlaying:!1}),o.setActiveNotes([]);const L=6e4/i.globalPatternState.bpm*.8;let ne=100,de=4,le=0;const pe=[...n.scaleNotes];n.scaleNotes[0]?.noteName&&pe.push({noteName:n.scaleNotes[0].noteName}),pe.forEach(X=>{if(!X.noteName)return;const Q=setTimeout(()=>{const j=Qo(X.noteName);if(!j)return;let R=gt.fromNote(j+de);R<=le&&(de++,R=gt.fromNote(j+de)),le=R;const re=gt.getAttributes(R),ue=re.note.slice(0,-1),H=parseInt(re.note.slice(-1),10);o.setActiveNotes([{note:ue,octave:H}])},ne);o.addScalePlaybackTimeout(Q),ne+=L});const q=setTimeout(()=>{o.setActiveNotes([]),o.setIsPlayingScale(!1),o.clearScalePlaybackTimeouts(),W&&i.setGlobalPatternState({isPlaying:!0})},ne+L);o.addScalePlaybackTimeout(q)},[n.scaleNotes,o.isPlayingScale,i.globalPatternState.bpm,i.globalPatternState.isPlaying]),U=w.useCallback(W=>{if(W.target instanceof HTMLInputElement)return;if(W.key.toLowerCase()==="p"){a.togglePatternSystem();return}if(W.key.toLowerCase()==="l"){a.toggleLiveMode();return}if(W.key===" "){W.preventDefault(),A();return}const I=W.key==="0"?9:parseInt(W.key,10)-1;if(!isNaN(I)&&I>=0&&I<o.addedChords.length){const L=o.addedChords[I];L&&(o.setTemporaryChord(null),K(L.notes,I))}},[o.addedChords,K,A]);return w.useEffect(()=>{o.activeChordIndex!==null&&o.addedChords[o.activeChordIndex]?i.setCurrentlyActivePattern([...o.addedChords[o.activeChordIndex].pattern]):i.setCurrentlyActivePattern([...i.globalPatternState.currentPattern])},[o.activeChordIndex,o.addedChords,i.globalPatternState.currentPattern]),w.useEffect(()=>{if(i.globalPatternState.isPlaying){if(!f.current){h.current=Date.now(),g.current=Date.now(),p.current=0,i.setGlobalPatternState({currentStep:0});const W=()=>{const I=Date.now();if(I>=g.current){p.current++;const L=k(p.current);g.current=I+L,i.setGlobalPatternState({currentStep:p.current})}f.current=setTimeout(W,5)};W()}}else f.current&&(clearTimeout(f.current),f.current=null);return()=>{f.current&&(clearTimeout(f.current),f.current=null)}},[i.globalPatternState.isPlaying,k]),w.useEffect(()=>{if(i.globalPatternState.isPlaying){let W=null;if(o.temporaryChord?W=o.temporaryChord:o.activeChordIndex!==null&&o.addedChords[o.activeChordIndex]&&(W=o.addedChords[o.activeChordIndex]),W){const I=Rp(o.temporaryChord,o.activeChordIndex,o.addedChords,i.currentlyActivePattern),L=i.globalPatternState.currentStep%I.length;if(yx(I,L)){const ne=Oi(Pp,kp,W.notes);o.setActiveNotes(ne)}else o.setActiveNotes([])}}},[i.globalPatternState.isPlaying,i.globalPatternState.currentStep,o.temporaryChord,o.activeChordIndex,o.addedChords,i.currentlyActivePattern]),w.useEffect(()=>{n.chords?.length&&!x.current&&(x.current=!0,y.current=!0,G(),setTimeout(()=>{y.current=!1},100))},[n.chords,G]),w.useEffect(()=>(n.chords?.length&&u?.length&&!y.current&&(v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{Y()},100)),()=>{v.current&&clearTimeout(v.current)}),[n.key,n.mode,o.addedChords,i.globalPatternState,a.showPatternSystem,a.isLiveMode,r.pianoSettings,n.chords?.length,u?.length,Y]),w.useEffect(()=>(document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)),[U]),{chords:n.chords,key:n.key,mode:n.mode,modes:n.modes,activeNotes:o.activeNotes,activeChordIndex:o.activeChordIndex,highlightedChordIndex:o.highlightedChordIndex,addedChords:o.addedChords,loadingChords:n.loadingChords,isDeleteMode:a.isDeleteMode,isPlayingScale:o.isPlayingScale,isLiveMode:a.isLiveMode,globalPatternState:i.globalPatternState,currentlyActivePattern:i.currentlyActivePattern,temporaryChord:o.temporaryChord,normalizedScaleNotes:n.normalizedScaleNotes,pianoSettings:r.pianoSettings,availableInstruments:r.availableInstruments,setKey:n.setKey,setMode:n.setMode,setIsDeleteMode:a.setIsDeleteMode,setIsLiveMode:a.setIsLiveMode,setAvailableInstruments:r.setAvailableInstruments,handleChordClick:K,addChordClick:V,updateChord:T,clearAllChords:$,updateChordPattern:o.updateChordPattern,toggleScalePlayback:z,handlePatternChange:B,handleTogglePlayback:A,getCurrentPattern:P,handleFetchOriginalChord:o.handleFetchOriginalChord,setPianoInstrument:r.setPianoInstrument,setCutOffPreviousNotes:r.setCutOffPreviousNotes,setEq:r.setEq,setOctaveOffset:r.setOctaveOffset,setReverbLevel:r.setReverbLevel,setNoteDuration:r.setNoteDuration,setVolume:r.setVolume,setChorusLevel:r.setChorusLevel,setDelayLevel:r.setDelayLevel}};function wx({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{d:"M3.28 2.22a.75.75 0 0 0-1.06 1.06L5.44 6.5H2.75a.75.75 0 0 0 0 1.5h4.5A.75.75 0 0 0 8 7.25v-4.5a.75.75 0 0 0-1.5 0v2.69L3.28 2.22ZM13.5 2.75a.75.75 0 0 0-1.5 0v4.5c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-2.69l3.22-3.22a.75.75 0 0 0-1.06-1.06L13.5 5.44V2.75ZM3.28 17.78l3.22-3.22v2.69a.75.75 0 0 0 1.5 0v-4.5a.75.75 0 0 0-.75-.75h-4.5a.75.75 0 0 0 0 1.5h2.69l-3.22 3.22a.75.75 0 1 0 1.06 1.06ZM13.5 14.56l3.22 3.22a.75.75 0 1 0 1.06-1.06l-3.22-3.22h2.69a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0-.75.75v4.5a.75.75 0 0 0 1.5 0v-2.69Z"}))}const Nx=w.forwardRef(wx);function Sx({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{d:"m13.28 7.78 3.22-3.22v2.69a.75.75 0 0 0 1.5 0v-4.5a.75.75 0 0 0-.75-.75h-4.5a.75.75 0 0 0 0 1.5h2.69l-3.22 3.22a.75.75 0 0 0 1.06 1.06ZM2 17.25v-4.5a.75.75 0 0 1 1.5 0v2.69l3.22-3.22a.75.75 0 0 1 1.06 1.06L4.56 16.5h2.69a.75.75 0 0 1 0 1.5h-4.5a.747.747 0 0 1-.75-.75ZM12.22 13.28l3.22 3.22h-2.69a.75.75 0 0 0 0 1.5h4.5a.747.747 0 0 0 .75-.75v-4.5a.75.75 0 0 0-1.5 0v2.69l-3.22-3.22a.75.75 0 1 0-1.06 1.06ZM3.5 4.56l3.22 3.22a.75.75 0 0 0 1.06-1.06L4.56 3.5h2.69a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0-.75.75v4.5a.75.75 0 0 0 1.5 0V4.56Z"}))}const Cx=w.forwardRef(Sx);function jx({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const Ex=w.forwardRef(jx);function Px({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const br=w.forwardRef(Px);function kx({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{fillRule:"evenodd",d:"M11.78 5.22a.75.75 0 0 1 0 1.06L8.06 10l3.72 3.72a.75.75 0 1 1-1.06 1.06l-4.25-4.25a.75.75 0 0 1 0-1.06l4.25-4.25a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const Dx=w.forwardRef(kx);function Rx({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{fillRule:"evenodd",d:"M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const Vh=w.forwardRef(Rx);function Ix({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{fillRule:"evenodd",d:"M9.47 6.47a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 1 1-1.06 1.06L10 8.06l-3.72 3.72a.75.75 0 0 1-1.06-1.06l4.25-4.25Z",clipRule:"evenodd"}))}const Zo=w.forwardRef(Ix);function Ax({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{d:"M13.024 9.25c.47 0 .827-.433.637-.863a4 4 0 0 0-4.094-2.364c-.468.05-.665.576-.43.984l1.08 1.868a.75.75 0 0 0 .649.375h2.158ZM7.84 7.758c-.236-.408-.79-.5-1.068-.12A3.982 3.982 0 0 0 6 10c0 .884.287 1.7.772 2.363.278.38.832.287 1.068-.12l1.078-1.868a.75.75 0 0 0 0-.75L7.839 7.758ZM9.138 12.993c-.235.408-.039.934.43.984a4 4 0 0 0 4.094-2.364c.19-.43-.168-.863-.638-.863h-2.158a.75.75 0 0 0-.65.375l-1.078 1.868Z"}),w.createElement("path",{fillRule:"evenodd",d:"m14.13 4.347.644-1.117a.75.75 0 0 0-1.299-.75l-.644 1.116a6.954 6.954 0 0 0-2.081-.556V1.75a.75.75 0 0 0-1.5 0v1.29a6.954 6.954 0 0 0-2.081.556L6.525 2.48a.75.75 0 1 0-1.3.75l.645 1.117A7.04 7.04 0 0 0 4.347 5.87L3.23 5.225a.75.75 0 1 0-.75 1.3l1.116.644A6.954 6.954 0 0 0 3.04 9.25H1.75a.75.75 0 0 0 0 1.5h1.29c.078.733.27 1.433.556 2.081l-1.116.645a.75.75 0 1 0 .75 1.298l1.117-.644a7.04 7.04 0 0 0 1.523 1.523l-.645 1.117a.75.75 0 1 0 1.3.75l.644-1.116a6.954 6.954 0 0 0 2.081.556v1.29a.75.75 0 0 0 1.5 0v-1.29a6.954 6.954 0 0 0 2.081-.556l.645 1.116a.75.75 0 0 0 1.299-.75l-.645-1.117a7.042 7.042 0 0 0 1.523-1.523l1.117.644a.75.75 0 0 0 .75-1.298l-1.116-.645a6.954 6.954 0 0 0 .556-2.081h1.29a.75.75 0 0 0 0-1.5h-1.29a6.954 6.954 0 0 0-.556-2.081l1.116-.644a.75.75 0 0 0-.75-1.3l-1.117.645a7.04 7.04 0 0 0-1.524-1.523ZM10 4.5a5.475 5.475 0 0 0-2.781.754A5.527 5.527 0 0 0 5.22 7.277 5.475 5.475 0 0 0 4.5 10a5.475 5.475 0 0 0 .752 2.777 5.527 5.527 0 0 0 2.028 2.004c.802.458 1.73.719 2.72.719a5.474 5.474 0 0 0 2.78-.753 5.527 5.527 0 0 0 2.001-2.027c.458-.802.719-1.73.719-2.72a5.475 5.475 0 0 0-.753-2.78 5.528 5.528 0 0 0-2.028-2.002A5.475 5.475 0 0 0 10 4.5Z",clipRule:"evenodd"}))}const Ip=w.forwardRef(Ax);function _x({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{d:"M10 3a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM10 8.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM11.5 15.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z"}))}const Ox=w.forwardRef(_x);function Tx({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-7-4a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM9 9a.75.75 0 0 0 0 1.5h.253a.25.25 0 0 1 .244.304l-.459 2.066A1.75 1.75 0 0 0 10.747 15H11a.75.75 0 0 0 0-1.5h-.253a.25.25 0 0 1-.244-.304l.459-2.066A1.75 1.75 0 0 0 9.253 9H9Z",clipRule:"evenodd"}))}const Mx=w.forwardRef(Tx);function Lx({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{fillRule:"evenodd",d:"M10 1a4.5 4.5 0 0 0-4.5 4.5V9H5a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2h-.5V5.5A4.5 4.5 0 0 0 10 1Zm3 8V5.5a3 3 0 1 0-6 0V9h6Z",clipRule:"evenodd"}))}const Ap=w.forwardRef(Lx);function Fx({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{fillRule:"evenodd",d:"M9 3.5a5.5 5.5 0 1 0 0 11 5.5 5.5 0 0 0 0-11ZM2 9a7 7 0 1 1 12.452 4.391l3.328 3.329a.75.75 0 1 1-1.06 1.06l-3.329-3.328A7 7 0 0 1 2 9Z",clipRule:"evenodd"}))}const Bx=w.forwardRef(Fx);function $x({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{fillRule:"evenodd",d:"M4 10a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H4.75A.75.75 0 0 1 4 10Z",clipRule:"evenodd"}))}const _p=w.forwardRef($x);function zx({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{d:"M5.75 3a.75.75 0 0 0-.75.75v12.5c0 .414.336.75.75.75h1.5a.75.75 0 0 0 .75-.75V3.75A.75.75 0 0 0 7.25 3h-1.5ZM12.75 3a.75.75 0 0 0-.75.75v12.5c0 .414.336.75.75.75h1.5a.75.75 0 0 0 .75-.75V3.75a.75.75 0 0 0-.75-.75h-1.5Z"}))}const Xo=w.forwardRef(zx);function Gx({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{fillRule:"evenodd",d:"M2 10a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm6.39-2.908a.75.75 0 0 1 .766.027l3.5 2.25a.75.75 0 0 1 0 1.262l-3.5 2.25A.75.75 0 0 1 8 12.25v-4.5a.75.75 0 0 1 .39-.658Z",clipRule:"evenodd"}))}const Jo=w.forwardRef(Gx);function Ux({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{d:"M6.3 2.84A1.5 1.5 0 0 0 4 4.11v11.78a1.5 1.5 0 0 0 2.3 1.27l9.344-5.891a1.5 1.5 0 0 0 0-2.538L6.3 2.841Z"}))}const Wh=w.forwardRef(Ux);function Vx({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm.75-11.25a.75.75 0 0 0-1.5 0v2.5h-2.5a.75.75 0 0 0 0 1.5h2.5v2.5a.75.75 0 0 0 1.5 0v-2.5h2.5a.75.75 0 0 0 0-1.5h-2.5v-2.5Z",clipRule:"evenodd"}))}const Wx=w.forwardRef(Vx);function Hx({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{d:"M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z"}))}const Op=w.forwardRef(Hx);function qx({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0ZM8.94 6.94a.75.75 0 1 1-1.061-1.061 3 3 0 1 1 2.871 5.026v.345a.75.75 0 0 1-1.5 0v-.5c0-.72.57-1.172 1.081-1.287A1.5 1.5 0 1 0 8.94 6.94ZM10 15a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",clipRule:"evenodd"}))}const Hh=w.forwardRef(qx);function Kx({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 0 0 6 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 1 0 .23 1.482l.149-.022.841 10.518A2.75 2.75 0 0 0 7.596 19h4.807a2.75 2.75 0 0 0 2.742-2.53l.841-10.52.149.023a.75.75 0 0 0 .23-1.482A41.03 41.03 0 0 0 14 4.193V3.75A2.75 2.75 0 0 0 11.25 1h-2.5ZM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4ZM8.58 7.72a.75.75 0 0 0-1.5.06l.3 7.5a.75.75 0 1 0 1.5-.06l-.3-7.5Zm4.34.06a.75.75 0 1 0-1.5-.06l-.3 7.5a.75.75 0 1 0 1.5.06l.3-7.5Z",clipRule:"evenodd"}))}const Tp=w.forwardRef(Kx);function Yx({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16ZM8.28 7.22a.75.75 0 0 0-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 1 0 1.06 1.06L10 11.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L11.06 10l1.72-1.72a.75.75 0 0 0-1.06-1.06L10 8.94 8.28 7.22Z",clipRule:"evenodd"}))}const kc=w.forwardRef(Yx);function Qx({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{d:"M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"}))}const Zx=w.forwardRef(Qx),Xx=({chords:n,loading:r,onChordClick:o,addChordClick:i})=>{const[a,u]=w.useState("All"),[f,p]=w.useState(""),[h,g]=w.useState(new Set),[x,v]=w.useState(new Set),[y,N]=w.useState(new Set),[E,k]=w.useState(1);w.useEffect(()=>{const A=()=>{const z=window.innerWidth;z>=1280?k(3):z>=640?k(2):k(1)};return A(),window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]);const P=A=>A?A.length>=2&&(A[1]==="b"||A[1]==="#")?A.substring(0,2):A[0]||"":"",Y=w.useMemo(()=>{if(!n)return[];const A=n.filter(z=>z.chordName).map(z=>P(z.chordName)).filter(z=>z);return[...new Set(A)].sort()},[n]),G=w.useMemo(()=>{if(!n)return[];let A=n.filter(z=>z.chordName&&z.chordNoteNames&&z.chordName.trim()!==""&&z.chordNoteNames.trim()!=="");if(a!=="All"&&(A=A.filter(z=>P(z.chordName)===a)),f.trim()){const z=f.toLowerCase().trim();A=A.filter(U=>U.chordName?.toLowerCase().includes(z)||U.chordNoteNames?.toLowerCase().includes(z))}return A},[n,a,f]),K=w.useMemo(()=>{if(!n)return{};const A={};return n.forEach(z=>{if(z.chordName){const U=P(z.chordName);U&&(A[U]=(A[U]||0)+1)}}),A},[n]),V=w.useCallback(A=>{const U=Math.floor(A/E)*E,W=Math.min(U+E,G.length),I=[];for(let L=U;L<W;L++)I.push(L);return I},[E,G.length]),T=A=>{const z=V(A),U=new Set(h);U.has(A)?z.forEach(I=>U.delete(I)):z.forEach(I=>U.add(I)),g(U)},$=(A,z,U)=>{v(W=>new Set(W).add(z)),o(A,void 0,U),setTimeout(()=>{v(W=>{const I=new Set(W);return I.delete(z),I})},800)},B=(A,z,U)=>{N(W=>new Set(W).add(A)),i?.(z,U),setTimeout(()=>{N(W=>{const I=new Set(W);return I.delete(A),I})},600)};return c.jsxs("div",{className:"w-full max-w-7xl mx-auto px-2",children:[c.jsx("div",{className:"bg-[#3d434f] border border-gray-600 rounded-lg overflow-hidden mb-4",children:c.jsxs("div",{className:"px-4 py-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-sm font-bold text-slate-300 uppercase tracking-wider",children:"Chord Explorer"}),c.jsxs("div",{className:"text-sm text-gray-400",children:[G?.length||0," of ",n?.length||0," chords"]})]}),c.jsx("div",{className:"mb-4",children:c.jsxs("div",{className:"relative",children:[c.jsx(Bx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search chords or notes...",value:f,onChange:A=>p(A.target.value),className:"w-full pl-10 pr-4 py-2 bg-[#444b59] border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-blue-500 focus:outline-none transition-colors !text-sm"})]})}),c.jsx("div",{className:"lg:hidden",children:c.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-transparent px-1",children:[c.jsxs("button",{onClick:()=>u("All"),className:`flex-shrink-0 px-3 py-2 rounded-full text-sm font-medium transition-colors ${a==="All"?"bg-blue-600 text-white":"bg-[#444b59] text-gray-300 hover:bg-[#525a6b] hover:text-white"}`,children:["All (",n?.length||0,")"]}),Y.map(A=>c.jsxs("button",{onClick:()=>u(A),className:`flex-shrink-0 px-3 py-2 rounded-full text-sm font-medium transition-colors ${a===A?"bg-blue-600 text-white":"bg-[#444b59] text-gray-300 hover:bg-[#525a6b] hover:text-white"}`,children:[A," (",K[A]||0,")"]},A))]})})]})}),c.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 lg:gap-4",children:[c.jsx("div",{className:"hidden lg:block lg:w-48 flex-shrink-0",children:c.jsxs("div",{className:"bg-[#3d434f] rounded-lg h-fit",children:[c.jsx("div",{className:"px-4 py-3 border-b border-gray-600",children:c.jsx("h3",{className:"text-sm font-medium text-gray-200 uppercase tracking-wide",children:"Filter by Root"})}),c.jsxs("div",{className:"p-2",children:[c.jsx("button",{onClick:()=>u("All"),className:`w-full px-3 py-2 text-left transition-colors rounded-md border-l-4 ${a==="All"?"bg-[#4a5262] border-l-blue-500 text-white":"hover:bg-[#444b59] border-l-transparent text-gray-300 hover:text-white"}`,children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm font-medium",children:"All Notes"}),c.jsx("span",{className:"text-xs text-gray-400 bg-gray-700 px-2 py-1 rounded",children:n?.length||0})]})}),Y.map(A=>c.jsx("button",{onClick:()=>u(A),className:`w-full px-3 py-2 text-left transition-colors rounded-md border-l-4 mt-1 ${a===A?"bg-[#4a5262] border-l-blue-500 text-white":"hover:bg-[#444b59] border-l-transparent text-gray-300 hover:text-white"}`,children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm font-medium",children:A}),c.jsx("span",{className:"text-xs text-gray-400 bg-gray-700 px-2 py-1 rounded",children:K[A]||0})]})},A))]})]})}),c.jsxs("div",{className:"flex-1",children:[r?c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[c.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-current border-r-transparent text-blue-500"}),c.jsx("span",{className:"text-sm text-gray-400",children:"Loading chords..."})]})}):G?.length?c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-2 sm:gap-3",children:G.map((A,z)=>{if(!A.chordName||!A.chordNoteNames)return null;const U=h.has(z),W=x.has(z),I=y.has(z);return c.jsxs("div",{className:`bg-[#3d434f] rounded-lg border border-gray-600 hover:border-blue-500 hover:bg-[#444b59] transition-all duration-200 overflow-hidden cursor-pointer group relative ${W?"chord-playing z-50":""} ${I?"chord-adding z-40":""}`,onClick:()=>$(A.chordNoteNames,z,A.chordName),children:[c.jsx("div",{className:"p-3 sm:p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 flex-1 min-w-0",children:[c.jsx(Jo,{className:`h-5 w-5 sm:h-6 sm:w-6 transition-colors flex-shrink-0 ${W?"text-blue-400":"text-gray-400 group-hover:text-blue-300"}`}),c.jsx("h3",{className:`text-base sm:text-lg font-bold transition-colors truncate ${W?"text-blue-200":"text-white group-hover:text-blue-200"}`,children:A.chordName})]}),c.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0 ml-2",children:[c.jsx("button",{onClick:L=>{L.stopPropagation(),B(z,A.chordName,A.chordNoteNames)},className:`p-1 sm:p-2 rounded-md transition-colors ${I?"bg-green-600 text-white":"hover:bg-green-600 text-gray-400 hover:text-white"}`,title:"Add to sequence",children:c.jsx(Wx,{className:"h-5 w-5 sm:h-4 sm:w-4"})}),c.jsx("button",{onClick:L=>{L.stopPropagation(),T(z)},className:"p-1.5 sm:p-2 rounded-md hover:bg-[#555] text-gray-400 hover:text-white transition-colors",title:U?"Hide notes":"Show notes",children:U?c.jsx(Zo,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}):c.jsx(br,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})})]})]})}),U&&c.jsx("div",{className:"px-3 pb-3 pt-0 sm:px-4 sm:pb-4",children:c.jsxs("div",{className:"bg-[#2d3142] rounded-md p-2 sm:p-3 border-t border-gray-600",children:[c.jsx("div",{className:"text-xs font-medium text-gray-400 uppercase tracking-wide mb-1",children:"Notes"}),c.jsx("div",{className:"text-sm text-gray-200 font-mono",children:A.chordNoteNames})]})})]},`chord-${A.chordName}-${z}`)})}):c.jsx("div",{className:"flex justify-center items-center h-64 bg-[#3d434f] rounded-lg",children:c.jsxs("div",{className:"text-center space-y-3",children:[c.jsx("div",{className:"text-gray-500 text-4xl",children:""}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm text-gray-400",children:f.trim()?`No chords found matching "${f}"`:a==="All"?"No chords available":`No chords found for root note "${a}"`}),(f.trim()||a!=="All")&&c.jsx("button",{onClick:()=>{p(""),u("All")},className:"text-sm text-blue-400 hover:text-blue-300 underline transition-colors",children:"Clear filters"})]})]})}),G?.length>0&&c.jsx("div",{className:"mt-4 text-center",children:c.jsxs("div",{className:"text-xs text-gray-400",children:["Tap any chord to play ",c.jsx("span",{className:"text-gray-300 mx-1",children:"+"})," to add to sequence ",c.jsx(br,{className:"inline h-3 w-3 mx-1"})," to show notes (expands entire row)"]})})]})]})]})},Nu=class Nu extends w.Component{constructor(){super(...arguments),this.state={instrumentList:null},this.loadInstrumentList=()=>{fetch(`${this.props.hostname}/${this.props.soundfont}/names.json`).then(r=>r.json()).then(r=>{this.setState({instrumentList:r})})}}componentDidMount(){this.loadInstrumentList()}render(){return this.props.render(this.state.instrumentList)}};Nu.defaultProps={soundfont:"MusyngKite"};let Ti=Nu;function Jx({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const ey=w.forwardRef(Jx);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ny=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,o,i)=>i?i.toUpperCase():o.toLowerCase()),Mp=n=>{const r=ny(n);return r.charAt(0).toUpperCase()+r.slice(1)},qh=(...n)=>n.filter((r,o,i)=>!!r&&r.trim()!==""&&i.indexOf(r)===o).join(" ").trim(),ry=n=>{for(const r in n)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=w.forwardRef(({color:n="currentColor",size:r=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:a="",children:u,iconNode:f,...p},h)=>w.createElement("svg",{ref:h,...oy,width:r,height:r,stroke:n,strokeWidth:i?Number(o)*24/Number(r):o,className:qh("lucide",a),...!u&&!ry(p)&&{"aria-hidden":"true"},...p},[...f.map(([g,x])=>w.createElement(g,x)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=(n,r)=>{const o=w.forwardRef(({className:i,...a},u)=>w.createElement(sy,{ref:u,iconNode:r,className:qh(`lucide-${ty(Mp(n))}`,`lucide-${n}`,i),...a}));return o.displayName=Mp(n),o};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ly=Kh("chevron-down",iy);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],cy=Kh("search",ay);var Qi=zh();const uy=Jn(Qi),rn=({value:n,onChange:r,options:o,className:i="",menuClassName:a="",showSearch:u=!1,buttonClassName:f=""})=>{const[p,h]=w.useState(!1),[g,x]=w.useState(!1),[v,y]=w.useState(""),N=w.useRef(null),E=w.useRef(null),[k,P]=w.useState({top:0,left:0,width:0,maxHeight:320}),Y=o.filter(T=>v?.length?T.toLowerCase().includes(v.toLowerCase()):!0),G=()=>{if(N.current){const T=N.current.getBoundingClientRect(),$=window.innerHeight-T.bottom,B=Math.min($-10,320);P({top:T.bottom+window.scrollY,left:T.left+window.scrollX,width:T.width,maxHeight:B}),x(!0)}};w.useEffect(()=>{const T=B=>{N.current&&!N.current.contains(B.target)&&E.current&&!E.current.contains(B.target)&&(h(!1),y(""),x(!1))},$=B=>{B.key==="Escape"&&(h(!1),y(""),x(!1))};return p&&(document.addEventListener("mousedown",T),document.addEventListener("keydown",$)),()=>{document.removeEventListener("mousedown",T),document.removeEventListener("keydown",$)}},[p]);const K=()=>{p?(h(!1),x(!1)):(G(),requestAnimationFrame(()=>{h(!0)}))},V=T=>{r(T),h(!1),y(""),x(!1)};return c.jsxs("div",{className:`relative inline-block text-left text-lg ${i}`,children:[c.jsxs("button",{ref:N,onClick:K,className:`
          inline-flex w-full justify-between items-center gap-x-2 rounded-lg
          bg-[#3d434f] border
          px-4 py-2.5 text-sm font-medium
          text-slate-200 
          ${p?"border-blue-500 bg-[#4a5262]":"border-gray-600 hover:bg-[#4a5262] hover:border-gray-500"}
          focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:ring-offset-2 focus:ring-offset-[#2a2f38]
          transition-all duration-200 ease-out
          ${f.includes("h-")?"":"h-10"}
          ${f}
        `,children:[c.jsx("span",{className:"truncate text-left flex-1 font-medium tracking-wide",children:n}),c.jsx(ly,{className:`
            h-4 w-4 text-slate-400 flex-shrink-0
            transition-all duration-200
            ${p?"rotate-180 text-slate-200":"group-hover:text-slate-200"}
          `,"aria-hidden":"true"})]}),p&&g&&Qi.createPortal(c.jsx("div",{ref:E,style:{position:"absolute",top:`${k.top+4}px`,left:`${k.left}px`,minWidth:`${k.width}px`,maxWidth:`${k.width}px`,zIndex:9999},className:"origin-top dropdown-enter",children:c.jsx("div",{style:{maxHeight:`${k.maxHeight}px`,minWidth:`${k.width}px`},className:"dropdown-menu rounded-lg shadow-2xl ring-1 ring-black/30 overflow-hidden",children:c.jsxs("div",{className:"bg-[#3d434f] border border-gray-600 rounded-lg overflow-hidden shadow-2xl",children:[u&&c.jsx("div",{className:"p-3 border-b border-gray-600 bg-[#444b59]",children:c.jsxs("div",{className:"relative",children:[c.jsx(cy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),c.jsx("input",{type:"text",className:`w-full text-slate-200 pl-9 pr-3 py-2 text-sm font-normal 
                        bg-[#2a2f38] border border-gray-600 rounded-md 
                        focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 
                        placeholder-slate-500 
                        transition-all duration-200
                        hover:bg-[#333844] hover:border-gray-500`,placeholder:"Search options...",value:v,onChange:T=>y(T.target.value),autoFocus:!0})]})}),c.jsx("div",{className:`py-1.5 overflow-y-auto ${a}`,style:{maxHeight:u?`${k.maxHeight-60}px`:`${k.maxHeight}px`},children:Y.length>0?Y.map((T,$)=>c.jsxs("button",{onClick:()=>V(T),className:`
                        relative block w-full px-4 py-2.5 text-left text-sm font-medium 
                        transition-all duration-200
                        text-slate-300 hover:text-slate-100
                        hover:bg-[#4a5262]
                        border-l-2 border-l-transparent hover:border-l-blue-400
                      `,children:[c.jsx("span",{className:"relative truncate block tracking-wide",children:T}),n===T&&c.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-1.5 h-1.5 bg-blue-400 rounded-full"})]},$)):c.jsx("div",{className:"px-4 py-3 text-sm text-slate-500 italic text-center",children:"No options found"})})]})})}),document.body)]})},dy=n=>c.jsx("label",{className:at("mr-[1em] flex-1 text-right text-sm font-medium text-slate-400",n.className),children:n.value}),fy=({isOpen:n,cutOffPreviousNotes:r,setCutOffPreviousNotes:o,eq:i,setEq:a,octaveOffset:u,setOctaveOffset:f,reverbLevel:p,setReverbLevel:h,noteDuration:g,setNoteDuration:x,volume:v,setVolume:y,chorusLevel:N,setChorusLevel:E,delayLevel:k,setDelayLevel:P})=>{const Y=G=>{const{name:K,value:V}=G.target;a({...i,[K]:parseFloat(V)})};return c.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden px-2 ${n?"max-h-[600px] opacity-100 mt-6":"max-h-0 opacity-0"}`,children:c.jsxs("div",{className:"bg-[#3d434f] border border-gray-600 rounded-lg overflow-hidden w-full max-w-7xl mx-auto",children:[c.jsx("div",{className:"px-4 py-3 border-b border-gray-600",children:c.jsx("h3",{className:"text-sm font-medium text-slate-200 uppercase tracking-wider",children:"Piano Settings"})}),c.jsx("div",{className:"p-6 bg-[#444b59]",children:c.jsxs("div",{className:"grid grid-cols-2 gap-x-8",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Volume",c.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",Math.round(v*100),"%)"]})]}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:"range",min:"0",max:"1.0",step:"0.05",value:v,onChange:G=>y(parseFloat(G.target.value)),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:"Octave Shift"}),c.jsxs("div",{className:"flex items-center justify-between bg-[#3d434f] border border-gray-600 rounded-md p-1.5",children:[c.jsx("button",{onClick:()=>f(Math.max(-3,u-1)),className:"w-6 h-6 flex items-center justify-center text-slate-300 hover:text-slate-200 hover:bg-[#4a5262] rounded transition-colors",disabled:u<=-3,children:""}),c.jsx("span",{className:"font-mono !text-xs text-slate-200 px-2",children:u===0?"Normal":`${u>0?"+":""}${u} octave${Math.abs(u)>1?"s":""}`}),c.jsx("button",{onClick:()=>f(Math.min(3,u+1)),className:"w-6 h-6 flex items-center justify-center text-slate-300 hover:text-slate-200 hover:bg-[#4a5262] rounded transition-colors",disabled:u>=3,children:"+"})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Reverb",c.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",Math.round(p*100),"%)"]})]}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:"range",min:"0",max:"1.0",step:"0.05",value:p,onChange:G=>h(parseFloat(G.target.value)),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Note Duration",c.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",Math.round(g*100),"%)"]})]}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:"range",min:"0.1",max:"1.0",step:"0.05",value:g,onChange:G=>x(parseFloat(G.target.value)),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})})]}),c.jsx("div",{children:c.jsxs("label",{className:"flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",className:"w-3.5 h-3.5 text-blue-600 bg-[#3d434f] border-gray-600 rounded focus:ring-blue-500 focus:ring-1",checked:r,onChange:G=>o(G.target.checked)}),c.jsx("span",{className:"ml-2 text-xs text-slate-300 uppercase tracking-wide",children:"Cut off previous notes"})]})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:"Equalizer"}),c.jsx("div",{className:"space-y-3",children:[{label:"Bass",key:"bass"},{label:"Mid",key:"mid"},{label:"Treble",key:"treble"}].map(({label:G,key:K})=>c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wide",children:G}),c.jsxs("span",{className:"text-xs text-slate-400 font-mono",children:[i[K]>0?"+":"",i[K].toFixed(1),"dB"]})]}),c.jsx("input",{type:"range",name:K,min:"-24",max:"24",step:"0.5",value:i[K],onChange:Y,className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})]},K))})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Chorus",c.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",Math.round(N*100),"%)"]})]}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:"range",min:"0",max:"1.0",step:"0.05",value:N,onChange:G=>E(parseFloat(G.target.value)),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Delay",c.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",Math.round(k*100),"%)"]})]}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:"range",min:"0",max:"1.0",step:"0.05",value:k,onChange:G=>P(parseFloat(G.target.value)),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})})]})]})]})]})})]})})},on=({children:n,onClick:r,className:o="",variant:i="primary",size:a="md",disabled:u=!1,active:f=!1,"aria-label":p,"aria-expanded":h,type:g="button",title:x})=>{const v=`
    inline-flex justify-center items-center gap-x-2 rounded-sm
    font-medium border
    focus:outline-none
    transition-all duration-200 ease-out
    disabled:opacity-50 disabled:cursor-not-allowed
    relative overflow-hidden
  `,y=`
    focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#2a2f38]
  `,N={sm:"px-3 py-1.5 text-xs h-8",md:"px-4 py-2.5 text-sm h-10",lg:"px-6 py-3 text-base h-12",icon:"w-8 h-8 flex items-center justify-center p-0"},E={primary:`
      ${f?"bg-[#525a6b] border-gray-500 text-slate-100":"bg-[#3d434f] border-gray-600 text-slate-200 hover:bg-[#4a5262] hover:border-gray-500"}
      focus:ring-blue-500/50
    `,secondary:`
      ${f?"bg-[#525a6b] border-gray-500 text-slate-100":"bg-[#4a5262] border-gray-500 text-slate-200 hover:bg-[#525a6b] hover:border-gray-400"}
      focus:ring-gray-400/50
    `,success:`
      ${f?"bg-green-600 border-green-500 text-green-100":"bg-green-700 border-green-600 text-green-100 hover:bg-green-600 hover:border-green-500"}
      focus:ring-green-500/50
    `,danger:`
      ${f?"bg-red-600 border-red-500 text-red-100":"bg-red-700 border-red-600 text-red-100 hover:bg-red-600 hover:border-red-500"}
      focus:ring-red-500/50
    `,icon:`
      ${f?"bg-[#525a6b] border-gray-500 text-slate-200":"bg-[#3d434f] border-gray-600 text-slate-400 hover:bg-[#4a5262] hover:border-gray-500 hover:text-slate-200"}
      focus:ring-gray-500/50
    `,"play-stop":`
      ${f?"bg-red-700 hover:bg-red-600 border-red-600 text-white":"bg-green-600 hover:bg-green-500 border-green-500 text-white"}
      font-medium uppercase tracking-wide text-sm w-[7em] px-4 py-2
      focus:ring-green-500/50
    `};return c.jsx("button",{type:g,onClick:r,disabled:u,"aria-label":p,"aria-expanded":h,title:x,className:at(v,y,N[a],E[i],o),children:c.jsx("span",{className:at("flex items-center gap-x-2 tracking-wide","relative"),children:n})})},py=({children:n,onClick:r,className:o="",variant:i="primary",size:a="md",disabled:u=!1,active:f=!1,"aria-label":p,"aria-expanded":h,type:g="button",title:x})=>{const v=`
    font-medium transition-all duration-200 rounded-md border
    focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#2a2f38]
    disabled:opacity-50 disabled:cursor-not-allowed
    flex items-center justify-center gap-1
  `,y={sm:"py-1 px-3 text-xs",md:"py-2 px-4 text-sm",lg:"py-3 px-6 text-base"},N={primary:f?"bg-blue-600 border-blue-500 text-white focus:ring-blue-500":"bg-blue-700 border-blue-600 hover:bg-blue-600 hover:border-blue-500 text-white focus:ring-blue-500",secondary:f?"bg-[#525a6b] border-gray-500 text-white focus:ring-gray-500":"bg-[#4a5262] border-gray-600 hover:bg-[#525a6b] hover:border-gray-500 text-white focus:ring-gray-500",danger:f?"bg-red-600 border-red-500 text-white focus:ring-red-500":"bg-red-700 border-red-600 hover:bg-red-600 hover:border-red-500 text-white focus:ring-red-500",success:f?"bg-green-600 border-green-500 text-white focus:ring-green-500":"bg-green-700 border-green-600 hover:bg-green-600 hover:border-green-500 text-white focus:ring-green-500"};return c.jsx("button",{type:g,onClick:r,disabled:u,"aria-label":p,"aria-expanded":h,title:x,className:at(v,y[a],N[i],o),children:n})};class hy extends w.Component{constructor(r){super(r),this.handleKeyDown=o=>{const{noteRange:i,keyboardShortcutOffset:a}=this.props.config;if(!i)return;const u=i.last-i.first+1,f=0,p=u-this.props.keyboardShortcuts.length;if(o.key==="ArrowLeft"){const h=a-1;h>=f&&this.props.setConfig({keyboardShortcutOffset:h})}else if(o.key==="ArrowRight"){const h=a+1;h<=p&&this.props.setConfig({keyboardShortcutOffset:h})}},this.onChangeFirstNote=o=>{this.props.setConfig({noteRange:{first:parseInt(o.target.value,10),last:this.props.config.noteRange.last}})},this.onChangeLastNote=o=>{this.props.setConfig({noteRange:{first:this.props.config.noteRange.first,last:parseInt(o.target.value,10)}})},this.onChangeInstrument=o=>{const i=o.replaceAll(" ","_");this.props.setConfig({instrumentName:i}),this.props.onInstrumentChange(i)},this.state={settingsOpen:!1}}componentDidMount(){window.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown)}render(){const{noteRange:r,instrumentName:o}=this.props.config;return c.jsxs("div",{children:[c.jsx("div",{className:"flex justify-center",children:c.jsxs("div",{className:"inline-flex items-center gap-2",children:[c.jsx("div",{className:"inline-block",children:c.jsx(dy,{value:"voice"})}),c.jsx("div",{className:"inline-block",children:c.jsx(rn,{className:"form-control h-10",value:this.props.config.instrumentName.replaceAll("_"," ")||o.replaceAll("_"," "),onChange:this.onChangeInstrument,options:this.props.instrumentList.map(i=>i.replaceAll("_"," ")),showSearch:!0})}),c.jsx("div",{className:"inline-block",children:c.jsx(on,{onClick:()=>this.setState({settingsOpen:!this.state.settingsOpen}),active:this.state.settingsOpen,"aria-label":"Sound Settings","aria-expanded":this.state.settingsOpen,size:"sm",className:"h-10 ",children:c.jsx(ey,{className:"h-5 w-5 text-slate-400 group-hover:text-slate-300 transition-colors duration-200 flex-shrink-0"})})})]})}),c.jsx("div",{className:"flex justify-center",children:c.jsx(fy,{isOpen:this.state.settingsOpen,cutOffPreviousNotes:this.props.cutOffPreviousNotes,setCutOffPreviousNotes:this.props.setCutOffPreviousNotes,eq:this.props.eq,setEq:this.props.setEq,octaveOffset:this.props.octaveOffset,setOctaveOffset:this.props.setOctaveOffset,reverbLevel:this.props.reverbLevel,setReverbLevel:this.props.setReverbLevel,noteDuration:this.props.noteDuration,setNoteDuration:this.props.setNoteDuration,volume:this.props.volume,setVolume:this.props.setVolume,chorusLevel:this.props.chorusLevel,setChorusLevel:this.props.setChorusLevel,delayLevel:this.props.delayLevel,setDelayLevel:this.props.setDelayLevel})})]})}}var Ja={exports:{}},ec={exports:{}},tc,Lp;function my(){if(Lp)return tc;Lp=1;function n(o){return o>64&&o<91?o-65:o>96&&o<123?o-71:o>47&&o<58?o+4:o===43?62:o===47?63:0}function r(o,i){for(var a=o.replace(/[^A-Za-z0-9\+\/]/g,""),u=a.length,f=i?Math.ceil((u*3+1>>2)/i)*i:u*3+1>>2,p=new Uint8Array(f),h,g,x=0,v=0,y=0;y<u;y++)if(g=y&3,x|=n(a.charCodeAt(y))<<18-6*g,g===3||u-y===1){for(h=0;h<3&&v<f;h++,v++)p[v]=x>>>(16>>>h&24)&255;x=0}return p}return tc={decode:r},tc}var nc,Fp;function gy(){return Fp||(Fp=1,nc=function(n,r){return new Promise(function(o,i){var a=new XMLHttpRequest;r&&(a.responseType=r),a.open("GET",n),a.onload=function(){a.status===200?o(a.response):i(Error(a.statusText))},a.onerror=function(){i(Error("Network Error"))},a.send()})}),nc}var Bp;function vy(){return Bp||(Bp=1,function(n){var r=my(),o=gy();function i(B){return function(A){return typeof A=="string"&&B.test(A)}}function a(B,A){return typeof B=="string"?B+A:typeof B=="function"?B(A):A}function u(B,A,z,U){var W=f(A)?p:h(A)?g:x(A)?v:y(A)?N:E(A)?k:P(A)?Y:G(A)?K:V(A)?T:null,I=z||{};return W?W(B,A,I):U?Promise.resolve(U):Promise.reject("Source not valid ("+A+")")}u.fetch=o;function f(B){return B instanceof ArrayBuffer}function p(B,A,z){return new Promise(function(U,W){B.decodeAudioData(A,function(I){U(I)},function(){W("Can't decode audio data ("+A.slice(0,30)+"...)")})})}var h=i(/\.(mp3|wav|ogg)(\?.*)?$/i);function g(B,A,z){var U=a(z.from,A);return u(B,u.fetch(U,"arraybuffer"),z)}function x(B){return B&&typeof B.then=="function"}function v(B,A,z){return A.then(function(U){return u(B,U,z)})}var y=Array.isArray;function N(B,A,z){return Promise.all(A.map(function(U){return u(B,U,z,U)}))}function E(B){return B&&typeof B=="object"}function k(B,A,z){var U={},W=Object.keys(A).map(function(I){if(z.only&&z.only.indexOf(I)===-1)return null;var L=A[I];return u(B,L,z,L).then(function(ne){U[I]=ne})});return Promise.all(W).then(function(){return U})}var P=i(/\.json(\?.*)?$/i);function Y(B,A,z){var U=a(z.from,A);return u(B,u.fetch(U,"text").then(JSON.parse),z)}var G=i(/^data:audio/);function K(B,A,z){var U=A.indexOf(",");return u(B,r.decode(A.slice(U+1)).buffer,z)}var V=i(/\.js(\?.*)?$/i);function T(B,A,z){var U=a(z.from,A);return u(B,u.fetch(U,"text").then($),z)}function $(B){var A=B.indexOf("MIDI.Soundfont.");if(A<0)throw Error("Invalid MIDI.js Soundfont format");A=B.indexOf("=",A)+2;var z=B.lastIndexOf(",");return JSON.parse(B.slice(A,z)+"}")}n.exports&&(n.exports=u),typeof window<"u"&&(window.loadAudio=u)}(ec)),ec.exports}var rc={exports:{}},oc,$p;function xy(){if($p)return oc;$p=1,oc=n;function n(p){var h=p.createGain(),g=h._voltage=i(p),x=a(g),v=a(g),y=a(g);return h._startAmount=a(v),h._endAmount=a(y),h._multiplier=a(x),h._multiplier.connect(h),h._startAmount.connect(h),h._endAmount.connect(h),h.value=x.gain,h.startValue=v.gain,h.endValue=y.gain,h.startValue.value=0,h.endValue.value=0,Object.defineProperties(h,r),h}var r={attack:{value:0,writable:!0},decay:{value:0,writable:!0},sustain:{value:1,writable:!0},release:{value:0,writable:!0},getReleaseDuration:{value:function(){return this.release}},start:{value:function(p){var h=this._multiplier.gain,g=this._startAmount.gain,x=this._endAmount.gain;this._voltage.start(p),this._decayFrom=this._decayFrom=p+this.attack,this._startedAt=p;var v=this.sustain;h.cancelScheduledValues(p),g.cancelScheduledValues(p),x.cancelScheduledValues(p),x.setValueAtTime(0,p),this.attack?(h.setValueAtTime(0,p),h.linearRampToValueAtTime(1,p+this.attack),g.setValueAtTime(1,p),g.linearRampToValueAtTime(0,p+this.attack)):(h.setValueAtTime(1,p),g.setValueAtTime(0,p)),this.decay&&h.setTargetAtTime(v,this._decayFrom,u(this.decay))}},stop:{value:function(p,h){h&&(p=p-this.release);var g=p+this.release;if(this.release){var x=this._multiplier.gain,v=this._startAmount.gain,y=this._endAmount.gain;x.cancelScheduledValues(p),v.cancelScheduledValues(p),y.cancelScheduledValues(p);var N=u(this.release);if(this.attack&&p<this._decayFrom){var E=f(0,1,this._startedAt,this._decayFrom,p);x.linearRampToValueAtTime(E,p),v.linearRampToValueAtTime(1-E,p),v.setTargetAtTime(0,p,N)}y.setTargetAtTime(1,p,N),x.setTargetAtTime(0,p,N)}return this._voltage.stop(g),g}},onended:{get:function(){return this._voltage.onended},set:function(p){this._voltage.onended=p}}},o=new Float32Array([1,1]);function i(p){var h=p.createBufferSource(),g=p.createBuffer(1,2,p.sampleRate);return g.getChannelData(0).set(o),h.buffer=g,h.loop=!0,h}function a(p){var h=p.context.createGain();return p.connect(h),h}function u(p){return Math.log(p+1)/Math.log(100)}function f(p,h,g,x,v){var y=h-p,N=x-g,E=v-g,k=E/N,P=p+k*y;return P<=p&&(P=p),P>=h&&(P=h),P}return oc}var sc,zp;function yy(){if(zp)return sc;zp=1;var n=xy(),r={},o={gain:1,attack:.01,decay:.1,sustain:.9,release:.3,loop:!1,cents:0,loopStart:0,loopEnd:0};function i(h,g,x){var v=!1,y=0,N={},E=h.createGain();E.gain.value=1;var k=Object.assign({},o,x),P={context:h,out:E,opts:k};return g instanceof AudioBuffer?P.buffer=g:P.buffers=g,P.start=function(K,V,T){if(P.buffer&&K!==null)return P.start(null,K,V);var $=K?P.buffers[K]:P.buffer;if($){if(!v){console.warn("SamplePlayer not connected to any node.");return}}else{console.warn("Buffer "+K+" not found.");return}var B=T||r;V=Math.max(h.currentTime,V||0),P.emit("start",V,K,B);var A=G(K,$,B);return A.id=Y(K,A),A.env.start(V),A.source.start(V),P.emit("started",V,A.id,A),B.duration&&A.stop(V+B.duration),A},P.play=function(K,V,T){return P.start(K,V,T)},P.stop=function(K,V){var T;return V=V||Object.keys(N),V.map(function($){return T=N[$],T?(T.stop(K),T.id):null})},P.connect=function(K){return v=!0,E.connect(K),P},P.emit=function(K,V,T,$){P.onevent&&P.onevent(K,V,T,$);var B=P["on"+K];B&&B(V,T,$)},P;function Y(K,V){return V.id=y++,N[V.id]=V,V.source.onended=function(){var T=h.currentTime;V.source.disconnect(),V.env.disconnect(),V.disconnect(),P.emit("ended",T,V.id,V)},V.id}function G(K,V,T){var $=h.createGain();return $.gain.value=0,$.connect(E),$.env=f(h,T,k),$.env.connect($.gain),$.source=h.createBufferSource(),$.source.buffer=V,$.source.connect($),$.source.loop=T.loop||k.loop,$.source.playbackRate.value=p(T.cents||k.cents),$.source.loopStart=T.loopStart||k.loopStart,$.source.loopEnd=T.loopEnd||k.loopEnd,$.stop=function(B){var A=B||h.currentTime;P.emit("stop",A,K);var z=$.env.stop(A);$.source.stop(z)},$}}function a(h){return typeof h=="number"}var u=["attack","decay","sustain","release"];function f(h,g,x){var v=n(h),y=g.adsr||x.adsr;return u.forEach(function(N,E){y?v[N]=y[E]:v[N]=g[N]||x[N]}),v.value.value=a(g.gain)?g.gain:a(x.gain)?x.gain:1,v}function p(h){return h?Math.pow(2,h/1200):1}return sc=i,sc}var ic,Gp;function by(){if(Gp)return ic;Gp=1,ic=function(r){return r.on=function(o,i){if(arguments.length===1&&typeof o=="function")return r.on("event",o);var a="on"+o,u=r[a];return r[a]=u?n(u,i):i,r},r};function n(r,o){return function(i,a,u,f){r(i,a,u,f),o(i,a,u,f)}}return ic}var lc,Up;function wy(){if(Up)return lc;Up=1;var n=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;function r(){return n}var o=[0,2,4,5,7,9,11];function i(p,h,g){if(typeof p!="string")return null;var x=n.exec(p);if(!x||!h&&x[4])return null;var v={letter:x[1].toUpperCase(),acc:x[2].replace(/x/g,"##")};return v.pc=v.letter+v.acc,v.step=(v.letter.charCodeAt(0)+3)%7,v.alt=v.acc[0]==="b"?-v.acc.length:v.acc.length,v.chroma=o[v.step]+v.alt,x[3]&&(v.oct=+x[3],v.midi=v.chroma+12*(v.oct+1),v.freq=a(v.midi,g)),h&&(v.tonicOf=x[4]),v}function a(p,h){return Math.pow(2,(p-69)/12)*(h||440)}var u={parse:i,regex:r,midiToFreq:a},f=["letter","acc","pc","step","alt","chroma","oct","midi","freq"];return f.forEach(function(p){u[p]=function(h){var g=i(h);return g&&typeof g[p]<"u"?g[p]:null}}),lc=u,lc}var ac,Vp;function Ny(){if(Vp)return ac;Vp=1;var n=wy(),r=function(a){return a!==null&&a!==[]&&a>=0&&a<129},o=function(a){return r(a)?+a:n.midi(a)};ac=function(a){if(a.buffers){var u=a.opts.map,f=typeof u=="function"?u:o,p=function(g){return g?f(g)||g:null};a.buffers=i(a.buffers,p);var h=a.start;a.start=function(g,x,v){var y=p(g),N=y%1;return N&&(y=Math.floor(y),v=Object.assign(v||{},{cents:Math.floor(N*100)})),h(y,x,v)}}return a};function i(a,u){return Object.keys(a).reduce(function(f,p){return f[u(p)]=a[p],f},{})}return ac}var cc,Wp;function Sy(){if(Wp)return cc;Wp=1;var n=Array.isArray,r=function(i){return i&&typeof i=="object"},o={};return cc=function(i){return i.schedule=function(a,u){var f=i.context.currentTime,p=a<f?f:a;i.emit("schedule",p,u);var h,g,x,v;return u.map(function(y){if(y)n(y)?(h=y[0],g=y[1]):(h=y.time,g=y);else return null;return r(g)?(x=g.name||g.key||g.note||g.midi||null,v=g):(x=g,v=o),i.start(x,p+(h||0),v)})},i},cc}function Pi(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var uc={exports:{}},Hp;function Cy(){return Hp||(Hp=1,function(n,r){(function(o){n.exports=o()})(function(){return function o(i,a,u){function f(g,x){if(!a[g]){if(!i[g]){var v=typeof Pi=="function"&&Pi;if(!x&&v)return v(g,!0);if(p)return p(g,!0);var y=new Error("Cannot find module '"+g+"'");throw y.code="MODULE_NOT_FOUND",y}var N=a[g]={exports:{}};i[g][0].call(N.exports,function(E){var k=i[g][1][E];return f(k||E)},N,N.exports,o,i,a,u)}return a[g].exports}for(var p=typeof Pi=="function"&&Pi,h=0;h<u.length;h++)f(u[h]);return f}({1:[function(o,i,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(u){function f(p){if(this._event=p,this._data=p.data,this.receivedTime=p.receivedTime,this._data&&this._data.length<2){console.warn("Illegal MIDI message of length",this._data.length);return}switch(this._messageCode=p.data[0]&240,this.channel=p.data[0]&15,this._messageCode){case 128:this.messageType="noteoff",this.key=p.data[1]&127,this.velocity=p.data[2]&127;break;case 144:this.messageType="noteon",this.key=p.data[1]&127,this.velocity=p.data[2]&127;break;case 160:this.messageType="keypressure",this.key=p.data[1]&127,this.pressure=p.data[2]&127;break;case 176:this.messageType="controlchange",this.controllerNumber=p.data[1]&127,this.controllerValue=p.data[2]&127,this.controllerNumber===120&&this.controllerValue===0?this.channelModeMessage="allsoundoff":this.controllerNumber===121?this.channelModeMessage="resetallcontrollers":this.controllerNumber===122?this.controllerValue===0?this.channelModeMessage="localcontroloff":this.channelModeMessage="localcontrolon":this.controllerNumber===123&&this.controllerValue===0?this.channelModeMessage="allnotesoff":this.controllerNumber===124&&this.controllerValue===0?this.channelModeMessage="omnimodeoff":this.controllerNumber===125&&this.controllerValue===0?this.channelModeMessage="omnimodeon":this.controllerNumber===126?this.channelModeMessage="monomodeon":this.controllerNumber===127&&(this.channelModeMessage="polymodeon");break;case 192:this.messageType="programchange",this.program=p.data[1];break;case 208:this.messageType="channelpressure",this.pressure=p.data[1]&127;break;case 224:this.messageType="pitchbendchange";var h=p.data[2]&127,g=p.data[1]&127;this.pitchBend=(h<<8)+g;break}}return new f(u)},i.exports=a.default},{}]},{},[1])(1)})}(uc)),uc.exports}var dc,qp;function jy(){if(qp)return dc;qp=1;var n=Cy();return dc=function(r){return r.listenToMidi=function(o,i){var a={},u=i||{},f=u.gain||function(p){return p/127};return o.onmidimessage=function(p){var h=p.messageType?p:n(p);if(h.messageType==="noteon"&&h.velocity===0&&(h.messageType="noteoff"),!(u.channel&&h.channel!==u.channel))switch(h.messageType){case"noteon":a[h.key]=r.play(h.key,0,{gain:f(h.velocity)});break;case"noteoff":a[h.key]&&(a[h.key].stop(),delete a[h.key]);break}},r},r},dc}var Kp;function Ey(){return Kp||(Kp=1,function(n){var r=yy(),o=by(),i=Ny(),a=Sy(),u=jy();function f(p,h,g){return u(a(i(o(r(p,h,g)))))}n.exports&&(n.exports=f),typeof window<"u"&&(window.SamplePlayer=f)}(rc)),rc.exports}function Yp(n,r){return Array(r+1).join(n)}function Xc(n){return typeof n=="number"}function Py(n){return typeof n=="string"}function ky(n){return typeof n<"u"}function Yh(n,r){return Math.pow(2,(n-69)/12)*(r||440)}var Qh=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;function Dy(){return Qh}var Ry=[0,2,4,5,7,9,11];function jn(n,r,o){if(typeof n!="string")return null;var i=Qh.exec(n);if(!i||!r&&i[4])return null;var a={letter:i[1].toUpperCase(),acc:i[2].replace(/x/g,"##")};a.pc=a.letter+a.acc,a.step=(a.letter.charCodeAt(0)+3)%7,a.alt=a.acc[0]==="b"?-a.acc.length:a.acc.length;var u=Ry[a.step]+a.alt;return a.chroma=u<0?12+u:u%12,i[3]&&(a.oct=+i[3],a.midi=u+12*(a.oct+1),a.freq=Yh(a.midi,o)),r&&(a.tonicOf=i[4]),a}var Iy="CDEFGAB";function Ay(n){return Xc(n)?n<0?Yp("b",-n):Yp("#",n):""}function _y(n){return Xc(n)?""+n:""}function Zh(n,r,o){return n===null||typeof n>"u"?null:n.step?Zh(n.step,n.alt,n.oct):n<0||n>6?null:Iy.charAt(n)+Ay(r)+_y(o)}function Xh(n){if((Xc(n)||Py(n))&&n>=0&&n<128)return+n;var r=jn(n);return r&&ky(r.midi)?r.midi:null}function Oy(n,r){var o=Xh(n);return o===null?null:Yh(o,r)}function Ty(n){return(jn(n)||{}).letter}function My(n){return(jn(n)||{}).acc}function Ly(n){return(jn(n)||{}).pc}function Fy(n){return(jn(n)||{}).step}function By(n){return(jn(n)||{}).alt}function $y(n){return(jn(n)||{}).chroma}function zy(n){return(jn(n)||{}).oct}const Gy=Object.freeze(Object.defineProperty({__proto__:null,acc:My,alt:By,build:Zh,chroma:$y,freq:Oy,letter:Ty,midi:Xh,oct:zy,parse:jn,pc:Ly,regex:Dy,step:Fy},Symbol.toStringTag,{value:"Module"})),Uy=nv(Gy);var fc,Qp;function Vy(){if(Qp)return fc;Qp=1;var n=Uy;function r(a,u){if(console.warn("new Soundfont() is deprected"),console.log("Please use Soundfont.instrument() instead of new Soundfont().instrument()"),!(this instanceof r))return new r(a);this.nameToUrl=u||r.nameToUrl,this.ctx=a,this.instruments={},this.promises=[]}r.prototype.onready=function(a){console.warn("deprecated API"),console.log("Please use Promise.all(Soundfont.instrument(), Soundfont.instrument()).then() instead of new Soundfont().onready()"),Promise.all(this.promises).then(a)},r.prototype.instrument=function(a,u){console.warn("new Soundfont().instrument() is deprecated."),console.log("Please use Soundfont.instrument() instead.");var f=this.ctx;if(a=a||"default",a in this.instruments)return this.instruments[a];var p={name:a,play:i(f,u)};if(this.instruments[a]=p,a!=="default"){var h=r.instrument(f,a,u).then(function(g){return p.play=g.play,p});this.promises.push(h),p.onready=function(g){console.warn("onready is deprecated. Use Soundfont.instrument().then()"),h.then(g)}}else p.onready=function(g){console.warn("onready is deprecated. Use Soundfont.instrument().then()"),g()};return p};function o(a,u,f){return console.warn("Soundfont.loadBuffers is deprecate."),console.log("Use Soundfont.instrument(..) and get buffers properties from the result."),r.instrument(a,u,f).then(function(p){return p.buffers})}r.loadBuffers=o;function i(a,u){return u=u||{},function(f,p,h,g){console.warn("The oscillator player is deprecated."),console.log("Starting with version 0.9.0 you will have to wait until the soundfont is loaded to play sounds.");var x=f>0&&f<129?+f:n.midi(f),v=x?n.midiToFreq(x,440):null;if(v){h=h||.2,g=g||{};var y=g.destination||u.destination||a.destination,N=g.vcoType||u.vcoType||"sine",E=g.gain||u.gain||.4,k=a.createOscillator();k.type=N,k.frequency.value=v;var P=a.createGain();return P.gain.value=E,k.connect(P),P.connect(y),k.start(p),h>0&&k.stop(p+h),k}}}return r.noteToMidi=n.midi,fc=r,fc}var Zp;function Wy(){return Zp||(Zp=1,function(n){var r=vy(),o=Ey();function i(p,h,g){if(arguments.length===1)return function(E,k){return i(p,E,k)};var x=g||{},v=x.isSoundfontURL||a,y=x.nameToUrl||u,N=v(h)?h:y(h,x.soundfont,x.format);return r(p,N,{only:x.only||x.notes}).then(function(E){var k=o(p,E,x).connect(x.destination?x.destination:p.destination);return k.url=N,k.name=h,k})}function a(p){return/\.js(\?.*)?$/i.test(p)}function u(p,h,g){return g=g==="ogg"?g:"mp3",h=h==="FluidR3_GM"?h:"MusyngKite","https://gleitz.github.io/midi-js-soundfonts/"+h+"/"+p+"-"+g+".js"}var f=Vy();f.instrument=i,f.nameToUrl=u,n.exports&&(n.exports=f),typeof window<"u"&&(window.Soundfont=f)}(Ja)),Ja.exports}var Hy=Wy();const qy=Jn(Hy),Su=class Su extends Pe.Component{constructor(r){super(r),this.setupAudioChain=()=>{const{audioContext:o,eq:i,reverbLevel:a,volume:u,chorusLevel:f,delayLevel:p}=this.props;this.effectsChain=o.createGain(),this.masterVolumeNode=o.createGain(),this.masterVolumeNode.gain.value=u,this.bassNode=o.createBiquadFilter(),this.midNode=o.createBiquadFilter(),this.trebleNode=o.createBiquadFilter(),this.bassNode.type="lowshelf",this.bassNode.frequency.value=320,this.bassNode.gain.value=i.bass,this.midNode.type="peaking",this.midNode.frequency.value=1e3,this.midNode.Q.value=1,this.midNode.gain.value=i.mid,this.trebleNode.type="highshelf",this.trebleNode.frequency.value=3200,this.trebleNode.gain.value=i.treble,this.chorusDelayNode=o.createDelay(.05),this.chorusDelayNode.delayTime.value=.015,this.chorusLFO=o.createOscillator(),this.chorusLFO.frequency.value=1.5,this.chorusLFO.type="sine",this.chorusLFOGain=o.createGain(),this.chorusLFOGain.gain.value=.005,this.chorusDryGain=o.createGain(),this.chorusWetGain=o.createGain(),this.chorusMixNode=o.createGain(),this.chorusLFO.connect(this.chorusLFOGain),this.chorusLFOGain.connect(this.chorusDelayNode.delayTime),this.chorusLFO.start(),this.delayNode=o.createDelay(1),this.delayNode.delayTime.value=.3,this.delayFeedbackGain=o.createGain(),this.delayFeedbackGain.gain.value=.4,this.delayDryGain=o.createGain(),this.delayWetGain=o.createGain(),this.delayMixNode=o.createGain(),this.delayNode.connect(this.delayFeedbackGain),this.delayFeedbackGain.connect(this.delayNode),this.convolverNode=o.createConvolver(),this.wetGainNode=o.createGain(),this.dryGainNode=o.createGain(),this.convolverNode.buffer=this.generateImpulseResponse(o),this.effectsChain.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.bassNode),this.bassNode.connect(this.midNode),this.midNode.connect(this.trebleNode),this.trebleNode.connect(this.chorusDryGain),this.trebleNode.connect(this.chorusDelayNode),this.chorusDelayNode.connect(this.chorusWetGain),this.chorusDryGain.connect(this.chorusMixNode),this.chorusWetGain.connect(this.chorusMixNode),this.chorusMixNode.connect(this.delayDryGain),this.chorusMixNode.connect(this.delayNode),this.delayNode.connect(this.delayWetGain),this.delayDryGain.connect(this.delayMixNode),this.delayWetGain.connect(this.delayMixNode),this.delayMixNode.connect(this.dryGainNode),this.delayMixNode.connect(this.convolverNode),this.convolverNode.connect(this.wetGainNode),this.dryGainNode.connect(o.destination),this.wetGainNode.connect(o.destination),this.updateReverbMix(a),this.updateChorusMix(f),this.updateDelayMix(p)},this.generateImpulseResponse=o=>{const i=o.sampleRate,a=3,u=1.5,f=o.createBuffer(2,a*i,i);for(let p=0;p<2;p++){const h=f.getChannelData(p);for(let g=0;g<f.length;g++){const x=g/f.length,v=Math.sin(x*Math.PI*20)*Math.exp(-x*3),y=(Math.random()*2-1)*Math.pow(1-x,u),N=Math.sin(x*Math.PI*100)*.1*Math.exp(-x*8);h[g]=(v*.3+y*.6+N*.1)*1.5,p===1&&(h[g]*=1+Math.sin(x*Math.PI*7)*.2)}}return f},this.updateReverbMix=o=>{const i=this.props.audioContext.currentTime,a=Math.pow(o,.7)*1.2,u=1-o*.6;this.dryGainNode.gain.setValueAtTime(u,i),this.wetGainNode.gain.setValueAtTime(a,i)},this.updateChorusMix=o=>{const i=this.props.audioContext.currentTime,a=o*.8,u=1-o*.3;this.chorusDryGain.gain.setValueAtTime(u,i),this.chorusWetGain.gain.setValueAtTime(a,i)},this.updateDelayMix=o=>{const i=this.props.audioContext.currentTime,a=o*.6,u=1-o*.2;this.delayDryGain.gain.setValueAtTime(u,i),this.delayWetGain.gain.setValueAtTime(a,i)},this.updateVolume=o=>{const i=this.props.audioContext.currentTime;this.masterVolumeNode.gain.setValueAtTime(o,i)},this.loadInstrument=o=>{this.setState({instrument:null}),qy.instrument(this.props.audioContext,o,{format:this.props.format,soundfont:this.props.soundfont,nameToUrl:(i,a,u)=>`${this.props.hostname}/${a}/${i}-${u}.js`,destination:this.effectsChain}).then(i=>{this.setState({instrument:i}),this.props.onLoad&&this.props.onLoad({playNote:this.playNote,stopNote:this.stopNote,stopAllNotes:this.stopAllNotes})})},this.playNote=o=>{this.resumeAudio().then(()=>{if(!this.state.instrument)return;const i=this.state.instrument.play(o.toString());this.setState(a=>({activeAudioNodes:{...a.activeAudioNodes,[o]:i}}))})},this.stopNote=o=>{this.resumeAudio().then(()=>{const i=this.state.activeAudioNodes[o];i&&(i.stop(),this.setState(a=>{const u={...a.activeAudioNodes};return delete u[o],{activeAudioNodes:u}}))})},this.resumeAudio=()=>this.props.audioContext.state==="suspended"?this.props.audioContext.resume():Promise.resolve(),this.stopAllNotes=()=>{this.resumeAudio().then(()=>{Object.values(this.state.activeAudioNodes).forEach(o=>{o&&o.stop()}),this.setState({activeAudioNodes:{}})})},this.state={activeAudioNodes:{},instrument:null},this.setupAudioChain()}componentDidMount(){this.loadInstrument(this.props.instrumentName)}componentDidUpdate(r){if(r.instrumentName!==this.props.instrumentName&&this.loadInstrument(this.props.instrumentName),JSON.stringify(r.eq)!==JSON.stringify(this.props.eq)){const o=this.props.audioContext.currentTime;this.bassNode.gain.setValueAtTime(this.props.eq.bass,o),this.midNode.gain.setValueAtTime(this.props.eq.mid,o),this.trebleNode.gain.setValueAtTime(this.props.eq.treble,o)}r.reverbLevel!==this.props.reverbLevel&&this.updateReverbMix(this.props.reverbLevel),r.volume!==this.props.volume&&this.updateVolume(this.props.volume),r.chorusLevel!==this.props.chorusLevel&&this.updateChorusMix(this.props.chorusLevel),r.delayLevel!==this.props.delayLevel&&this.updateDelayMix(this.props.delayLevel)}render(){return this.props.render?this.props.render({isLoading:!this.state.instrument,playNote:this.playNote,stopNote:this.stopNote,stopAllNotes:this.stopAllNotes}):null}};Su.defaultProps={format:"mp3",soundfont:"MusyngKite",instrumentName:"acoustic_grand_piano",eq:{bass:0,mid:0,treble:0},reverbLevel:0,volume:.8,chorusLevel:0,delayLevel:0};let Dc=Su;const Xp=typeof window<"u"?new(window.AudioContext||window.webkitAudioContext):null,Ky=4,Yy=7,Qy=({hideConfigControls:n=!1})=>{const r=Cn(),o=qo(),i=yr(),a=eo(),{activeNotes:u,activeChordIndex:f,addedChords:p}=i,{normalizedScaleNotes:h}=r,{currentlyActivePattern:g,globalPatternState:x}=a,{pianoSettings:v,availableInstruments:y,setPianoInstrument:N,setCutOffPreviousNotes:E,setEq:k,setOctaveOffset:P,setReverbLevel:Y,setNoteDuration:G,setVolume:K,setChorusLevel:V,setDelayLevel:T,setAvailableInstruments:$}=o,B="https://d1pzp51pvbm36p.cloudfront.net",A=w.useRef(null),[z,U]=w.useState([]),W=w.useRef(-1),I=w.useRef(null),L=w.useRef(null),[ne,de]=w.useState(500),le=w.useMemo(()=>{const se=ne;return se<400?Math.max(320,se-40):se<768?Math.min(600,se-60):se<1200?Math.min(800,se-80):Math.min(1e3,se-100)},[ne]);w.useEffect(()=>{const se=()=>{L.current&&de(L.current.offsetWidth)};se();const ce=new ResizeObserver(()=>{se()});L.current&&ce.observe(L.current);const ke=()=>{se()};return window.addEventListener("resize",ke),()=>{ce.disconnect(),window.removeEventListener("resize",ke)}},[]);const{firstNote:pe,lastNote:q,keyboardShortcuts:X,midiOffset:Q}=w.useMemo(()=>{const se="c",ce=gt.fromNote(`${se}${Ky}`),ke=gt.fromNote(`${se}${Yy}`),Re=v.octaveOffset*12;return{firstNote:ce,lastNote:ke,midiOffset:Re,keyboardShortcuts:bp.create({firstNote:ce,lastNote:ke,keyboardConfig:bp.HOME_ROW})}},[v.octaveOffset]),[j,R]=w.useState({instrumentName:v.instrumentName});w.useEffect(()=>{R(se=>({...se,instrumentName:v.instrumentName}))},[v.instrumentName]),w.useEffect(()=>{if(I.current&&(clearTimeout(I.current),I.current=null),!x.isPlaying&&u.length>0){const se=u.map(({note:ce,octave:ke=4})=>gt.fromNote(`${ce}${ke}`));U(se),I.current=setTimeout(()=>{x.isPlaying||U([])},2e3)}else!x.isPlaying&&u.length===0&&U([]);return()=>{I.current&&(clearTimeout(I.current),I.current=null)}},[u,x.isPlaying]);const re=w.useCallback(()=>f!==null&&p[f]?p[f].pattern:g,[f,p,g]),ue=w.useCallback((se,ce)=>{if(se==="x"||se==="X")return null;const ke=se.includes("+"),Re=se.includes("-"),be=parseInt(se.replace(/[+-]/g,""))-1;return be>=0&&be<ce?{noteIndex:be,octaveUp:ke,octaveDown:Re}:null},[]),H=w.useCallback(()=>6e4/x.bpm*x.subdivision,[x.bpm,x.subdivision]);w.useEffect(()=>{const se=re();if(x.isPlaying&&u.length>0&&se?.length>0&&x.currentStep!==W.current){W.current=x.currentStep;const ce=x.currentStep%se.length,ke=se[ce],Re=ue(ke,u.length);if(Re){const{noteIndex:be,octaveUp:Xe,octaveDown:Ht}=Re,{note:ut,octave:qt=4}=u[be];let Kt=qt;Xe&&(Kt+=1),Ht&&(Kt-=1),Kt=Math.max(1,Math.min(8,Kt));const pn=gt.fromNote(`${ut}${Kt}`);!v.cutOffPreviousNotes&&A.current&&A.current(),U([pn]);const En=H(),hn=Math.min(En*v.noteDuration,En-50);setTimeout(()=>{U([])},hn)}else U([])}else x.isPlaying||W.current!==-1&&(U([]),W.current=-1)},[x.currentStep,x.isPlaying,u,v.cutOffPreviousNotes,v.noteDuration,H,re,ue]);const ae=se=>ce=>{!v.cutOffPreviousNotes&&A.current&&A.current(),se(ce+Q)},ye=se=>ce=>{se(ce+Q)};return Xp?c.jsx(Dc,{instrumentName:v.instrumentName,audioContext:Xp,hostname:B,eq:v.eq,reverbLevel:v.reverbLevel,volume:v.volume,chorusLevel:v.chorusLevel,delayLevel:v.delayLevel,render:({isLoading:se,playNote:ce,stopNote:ke,stopAllNotes:Re})=>(A.current=Re,c.jsxs(c.Fragment,{children:[c.jsx("div",{ref:L,className:"relative w-full",children:c.jsx("div",{className:"w-full flex justify-center overflow-x-auto",children:c.jsx(Hc,{noteRange:{first:pe,last:q},playNote:ae(ce),stopNote:ye(ke),disabled:se,width:le,className:"mx-auto w-full",activeNotes:z,renderNoteLabel:({midiNumber:be,isAccidental:Xe})=>{const Ht=gt.getAttributes(be).note.slice(0,-1);return h.includes(Qo(Ht))?c.jsx("div",{className:`mx-auto mb-2 w-2 h-2 rounded-full ${Xe?"bg-blue-300":"bg-blue-500"}`}):null}})})}),!n&&c.jsx("div",{className:"mt-5",children:c.jsx(Ti,{hostname:B,render:be=>(be&&be.length>0&&JSON.stringify(be)!==JSON.stringify(y)&&$(be),c.jsx(hy,{config:j,setConfig:R,instrumentList:be||y,keyboardShortcuts:X,cutOffPreviousNotes:v.cutOffPreviousNotes,setCutOffPreviousNotes:E,eq:v.eq,setEq:k,octaveOffset:v.octaveOffset,setOctaveOffset:P,reverbLevel:v.reverbLevel,setReverbLevel:Y,noteDuration:v.noteDuration,setNoteDuration:G,volume:v.volume,setVolume:K,chorusLevel:v.chorusLevel,setChorusLevel:V,delayLevel:v.delayLevel,setDelayLevel:T,onInstrumentChange:N}))})}),c.jsx(Ti,{hostname:B,render:be=>(be&&be.length>0&&JSON.stringify(be)!==JSON.stringify(y)&&$(be),c.jsx(c.Fragment,{}))})]}))}):c.jsx("div",{children:"Audio context is not available."})},Ee={BASIC:"basic",RHYTHMIC:"rhythmic",ADVANCED:"advanced",GENRE:"genre"},Jp=[{name:"Root Only",pattern:["1","x","1","x"],desc:"Simple root note emphasis",icon:"",category:Ee.BASIC},{name:"Root Bass",pattern:["1","x","x","x","1","x","x","x"],desc:"Steady root note bass line",icon:"",category:Ee.BASIC},{name:"Up Down",pattern:["1","2","3","4","3","2"],desc:"Classic ascending and descending",icon:"",category:Ee.BASIC},{name:"Broken Chord",pattern:["1","3","2","4"],desc:"Mixed chord tones",icon:"",category:Ee.BASIC},{name:"Octave Jump",pattern:["1","1+","1","1+"],desc:"Root note with octave jumps",icon:"",category:Ee.BASIC},{name:"Waltz",pattern:["1","2","3"],desc:"Three-beat waltz pattern",icon:"",category:Ee.BASIC},{name:"Alberti Bass",pattern:["1","3","2","3","1","3","2","3"],desc:"Classical broken chord accompaniment",icon:"",category:Ee.BASIC},{name:"Syncopated",pattern:["x","1","x","2","x","3","1","x"],desc:"Off-beat emphasis",icon:"",category:Ee.RHYTHMIC},{name:"Dotted Rhythm",pattern:["1","x","x","2","x","x"],desc:"Long-short rhythm pattern",icon:"",category:Ee.RHYTHMIC},{name:"Staccato",pattern:["1","x","2","x","3","x","4","x"],desc:"Short, detached notes",icon:"",category:Ee.RHYTHMIC},{name:"Legato Flow",pattern:["1","2","3","4","4","3","2","1"],desc:"Smooth, connected motion",icon:"",category:Ee.ADVANCED},{name:"Fifth Wheel",pattern:["1","2","3","4","5"],desc:"Simple ascent through 5-note chord",icon:"5",category:Ee.BASIC},{name:"Pentagon",pattern:["1","3","5","2","4","1"],desc:"Geometric pattern through 5 notes",icon:"",category:Ee.BASIC},{name:"Five Alive",pattern:["1","5","2","4","3","5","1","x"],desc:"Dynamic 5-note exploration",icon:"",category:Ee.ADVANCED},{name:"Jazz Walk",pattern:["1","2","3","4","5","4","3","2"],desc:"Walking bass with 5th extension",icon:"",category:Ee.ADVANCED},{name:"Quintet Roll",pattern:["1","x","2","3","x","4","5","x"],desc:"Rolled chord with gaps",icon:"",category:Ee.RHYTHMIC},{name:"High Five",pattern:["1","2+","3","4+","5","1+"],desc:"Mix of regular and high octave notes",icon:"",category:Ee.ADVANCED},{name:"Hexagon",pattern:["1","2","3","4","5","6"],desc:"Complete 6-note ascent",icon:"",category:Ee.BASIC},{name:"Six Pack",pattern:["1","6","2","5","3","4"],desc:"Outside-in pattern",icon:"",category:Ee.ADVANCED},{name:"Jazz Cascade",pattern:["1","3","5","6","4","2","1","x"],desc:"Complex jazz voicing pattern",icon:"",category:Ee.ADVANCED},{name:"Spiral Six",pattern:["1","4","2","5","3","6","1"],desc:"Spiraling through 6 notes",icon:"",category:Ee.ADVANCED},{name:"Double Triple",pattern:["1","2","3","4","5","6","6","5","4","3","2","1"],desc:"Up and down through all 6 notes",icon:"",category:Ee.ADVANCED},{name:"Sixth Sense",pattern:["1","x","3","x","5","x","6","x"],desc:"Selective 6-note chord tones",icon:"",category:Ee.RHYTHMIC},{name:"Polyrhythm",pattern:["1","x","x","2","x","3","x","x","1","x","3","x"],desc:"Complex rhythmic displacement",icon:"",category:Ee.RHYTHMIC},{name:"Bounce",pattern:["1","4","1","4","2","3","2","3"],desc:"Bouncing between chord tones",icon:"",category:Ee.ADVANCED},{name:"Cascade",pattern:["4+","3+","2+","1+","4","3","2","1"],desc:"Waterfall effect across octaves",icon:"",category:Ee.ADVANCED},{name:"Morse Code",pattern:["1","x","1","1","x","x","1","x","1","1","x"],desc:"Dot-dash rhythm pattern",icon:"",category:Ee.RHYTHMIC},{name:"Fibonacci",pattern:["1","1","2","3","2","1","3","4"],desc:"Based on Fibonacci sequence",icon:"",category:Ee.ADVANCED},{name:"Pendulum",pattern:["1","3","2","4","3","1","2","4","3","2"],desc:"Swinging motion through chord",icon:"",category:Ee.ADVANCED},{name:"Stutter Step",pattern:["1","1","x","2","2","x","3","3","x"],desc:"Repeated notes with rests",icon:"",category:Ee.RHYTHMIC},{name:"Call Response",pattern:["1","x","x","3","2","x","x","4"],desc:"Question and answer phrases",icon:"",category:Ee.RHYTHMIC},{name:"Spiral",pattern:["1","2","4","3","1","4","2","3"],desc:"Spiraling chord progression",icon:"",category:Ee.ADVANCED},{name:"Latin Clave",pattern:["1","x","x","1","x","1","x","x"],desc:"Based on Latin clave rhythm",icon:"",category:Ee.RHYTHMIC},{name:"Long Journey",pattern:["1","2","x","3","4","x","3","2","1","x","2","3","4","x","x","1"],desc:"Extended 16-step pattern",icon:"",category:Ee.ADVANCED},{name:"Minimalist",pattern:["1","x","x","x","x","x","x","x"],desc:"Sparse, contemplative",icon:"",category:Ee.BASIC},{name:"Maximalist",pattern:["1","2","3","4","1+","2+","3+","4+"],desc:"Dense, energetic pattern",icon:"",category:Ee.ADVANCED},{name:"Ghost Notes",pattern:["1","x","2","x","x","3","x","4","x","x"],desc:"Implied rhythm with spaces",icon:"",category:Ee.RHYTHMIC},{name:"Power Chord",pattern:["1","1","1+","1+"],desc:"Rock-style power chord emphasis",icon:"",category:Ee.BASIC},{name:"Bossa Nova",pattern:["1","x","2","x","3","x","4","2"],desc:"Brazilian bossa nova feel",icon:"",category:Ee.GENRE},{name:"Reggae Skank",pattern:["x","2","x","4","x","2","x","4"],desc:"Reggae upstroke pattern",icon:"",category:Ee.GENRE},{name:"Tango",pattern:["1","x","2","3","x","x","4","x"],desc:"Dramatic tango rhythm",icon:"",category:Ee.GENRE},{name:"Swing Feel",pattern:["1","x","3","x","2","x","4","x"],desc:"Jazz swing pattern",icon:"",category:Ee.GENRE},{name:"Folk Strum",pattern:["1","2","3","2","1","2","3","2"],desc:"Folk guitar strumming pattern",icon:"",category:Ee.GENRE},{name:"Extended Jazz",pattern:["1","3","5","6","5","3","1","x"],desc:"Jazz chord extensions",icon:"",category:Ee.ADVANCED},{name:"Full House",pattern:["1","2","3","4","5","6","x","x"],desc:"All chord tones, then rest",icon:"",category:Ee.BASIC},{name:"Polyrhythmic 6",pattern:["1","x","3","x","5","x","2","x","4","x","6","x"],desc:"Complex 6-note polyrhythm",icon:"",category:Ee.RHYTHMIC},{name:"Wave Function",pattern:["1","3","5","6","4","2","1","3","5","4","2","x"],desc:"Wave-like motion through extended chord",icon:"",category:Ee.ADVANCED}],Jc=({isOpen:n,onClose:r,children:o,className:i="",showCloseButton:a=!0,closeOnBackdropClick:u=!0,title:f,fixedHeader:p=!1})=>{if(!n)return null;const h=g=>{u&&g.target===g.currentTarget&&r()};return c.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:h}),c.jsxs("div",{className:`relative bg-[#3d434f] border border-gray-600 rounded-lg shadow-xl w-full animate-in fade-in-0 zoom-in-95 duration-200 ${p?"flex flex-col max-h-full":""} ${i}`,children:[(f||a)&&c.jsxs("div",{className:`flex items-center justify-between p-4 border-b border-gray-600 bg-[#3d434f] rounded-t-lg ${p?"flex-shrink-0":""}`,children:[f&&c.jsx("h3",{className:"text-sm font-semibold text-slate-200 uppercase tracking-wide",children:f}),a&&c.jsx("button",{onClick:r,className:"w-6 h-6 flex items-center justify-center rounded-full hover:bg-slate-600 text-slate-400 hover:text-slate-200 transition-colors ml-auto",children:c.jsx(Zx,{className:"w-4 h-4"})})]}),p?c.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto",children:o}):o]})]})},Zy=({className:n=""})=>{const[r,o]=w.useState(!1),i=()=>o(!0),a=()=>o(!1);return c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:i,className:`inline-flex items-center justify-center w-5 h-5 rounded-full bg-slate-600 hover:bg-slate-500 text-slate-300 hover:text-white transition-colors ${n}`,title:"Pattern notation help",children:c.jsx(Hh,{className:"w-3 h-3"})}),c.jsxs(Jc,{isOpen:r,onClose:a,title:"Pattern Notation Guide",children:[c.jsxs("div",{className:"p-4 space-y-4",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("code",{className:"px-2 py-1 bg-slate-700 text-slate-200 rounded text-xs font-mono min-w-[2rem] text-center",children:"x"}),c.jsx("span",{className:"text-xs text-slate-300",children:"Rest (silence)"})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("code",{className:"px-2 py-1 bg-slate-700 text-slate-200 rounded text-xs font-mono min-w-[2rem] text-center",children:"1-8"}),c.jsx("span",{className:"text-xs text-slate-300",children:"Note index (1st, 2nd, 3rd note, etc.)"})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("code",{className:"px-2 py-1 bg-slate-700 text-slate-200 rounded text-xs font-mono min-w-[2rem] text-center",children:"1+"}),c.jsx("span",{className:"text-xs text-slate-300",children:"Note with octave up"})]})]}),c.jsxs("div",{className:"border-t border-gray-600 pt-4",children:[c.jsx("div",{className:"text-xs text-slate-400 mb-2",children:c.jsx("strong",{className:"text-slate-300",children:"Example:"})}),c.jsxs("div",{className:"bg-slate-700 rounded p-3",children:[c.jsx("code",{className:"text-xs font-mono text-slate-200",children:"1,x,3,2+"}),c.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Plays: 1st note  rest  3rd note  2nd note (octave up)"})]})]}),c.jsx("div",{className:"text-xs text-slate-500",children:"Separate values with commas. Use any combination to create your pattern."})]}),c.jsx("div",{className:"flex justify-end p-4 border-t border-gray-600",children:c.jsx("button",{onClick:a,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-xs font-medium rounded transition-colors uppercase tracking-wide",children:"Got it"})})]})]})},Uo=[{value:.125,symbol:"",name:"32nd notes"},{value:.25,symbol:"",name:"16th notes"},{value:.5,symbol:"",name:"8th notes"},{value:1,symbol:"",name:"Quarter notes"},{value:2,symbol:"",name:"Half notes"}],eh=n=>new Set(n.filter(o=>o!=="x").map(o=>{const i=parseInt(o.replace("+",""));return isNaN(i)?null:i}).filter(o=>o!==null)).size,Rc=w.memo(({stepIndex:n,stepValue:r,maxNotes:o,onStepChange:i})=>{const a=w.useMemo(()=>{const g=[""];for(let x=1;x<=o;x++)g.push(String(x)),g.push(`${x}`);return g},[o]),f=(()=>{if(r==="x")return"";const g=parseInt(r.replace("+",""));return!isNaN(g)&&g>o?"":r.replace("+","")})(),p=r!=="x"&&f==="",h=g=>{let x=g;g===""?x="x":g.includes("")&&(x=g.replace("","+")),i(n,x)};return c.jsx("div",{className:"relative",children:c.jsx(rn,{value:f,onChange:h,options:a,className:"w-full",buttonClassName:`w-full h-10 text-xs pl-2.5 ${r==="x"?"bg-[#3d434f] border-gray-700 text-slate-400":p?"bg-[#3d434f] border-gray-700 text-orange-400":"bg-[#3d434f] border-gray-600 text-slate-200 hover:bg-[#4a5262]"} border rounded transition-all duration-200`})})});Rc.displayName="StepEditor";const Xy=()=>{const n=Cn(),r=yr(),o=eo();Zc();const{activeNotes:i,addedChords:a,activeChordIndex:u}=r,{normalizedScaleNotes:f}=n,{currentlyActivePattern:p,globalPatternState:h}=o,[g,x]=w.useState(!1),[v,y]=w.useState(!0),[N,E]=w.useState("1,2,3,4"),[k,P]=w.useState(!1),[Y,G]=w.useState("all"),[K,V]=w.useState("all");w.useCallback(()=>u!==null&&a[u]?a[u].pattern:p,[u,a,p]);const{currentPattern:T,editingContext:$}=w.useMemo(()=>{if(u!==null&&a[u]){const H=a[u];return{currentPattern:H.pattern,editingContext:{type:"chord",title:`Pattern for "${H.name}"`,description:"Editing pattern for this specific chord",chordName:H.name}}}else return{currentPattern:h.currentPattern,editingContext:{type:"current",title:"Global Pattern",description:"Base pattern - becomes active when no chord is selected",chordName:null}}},[u,a,h.currentPattern]),B=w.useMemo(()=>{if(u!==null&&a[u]){const ae=a[u].notes.split(",").map(se=>se.trim()).filter(se=>se);return new Set(ae.map(se=>se.replace(/\d+$/,""))).size}return 4},[u,a]),A=w.useMemo(()=>{const H=Math.min(4,B);return Math.max(H,B)},[B]),z=w.useMemo(()=>{const H=new Set(Jp.map(ae=>ae.pattern.length));return Array.from(H).sort((ae,ye)=>ae-ye)},[]),U=w.useMemo(()=>Jp.filter(H=>{const ae=eh(H.pattern);return!(ae>B||k&&ae<B||Math.max(...H.pattern.filter(se=>se!=="x").map(se=>{const ce=parseInt(se.replace("+",""));return isNaN(ce)?0:ce}))>A||Y!=="all"&&H.pattern.length!==parseInt(Y)||K!=="all"&&H.category!==K)}),[B,k,A,Y,K]);w.useEffect(()=>{T&&E(T.join(","))},[T]);const W=w.useCallback(()=>{const H=!h.isPlaying;o.setGlobalPatternState({isPlaying:H})},[h.isPlaying]);w.useCallback(()=>{o.setGlobalPatternState({isPlaying:!1,currentStep:0})},[]);const I=w.useCallback(H=>{$.type==="current"?o.setGlobalPatternState({currentPattern:H}):$.type==="chord"&&u!==null&&r.updateChordPattern(u,H)},[$.type,u]),L=w.useCallback((H,ae)=>{const ye=[...T];ye[H]=ae,I(ye)},[T,I]),ne=w.useCallback(()=>{if(T.length<16){const H=[...T,"x"];I(H)}},[T,I]),de=w.useCallback(()=>{if(T.length>1){const H=T.slice(0,-1);I(H)}},[T,I]),le=w.useCallback(()=>{try{const H=N.split(",").map(ae=>ae.trim()).filter(ae=>ae);H.length>0&&I(H)}catch{console.error("Invalid pattern format")}},[N,I]),pe=w.useCallback(H=>{I(H.pattern)},[I]),q=w.useCallback(H=>{o.updatePattern(H)},[]),X=w.useMemo(()=>h.isPlaying?h.currentStep%T.length:-1,[h.isPlaying,h.currentStep,T.length]),Q=Uo.map(H=>`${H.symbol} ${H.name}`),j=Uo.find(H=>H.value===h.subdivision),R=j?`${j.symbol} ${j.name}`:`${Uo[1].symbol} ${Uo[1].name}`,re=["All Steps",...z.map(H=>`${H} Steps`)],ue=["All Categories","Basic","Rhythmic","Advanced","Genre"];return c.jsx("div",{className:"w-full max-w-7xl mx-auto px-2 mt-6",children:c.jsxs("div",{className:"bg-[#3d434f] border border-gray-600 rounded-lg overflow-hidden",children:[c.jsx("div",{className:"px-4 py-3",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-sm font-bold text-slate-300 uppercase tracking-wider",children:"Sequencer"}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("button",{onClick:()=>x(!g),className:"w-[7em] h-8 flex items-center space-x-2 px-3 py-1.5 text-xs text-slate-300 hover:text-slate-200 bg-[#4a5262] hover:bg-[#525a6b] border border-gray-600 rounded transition-all duration-200",children:g?c.jsxs(c.Fragment,{children:[c.jsx(Zo,{className:"w-3 h-3"}),c.jsx("span",{children:"Hide"})]}):c.jsxs(c.Fragment,{children:[c.jsx(br,{className:"w-3 h-3"}),c.jsx("span",{children:"Show"})]})}),c.jsx(on,{onClick:W,variant:"play-stop",size:"sm",active:h.isPlaying,className:"shadow-lg",children:h.isPlaying?c.jsxs(c.Fragment,{children:[c.jsx(Xo,{className:"w-6 h-6"}),c.jsx("span",{className:"hidden sm:inline",children:"Stop"})]}):c.jsxs(c.Fragment,{children:[c.jsx(Jo,{className:"w-6 h-6"}),c.jsx("span",{className:"hidden sm:inline",children:"Play"})]})})]})]})}),c.jsxs("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${g?" opacity-100":"max-h-0 opacity-0"}`,children:[c.jsxs("div",{className:"border-t border-gray-600 bg-[#444b59]",children:[c.jsxs("div",{className:"px-4 py-3 border-b border-gray-600 bg-[#3d434f]",children:[c.jsxs("div",{className:"flex items-center justify-between sm:hidden",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("button",{onClick:de,disabled:T.length<=1,className:"flex items-center justify-center w-7 h-7 bg-[#4a5262] hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed text-xs rounded transition-all duration-200 text-slate-200 hover:text-white disabled:hover:bg-[#4a5262] disabled:hover:text-slate-200",title:"Remove step",children:c.jsx(_p,{className:"w-3 h-3"})}),c.jsx("div",{className:"text-xs text-slate-300 font-mono w-8 text-center",children:T.length}),c.jsx("button",{onClick:ne,disabled:T.length>=16,className:"flex items-center justify-center w-7 h-7 bg-[#4a5262] hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed text-xs rounded transition-all duration-200 text-slate-200 hover:text-white disabled:hover:bg-[#4a5262] disabled:hover:text-slate-200",title:"Add step",children:c.jsx(Op,{className:"w-3 h-3"})})]}),c.jsx("div",{children:$.chordName?c.jsx("div",{className:"text-xs font-medium text-purple-300 bg-purple-900/30 px-2 py-1 rounded border border-purple-700/50",children:$.chordName}):c.jsx("div",{className:"text-xs text-cyan-300 bg-cyan-900/30 px-2 py-1 rounded border border-cyan-700/50",children:"Global Pattern"})})]}),c.jsxs("div",{className:"hidden sm:flex sm:items-center sm:justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("span",{className:"text-xs text-slate-400 font-medium",children:"Pattern:"}),c.jsxs("div",{className:"text-xs text-slate-300 font-mono bg-[#4a5262] px-2 py-1 rounded",children:[T.length," steps"]})]}),$.chordName&&c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:"text-xs text-slate-400",children:"for"}),c.jsx("div",{className:"text-xs font-medium text-purple-300 bg-purple-900/30 px-2 py-1 rounded border border-purple-700/50",children:$.chordName})]}),!$.chordName&&c.jsx("div",{className:"text-xs text-cyan-300 bg-cyan-900/30 px-2 py-1 rounded border border-cyan-700/50",children:"Global Pattern"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:"text-xs text-slate-400",children:"Steps:"}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("button",{onClick:de,disabled:T.length<=1,className:"flex items-center justify-center w-7 h-7 bg-[#4a5262] hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed text-xs rounded transition-all duration-200 text-slate-200 hover:text-white disabled:hover:bg-[#4a5262] disabled:hover:text-slate-200",title:"Remove step",children:c.jsx(_p,{className:"w-3 h-3"})}),c.jsx("div",{className:"text-xs text-slate-300 font-mono w-8 text-center",children:T.length}),c.jsx("button",{onClick:ne,disabled:T.length>=16,className:"flex items-center justify-center w-7 h-7 bg-[#4a5262] hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed text-xs rounded transition-all duration-200 text-slate-200 hover:text-white disabled:hover:bg-[#4a5262] disabled:hover:text-slate-200",title:"Add step",children:c.jsx(Op,{className:"w-3 h-3"})})]})]})]})]}),c.jsxs("div",{className:"p-6 px-3 sm:px-4",children:[c.jsx("div",{className:"block md:hidden",children:Array.from({length:Math.ceil(T.length/4)},(H,ae)=>{const ye=ae*4,se=Math.min(ye+4,T.length),ce=T.slice(ye,se);return c.jsxs("div",{className:"mb-4 last:mb-0",children:[c.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[ce.map((ke,Re)=>{const be=ye+Re;return c.jsx(Rc,{stepIndex:be,stepValue:ke,maxNotes:A,onStepChange:L},`pattern-${$.type}-${u}-${be}`)}),Array.from({length:4-ce.length},(ke,Re)=>c.jsx("div",{},`empty-${Re}`))]}),c.jsxs("div",{className:"grid grid-cols-4 gap-2 mt-2",children:[ce.map((ke,Re)=>{const be=ye+Re;return c.jsx("div",{className:"flex justify-center",children:c.jsx("div",{className:`transition-all duration-200 ${X===be?"w-full h-1 bg-blue-400 rounded-full":"w-full h-1 bg-gray-600 rounded-full"}`})},`indicator-${be}`)}),Array.from({length:4-ce.length},(ke,Re)=>c.jsx("div",{},`empty-indicator-${Re}`))]})]},`mobile-row-${ae}`)})}),c.jsx("div",{className:"hidden md:block",children:Array.from({length:Math.ceil(T.length/8)},(H,ae)=>{const ye=ae*8,se=Math.min(ye+8,T.length),ce=T.slice(ye,se);return c.jsxs("div",{className:"mb-4 last:mb-0",children:[c.jsxs("div",{className:"grid grid-cols-8 gap-2",children:[ce.map((ke,Re)=>{const be=ye+Re;return c.jsx(Rc,{stepIndex:be,stepValue:ke,maxNotes:A,onStepChange:L},`pattern-${$.type}-${u}-${be}`)}),Array.from({length:8-ce.length},(ke,Re)=>c.jsx("div",{},`empty-${Re}`))]}),c.jsxs("div",{className:"grid grid-cols-8 gap-2 mt-2",children:[ce.map((ke,Re)=>{const be=ye+Re;return c.jsx("div",{className:"flex justify-center",children:c.jsx("div",{className:`transition-all duration-200 ${X===be?"w-full h-1 bg-blue-400 rounded-full shadow-lg shadow-blue-400/50":"w-full h-1 bg-gray-600 rounded-full"}`})},`indicator-${be}`)}),Array.from({length:8-ce.length},(ke,Re)=>c.jsx("div",{},`empty-indicator-${Re}`))]})]},`desktop-row-${ae}`)})})]})]}),c.jsxs("div",{className:"bg-[#3d434f] border-t border-gray-600",children:[c.jsx("div",{className:"px-4 py-3 border-b border-gray-600",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-sm font-medium text-slate-200 uppercase tracking-wider",children:"Settings"}),c.jsx("button",{onClick:()=>y(!v),className:"w-[7em] h-8 flex items-center space-x-2 px-3 py-1.5 text-xs text-slate-300 hover:text-slate-200 bg-[#4a5262] hover:bg-[#525a6b] border border-gray-600 rounded transition-all duration-200",children:v?c.jsxs(c.Fragment,{children:[c.jsx(Zo,{className:"w-3 h-3"}),c.jsx("span",{children:"Hide"})]}):c.jsxs(c.Fragment,{children:[c.jsx(br,{className:"w-3 h-3"}),c.jsx("span",{children:"Show"})]})})]})}),c.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${v?" opacity-100":"max-h-0 opacity-0"}`,children:c.jsx("div",{className:"p-6 bg-[#444b59]",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-x-8 gap-y-6",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{children:c.jsx("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:"Timing"})}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["BPM",c.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",h.bpm,")"]})]}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:"range",min:"60",max:"200",value:h.bpm,onChange:H=>q({bpm:parseInt(H.target.value)}),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})}),c.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-1",children:[c.jsx("span",{children:"60"}),c.jsx("span",{children:"200"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:"Subdivision"}),c.jsx(rn,{value:R,onChange:H=>{const ae=Uo.find(ye=>`${ye.symbol} ${ye.name}`===H);ae&&q({subdivision:ae.value})},options:Q,className:"w-full",buttonClassName:"w-full p-3 bg-[#3d434f] border border-gray-600 rounded text-slate-200 text-xs focus:border-blue-500 transition-colors hover:bg-[#4a5262]"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Swing",c.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",h.swing,"%)"]})]}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:"range",min:"0",max:"50",value:h.swing,onChange:H=>q({swing:parseInt(H.target.value)}),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})}),c.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-1",children:[c.jsx("span",{children:"0%"}),c.jsx("span",{children:"50%"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:"Pattern Presets"}),c.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:k,onChange:H=>P(H.target.checked),className:"w-3 h-3 rounded border-gray-600 bg-[#3d434f] text-blue-600 focus:ring-blue-500 focus:ring-1"}),c.jsx("span",{className:"text-xs text-slate-200",children:"Hide patterns with fewer notes"})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[c.jsx(rn,{value:re[Y==="all"?0:re.findIndex(H=>H===`${Y} Steps`)],onChange:H=>{if(H==="All Steps")G("all");else{const ae=H.replace(" Steps","");G(ae)}},options:re,className:"flex-1",buttonClassName:"w-full p-2 bg-[#3d434f] border border-gray-600 rounded text-slate-200 text-xs transition-colors hover:bg-[#4a5262]"}),c.jsx(rn,{value:ue[K==="all"?0:ue.findIndex(H=>H.toLowerCase()===K)],onChange:H=>{V(H==="All Categories"?"all":H.toLowerCase())},options:ue,className:"flex-1",buttonClassName:"w-full p-2 bg-[#3d434f] border border-gray-600 rounded text-slate-200 text-xs transition-colors hover:bg-[#4a5262]"})]}),c.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-80 overflow-y-auto pr-2 custom-scrollbar",children:U.length>0?U.map((H,ae)=>{const ye=eh(H.pattern);return c.jsxs("button",{onClick:()=>pe(H),className:"p-2 rounded text-xs transition-colors text-left bg-[#3d434f] text-slate-300 hover:bg-[#4a5262] hover:text-slate-200 border border-gray-600 hover:border-gray-500",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("span",{className:"font-medium uppercase tracking-wide",children:H.name}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("span",{className:"text-xs text-slate-500",children:[ye,"n  ",H.pattern.length,"s"]}),c.jsx("span",{children:H.icon})]})]}),c.jsx("div",{className:"text-xs opacity-60 text-slate-500",children:H.pattern.join("-")})]},ae)}):c.jsx("div",{className:"p-3 text-xs text-slate-400 text-center",children:"No patterns found matching current filters"})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("label",{className:"block text-xs font-medium text-slate-200 uppercase tracking-wide",children:"Custom"}),c.jsx(Zy,{})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("input",{type:"text",value:N,onChange:H=>E(H.target.value),onKeyPress:H=>H.key==="Enter"&&le(),placeholder:"1,x,3,2+",className:"w-full p-2 bg-[#3d434f] border border-gray-600 rounded text-slate-200 text-xs focus:border-blue-500 transition-colors placeholder-slate-500"}),c.jsx("button",{onClick:le,className:"w-full px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded text-xs font-medium transition-colors uppercase tracking-wide",children:"Apply Pattern"})]})]})]})})})]})]})]})})};function bt(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var Jy=typeof Symbol=="function"&&Symbol.observable||"@@observable",th=Jy,nh=()=>Math.random().toString(36).substring(7).split("").join("."),eb={INIT:`@@redux/INIT${nh()}`,REPLACE:`@@redux/REPLACE${nh()}`},rh=eb;function tb(n){if(typeof n!="object"||n===null)return!1;let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r||Object.getPrototypeOf(n)===null}function Jh(n,r,o){if(typeof n!="function")throw new Error(bt(2));if(typeof r=="function"&&typeof o=="function"||typeof o=="function"&&typeof arguments[3]=="function")throw new Error(bt(0));if(typeof r=="function"&&typeof o>"u"&&(o=r,r=void 0),typeof o<"u"){if(typeof o!="function")throw new Error(bt(1));return o(Jh)(n,r)}let i=n,a=r,u=new Map,f=u,p=0,h=!1;function g(){f===u&&(f=new Map,u.forEach((P,Y)=>{f.set(Y,P)}))}function x(){if(h)throw new Error(bt(3));return a}function v(P){if(typeof P!="function")throw new Error(bt(4));if(h)throw new Error(bt(5));let Y=!0;g();const G=p++;return f.set(G,P),function(){if(Y){if(h)throw new Error(bt(6));Y=!1,g(),f.delete(G),u=null}}}function y(P){if(!tb(P))throw new Error(bt(7));if(typeof P.type>"u")throw new Error(bt(8));if(typeof P.type!="string")throw new Error(bt(17));if(h)throw new Error(bt(9));try{h=!0,a=i(a,P)}finally{h=!1}return(u=f).forEach(G=>{G()}),P}function N(P){if(typeof P!="function")throw new Error(bt(10));i=P,y({type:rh.REPLACE})}function E(){const P=v;return{subscribe(Y){if(typeof Y!="object"||Y===null)throw new Error(bt(11));function G(){const V=Y;V.next&&V.next(x())}return G(),{unsubscribe:P(G)}},[th](){return this}}}return y({type:rh.INIT}),{dispatch:y,subscribe:v,getState:x,replaceReducer:N,[th]:E}}function oh(n,r){return function(...o){return r(n.apply(this,o))}}function sh(n,r){if(typeof n=="function")return oh(n,r);if(typeof n!="object"||n===null)throw new Error(bt(16));const o={};for(const i in n){const a=n[i];typeof a=="function"&&(o[i]=oh(a,r))}return o}function em(...n){return n.length===0?r=>r:n.length===1?n[0]:n.reduce((r,o)=>(...i)=>r(o(...i)))}function nb(...n){return r=>(o,i)=>{const a=r(o,i);let u=()=>{throw new Error(bt(15))};const f={getState:a.getState,dispatch:(h,...g)=>u(h,...g)},p=n.map(h=>h(f));return u=em(...p)(a.dispatch),{...a,dispatch:u}}}var pc={exports:{}},hc={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ih;function rb(){if(ih)return hc;ih=1;var n=Wi();function r(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var o=typeof Object.is=="function"?Object.is:r,i=n.useSyncExternalStore,a=n.useRef,u=n.useEffect,f=n.useMemo,p=n.useDebugValue;return hc.useSyncExternalStoreWithSelector=function(h,g,x,v,y){var N=a(null);if(N.current===null){var E={hasValue:!1,value:null};N.current=E}else E=N.current;N=f(function(){function P(T){if(!Y){if(Y=!0,G=T,T=v(T),y!==void 0&&E.hasValue){var $=E.value;if(y($,T))return K=$}return K=T}if($=K,o(G,T))return $;var B=v(T);return y!==void 0&&y($,B)?(G=T,$):(G=T,K=B)}var Y=!1,G,K,V=x===void 0?null:x;return[function(){return P(g())},V===null?void 0:function(){return P(V())}]},[g,x,v,y]);var k=i(h,N[0],N[1]);return u(function(){E.hasValue=!0,E.value=k},[k]),p(k),k},hc}var lh;function ob(){return lh||(lh=1,pc.exports=rb()),pc.exports}ob();var sb=w.version.startsWith("19"),ib=Symbol.for(sb?"react.transitional.element":"react.element"),lb=Symbol.for("react.portal"),ab=Symbol.for("react.fragment"),cb=Symbol.for("react.strict_mode"),ub=Symbol.for("react.profiler"),db=Symbol.for("react.consumer"),fb=Symbol.for("react.context"),tm=Symbol.for("react.forward_ref"),pb=Symbol.for("react.suspense"),hb=Symbol.for("react.suspense_list"),eu=Symbol.for("react.memo"),mb=Symbol.for("react.lazy"),gb=tm,vb=eu;function xb(n){if(typeof n=="object"&&n!==null){const{$$typeof:r}=n;switch(r){case ib:switch(n=n.type,n){case ab:case ub:case cb:case pb:case hb:return n;default:switch(n=n&&n.$$typeof,n){case fb:case tm:case mb:case eu:return n;case db:return n;default:return r}}case lb:return r}}}function yb(n){return xb(n)===eu}function bb(n,r,o,i,{areStatesEqual:a,areOwnPropsEqual:u,areStatePropsEqual:f}){let p=!1,h,g,x,v,y;function N(G,K){return h=G,g=K,x=n(h,g),v=r(i,g),y=o(x,v,g),p=!0,y}function E(){return x=n(h,g),r.dependsOnOwnProps&&(v=r(i,g)),y=o(x,v,g),y}function k(){return n.dependsOnOwnProps&&(x=n(h,g)),r.dependsOnOwnProps&&(v=r(i,g)),y=o(x,v,g),y}function P(){const G=n(h,g),K=!f(G,x);return x=G,K&&(y=o(x,v,g)),y}function Y(G,K){const V=!u(K,g),T=!a(G,h,K,g);return h=G,g=K,V&&T?E():V?k():T?P():y}return function(K,V){return p?Y(K,V):N(K,V)}}function wb(n,{initMapStateToProps:r,initMapDispatchToProps:o,initMergeProps:i,...a}){const u=r(n,a),f=o(n,a),p=i(n,a);return bb(u,f,p,n,a)}function Nb(n,r){const o={};for(const i in n){const a=n[i];typeof a=="function"&&(o[i]=(...u)=>r(a(...u)))}return o}function Ic(n){return function(o){const i=n(o);function a(){return i}return a.dependsOnOwnProps=!1,a}}function ah(n){return n.dependsOnOwnProps?!!n.dependsOnOwnProps:n.length!==1}function nm(n,r){return function(i,{displayName:a}){const u=function(p,h){return u.dependsOnOwnProps?u.mapToProps(p,h):u.mapToProps(p,void 0)};return u.dependsOnOwnProps=!0,u.mapToProps=function(p,h){u.mapToProps=n,u.dependsOnOwnProps=ah(n);let g=u(p,h);return typeof g=="function"&&(u.mapToProps=g,u.dependsOnOwnProps=ah(g),g=u(p,h)),g},u}}function tu(n,r){return(o,i)=>{throw new Error(`Invalid value of type ${typeof n} for ${r} argument when connecting component ${i.wrappedComponentName}.`)}}function Sb(n){return n&&typeof n=="object"?Ic(r=>Nb(n,r)):n?typeof n=="function"?nm(n):tu(n,"mapDispatchToProps"):Ic(r=>({dispatch:r}))}function Cb(n){return n?typeof n=="function"?nm(n):tu(n,"mapStateToProps"):Ic(()=>({}))}function jb(n,r,o){return{...o,...n,...r}}function Eb(n){return function(o,{displayName:i,areMergedPropsEqual:a}){let u=!1,f;return function(h,g,x){const v=n(h,g,x);return u?a(v,f)||(f=v):(u=!0,f=v),f}}}function Pb(n){return n?typeof n=="function"?Eb(n):tu(n,"mergeProps"):()=>jb}function kb(n){n()}function Db(){let n=null,r=null;return{clear(){n=null,r=null},notify(){kb(()=>{let o=n;for(;o;)o.callback(),o=o.next})},get(){const o=[];let i=n;for(;i;)o.push(i),i=i.next;return o},subscribe(o){let i=!0;const a=r={callback:o,next:null,prev:r};return a.prev?a.prev.next=a:n=a,function(){!i||n===null||(i=!1,a.next?a.next.prev=a.prev:r=a.prev,a.prev?a.prev.next=a.next:n=a.next)}}}}var ch={notify(){},get:()=>[]};function rm(n,r){let o,i=ch,a=0,u=!1;function f(k){x();const P=i.subscribe(k);let Y=!1;return()=>{Y||(Y=!0,P(),v())}}function p(){i.notify()}function h(){E.onStateChange&&E.onStateChange()}function g(){return u}function x(){a++,o||(o=r?r.addNestedSub(h):n.subscribe(h),i=Db())}function v(){a--,o&&a===0&&(o(),o=void 0,i.clear(),i=ch)}function y(){u||(u=!0,x())}function N(){u&&(u=!1,v())}const E={addNestedSub:f,notifyNestedSubs:p,handleChangeWrapper:h,isSubscribed:g,trySubscribe:y,tryUnsubscribe:N,getListeners:()=>i};return E}var Rb=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ib=Rb(),Ab=()=>typeof navigator<"u"&&navigator.product==="ReactNative",_b=Ab(),Ob=()=>Ib||_b?w.useLayoutEffect:w.useEffect,Mi=Ob();function uh(n,r){return n===r?n!==0||r!==0||1/n===1/r:n!==n&&r!==r}function mc(n,r){if(uh(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;const o=Object.keys(n),i=Object.keys(r);if(o.length!==i.length)return!1;for(let a=0;a<o.length;a++)if(!Object.prototype.hasOwnProperty.call(r,o[a])||!uh(n[o[a]],r[o[a]]))return!1;return!0}var Tb={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Mb={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Lb={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},om={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Fb={[gb]:Lb,[vb]:om};function dh(n){return yb(n)?om:Fb[n.$$typeof]||Tb}var Bb=Object.defineProperty,$b=Object.getOwnPropertyNames,fh=Object.getOwnPropertySymbols,zb=Object.getOwnPropertyDescriptor,Gb=Object.getPrototypeOf,ph=Object.prototype;function Ac(n,r){if(typeof r!="string"){if(ph){const u=Gb(r);u&&u!==ph&&Ac(n,u)}let o=$b(r);fh&&(o=o.concat(fh(r)));const i=dh(n),a=dh(r);for(let u=0;u<o.length;++u){const f=o[u];if(!Mb[f]&&!(a&&a[f])&&!(i&&i[f])){const p=zb(r,f);try{Bb(n,f,p)}catch{}}}}return n}var Ub=Symbol.for("react-redux-context"),Vb=typeof globalThis<"u"?globalThis:{};function Wb(){if(!w.createContext)return{};const n=Vb[Ub]??=new Map;let r=n.get(w.createContext);return r||(r=w.createContext(null),n.set(w.createContext,r)),r}var sm=Wb(),Hb=[null,null];function qb(n,r,o){Mi(()=>n(...r),o)}function Kb(n,r,o,i,a,u){n.current=i,o.current=!1,a.current&&(a.current=null,u())}function Yb(n,r,o,i,a,u,f,p,h,g,x){if(!n)return()=>{};let v=!1,y=null;const N=()=>{if(v||!p.current)return;const k=r.getState();let P,Y;try{P=i(k,a.current)}catch(G){Y=G,y=G}Y||(y=null),P===u.current?f.current||g():(u.current=P,h.current=P,f.current=!0,x())};return o.onStateChange=N,o.trySubscribe(),N(),()=>{if(v=!0,o.tryUnsubscribe(),o.onStateChange=null,y)throw y}}function Qb(n,r){return n===r}function Zb(n,r,o,{pure:i,areStatesEqual:a=Qb,areOwnPropsEqual:u=mc,areStatePropsEqual:f=mc,areMergedPropsEqual:p=mc,forwardRef:h=!1,context:g=sm}={}){const x=g,v=Cb(n),y=Sb(r),N=Pb(o),E=!!n;return P=>{const Y=P.displayName||P.name||"Component",G=`Connect(${Y})`,K={shouldHandleStateChanges:E,displayName:G,wrappedComponentName:Y,WrappedComponent:P,initMapStateToProps:v,initMapDispatchToProps:y,initMergeProps:N,areStatesEqual:a,areStatePropsEqual:f,areOwnPropsEqual:u,areMergedPropsEqual:p};function V(B){const[A,z,U]=w.useMemo(()=>{const{reactReduxForwardedRef:be,...Xe}=B;return[B.context,be,Xe]},[B]),W=w.useMemo(()=>{let be=x;return A?.Consumer,be},[A,x]),I=w.useContext(W),L=!!B.store&&!!B.store.getState&&!!B.store.dispatch,ne=!!I&&!!I.store,de=L?B.store:I.store,le=ne?I.getServerState:de.getState,pe=w.useMemo(()=>wb(de.dispatch,K),[de]),[q,X]=w.useMemo(()=>{if(!E)return Hb;const be=rm(de,L?void 0:I.subscription),Xe=be.notifyNestedSubs.bind(be);return[be,Xe]},[de,L,I]),Q=w.useMemo(()=>L?I:{...I,subscription:q},[L,I,q]),j=w.useRef(void 0),R=w.useRef(U),re=w.useRef(void 0),ue=w.useRef(!1),H=w.useRef(!1),ae=w.useRef(void 0);Mi(()=>(H.current=!0,()=>{H.current=!1}),[]);const ye=w.useMemo(()=>()=>re.current&&U===R.current?re.current:pe(de.getState(),U),[de,U]),se=w.useMemo(()=>Xe=>q?Yb(E,de,q,pe,R,j,ue,H,re,X,Xe):()=>{},[q]);qb(Kb,[R,j,ue,U,re,X]);let ce;try{ce=w.useSyncExternalStore(se,ye,le?()=>pe(le(),U):ye)}catch(be){throw ae.current&&(be.message+=`
The error may be correlated with this previous error:
${ae.current.stack}

`),be}Mi(()=>{ae.current=void 0,re.current=void 0,j.current=ce});const ke=w.useMemo(()=>w.createElement(P,{...ce,ref:z}),[z,P,ce]);return w.useMemo(()=>E?w.createElement(W.Provider,{value:Q},ke):ke,[W,ke,Q])}const $=w.memo(V);if($.WrappedComponent=P,$.displayName=V.displayName=G,h){const A=w.forwardRef(function(U,W){return w.createElement($,{...U,reactReduxForwardedRef:W})});return A.displayName=G,A.WrappedComponent=P,Ac(A,P)}return Ac($,P)}}var im=Zb;function Xb(n){const{children:r,context:o,serverState:i,store:a}=n,u=w.useMemo(()=>{const h=rm(a);return{store:a,subscription:h,getServerState:i?()=>i:void 0}},[a,i]),f=w.useMemo(()=>a.getState(),[a]);Mi(()=>{const{subscription:h}=u;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),f!==a.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[u,f]);const p=o||sm;return w.createElement(p.Provider,{value:u},r)}var Jb=Xb,e1="Invariant failed";function t1(n,r){throw new Error(e1)}var sn=function(r){var o=r.top,i=r.right,a=r.bottom,u=r.left,f=i-u,p=a-o,h={top:o,right:i,bottom:a,left:u,width:f,height:p,x:u,y:o,center:{x:(i+u)/2,y:(a+o)/2}};return h},nu=function(r,o){return{top:r.top-o.top,left:r.left-o.left,bottom:r.bottom+o.bottom,right:r.right+o.right}},hh=function(r,o){return{top:r.top+o.top,left:r.left+o.left,bottom:r.bottom-o.bottom,right:r.right-o.right}},n1=function(r,o){return{top:r.top+o.y,left:r.left+o.x,bottom:r.bottom+o.y,right:r.right+o.x}},gc={top:0,right:0,bottom:0,left:0},ru=function(r){var o=r.borderBox,i=r.margin,a=i===void 0?gc:i,u=r.border,f=u===void 0?gc:u,p=r.padding,h=p===void 0?gc:p,g=sn(nu(o,a)),x=sn(hh(o,f)),v=sn(hh(x,h));return{marginBox:g,borderBox:sn(o),paddingBox:x,contentBox:v,margin:a,border:f,padding:h}},Gt=function(r){var o=r.slice(0,-2),i=r.slice(-2);if(i!=="px")return 0;var a=Number(o);return isNaN(a)&&t1(),a},r1=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Li=function(r,o){var i=r.borderBox,a=r.border,u=r.margin,f=r.padding,p=n1(i,o);return ru({borderBox:p,border:a,margin:u,padding:f})},Fi=function(r,o){return o===void 0&&(o=r1()),Li(r,o)},lm=function(r,o){var i={top:Gt(o.marginTop),right:Gt(o.marginRight),bottom:Gt(o.marginBottom),left:Gt(o.marginLeft)},a={top:Gt(o.paddingTop),right:Gt(o.paddingRight),bottom:Gt(o.paddingBottom),left:Gt(o.paddingLeft)},u={top:Gt(o.borderTopWidth),right:Gt(o.borderRightWidth),bottom:Gt(o.borderBottomWidth),left:Gt(o.borderLeftWidth)};return ru({borderBox:r,margin:i,padding:a,border:u})},am=function(r){var o=r.getBoundingClientRect(),i=window.getComputedStyle(r);return lm(o,i)},es=function(r){var o=[],i=null,a=function(){for(var f=arguments.length,p=new Array(f),h=0;h<f;h++)p[h]=arguments[h];o=p,!i&&(i=requestAnimationFrame(function(){i=null,r.apply(void 0,o)}))};return a.cancel=function(){i&&(cancelAnimationFrame(i),i=null)},a};function Bi(){return Bi=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var i in o)({}).hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},Bi.apply(null,arguments)}function cm(n,r){}cm.bind(null,"warn");cm.bind(null,"error");function Qn(){}function o1(n,r){return{...n,...r}}function Vt(n,r,o){const i=r.map(a=>{const u=o1(o,a.options);return n.addEventListener(a.eventName,a.fn,u),function(){n.removeEventListener(a.eventName,a.fn,u)}});return function(){i.forEach(u=>{u()})}}const s1="Invariant failed";class $i extends Error{}$i.prototype.toString=function(){return this.message};function ie(n,r){throw new $i(s1)}class i1 extends Pe.Component{constructor(...r){super(...r),this.callbacks=null,this.unbind=Qn,this.onWindowError=o=>{const i=this.getCallbacks();i.isDragging()&&i.tryAbort(),o.error instanceof $i&&o.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=o=>{this.callbacks=o}}componentDidMount(){this.unbind=Vt(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(r){if(r instanceof $i){this.setState({});return}throw r}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const l1=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,zi=n=>n+1,a1=n=>`
  You have lifted an item in position ${zi(n.source.index)}
`,um=(n,r)=>{const o=n.droppableId===r.droppableId,i=zi(n.index),a=zi(r.index);return o?`
      You have moved the item from position ${i}
      to position ${a}
    `:`
    You have moved the item from position ${i}
    in list ${n.droppableId}
    to list ${r.droppableId}
    in position ${a}
  `},dm=(n,r,o)=>r.droppableId===o.droppableId?`
      The item ${n}
      has been combined with ${o.draggableId}`:`
      The item ${n}
      in list ${r.droppableId}
      has been combined with ${o.draggableId}
      in list ${o.droppableId}
    `,c1=n=>{const r=n.destination;if(r)return um(n.source,r);const o=n.combine;return o?dm(n.draggableId,n.source,o):"You are over an area that cannot be dropped on"},mh=n=>`
  The item has returned to its starting position
  of ${zi(n.index)}
`,u1=n=>{if(n.reason==="CANCEL")return`
      Movement cancelled.
      ${mh(n.source)}
    `;const r=n.destination,o=n.combine;return r?`
      You have dropped the item.
      ${um(n.source,r)}
    `:o?`
      You have dropped the item.
      ${dm(n.draggableId,n.source,o)}
    `:`
    The item has been dropped while not over a drop area.
    ${mh(n.source)}
  `},Ii={dragHandleUsageInstructions:l1,onDragStart:a1,onDragUpdate:c1,onDragEnd:u1};function d1(n,r){return!!(n===r||Number.isNaN(n)&&Number.isNaN(r))}function fm(n,r){if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(!d1(n[o],r[o]))return!1;return!0}function Ae(n,r){const o=w.useState(()=>({inputs:r,result:n()}))[0],i=w.useRef(!0),a=w.useRef(o),f=i.current||!!(r&&a.current.inputs&&fm(r,a.current.inputs))?a.current:{inputs:r,result:n()};return w.useEffect(()=>{i.current=!1,a.current=f},[f]),f.result}function we(n,r){return Ae(()=>n,r)}const ot={x:0,y:0},ct=(n,r)=>({x:n.x+r.x,y:n.y+r.y}),It=(n,r)=>({x:n.x-r.x,y:n.y-r.y}),Zn=(n,r)=>n.x===r.x&&n.y===r.y,to=n=>({x:n.x!==0?-n.x:0,y:n.y!==0?-n.y:0}),wr=(n,r,o=0)=>n==="x"?{x:r,y:o}:{x:o,y:r},ts=(n,r)=>Math.sqrt((r.x-n.x)**2+(r.y-n.y)**2),gh=(n,r)=>Math.min(...r.map(o=>ts(n,o))),pm=n=>r=>({x:n(r.x),y:n(r.y)});var f1=(n,r)=>{const o=sn({top:Math.max(r.top,n.top),right:Math.min(r.right,n.right),bottom:Math.min(r.bottom,n.bottom),left:Math.max(r.left,n.left)});return o.width<=0||o.height<=0?null:o};const cs=(n,r)=>({top:n.top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x}),vh=n=>[{x:n.left,y:n.top},{x:n.right,y:n.top},{x:n.left,y:n.bottom},{x:n.right,y:n.bottom}],p1={top:0,right:0,bottom:0,left:0},h1=(n,r)=>r?cs(n,r.scroll.diff.displacement):n,m1=(n,r,o)=>o&&o.increasedBy?{...n,[r.end]:n[r.end]+o.increasedBy[r.line]}:n,g1=(n,r)=>r&&r.shouldClipSubject?f1(r.pageMarginBox,n):sn(n);var Zr=({page:n,withPlaceholder:r,axis:o,frame:i})=>{const a=h1(n.marginBox,i),u=m1(a,o,r),f=g1(u,i);return{page:n,withPlaceholder:r,active:f}},ou=(n,r)=>{n.frame||ie();const o=n.frame,i=It(r,o.scroll.initial),a=to(i),u={...o,scroll:{initial:o.scroll.initial,current:r,diff:{value:i,displacement:a},max:o.scroll.max}},f=Zr({page:n.subject.page,withPlaceholder:n.subject.withPlaceholder,axis:n.axis,frame:u});return{...n,frame:u,subject:f}};function rt(n,r=fm){let o=null;function i(...a){if(o&&o.lastThis===this&&r(a,o.lastArgs))return o.lastResult;const u=n.apply(this,a);return o={lastResult:u,lastArgs:a,lastThis:this},u}return i.clear=function(){o=null},i}const hm=rt(n=>n.reduce((r,o)=>(r[o.descriptor.id]=o,r),{})),mm=rt(n=>n.reduce((r,o)=>(r[o.descriptor.id]=o,r),{})),Zi=rt(n=>Object.values(n)),v1=rt(n=>Object.values(n));var no=rt((n,r)=>v1(r).filter(i=>n===i.descriptor.droppableId).sort((i,a)=>i.descriptor.index-a.descriptor.index));function su(n){return n.at&&n.at.type==="REORDER"?n.at.destination:null}function Xi(n){return n.at&&n.at.type==="COMBINE"?n.at.combine:null}var Ji=rt((n,r)=>r.filter(o=>o.descriptor.id!==n.descriptor.id)),x1=({isMovingForward:n,draggable:r,destination:o,insideDestination:i,previousImpact:a})=>{if(!o.isCombineEnabled||!su(a))return null;function f(N){const E={type:"COMBINE",combine:{draggableId:N,droppableId:o.descriptor.id}};return{...a,at:E}}const p=a.displaced.all,h=p.length?p[0]:null;if(n)return h?f(h):null;const g=Ji(r,i);if(!h){if(!g.length)return null;const N=g[g.length-1];return f(N.descriptor.id)}const x=g.findIndex(N=>N.descriptor.id===h);x===-1&&ie();const v=x-1;if(v<0)return null;const y=g[v];return f(y.descriptor.id)},ro=(n,r)=>n.descriptor.droppableId===r.descriptor.id;const gm={point:ot,value:0},ns={invisible:{},visible:{},all:[]},y1={displaced:ns,displacedBy:gm,at:null};var Wt=(n,r)=>o=>n<=o&&o<=r,vm=n=>{const r=Wt(n.top,n.bottom),o=Wt(n.left,n.right);return i=>{if(r(i.top)&&r(i.bottom)&&o(i.left)&&o(i.right))return!0;const u=r(i.top)||r(i.bottom),f=o(i.left)||o(i.right);if(u&&f)return!0;const h=i.top<n.top&&i.bottom>n.bottom,g=i.left<n.left&&i.right>n.right;return h&&g?!0:h&&f||g&&u}},b1=n=>{const r=Wt(n.top,n.bottom),o=Wt(n.left,n.right);return i=>r(i.top)&&r(i.bottom)&&o(i.left)&&o(i.right)};const iu={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},xm={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var w1=n=>r=>{const o=Wt(r.top,r.bottom),i=Wt(r.left,r.right);return a=>n===iu?o(a.top)&&o(a.bottom):i(a.left)&&i(a.right)};const N1=(n,r)=>{const o=r.frame?r.frame.scroll.diff.displacement:ot;return cs(n,o)},S1=(n,r,o)=>r.subject.active?o(r.subject.active)(n):!1,C1=(n,r,o)=>o(r)(n),lu=({target:n,destination:r,viewport:o,withDroppableDisplacement:i,isVisibleThroughFrameFn:a})=>{const u=i?N1(n,r):n;return S1(u,r,a)&&C1(u,o,a)},j1=n=>lu({...n,isVisibleThroughFrameFn:vm}),ym=n=>lu({...n,isVisibleThroughFrameFn:b1}),E1=n=>lu({...n,isVisibleThroughFrameFn:w1(n.destination.axis)}),P1=(n,r,o)=>{if(typeof o=="boolean")return o;if(!r)return!0;const{invisible:i,visible:a}=r;if(i[n])return!1;const u=a[n];return u?u.shouldAnimate:!0};function k1(n,r){const o=n.page.marginBox,i={top:r.point.y,right:0,bottom:0,left:r.point.x};return sn(nu(o,i))}function rs({afterDragging:n,destination:r,displacedBy:o,viewport:i,forceShouldAnimate:a,last:u}){return n.reduce(function(p,h){const g=k1(h,o),x=h.descriptor.id;if(p.all.push(x),!j1({target:g,destination:r,viewport:i,withDroppableDisplacement:!0}))return p.invisible[h.descriptor.id]=!0,p;const y=P1(x,u,a),N={draggableId:x,shouldAnimate:y};return p.visible[x]=N,p},{all:[],visible:{},invisible:{}})}function D1(n,r){if(!n.length)return 0;const o=n[n.length-1].descriptor.index;return r.inHomeList?o:o+1}function xh({insideDestination:n,inHomeList:r,displacedBy:o,destination:i}){const a=D1(n,{inHomeList:r});return{displaced:ns,displacedBy:o,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:a}}}}function Gi({draggable:n,insideDestination:r,destination:o,viewport:i,displacedBy:a,last:u,index:f,forceShouldAnimate:p}){const h=ro(n,o);if(f==null)return xh({insideDestination:r,inHomeList:h,displacedBy:a,destination:o});const g=r.find(E=>E.descriptor.index===f);if(!g)return xh({insideDestination:r,inHomeList:h,displacedBy:a,destination:o});const x=Ji(n,r),v=r.indexOf(g),y=x.slice(v);return{displaced:rs({afterDragging:y,destination:o,displacedBy:a,last:u,viewport:i.frame,forceShouldAnimate:p}),displacedBy:a,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:f}}}}function Xn(n,r){return!!r.effected[n]}var R1=({isMovingForward:n,destination:r,draggables:o,combine:i,afterCritical:a})=>{if(!r.isCombineEnabled)return null;const u=i.draggableId,p=o[u].descriptor.index;return Xn(u,a)?n?p:p-1:n?p+1:p},I1=({isMovingForward:n,isInHomeList:r,insideDestination:o,location:i})=>{if(!o.length)return null;const a=i.index,u=n?a+1:a-1,f=o[0].descriptor.index,p=o[o.length-1].descriptor.index,h=r?p:p+1;return u<f||u>h?null:u},A1=({isMovingForward:n,isInHomeList:r,draggable:o,draggables:i,destination:a,insideDestination:u,previousImpact:f,viewport:p,afterCritical:h})=>{const g=f.at;if(g||ie(),g.type==="REORDER"){const v=I1({isMovingForward:n,isInHomeList:r,location:g.destination,insideDestination:u});return v==null?null:Gi({draggable:o,insideDestination:u,destination:a,viewport:p,last:f.displaced,displacedBy:f.displacedBy,index:v})}const x=R1({isMovingForward:n,destination:a,displaced:f.displaced,draggables:i,combine:g.combine,afterCritical:h});return x==null?null:Gi({draggable:o,insideDestination:u,destination:a,viewport:p,last:f.displaced,displacedBy:f.displacedBy,index:x})},_1=({displaced:n,afterCritical:r,combineWith:o,displacedBy:i})=>{const a=!!(n.visible[o]||n.invisible[o]);return Xn(o,r)?a?ot:to(i.point):a?i.point:ot},O1=({afterCritical:n,impact:r,draggables:o})=>{const i=Xi(r);i||ie();const a=i.draggableId,u=o[a].page.borderBox.center,f=_1({displaced:r.displaced,afterCritical:n,combineWith:a,displacedBy:r.displacedBy});return ct(u,f)};const bm=(n,r)=>r.margin[n.start]+r.borderBox[n.size]/2,T1=(n,r)=>r.margin[n.end]+r.borderBox[n.size]/2,au=(n,r,o)=>r[n.crossAxisStart]+o.margin[n.crossAxisStart]+o.borderBox[n.crossAxisSize]/2,yh=({axis:n,moveRelativeTo:r,isMoving:o})=>wr(n.line,r.marginBox[n.end]+bm(n,o),au(n,r.marginBox,o)),bh=({axis:n,moveRelativeTo:r,isMoving:o})=>wr(n.line,r.marginBox[n.start]-T1(n,o),au(n,r.marginBox,o)),M1=({axis:n,moveInto:r,isMoving:o})=>wr(n.line,r.contentBox[n.start]+bm(n,o),au(n,r.contentBox,o));var L1=({impact:n,draggable:r,draggables:o,droppable:i,afterCritical:a})=>{const u=no(i.descriptor.id,o),f=r.page,p=i.axis;if(!u.length)return M1({axis:p,moveInto:i.page,isMoving:f});const{displaced:h,displacedBy:g}=n,x=h.all[0];if(x){const y=o[x];if(Xn(x,a))return bh({axis:p,moveRelativeTo:y.page,isMoving:f});const N=Li(y.page,g.point);return bh({axis:p,moveRelativeTo:N,isMoving:f})}const v=u[u.length-1];if(v.descriptor.id===r.descriptor.id)return f.borderBox.center;if(Xn(v.descriptor.id,a)){const y=Li(v.page,to(a.displacedBy.point));return yh({axis:p,moveRelativeTo:y,isMoving:f})}return yh({axis:p,moveRelativeTo:v.page,isMoving:f})},_c=(n,r)=>{const o=n.frame;return o?ct(r,o.scroll.diff.displacement):r};const F1=({impact:n,draggable:r,droppable:o,draggables:i,afterCritical:a})=>{const u=r.page.borderBox.center,f=n.at;return!o||!f?u:f.type==="REORDER"?L1({impact:n,draggable:r,draggables:i,droppable:o,afterCritical:a}):O1({impact:n,draggables:i,afterCritical:a})};var el=n=>{const r=F1(n),o=n.droppable;return o?_c(o,r):r},wm=(n,r)=>{const o=It(r,n.scroll.initial),i=to(o);return{frame:sn({top:r.y,bottom:r.y+n.frame.height,left:r.x,right:r.x+n.frame.width}),scroll:{initial:n.scroll.initial,max:n.scroll.max,current:r,diff:{value:o,displacement:i}}}};function wh(n,r){return n.map(o=>r[o])}function B1(n,r){for(let o=0;o<r.length;o++){const i=r[o].visible[n];if(i)return i}return null}var $1=({impact:n,viewport:r,destination:o,draggables:i,maxScrollChange:a})=>{const u=wm(r,ct(r.scroll.current,a)),f=o.frame?ou(o,ct(o.frame.scroll.current,a)):o,p=n.displaced,h=rs({afterDragging:wh(p.all,i),destination:o,displacedBy:n.displacedBy,viewport:u.frame,last:p,forceShouldAnimate:!1}),g=rs({afterDragging:wh(p.all,i),destination:f,displacedBy:n.displacedBy,viewport:r.frame,last:p,forceShouldAnimate:!1}),x={},v={},y=[p,h,g];return p.all.forEach(E=>{const k=B1(E,y);if(k){v[E]=k;return}x[E]=!0}),{...n,displaced:{all:p.all,invisible:x,visible:v}}},z1=(n,r)=>ct(n.scroll.diff.displacement,r),cu=({pageBorderBoxCenter:n,draggable:r,viewport:o})=>{const i=z1(o,n),a=It(i,r.page.borderBox.center);return ct(r.client.borderBox.center,a)},Nm=({draggable:n,destination:r,newPageBorderBoxCenter:o,viewport:i,withDroppableDisplacement:a,onlyOnMainAxis:u=!1})=>{const f=It(o,n.page.borderBox.center),h={target:cs(n.page.borderBox,f),destination:r,withDroppableDisplacement:a,viewport:i};return u?E1(h):ym(h)},G1=({isMovingForward:n,draggable:r,destination:o,draggables:i,previousImpact:a,viewport:u,previousPageBorderBoxCenter:f,previousClientSelection:p,afterCritical:h})=>{if(!o.isEnabled)return null;const g=no(o.descriptor.id,i),x=ro(r,o),v=x1({isMovingForward:n,draggable:r,destination:o,insideDestination:g,previousImpact:a})||A1({isMovingForward:n,isInHomeList:x,draggable:r,draggables:i,destination:o,insideDestination:g,previousImpact:a,viewport:u,afterCritical:h});if(!v)return null;const y=el({impact:v,draggable:r,droppable:o,draggables:i,afterCritical:h});if(Nm({draggable:r,destination:o,newPageBorderBoxCenter:y,viewport:u.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:cu({pageBorderBoxCenter:y,draggable:r,viewport:u}),impact:v,scrollJumpRequest:null};const E=It(y,f),k=$1({impact:v,viewport:u,destination:o,draggables:i,maxScrollChange:E});return{clientSelection:p,impact:k,scrollJumpRequest:E}};const yt=n=>{const r=n.subject.active;return r||ie(),r};var U1=({isMovingForward:n,pageBorderBoxCenter:r,source:o,droppables:i,viewport:a})=>{const u=o.subject.active;if(!u)return null;const f=o.axis,p=Wt(u[f.start],u[f.end]),h=Zi(i).filter(x=>x!==o).filter(x=>x.isEnabled).filter(x=>!!x.subject.active).filter(x=>vm(a.frame)(yt(x))).filter(x=>{const v=yt(x);return n?u[f.crossAxisEnd]<v[f.crossAxisEnd]:v[f.crossAxisStart]<u[f.crossAxisStart]}).filter(x=>{const v=yt(x),y=Wt(v[f.start],v[f.end]);return p(v[f.start])||p(v[f.end])||y(u[f.start])||y(u[f.end])}).sort((x,v)=>{const y=yt(x)[f.crossAxisStart],N=yt(v)[f.crossAxisStart];return n?y-N:N-y}).filter((x,v,y)=>yt(x)[f.crossAxisStart]===yt(y[0])[f.crossAxisStart]);if(!h.length)return null;if(h.length===1)return h[0];const g=h.filter(x=>Wt(yt(x)[f.start],yt(x)[f.end])(r[f.line]));return g.length===1?g[0]:g.length>1?g.sort((x,v)=>yt(x)[f.start]-yt(v)[f.start])[0]:h.sort((x,v)=>{const y=gh(r,vh(yt(x))),N=gh(r,vh(yt(v)));return y!==N?y-N:yt(x)[f.start]-yt(v)[f.start]})[0]};const Nh=(n,r)=>{const o=n.page.borderBox.center;return Xn(n.descriptor.id,r)?It(o,r.displacedBy.point):o},V1=(n,r)=>{const o=n.page.borderBox;return Xn(n.descriptor.id,r)?cs(o,to(r.displacedBy.point)):o};var W1=({pageBorderBoxCenter:n,viewport:r,destination:o,insideDestination:i,afterCritical:a})=>i.filter(f=>ym({target:V1(f,a),destination:o,viewport:r.frame,withDroppableDisplacement:!0})).sort((f,p)=>{const h=ts(n,_c(o,Nh(f,a))),g=ts(n,_c(o,Nh(p,a)));return h<g?-1:g<h?1:f.descriptor.index-p.descriptor.index})[0]||null,us=rt(function(r,o){const i=o[r.line];return{value:i,point:wr(r.line,i)}});const H1=(n,r,o)=>{const i=n.axis;if(n.descriptor.mode==="virtual")return wr(i.line,r[i.line]);const a=n.subject.page.contentBox[i.size],h=no(n.descriptor.id,o).reduce((g,x)=>g+x.client.marginBox[i.size],0)+r[i.line]-a;return h<=0?null:wr(i.line,h)},Sm=(n,r)=>({...n,scroll:{...n.scroll,max:r}}),Cm=(n,r,o)=>{const i=n.frame;ro(r,n)&&ie(),n.subject.withPlaceholder&&ie();const a=us(n.axis,r.displaceBy).point,u=H1(n,a,o),f={placeholderSize:a,increasedBy:u,oldFrameMaxScroll:n.frame?n.frame.scroll.max:null};if(!i){const x=Zr({page:n.subject.page,withPlaceholder:f,axis:n.axis,frame:n.frame});return{...n,subject:x}}const p=u?ct(i.scroll.max,u):i.scroll.max,h=Sm(i,p),g=Zr({page:n.subject.page,withPlaceholder:f,axis:n.axis,frame:h});return{...n,subject:g,frame:h}},q1=n=>{const r=n.subject.withPlaceholder;r||ie();const o=n.frame;if(!o){const f=Zr({page:n.subject.page,axis:n.axis,frame:null,withPlaceholder:null});return{...n,subject:f}}const i=r.oldFrameMaxScroll;i||ie();const a=Sm(o,i),u=Zr({page:n.subject.page,axis:n.axis,frame:a,withPlaceholder:null});return{...n,subject:u,frame:a}};var K1=({previousPageBorderBoxCenter:n,moveRelativeTo:r,insideDestination:o,draggable:i,draggables:a,destination:u,viewport:f,afterCritical:p})=>{if(!r){if(o.length)return null;const v={displaced:ns,displacedBy:gm,at:{type:"REORDER",destination:{droppableId:u.descriptor.id,index:0}}},y=el({impact:v,draggable:i,droppable:u,draggables:a,afterCritical:p}),N=ro(i,u)?u:Cm(u,i,a);return Nm({draggable:i,destination:N,newPageBorderBoxCenter:y,viewport:f.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?v:null}const h=n[u.axis.line]<=r.page.borderBox.center[u.axis.line],g=(()=>{const v=r.descriptor.index;return r.descriptor.id===i.descriptor.id||h?v:v+1})(),x=us(u.axis,i.displaceBy);return Gi({draggable:i,insideDestination:o,destination:u,viewport:f,displacedBy:x,last:ns,index:g})},Y1=({isMovingForward:n,previousPageBorderBoxCenter:r,draggable:o,isOver:i,draggables:a,droppables:u,viewport:f,afterCritical:p})=>{const h=U1({isMovingForward:n,pageBorderBoxCenter:r,source:i,droppables:u,viewport:f});if(!h)return null;const g=no(h.descriptor.id,a),x=W1({pageBorderBoxCenter:r,viewport:f,destination:h,insideDestination:g,afterCritical:p}),v=K1({previousPageBorderBoxCenter:r,destination:h,draggable:o,draggables:a,moveRelativeTo:x,insideDestination:g,viewport:f,afterCritical:p});if(!v)return null;const y=el({impact:v,draggable:o,droppable:h,draggables:a,afterCritical:p});return{clientSelection:cu({pageBorderBoxCenter:y,draggable:o,viewport:f}),impact:v,scrollJumpRequest:null}},At=n=>{const r=n.at;return r?r.type==="REORDER"?r.destination.droppableId:r.combine.droppableId:null};const Q1=(n,r)=>{const o=At(n);return o?r[o]:null};var Z1=({state:n,type:r})=>{const o=Q1(n.impact,n.dimensions.droppables),i=!!o,a=n.dimensions.droppables[n.critical.droppable.id],u=o||a,f=u.axis.direction,p=f==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||f==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(p&&!i)return null;const h=r==="MOVE_DOWN"||r==="MOVE_RIGHT",g=n.dimensions.draggables[n.critical.draggable.id],x=n.current.page.borderBoxCenter,{draggables:v,droppables:y}=n.dimensions;return p?G1({isMovingForward:h,previousPageBorderBoxCenter:x,draggable:g,destination:u,draggables:v,viewport:n.viewport,previousClientSelection:n.current.client.selection,previousImpact:n.impact,afterCritical:n.afterCritical}):Y1({isMovingForward:h,previousPageBorderBoxCenter:x,draggable:g,isOver:u,draggables:v,droppables:y,viewport:n.viewport,afterCritical:n.afterCritical})};function xr(n){return n.phase==="DRAGGING"||n.phase==="COLLECTING"}function jm(n){const r=Wt(n.top,n.bottom),o=Wt(n.left,n.right);return function(a){return r(a.y)&&o(a.x)}}function X1(n,r){return n.left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top}function J1({pageBorderBox:n,draggable:r,candidates:o}){const i=r.page.borderBox.center,a=o.map(u=>{const f=u.axis,p=wr(u.axis.line,n.center[f.line],u.page.borderBox.center[f.crossAxisLine]);return{id:u.descriptor.id,distance:ts(i,p)}}).sort((u,f)=>f.distance-u.distance);return a[0]?a[0].id:null}function ew({pageBorderBox:n,draggable:r,droppables:o}){const i=Zi(o).filter(a=>{if(!a.isEnabled)return!1;const u=a.subject.active;if(!u||!X1(n,u))return!1;if(jm(u)(n.center))return!0;const f=a.axis,p=u.center[f.crossAxisLine],h=n[f.crossAxisStart],g=n[f.crossAxisEnd],x=Wt(u[f.crossAxisStart],u[f.crossAxisEnd]),v=x(h),y=x(g);return!v&&!y?!0:v?h<p:g>p});return i.length?i.length===1?i[0].descriptor.id:J1({pageBorderBox:n,draggable:r,candidates:i}):null}const Em=(n,r)=>sn(cs(n,r));var tw=(n,r)=>{const o=n.frame;return o?Em(r,o.scroll.diff.value):r};function Pm({displaced:n,id:r}){return!!(n.visible[r]||n.invisible[r])}function nw({draggable:n,closest:r,inHomeList:o}){return r?o&&r.descriptor.index>n.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var rw=({pageBorderBoxWithDroppableScroll:n,draggable:r,destination:o,insideDestination:i,last:a,viewport:u,afterCritical:f})=>{const p=o.axis,h=us(o.axis,r.displaceBy),g=h.value,x=n[p.start],v=n[p.end],N=Ji(r,i).find(k=>{const P=k.descriptor.id,Y=k.page.borderBox.center[p.line],G=Xn(P,f),K=Pm({displaced:a,id:P});return G?K?v<=Y:x<Y-g:K?v<=Y+g:x<Y})||null,E=nw({draggable:r,closest:N,inHomeList:ro(r,o)});return Gi({draggable:r,insideDestination:i,destination:o,viewport:u,last:a,displacedBy:h,index:E})};const ow=4;var sw=({draggable:n,pageBorderBoxWithDroppableScroll:r,previousImpact:o,destination:i,insideDestination:a,afterCritical:u})=>{if(!i.isCombineEnabled)return null;const f=i.axis,p=us(i.axis,n.displaceBy),h=p.value,g=r[f.start],x=r[f.end],y=Ji(n,a).find(E=>{const k=E.descriptor.id,P=E.page.borderBox,G=P[f.size]/ow,K=Xn(k,u),V=Pm({displaced:o.displaced,id:k});return K?V?x>P[f.start]+G&&x<P[f.end]-G:g>P[f.start]-h+G&&g<P[f.end]-h-G:V?x>P[f.start]+h+G&&x<P[f.end]+h-G:g>P[f.start]+G&&g<P[f.end]-G});return y?{displacedBy:p,displaced:o.displaced,at:{type:"COMBINE",combine:{draggableId:y.descriptor.id,droppableId:i.descriptor.id}}}:null},km=({pageOffset:n,draggable:r,draggables:o,droppables:i,previousImpact:a,viewport:u,afterCritical:f})=>{const p=Em(r.page.borderBox,n),h=ew({pageBorderBox:p,draggable:r,droppables:i});if(!h)return y1;const g=i[h],x=no(g.descriptor.id,o),v=tw(g,p);return sw({pageBorderBoxWithDroppableScroll:v,draggable:r,previousImpact:a,destination:g,insideDestination:x,afterCritical:f})||rw({pageBorderBoxWithDroppableScroll:v,draggable:r,destination:g,insideDestination:x,last:a.displaced,viewport:u,afterCritical:f})},uu=(n,r)=>({...n,[r.descriptor.id]:r});const iw=({previousImpact:n,impact:r,droppables:o})=>{const i=At(n),a=At(r);if(!i||i===a)return o;const u=o[i];if(!u.subject.withPlaceholder)return o;const f=q1(u);return uu(o,f)};var lw=({draggable:n,draggables:r,droppables:o,previousImpact:i,impact:a})=>{const u=iw({previousImpact:i,impact:a,droppables:o}),f=At(a);if(!f)return u;const p=o[f];if(ro(n,p)||p.subject.withPlaceholder)return u;const h=Cm(p,n,r);return uu(u,h)},Ko=({state:n,clientSelection:r,dimensions:o,viewport:i,impact:a,scrollJumpRequest:u})=>{const f=i||n.viewport,p=o||n.dimensions,h=r||n.current.client.selection,g=It(h,n.initial.client.selection),x={offset:g,selection:h,borderBoxCenter:ct(n.initial.client.borderBoxCenter,g)},v={selection:ct(x.selection,f.scroll.current),borderBoxCenter:ct(x.borderBoxCenter,f.scroll.current),offset:ct(x.offset,f.scroll.diff.value)},y={client:x,page:v};if(n.phase==="COLLECTING")return{...n,dimensions:p,viewport:f,current:y};const N=p.draggables[n.critical.draggable.id],E=a||km({pageOffset:v.offset,draggable:N,draggables:p.draggables,droppables:p.droppables,previousImpact:n.impact,viewport:f,afterCritical:n.afterCritical}),k=lw({draggable:N,impact:E,previousImpact:n.impact,draggables:p.draggables,droppables:p.droppables});return{...n,current:y,dimensions:{draggables:p.draggables,droppables:k},impact:E,viewport:f,scrollJumpRequest:u||null,forceShouldAnimate:u?!1:null}};function aw(n,r){return n.map(o=>r[o])}var Dm=({impact:n,viewport:r,draggables:o,destination:i,forceShouldAnimate:a})=>{const u=n.displaced,f=aw(u.all,o),p=rs({afterDragging:f,destination:i,displacedBy:n.displacedBy,viewport:r.frame,forceShouldAnimate:a,last:u});return{...n,displaced:p}},Rm=({impact:n,draggable:r,droppable:o,draggables:i,viewport:a,afterCritical:u})=>{const f=el({impact:n,draggable:r,draggables:i,droppable:o,afterCritical:u});return cu({pageBorderBoxCenter:f,draggable:r,viewport:a})},Im=({state:n,dimensions:r,viewport:o})=>{n.movementMode!=="SNAP"&&ie();const i=n.impact,a=o||n.viewport,u=r||n.dimensions,{draggables:f,droppables:p}=u,h=f[n.critical.draggable.id],g=At(i);g||ie();const x=p[g],v=Dm({impact:i,viewport:a,destination:x,draggables:f}),y=Rm({impact:v,draggable:h,droppable:x,draggables:f,viewport:a,afterCritical:n.afterCritical});return Ko({impact:v,clientSelection:y,state:n,dimensions:u,viewport:a})},cw=n=>({index:n.index,droppableId:n.droppableId}),Am=({draggable:n,home:r,draggables:o,viewport:i})=>{const a=us(r.axis,n.displaceBy),u=no(r.descriptor.id,o),f=u.indexOf(n);f===-1&&ie();const p=u.slice(f+1),h=p.reduce((y,N)=>(y[N.descriptor.id]=!0,y),{}),g={inVirtualList:r.descriptor.mode==="virtual",displacedBy:a,effected:h};return{impact:{displaced:rs({afterDragging:p,destination:r,displacedBy:a,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:a,at:{type:"REORDER",destination:cw(n.descriptor)}},afterCritical:g}},uw=(n,r)=>({draggables:n.draggables,droppables:uu(n.droppables,r)}),dw=({draggable:n,offset:r,initialWindowScroll:o})=>{const i=Li(n.client,r),a=Fi(i,o);return{...n,placeholder:{...n.placeholder,client:i},client:i,page:a}},fw=n=>{const r=n.frame;return r||ie(),r},pw=({additions:n,updatedDroppables:r,viewport:o})=>{const i=o.scroll.diff.value;return n.map(a=>{const u=a.descriptor.droppableId,f=r[u],h=fw(f).scroll.diff.value,g=ct(i,h);return dw({draggable:a,offset:g,initialWindowScroll:o.scroll.initial})})},hw=({state:n,published:r})=>{const o=r.modified.map(Y=>{const G=n.dimensions.droppables[Y.droppableId];return ou(G,Y.scroll)}),i={...n.dimensions.droppables,...hm(o)},a=mm(pw({additions:r.additions,updatedDroppables:i,viewport:n.viewport})),u={...n.dimensions.draggables,...a};r.removals.forEach(Y=>{delete u[Y]});const f={droppables:i,draggables:u},p=At(n.impact),h=p?f.droppables[p]:null,g=f.draggables[n.critical.draggable.id],x=f.droppables[n.critical.droppable.id],{impact:v,afterCritical:y}=Am({draggable:g,home:x,draggables:u,viewport:n.viewport}),N=h&&h.isCombineEnabled?n.impact:v,E=km({pageOffset:n.current.page.offset,draggable:f.draggables[n.critical.draggable.id],draggables:f.draggables,droppables:f.droppables,previousImpact:N,viewport:n.viewport,afterCritical:y}),k={...n,phase:"DRAGGING",impact:E,onLiftImpact:v,dimensions:f,afterCritical:y,forceShouldAnimate:!1};return n.phase==="COLLECTING"?k:{...k,phase:"DROP_PENDING",reason:n.reason,isWaiting:!1}};const Oc=n=>n.movementMode==="SNAP",vc=(n,r,o)=>{const i=uw(n.dimensions,r);return!Oc(n)||o?Ko({state:n,dimensions:i}):Im({state:n,dimensions:i})};function xc(n){return n.isDragging&&n.movementMode==="SNAP"?{...n,scrollJumpRequest:null}:n}const Sh={phase:"IDLE",completed:null,shouldFlush:!1};var mw=(n=Sh,r)=>{if(r.type==="FLUSH")return{...Sh,shouldFlush:!0};if(r.type==="INITIAL_PUBLISH"){n.phase!=="IDLE"&&ie();const{critical:o,clientSelection:i,viewport:a,dimensions:u,movementMode:f}=r.payload,p=u.draggables[o.draggable.id],h=u.droppables[o.droppable.id],g={selection:i,borderBoxCenter:p.client.borderBox.center,offset:ot},x={client:g,page:{selection:ct(g.selection,a.scroll.initial),borderBoxCenter:ct(g.selection,a.scroll.initial),offset:ct(g.selection,a.scroll.diff.value)}},v=Zi(u.droppables).every(k=>!k.isFixedOnPage),{impact:y,afterCritical:N}=Am({draggable:p,home:h,draggables:u.draggables,viewport:a});return{phase:"DRAGGING",isDragging:!0,critical:o,movementMode:f,dimensions:u,initial:x,current:x,isWindowScrollAllowed:v,impact:y,afterCritical:N,onLiftImpact:y,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null}}if(r.type==="COLLECTION_STARTING")return n.phase==="COLLECTING"||n.phase==="DROP_PENDING"?n:(n.phase!=="DRAGGING"&&ie(),{...n,phase:"COLLECTING"});if(r.type==="PUBLISH_WHILE_DRAGGING")return n.phase==="COLLECTING"||n.phase==="DROP_PENDING"||ie(),hw({state:n,published:r.payload});if(r.type==="MOVE"){if(n.phase==="DROP_PENDING")return n;xr(n)||ie();const{client:o}=r.payload;return Zn(o,n.current.client.selection)?n:Ko({state:n,clientSelection:o,impact:Oc(n)?n.impact:null})}if(r.type==="UPDATE_DROPPABLE_SCROLL"){if(n.phase==="DROP_PENDING"||n.phase==="COLLECTING")return xc(n);xr(n)||ie();const{id:o,newScroll:i}=r.payload,a=n.dimensions.droppables[o];if(!a)return n;const u=ou(a,i);return vc(n,u,!1)}if(r.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(n.phase==="DROP_PENDING")return n;xr(n)||ie();const{id:o,isEnabled:i}=r.payload,a=n.dimensions.droppables[o];a||ie(),a.isEnabled===i&&ie();const u={...a,isEnabled:i};return vc(n,u,!0)}if(r.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(n.phase==="DROP_PENDING")return n;xr(n)||ie();const{id:o,isCombineEnabled:i}=r.payload,a=n.dimensions.droppables[o];a||ie(),a.isCombineEnabled===i&&ie();const u={...a,isCombineEnabled:i};return vc(n,u,!0)}if(r.type==="MOVE_BY_WINDOW_SCROLL"){if(n.phase==="DROP_PENDING"||n.phase==="DROP_ANIMATING")return n;xr(n)||ie(),n.isWindowScrollAllowed||ie();const o=r.payload.newScroll;if(Zn(n.viewport.scroll.current,o))return xc(n);const i=wm(n.viewport,o);return Oc(n)?Im({state:n,viewport:i}):Ko({state:n,viewport:i})}if(r.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!xr(n))return n;const o=r.payload.maxScroll;if(Zn(o,n.viewport.scroll.max))return n;const i={...n.viewport,scroll:{...n.viewport.scroll,max:o}};return{...n,viewport:i}}if(r.type==="MOVE_UP"||r.type==="MOVE_DOWN"||r.type==="MOVE_LEFT"||r.type==="MOVE_RIGHT"){if(n.phase==="COLLECTING"||n.phase==="DROP_PENDING")return n;n.phase!=="DRAGGING"&&ie();const o=Z1({state:n,type:r.type});return o?Ko({state:n,impact:o.impact,clientSelection:o.clientSelection,scrollJumpRequest:o.scrollJumpRequest}):n}if(r.type==="DROP_PENDING"){const o=r.payload.reason;return n.phase!=="COLLECTING"&&ie(),{...n,phase:"DROP_PENDING",isWaiting:!0,reason:o}}if(r.type==="DROP_ANIMATE"){const{completed:o,dropDuration:i,newHomeClientOffset:a}=r.payload;return n.phase==="DRAGGING"||n.phase==="DROP_PENDING"||ie(),{phase:"DROP_ANIMATING",completed:o,dropDuration:i,newHomeClientOffset:a,dimensions:n.dimensions}}if(r.type==="DROP_COMPLETE"){const{completed:o}=r.payload;return{phase:"IDLE",completed:o,shouldFlush:!1}}return n};function Te(n,r){return n instanceof Object&&"type"in n&&n.type===r}const gw=n=>({type:"BEFORE_INITIAL_CAPTURE",payload:n}),vw=n=>({type:"LIFT",payload:n}),xw=n=>({type:"INITIAL_PUBLISH",payload:n}),yw=n=>({type:"PUBLISH_WHILE_DRAGGING",payload:n}),bw=()=>({type:"COLLECTION_STARTING",payload:null}),ww=n=>({type:"UPDATE_DROPPABLE_SCROLL",payload:n}),Nw=n=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:n}),Sw=n=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:n}),_m=n=>({type:"MOVE",payload:n}),Cw=n=>({type:"MOVE_BY_WINDOW_SCROLL",payload:n}),jw=n=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:n}),Ew=()=>({type:"MOVE_UP",payload:null}),Pw=()=>({type:"MOVE_DOWN",payload:null}),kw=()=>({type:"MOVE_RIGHT",payload:null}),Dw=()=>({type:"MOVE_LEFT",payload:null}),du=()=>({type:"FLUSH",payload:null}),Rw=n=>({type:"DROP_ANIMATE",payload:n}),fu=n=>({type:"DROP_COMPLETE",payload:n}),Om=n=>({type:"DROP",payload:n}),Iw=n=>({type:"DROP_PENDING",payload:n}),Tm=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var Aw=n=>({getState:r,dispatch:o})=>i=>a=>{if(!Te(a,"LIFT")){i(a);return}const{id:u,clientSelection:f,movementMode:p}=a.payload,h=r();h.phase==="DROP_ANIMATING"&&o(fu({completed:h.completed})),r().phase!=="IDLE"&&ie(),o(du()),o(gw({draggableId:u,movementMode:p}));const x={draggableId:u,scrollOptions:{shouldPublishImmediately:p==="SNAP"}},{critical:v,dimensions:y,viewport:N}=n.startPublishing(x);o(xw({critical:v,dimensions:y,clientSelection:f,movementMode:p,viewport:N}))},_w=n=>()=>r=>o=>{Te(o,"INITIAL_PUBLISH")&&n.dragging(),Te(o,"DROP_ANIMATE")&&n.dropping(o.payload.completed.result.reason),(Te(o,"FLUSH")||Te(o,"DROP_COMPLETE"))&&n.resting(),r(o)};const pu={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},os={opacity:{drop:0,combining:.7},scale:{drop:.75}},Mm={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},vr=`${Mm.outOfTheWay}s ${pu.outOfTheWay}`,Yo={fluid:`opacity ${vr}`,snap:`transform ${vr}, opacity ${vr}`,drop:n=>{const r=`${n}s ${pu.drop}`;return`transform ${r}, opacity ${r}`},outOfTheWay:`transform ${vr}`,placeholder:`height ${vr}, width ${vr}, margin ${vr}`},Ch=n=>Zn(n,ot)?void 0:`translate(${n.x}px, ${n.y}px)`,Tc={moveTo:Ch,drop:(n,r)=>{const o=Ch(n);if(o)return r?`${o} scale(${os.scale.drop})`:o}},{minDropTime:Mc,maxDropTime:Lm}=Mm,Ow=Lm-Mc,jh=1500,Tw=.6;var Mw=({current:n,destination:r,reason:o})=>{const i=ts(n,r);if(i<=0)return Mc;if(i>=jh)return Lm;const a=i/jh,u=Mc+Ow*a,f=o==="CANCEL"?u*Tw:u;return Number(f.toFixed(2))},Lw=({impact:n,draggable:r,dimensions:o,viewport:i,afterCritical:a})=>{const{draggables:u,droppables:f}=o,p=At(n),h=p?f[p]:null,g=f[r.descriptor.droppableId],x=Rm({impact:n,draggable:r,draggables:u,afterCritical:a,droppable:h||g,viewport:i});return It(x,r.client.borderBox.center)},Fw=({draggables:n,reason:r,lastImpact:o,home:i,viewport:a,onLiftImpact:u})=>!o.at||r!=="DROP"?{impact:Dm({draggables:n,impact:u,destination:i,viewport:a,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:o.at.type==="REORDER"?{impact:o,didDropInsideDroppable:!0}:{impact:{...o,displaced:ns},didDropInsideDroppable:!0};const Bw=({getState:n,dispatch:r})=>o=>i=>{if(!Te(i,"DROP")){o(i);return}const a=n(),u=i.payload.reason;if(a.phase==="COLLECTING"){r(Iw({reason:u}));return}if(a.phase==="IDLE")return;a.phase==="DROP_PENDING"&&a.isWaiting&&ie(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||ie();const p=a.critical,h=a.dimensions,g=h.draggables[a.critical.draggable.id],{impact:x,didDropInsideDroppable:v}=Fw({reason:u,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),y=v?su(x):null,N=v?Xi(x):null,E={index:p.draggable.index,droppableId:p.droppable.id},k={draggableId:g.descriptor.id,type:g.descriptor.type,source:E,reason:u,mode:a.movementMode,destination:y,combine:N},P=Lw({impact:x,draggable:g,dimensions:h,viewport:a.viewport,afterCritical:a.afterCritical}),Y={critical:a.critical,afterCritical:a.afterCritical,result:k,impact:x};if(!(!Zn(a.current.client.offset,P)||!!k.combine)){r(fu({completed:Y}));return}const K=Mw({current:a.current.client.offset,destination:P,reason:u});r(Rw({newHomeClientOffset:P,dropDuration:K,completed:Y}))};var Fm=()=>({x:window.pageXOffset,y:window.pageYOffset});function $w(n){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:r=>{r.target!==window&&r.target!==window.document||n()}}}function zw({onWindowScroll:n}){function r(){n(Fm())}const o=es(r),i=$w(o);let a=Qn;function u(){return a!==Qn}function f(){u()&&ie(),a=Vt(window,[i])}function p(){u()||ie(),o.cancel(),a(),a=Qn}return{start:f,stop:p,isActive:u}}const Gw=n=>Te(n,"DROP_COMPLETE")||Te(n,"DROP_ANIMATE")||Te(n,"FLUSH"),Uw=n=>{const r=zw({onWindowScroll:o=>{n.dispatch(Cw({newScroll:o}))}});return o=>i=>{!r.isActive()&&Te(i,"INITIAL_PUBLISH")&&r.start(),r.isActive()&&Gw(i)&&r.stop(),o(i)}};var Vw=n=>{let r=!1,o=!1;const i=setTimeout(()=>{o=!0}),a=u=>{r||o||(r=!0,n(u),clearTimeout(i))};return a.wasCalled=()=>r,a},Ww=()=>{const n=[],r=a=>{const u=n.findIndex(p=>p.timerId===a);u===-1&&ie();const[f]=n.splice(u,1);f.callback()};return{add:a=>{const u=setTimeout(()=>r(u)),f={timerId:u,callback:a};n.push(f)},flush:()=>{if(!n.length)return;const a=[...n];n.length=0,a.forEach(u=>{clearTimeout(u.timerId),u.callback()})}}};const Hw=(n,r)=>n==null&&r==null?!0:n==null||r==null?!1:n.droppableId===r.droppableId&&n.index===r.index,qw=(n,r)=>n==null&&r==null?!0:n==null||r==null?!1:n.draggableId===r.draggableId&&n.droppableId===r.droppableId,Kw=(n,r)=>{if(n===r)return!0;const o=n.draggable.id===r.draggable.id&&n.draggable.droppableId===r.draggable.droppableId&&n.draggable.type===r.draggable.type&&n.draggable.index===r.draggable.index,i=n.droppable.id===r.droppable.id&&n.droppable.type===r.droppable.type;return o&&i},Vo=(n,r)=>{r()},ki=(n,r)=>({draggableId:n.draggable.id,type:n.droppable.type,source:{droppableId:n.droppable.id,index:n.draggable.index},mode:r});function yc(n,r,o,i){if(!n){o(i(r));return}const a=Vw(o);n(r,{announce:a}),a.wasCalled()||o(i(r))}var Yw=(n,r)=>{const o=Ww();let i=null;const a=(v,y)=>{i&&ie(),Vo("onBeforeCapture",()=>{const N=n().onBeforeCapture;N&&N({draggableId:v,mode:y})})},u=(v,y)=>{i&&ie(),Vo("onBeforeDragStart",()=>{const N=n().onBeforeDragStart;N&&N(ki(v,y))})},f=(v,y)=>{i&&ie();const N=ki(v,y);i={mode:y,lastCritical:v,lastLocation:N.source,lastCombine:null},o.add(()=>{Vo("onDragStart",()=>yc(n().onDragStart,N,r,Ii.onDragStart))})},p=(v,y)=>{const N=su(y),E=Xi(y);i||ie();const k=!Kw(v,i.lastCritical);k&&(i.lastCritical=v);const P=!Hw(i.lastLocation,N);P&&(i.lastLocation=N);const Y=!qw(i.lastCombine,E);if(Y&&(i.lastCombine=E),!k&&!P&&!Y)return;const G={...ki(v,i.mode),combine:E,destination:N};o.add(()=>{Vo("onDragUpdate",()=>yc(n().onDragUpdate,G,r,Ii.onDragUpdate))})},h=()=>{i||ie(),o.flush()},g=v=>{i||ie(),i=null,Vo("onDragEnd",()=>yc(n().onDragEnd,v,r,Ii.onDragEnd))};return{beforeCapture:a,beforeStart:u,start:f,update:p,flush:h,drop:g,abort:()=>{if(!i)return;const v={...ki(i.lastCritical,i.mode),combine:null,destination:null,reason:"CANCEL"};g(v)}}},Qw=(n,r)=>{const o=Yw(n,r);return i=>a=>u=>{if(Te(u,"BEFORE_INITIAL_CAPTURE")){o.beforeCapture(u.payload.draggableId,u.payload.movementMode);return}if(Te(u,"INITIAL_PUBLISH")){const p=u.payload.critical;o.beforeStart(p,u.payload.movementMode),a(u),o.start(p,u.payload.movementMode);return}if(Te(u,"DROP_COMPLETE")){const p=u.payload.completed.result;o.flush(),a(u),o.drop(p);return}if(a(u),Te(u,"FLUSH")){o.abort();return}const f=i.getState();f.phase==="DRAGGING"&&o.update(f.critical,f.impact)}};const Zw=n=>r=>o=>{if(!Te(o,"DROP_ANIMATION_FINISHED")){r(o);return}const i=n.getState();i.phase!=="DROP_ANIMATING"&&ie(),n.dispatch(fu({completed:i.completed}))},Xw=n=>{let r=null,o=null;function i(){o&&(cancelAnimationFrame(o),o=null),r&&(r(),r=null)}return a=>u=>{if((Te(u,"FLUSH")||Te(u,"DROP_COMPLETE")||Te(u,"DROP_ANIMATION_FINISHED"))&&i(),a(u),!Te(u,"DROP_ANIMATE"))return;const f={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){n.getState().phase==="DROP_ANIMATING"&&n.dispatch(Tm())}};o=requestAnimationFrame(()=>{o=null,r=Vt(window,[f])})}};var Jw=n=>()=>r=>o=>{(Te(o,"DROP_COMPLETE")||Te(o,"FLUSH")||Te(o,"DROP_ANIMATE"))&&n.stopPublishing(),r(o)},eN=n=>{let r=!1;return()=>o=>i=>{if(Te(i,"INITIAL_PUBLISH")){r=!0,n.tryRecordFocus(i.payload.critical.draggable.id),o(i),n.tryRestoreFocusRecorded();return}if(o(i),!!r){if(Te(i,"FLUSH")){r=!1,n.tryRestoreFocusRecorded();return}if(Te(i,"DROP_COMPLETE")){r=!1;const a=i.payload.completed.result;a.combine&&n.tryShiftRecord(a.draggableId,a.combine.draggableId),n.tryRestoreFocusRecorded()}}}};const tN=n=>Te(n,"DROP_COMPLETE")||Te(n,"DROP_ANIMATE")||Te(n,"FLUSH");var nN=n=>r=>o=>i=>{if(tN(i)){n.stop(),o(i);return}if(Te(i,"INITIAL_PUBLISH")){o(i);const a=r.getState();a.phase!=="DRAGGING"&&ie(),n.start(a);return}o(i),n.scroll(r.getState())};const rN=n=>r=>o=>{if(r(o),!Te(o,"PUBLISH_WHILE_DRAGGING"))return;const i=n.getState();i.phase==="DROP_PENDING"&&(i.isWaiting||n.dispatch(Om({reason:i.reason})))},oN=em;var sN=({dimensionMarshal:n,focusMarshal:r,styleMarshal:o,getResponders:i,announce:a,autoScroller:u})=>Jh(mw,oN(nb(_w(o),Jw(n),Aw(n),Bw,Zw,Xw,rN,nN(u),Uw,eN(r),Qw(i,a))));const bc=()=>({additions:{},removals:{},modified:{}});function iN({registry:n,callbacks:r}){let o=bc(),i=null;const a=()=>{i||(r.collectionStarting(),i=requestAnimationFrame(()=>{i=null;const{additions:h,removals:g,modified:x}=o,v=Object.keys(h).map(E=>n.draggable.getById(E).getDimension(ot)).sort((E,k)=>E.descriptor.index-k.descriptor.index),y=Object.keys(x).map(E=>{const P=n.droppable.getById(E).callbacks.getScrollWhileDragging();return{droppableId:E,scroll:P}}),N={additions:v,removals:Object.keys(g),modified:y};o=bc(),r.publish(N)}))};return{add:h=>{const g=h.descriptor.id;o.additions[g]=h,o.modified[h.descriptor.droppableId]=!0,o.removals[g]&&delete o.removals[g],a()},remove:h=>{const g=h.descriptor;o.removals[g.id]=!0,o.modified[g.droppableId]=!0,o.additions[g.id]&&delete o.additions[g.id],a()},stop:()=>{i&&(cancelAnimationFrame(i),i=null,o=bc())}}}var Bm=({scrollHeight:n,scrollWidth:r,height:o,width:i})=>{const a=It({x:r,y:n},{x:i,y:o});return{x:Math.max(0,a.x),y:Math.max(0,a.y)}},$m=()=>{const n=document.documentElement;return n||ie(),n},zm=()=>{const n=$m();return Bm({scrollHeight:n.scrollHeight,scrollWidth:n.scrollWidth,width:n.clientWidth,height:n.clientHeight})},lN=()=>{const n=Fm(),r=zm(),o=n.y,i=n.x,a=$m(),u=a.clientWidth,f=a.clientHeight,p=i+u,h=o+f;return{frame:sn({top:o,left:i,right:p,bottom:h}),scroll:{initial:n,current:n,max:r,diff:{value:ot,displacement:ot}}}},aN=({critical:n,scrollOptions:r,registry:o})=>{const i=lN(),a=i.scroll.current,u=n.droppable,f=o.droppable.getAllByType(u.type).map(x=>x.callbacks.getDimensionAndWatchScroll(a,r)),p=o.draggable.getAllByType(n.draggable.type).map(x=>x.getDimension(a));return{dimensions:{draggables:mm(p),droppables:hm(f)},critical:n,viewport:i}};function Eh(n,r,o){return!(o.descriptor.id===r.id||o.descriptor.type!==r.type||n.droppable.getById(o.descriptor.droppableId).descriptor.mode!=="virtual")}var cN=(n,r)=>{let o=null;const i=iN({callbacks:{publish:r.publishWhileDragging,collectionStarting:r.collectionStarting},registry:n}),a=(y,N)=>{n.droppable.exists(y)||ie(),o&&r.updateDroppableIsEnabled({id:y,isEnabled:N})},u=(y,N)=>{o&&(n.droppable.exists(y)||ie(),r.updateDroppableIsCombineEnabled({id:y,isCombineEnabled:N}))},f=(y,N)=>{o&&(n.droppable.exists(y)||ie(),r.updateDroppableScroll({id:y,newScroll:N}))},p=(y,N)=>{o&&n.droppable.getById(y).callbacks.scroll(N)},h=()=>{if(!o)return;i.stop();const y=o.critical.droppable;n.droppable.getAllByType(y.type).forEach(N=>N.callbacks.dragStopped()),o.unsubscribe(),o=null},g=y=>{o||ie();const N=o.critical.draggable;y.type==="ADDITION"&&Eh(n,N,y.value)&&i.add(y.value),y.type==="REMOVAL"&&Eh(n,N,y.value)&&i.remove(y.value)};return{updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:u,scrollDroppable:p,updateDroppableScroll:f,startPublishing:y=>{o&&ie();const N=n.draggable.getById(y.draggableId),E=n.droppable.getById(N.descriptor.droppableId),k={draggable:N.descriptor,droppable:E.descriptor},P=n.subscribe(g);return o={critical:k,unsubscribe:P},aN({critical:k,registry:n,scrollOptions:y.scrollOptions})},stopPublishing:h}},Gm=(n,r)=>n.phase==="IDLE"?!0:n.phase!=="DROP_ANIMATING"||n.completed.result.draggableId===r?!1:n.completed.result.reason==="DROP",uN=n=>{window.scrollBy(n.x,n.y)};const dN=rt(n=>Zi(n).filter(r=>!(!r.isEnabled||!r.frame))),fN=(n,r)=>dN(r).find(i=>(i.frame||ie(),jm(i.frame.pageMarginBox)(n)))||null;var pN=({center:n,destination:r,droppables:o})=>{if(r){const a=o[r];return a.frame?a:null}return fN(n,o)};const ss={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:n=>n**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var hN=(n,r,o=()=>ss)=>{const i=o(),a=n[r.size]*i.startFromPercentage,u=n[r.size]*i.maxScrollAtPercentage;return{startScrollingFrom:a,maxScrollValueAt:u}},Um=({startOfRange:n,endOfRange:r,current:o})=>{const i=r-n;return i===0?0:(o-n)/i},hu=1,mN=(n,r,o=()=>ss)=>{const i=o();if(n>r.startScrollingFrom)return 0;if(n<=r.maxScrollValueAt)return i.maxPixelScroll;if(n===r.startScrollingFrom)return hu;const u=1-Um({startOfRange:r.maxScrollValueAt,endOfRange:r.startScrollingFrom,current:n}),f=i.maxPixelScroll*i.ease(u);return Math.ceil(f)},gN=(n,r,o)=>{const i=o(),a=i.durationDampening.accelerateAt,u=i.durationDampening.stopDampeningAt,f=r,p=u,g=Date.now()-f;if(g>=u)return n;if(g<a)return hu;const x=Um({startOfRange:a,endOfRange:p,current:g}),v=n*i.ease(x);return Math.ceil(v)},Ph=({distanceToEdge:n,thresholds:r,dragStartTime:o,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const u=mN(n,r,a);return u===0?0:i?Math.max(gN(u,o,a),hu):u},kh=({container:n,distanceToEdges:r,dragStartTime:o,axis:i,shouldUseTimeDampening:a,getAutoScrollerOptions:u})=>{const f=hN(n,i,u);return r[i.end]<r[i.start]?Ph({distanceToEdge:r[i.end],thresholds:f,dragStartTime:o,shouldUseTimeDampening:a,getAutoScrollerOptions:u}):-1*Ph({distanceToEdge:r[i.start],thresholds:f,dragStartTime:o,shouldUseTimeDampening:a,getAutoScrollerOptions:u})},vN=({container:n,subject:r,proposedScroll:o})=>{const i=r.height>n.height,a=r.width>n.width;return!a&&!i?o:a&&i?null:{x:a?0:o.x,y:i?0:o.y}};const xN=pm(n=>n===0?0:n);var Vm=({dragStartTime:n,container:r,subject:o,center:i,shouldUseTimeDampening:a,getAutoScrollerOptions:u})=>{const f={top:i.y-r.top,right:r.right-i.x,bottom:r.bottom-i.y,left:i.x-r.left},p=kh({container:r,distanceToEdges:f,dragStartTime:n,axis:iu,shouldUseTimeDampening:a,getAutoScrollerOptions:u}),h=kh({container:r,distanceToEdges:f,dragStartTime:n,axis:xm,shouldUseTimeDampening:a,getAutoScrollerOptions:u}),g=xN({x:h,y:p});if(Zn(g,ot))return null;const x=vN({container:r,subject:o,proposedScroll:g});return x?Zn(x,ot)?null:x:null};const yN=pm(n=>n===0?0:n>0?1:-1),mu=(()=>{const n=(r,o)=>r<0?r:r>o?r-o:0;return({current:r,max:o,change:i})=>{const a=ct(r,i),u={x:n(a.x,o.x),y:n(a.y,o.y)};return Zn(u,ot)?null:u}})(),Wm=({max:n,current:r,change:o})=>{const i={x:Math.max(r.x,n.x),y:Math.max(r.y,n.y)},a=yN(o),u=mu({max:i,current:r,change:a});return!u||a.x!==0&&u.x===0||a.y!==0&&u.y===0},gu=(n,r)=>Wm({current:n.scroll.current,max:n.scroll.max,change:r}),bN=(n,r)=>{if(!gu(n,r))return null;const o=n.scroll.max,i=n.scroll.current;return mu({current:i,max:o,change:r})},vu=(n,r)=>{const o=n.frame;return o?Wm({current:o.scroll.current,max:o.scroll.max,change:r}):!1},wN=(n,r)=>{const o=n.frame;return!o||!vu(n,r)?null:mu({current:o.scroll.current,max:o.scroll.max,change:r})};var NN=({viewport:n,subject:r,center:o,dragStartTime:i,shouldUseTimeDampening:a,getAutoScrollerOptions:u})=>{const f=Vm({dragStartTime:i,container:n.frame,subject:r,center:o,shouldUseTimeDampening:a,getAutoScrollerOptions:u});return f&&gu(n,f)?f:null},SN=({droppable:n,subject:r,center:o,dragStartTime:i,shouldUseTimeDampening:a,getAutoScrollerOptions:u})=>{const f=n.frame;if(!f)return null;const p=Vm({dragStartTime:i,container:f.pageMarginBox,subject:r,center:o,shouldUseTimeDampening:a,getAutoScrollerOptions:u});return p&&vu(n,p)?p:null},Dh=({state:n,dragStartTime:r,shouldUseTimeDampening:o,scrollWindow:i,scrollDroppable:a,getAutoScrollerOptions:u})=>{const f=n.current.page.borderBoxCenter,h=n.dimensions.draggables[n.critical.draggable.id].page.marginBox;if(n.isWindowScrollAllowed){const v=n.viewport,y=NN({dragStartTime:r,viewport:v,subject:h,center:f,shouldUseTimeDampening:o,getAutoScrollerOptions:u});if(y){i(y);return}}const g=pN({center:f,destination:At(n.impact),droppables:n.dimensions.droppables});if(!g)return;const x=SN({dragStartTime:r,droppable:g,subject:h,center:f,shouldUseTimeDampening:o,getAutoScrollerOptions:u});x&&a(g.descriptor.id,x)},CN=({scrollWindow:n,scrollDroppable:r,getAutoScrollerOptions:o=()=>ss})=>{const i=es(n),a=es(r);let u=null;const f=g=>{u||ie();const{shouldUseTimeDampening:x,dragStartTime:v}=u;Dh({state:g,scrollWindow:i,scrollDroppable:a,dragStartTime:v,shouldUseTimeDampening:x,getAutoScrollerOptions:o})};return{start:g=>{u&&ie();const x=Date.now();let v=!1;const y=()=>{v=!0};Dh({state:g,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:y,scrollDroppable:y,getAutoScrollerOptions:o}),u={dragStartTime:x,shouldUseTimeDampening:v},v&&f(g)},stop:()=>{u&&(i.cancel(),a.cancel(),u=null)},scroll:f}},jN=({move:n,scrollDroppable:r,scrollWindow:o})=>{const i=(p,h)=>{const g=ct(p.current.client.selection,h);n({client:g})},a=(p,h)=>{if(!vu(p,h))return h;const g=wN(p,h);if(!g)return r(p.descriptor.id,h),null;const x=It(h,g);return r(p.descriptor.id,x),It(h,x)},u=(p,h,g)=>{if(!p||!gu(h,g))return g;const x=bN(h,g);if(!x)return o(g),null;const v=It(g,x);return o(v),It(g,v)};return p=>{const h=p.scrollJumpRequest;if(!h)return;const g=At(p.impact);g||ie();const x=a(p.dimensions.droppables[g],h);if(!x)return;const v=p.viewport,y=u(p.isWindowScrollAllowed,v,x);y&&i(p,y)}},EN=({scrollDroppable:n,scrollWindow:r,move:o,getAutoScrollerOptions:i})=>{const a=CN({scrollWindow:r,scrollDroppable:n,getAutoScrollerOptions:i}),u=jN({move:o,scrollWindow:r,scrollDroppable:n});return{scroll:h=>{if(!(i().disabled||h.phase!=="DRAGGING")){if(h.movementMode==="FLUID"){a.scroll(h);return}h.scrollJumpRequest&&u(h)}},start:a.start,stop:a.stop}};const Xr="data-rfd",Jr=(()=>{const n=`${Xr}-drag-handle`;return{base:n,draggableId:`${n}-draggable-id`,contextId:`${n}-context-id`}})(),Lc=(()=>{const n=`${Xr}-draggable`;return{base:n,contextId:`${n}-context-id`,id:`${n}-id`}})(),PN=(()=>{const n=`${Xr}-droppable`;return{base:n,contextId:`${n}-context-id`,id:`${n}-id`}})(),Rh={contextId:`${Xr}-scroll-container-context-id`},kN=n=>r=>`[${r}="${n}"]`,Wo=(n,r)=>n.map(o=>{const i=o.styles[r];return i?`${o.selector} { ${i} }`:""}).join(" "),DN="pointer-events: none;";var RN=n=>{const r=kN(n),o=(()=>{const p=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:r(Jr.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:p,dragging:DN,dropAnimating:p}}})(),i=(()=>{const p=`
      transition: ${Yo.outOfTheWay};
    `;return{selector:r(Lc.contextId),styles:{dragging:p,dropAnimating:p,userCancel:p}}})(),a={selector:r(PN.contextId),styles:{always:"overflow-anchor: none;"}},f=[i,o,a,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Wo(f,"always"),resting:Wo(f,"resting"),dragging:Wo(f,"dragging"),dropAnimating:Wo(f,"dropAnimating"),userCancel:Wo(f,"userCancel")}};const _t=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?w.useLayoutEffect:w.useEffect,wc=()=>{const n=document.querySelector("head");return n||ie(),n},Ih=n=>{const r=document.createElement("style");return n&&r.setAttribute("nonce",n),r.type="text/css",r};function IN(n,r){const o=Ae(()=>RN(n),[n]),i=w.useRef(null),a=w.useRef(null),u=we(rt(v=>{const y=a.current;y||ie(),y.textContent=v}),[]),f=we(v=>{const y=i.current;y||ie(),y.textContent=v},[]);_t(()=>{!i.current&&!a.current||ie();const v=Ih(r),y=Ih(r);return i.current=v,a.current=y,v.setAttribute(`${Xr}-always`,n),y.setAttribute(`${Xr}-dynamic`,n),wc().appendChild(v),wc().appendChild(y),f(o.always),u(o.resting),()=>{const N=E=>{const k=E.current;k||ie(),wc().removeChild(k),E.current=null};N(i),N(a)}},[r,f,u,o.always,o.resting,n]);const p=we(()=>u(o.dragging),[u,o.dragging]),h=we(v=>{if(v==="DROP"){u(o.dropAnimating);return}u(o.userCancel)},[u,o.dropAnimating,o.userCancel]),g=we(()=>{a.current&&u(o.resting)},[u,o.resting]);return Ae(()=>({dragging:p,dropping:h,resting:g}),[p,h,g])}function Hm(n,r){return Array.from(n.querySelectorAll(r))}var qm=n=>n&&n.ownerDocument&&n.ownerDocument.defaultView?n.ownerDocument.defaultView:window;function tl(n){return n instanceof qm(n).HTMLElement}function AN(n,r){const o=`[${Jr.contextId}="${n}"]`,i=Hm(document,o);if(!i.length)return null;const a=i.find(u=>u.getAttribute(Jr.draggableId)===r);return!a||!tl(a)?null:a}function _N(n){const r=w.useRef({}),o=w.useRef(null),i=w.useRef(null),a=w.useRef(!1),u=we(function(y,N){const E={id:y,focus:N};return r.current[y]=E,function(){const P=r.current;P[y]!==E&&delete P[y]}},[]),f=we(function(y){const N=AN(n,y);N&&N!==document.activeElement&&N.focus()},[n]),p=we(function(y,N){o.current===y&&(o.current=N)},[]),h=we(function(){i.current||a.current&&(i.current=requestAnimationFrame(()=>{i.current=null;const y=o.current;y&&f(y)}))},[f]),g=we(function(y){o.current=null;const N=document.activeElement;N&&N.getAttribute(Jr.draggableId)===y&&(o.current=y)},[]);return _t(()=>(a.current=!0,function(){a.current=!1;const y=i.current;y&&cancelAnimationFrame(y)}),[]),Ae(()=>({register:u,tryRecordFocus:g,tryRestoreFocusRecorded:h,tryShiftRecord:p}),[u,g,h,p])}function ON(){const n={draggables:{},droppables:{}},r=[];function o(v){return r.push(v),function(){const N=r.indexOf(v);N!==-1&&r.splice(N,1)}}function i(v){r.length&&r.forEach(y=>y(v))}function a(v){return n.draggables[v]||null}function u(v){const y=a(v);return y||ie(),y}const f={register:v=>{n.draggables[v.descriptor.id]=v,i({type:"ADDITION",value:v})},update:(v,y)=>{const N=n.draggables[y.descriptor.id];N&&N.uniqueId===v.uniqueId&&(delete n.draggables[y.descriptor.id],n.draggables[v.descriptor.id]=v)},unregister:v=>{const y=v.descriptor.id,N=a(y);N&&v.uniqueId===N.uniqueId&&(delete n.draggables[y],n.droppables[v.descriptor.droppableId]&&i({type:"REMOVAL",value:v}))},getById:u,findById:a,exists:v=>!!a(v),getAllByType:v=>Object.values(n.draggables).filter(y=>y.descriptor.type===v)};function p(v){return n.droppables[v]||null}function h(v){const y=p(v);return y||ie(),y}const g={register:v=>{n.droppables[v.descriptor.id]=v},unregister:v=>{const y=p(v.descriptor.id);y&&v.uniqueId===y.uniqueId&&delete n.droppables[v.descriptor.id]},getById:h,findById:p,exists:v=>!!p(v),getAllByType:v=>Object.values(n.droppables).filter(y=>y.descriptor.type===v)};function x(){n.draggables={},n.droppables={},r.length=0}return{draggable:f,droppable:g,subscribe:o,clean:x}}function TN(){const n=Ae(ON,[]);return w.useEffect(()=>function(){n.clean()},[n]),n}var xu=Pe.createContext(null),Ui=()=>{const n=document.body;return n||ie(),n};const MN={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},LN=n=>`rfd-announcement-${n}`;function FN(n){const r=Ae(()=>LN(n),[n]),o=w.useRef(null);return w.useEffect(function(){const u=document.createElement("div");return o.current=u,u.id=r,u.setAttribute("aria-live","assertive"),u.setAttribute("aria-atomic","true"),Bi(u.style,MN),Ui().appendChild(u),function(){setTimeout(function(){const h=Ui();h.contains(u)&&h.removeChild(u),u===o.current&&(o.current=null)})}},[r]),we(a=>{const u=o.current;if(u){u.textContent=a;return}},[])}const BN={separator:"::"};function yu(n,r=BN){const o=Pe.useId();return Ae(()=>`${n}${r.separator}${o}`,[r.separator,n,o])}function $N({contextId:n,uniqueId:r}){return`rfd-hidden-text-${n}-${r}`}function zN({contextId:n,text:r}){const o=yu("hidden-text",{separator:"-"}),i=Ae(()=>$N({contextId:n,uniqueId:o}),[o,n]);return w.useEffect(function(){const u=document.createElement("div");return u.id=i,u.textContent=r,u.style.display="none",Ui().appendChild(u),function(){const p=Ui();p.contains(u)&&p.removeChild(u)}},[i,r]),i}var nl=Pe.createContext(null);function Km(n){const r=w.useRef(n);return w.useEffect(()=>{r.current=n}),r}function GN(){let n=null;function r(){return!!n}function o(f){return f===n}function i(f){n&&ie();const p={abandon:f};return n=p,p}function a(){n||ie(),n=null}function u(){n&&(n.abandon(),a())}return{isClaimed:r,isActive:o,claim:i,release:a,tryAbandon:u}}function is(n){return n.phase==="IDLE"||n.phase==="DROP_ANIMATING"?!1:n.isDragging}const UN=9,VN=13,bu=27,Ym=32,WN=33,HN=34,qN=35,KN=36,YN=37,QN=38,ZN=39,XN=40,JN={[VN]:!0,[UN]:!0};var Qm=n=>{JN[n.keyCode]&&n.preventDefault()};const rl=(()=>{const n="visibilitychange";return typeof document>"u"?n:[n,`ms${n}`,`webkit${n}`,`moz${n}`,`o${n}`].find(i=>`on${i}`in document)||n})(),Zm=0,Ah=5;function e2(n,r){return Math.abs(r.x-n.x)>=Ah||Math.abs(r.y-n.y)>=Ah}const _h={type:"IDLE"};function t2({cancel:n,completed:r,getPhase:o,setPhase:i}){return[{eventName:"mousemove",fn:a=>{const{button:u,clientX:f,clientY:p}=a;if(u!==Zm)return;const h={x:f,y:p},g=o();if(g.type==="DRAGGING"){a.preventDefault(),g.actions.move(h);return}g.type!=="PENDING"&&ie();const x=g.point;if(!e2(x,h))return;a.preventDefault();const v=g.actions.fluidLift(h);i({type:"DRAGGING",actions:v})}},{eventName:"mouseup",fn:a=>{const u=o();if(u.type!=="DRAGGING"){n();return}a.preventDefault(),u.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:a=>{o().type==="DRAGGING"&&a.preventDefault(),n()}},{eventName:"keydown",fn:a=>{if(o().type==="PENDING"){n();return}if(a.keyCode===bu){a.preventDefault(),n();return}Qm(a)}},{eventName:"resize",fn:n},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{o().type==="PENDING"&&n()}},{eventName:"webkitmouseforcedown",fn:a=>{const u=o();if(u.type==="IDLE"&&ie(),u.actions.shouldRespectForcePress()){n();return}a.preventDefault()}},{eventName:rl,fn:n}]}function n2(n){const r=w.useRef(_h),o=w.useRef(Qn),i=Ae(()=>({eventName:"mousedown",fn:function(v){if(v.defaultPrevented||v.button!==Zm||v.ctrlKey||v.metaKey||v.shiftKey||v.altKey)return;const y=n.findClosestDraggableId(v);if(!y)return;const N=n.tryGetLock(y,f,{sourceEvent:v});if(!N)return;v.preventDefault();const E={x:v.clientX,y:v.clientY};o.current(),g(N,E)}}),[n]),a=Ae(()=>({eventName:"webkitmouseforcewillbegin",fn:x=>{if(x.defaultPrevented)return;const v=n.findClosestDraggableId(x);if(!v)return;const y=n.findOptionsForDraggable(v);y&&(y.shouldRespectForcePress||n.canGetLock(v)&&x.preventDefault())}}),[n]),u=we(function(){const v={passive:!1,capture:!0};o.current=Vt(window,[a,i],v)},[a,i]),f=we(()=>{r.current.type!=="IDLE"&&(r.current=_h,o.current(),u())},[u]),p=we(()=>{const x=r.current;f(),x.type==="DRAGGING"&&x.actions.cancel({shouldBlockNextClick:!0}),x.type==="PENDING"&&x.actions.abort()},[f]),h=we(function(){const v={capture:!0,passive:!1},y=t2({cancel:p,completed:f,getPhase:()=>r.current,setPhase:N=>{r.current=N}});o.current=Vt(window,y,v)},[p,f]),g=we(function(v,y){r.current.type!=="IDLE"&&ie(),r.current={type:"PENDING",point:y,actions:v},h()},[h]);_t(function(){return u(),function(){o.current()}},[u])}function r2(){}const o2={[HN]:!0,[WN]:!0,[KN]:!0,[qN]:!0};function s2(n,r){function o(){r(),n.cancel()}function i(){r(),n.drop()}return[{eventName:"keydown",fn:a=>{if(a.keyCode===bu){a.preventDefault(),o();return}if(a.keyCode===Ym){a.preventDefault(),i();return}if(a.keyCode===XN){a.preventDefault(),n.moveDown();return}if(a.keyCode===QN){a.preventDefault(),n.moveUp();return}if(a.keyCode===ZN){a.preventDefault(),n.moveRight();return}if(a.keyCode===YN){a.preventDefault(),n.moveLeft();return}if(o2[a.keyCode]){a.preventDefault();return}Qm(a)}},{eventName:"mousedown",fn:o},{eventName:"mouseup",fn:o},{eventName:"click",fn:o},{eventName:"touchstart",fn:o},{eventName:"resize",fn:o},{eventName:"wheel",fn:o,options:{passive:!0}},{eventName:rl,fn:o}]}function i2(n){const r=w.useRef(r2),o=Ae(()=>({eventName:"keydown",fn:function(u){if(u.defaultPrevented||u.keyCode!==Ym)return;const f=n.findClosestDraggableId(u);if(!f)return;const p=n.tryGetLock(f,x,{sourceEvent:u});if(!p)return;u.preventDefault();let h=!0;const g=p.snapLift();r.current();function x(){h||ie(),h=!1,r.current(),i()}r.current=Vt(window,s2(g,x),{capture:!0,passive:!1})}}),[n]),i=we(function(){const u={passive:!1,capture:!0};r.current=Vt(window,[o],u)},[o]);_t(function(){return i(),function(){r.current()}},[i])}const Nc={type:"IDLE"},l2=120,a2=.15;function c2({cancel:n,getPhase:r}){return[{eventName:"orientationchange",fn:n},{eventName:"resize",fn:n},{eventName:"contextmenu",fn:o=>{o.preventDefault()}},{eventName:"keydown",fn:o=>{if(r().type!=="DRAGGING"){n();return}o.keyCode===bu&&o.preventDefault(),n()}},{eventName:rl,fn:n}]}function u2({cancel:n,completed:r,getPhase:o}){return[{eventName:"touchmove",options:{capture:!1},fn:i=>{const a=o();if(a.type!=="DRAGGING"){n();return}a.hasMoved=!0;const{clientX:u,clientY:f}=i.touches[0],p={x:u,y:f};i.preventDefault(),a.actions.move(p)}},{eventName:"touchend",fn:i=>{const a=o();if(a.type!=="DRAGGING"){n();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:i=>{if(o().type!=="DRAGGING"){n();return}i.preventDefault(),n()}},{eventName:"touchforcechange",fn:i=>{const a=o();a.type==="IDLE"&&ie();const u=i.touches[0];if(!u||!(u.force>=a2))return;const p=a.actions.shouldRespectForcePress();if(a.type==="PENDING"){p&&n();return}if(p){if(a.hasMoved){i.preventDefault();return}n();return}i.preventDefault()}},{eventName:rl,fn:n}]}function d2(n){const r=w.useRef(Nc),o=w.useRef(Qn),i=we(function(){return r.current},[]),a=we(function(N){r.current=N},[]),u=Ae(()=>({eventName:"touchstart",fn:function(N){if(N.defaultPrevented)return;const E=n.findClosestDraggableId(N);if(!E)return;const k=n.tryGetLock(E,p,{sourceEvent:N});if(!k)return;const P=N.touches[0],{clientX:Y,clientY:G}=P,K={x:Y,y:G};o.current(),v(k,K)}}),[n]),f=we(function(){const N={capture:!0,passive:!1};o.current=Vt(window,[u],N)},[u]),p=we(()=>{const y=r.current;y.type!=="IDLE"&&(y.type==="PENDING"&&clearTimeout(y.longPressTimerId),a(Nc),o.current(),f())},[f,a]),h=we(()=>{const y=r.current;p(),y.type==="DRAGGING"&&y.actions.cancel({shouldBlockNextClick:!0}),y.type==="PENDING"&&y.actions.abort()},[p]),g=we(function(){const N={capture:!0,passive:!1},E={cancel:h,completed:p,getPhase:i},k=Vt(window,u2(E),N),P=Vt(window,c2(E),N);o.current=function(){k(),P()}},[h,i,p]),x=we(function(){const N=i();N.type!=="PENDING"&&ie();const E=N.actions.fluidLift(N.point);a({type:"DRAGGING",actions:E,hasMoved:!1})},[i,a]),v=we(function(N,E){i().type!=="IDLE"&&ie();const k=setTimeout(x,l2);a({type:"PENDING",point:E,actions:N,longPressTimerId:k}),g()},[g,i,a,x]);_t(function(){return f(),function(){o.current();const E=i();E.type==="PENDING"&&(clearTimeout(E.longPressTimerId),a(Nc))}},[i,f,a]),_t(function(){return Vt(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const f2=["input","button","textarea","select","option","optgroup","video","audio"];function Xm(n,r){if(r==null)return!1;if(f2.includes(r.tagName.toLowerCase()))return!0;const i=r.getAttribute("contenteditable");return i==="true"||i===""?!0:r===n?!1:Xm(n,r.parentElement)}function p2(n,r){const o=r.target;return tl(o)?Xm(n,o):!1}var h2=n=>sn(n.getBoundingClientRect()).center;function m2(n){return n instanceof qm(n).Element}const g2=(()=>{const n="matches";return typeof document>"u"?n:[n,"msMatchesSelector","webkitMatchesSelector"].find(i=>i in Element.prototype)||n})();function Jm(n,r){return n==null?null:n[g2](r)?n:Jm(n.parentElement,r)}function v2(n,r){return n.closest?n.closest(r):Jm(n,r)}function x2(n){return`[${Jr.contextId}="${n}"]`}function y2(n,r){const o=r.target;if(!m2(o))return null;const i=x2(n),a=v2(o,i);return!a||!tl(a)?null:a}function b2(n,r){const o=y2(n,r);return o?o.getAttribute(Jr.draggableId):null}function w2(n,r){const o=`[${Lc.contextId}="${n}"]`,a=Hm(document,o).find(u=>u.getAttribute(Lc.id)===r);return!a||!tl(a)?null:a}function N2(n){n.preventDefault()}function Di({expected:n,phase:r,isLockActive:o,shouldWarn:i}){return!(!o()||n!==r)}function eg({lockAPI:n,store:r,registry:o,draggableId:i}){if(n.isClaimed())return!1;const a=o.draggable.findById(i);return!(!a||!a.options.isEnabled||!Gm(r.getState(),i))}function S2({lockAPI:n,contextId:r,store:o,registry:i,draggableId:a,forceSensorStop:u,sourceEvent:f}){if(!eg({lockAPI:n,store:o,registry:i,draggableId:a}))return null;const h=i.draggable.getById(a),g=w2(r,h.descriptor.id);if(!g||f&&!h.options.canDragInteractiveElements&&p2(g,f))return null;const x=n.claim(u||Qn);let v="PRE_DRAG";function y(){return h.options.shouldRespectForcePress}function N(){return n.isActive(x)}function E(T,$){Di({expected:T,phase:v,isLockActive:N,shouldWarn:!0})&&o.dispatch($())}const k=E.bind(null,"DRAGGING");function P(T){function $(){n.release(),v="COMPLETED"}v!=="PRE_DRAG"&&($(),ie()),o.dispatch(vw(T.liftActionArgs)),v="DRAGGING";function B(A,z={shouldBlockNextClick:!1}){if(T.cleanup(),z.shouldBlockNextClick){const U=Vt(window,[{eventName:"click",fn:N2,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(U)}$(),o.dispatch(Om({reason:A}))}return{isActive:()=>Di({expected:"DRAGGING",phase:v,isLockActive:N,shouldWarn:!1}),shouldRespectForcePress:y,drop:A=>B("DROP",A),cancel:A=>B("CANCEL",A),...T.actions}}function Y(T){const $=es(A=>{k(()=>_m({client:A}))});return{...P({liftActionArgs:{id:a,clientSelection:T,movementMode:"FLUID"},cleanup:()=>$.cancel(),actions:{move:$}}),move:$}}function G(){const T={moveUp:()=>k(Ew),moveRight:()=>k(kw),moveDown:()=>k(Pw),moveLeft:()=>k(Dw)};return P({liftActionArgs:{id:a,clientSelection:h2(g),movementMode:"SNAP"},cleanup:Qn,actions:T})}function K(){Di({expected:"PRE_DRAG",phase:v,isLockActive:N,shouldWarn:!0})&&n.release()}return{isActive:()=>Di({expected:"PRE_DRAG",phase:v,isLockActive:N,shouldWarn:!1}),shouldRespectForcePress:y,fluidLift:Y,snapLift:G,abort:K}}const C2=[n2,i2,d2];function j2({contextId:n,store:r,registry:o,customSensors:i,enableDefaultSensors:a}){const u=[...a?C2:[],...i||[]],f=w.useState(()=>GN())[0],p=we(function(P,Y){is(P)&&!is(Y)&&f.tryAbandon()},[f]);_t(function(){let P=r.getState();return r.subscribe(()=>{const G=r.getState();p(P,G),P=G})},[f,r,p]),_t(()=>f.tryAbandon,[f.tryAbandon]);const h=we(k=>eg({lockAPI:f,registry:o,store:r,draggableId:k}),[f,o,r]),g=we((k,P,Y)=>S2({lockAPI:f,registry:o,contextId:n,store:r,draggableId:k,forceSensorStop:P||null,sourceEvent:Y&&Y.sourceEvent?Y.sourceEvent:null}),[n,f,o,r]),x=we(k=>b2(n,k),[n]),v=we(k=>{const P=o.draggable.findById(k);return P?P.options:null},[o.draggable]),y=we(function(){f.isClaimed()&&(f.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(du()))},[f,r]),N=we(()=>f.isClaimed(),[f]),E=Ae(()=>({canGetLock:h,tryGetLock:g,findClosestDraggableId:x,findOptionsForDraggable:v,tryReleaseLock:y,isLockClaimed:N}),[h,g,x,v,y,N]);for(let k=0;k<u.length;k++)u[k](E)}const E2=n=>({onBeforeCapture:r=>{const o=()=>{n.onBeforeCapture&&n.onBeforeCapture(r)};Qi.flushSync(o)},onBeforeDragStart:n.onBeforeDragStart,onDragStart:n.onDragStart,onDragEnd:n.onDragEnd,onDragUpdate:n.onDragUpdate}),P2=n=>({...ss,...n.autoScrollerOptions,durationDampening:{...ss.durationDampening,...n.autoScrollerOptions}});function Ho(n){return n.current||ie(),n.current}function k2(n){const{contextId:r,setCallbacks:o,sensors:i,nonce:a,dragHandleUsageInstructions:u}=n,f=w.useRef(null),p=Km(n),h=we(()=>E2(p.current),[p]),g=we(()=>P2(p.current),[p]),x=FN(r),v=zN({contextId:r,text:u}),y=IN(r,a),N=we(U=>{Ho(f).dispatch(U)},[]),E=Ae(()=>sh({publishWhileDragging:yw,updateDroppableScroll:ww,updateDroppableIsEnabled:Nw,updateDroppableIsCombineEnabled:Sw,collectionStarting:bw},N),[N]),k=TN(),P=Ae(()=>cN(k,E),[k,E]),Y=Ae(()=>EN({scrollWindow:uN,scrollDroppable:P.scrollDroppable,getAutoScrollerOptions:g,...sh({move:_m},N)}),[P.scrollDroppable,N,g]),G=_N(r),K=Ae(()=>sN({announce:x,autoScroller:Y,dimensionMarshal:P,focusMarshal:G,getResponders:h,styleMarshal:y}),[x,Y,P,G,h,y]);f.current=K;const V=we(()=>{const U=Ho(f);U.getState().phase!=="IDLE"&&U.dispatch(du())},[]),T=we(()=>{const U=Ho(f).getState();return U.phase==="DROP_ANIMATING"?!0:U.phase==="IDLE"?!1:U.isDragging},[]),$=Ae(()=>({isDragging:T,tryAbort:V}),[T,V]);o($);const B=we(U=>Gm(Ho(f).getState(),U),[]),A=we(()=>xr(Ho(f).getState()),[]),z=Ae(()=>({marshal:P,focus:G,contextId:r,canLift:B,isMovementAllowed:A,dragHandleUsageInstructionsId:v,registry:k}),[r,P,v,G,B,A,k]);return j2({contextId:r,store:K,registry:k,customSensors:i||null,enableDefaultSensors:n.enableDefaultSensors!==!1}),w.useEffect(()=>V,[V]),Pe.createElement(nl.Provider,{value:z},Pe.createElement(Jb,{context:xu,store:K},n.children))}function D2(){return Pe.useId()}function R2(n){const r=D2(),o=n.dragHandleUsageInstructions||Ii.dragHandleUsageInstructions;return Pe.createElement(i1,null,i=>Pe.createElement(k2,{nonce:n.nonce,contextId:r,setCallbacks:i,dragHandleUsageInstructions:o,enableDefaultSensors:n.enableDefaultSensors,sensors:n.sensors,onBeforeCapture:n.onBeforeCapture,onBeforeDragStart:n.onBeforeDragStart,onDragStart:n.onDragStart,onDragUpdate:n.onDragUpdate,onDragEnd:n.onDragEnd,autoScrollerOptions:n.autoScrollerOptions},n.children))}const Oh={dragging:5e3,dropAnimating:4500},I2=(n,r)=>r?Yo.drop(r.duration):n?Yo.snap:Yo.fluid,A2=(n,r)=>{if(n)return r?os.opacity.drop:os.opacity.combining},_2=n=>n.forceShouldAnimate!=null?n.forceShouldAnimate:n.mode==="SNAP";function O2(n){const o=n.dimension.client,{offset:i,combineWith:a,dropping:u}=n,f=!!a,p=_2(n),h=!!u,g=h?Tc.drop(i,f):Tc.moveTo(i);return{position:"fixed",top:o.marginBox.top,left:o.marginBox.left,boxSizing:"border-box",width:o.borderBox.width,height:o.borderBox.height,transition:I2(p,u),transform:g,opacity:A2(f,h),zIndex:h?Oh.dropAnimating:Oh.dragging,pointerEvents:"none"}}function T2(n){return{transform:Tc.moveTo(n.offset),transition:n.shouldAnimateDisplacement?void 0:"none"}}function M2(n){return n.type==="DRAGGING"?O2(n):T2(n)}function L2(n,r,o=ot){const i=window.getComputedStyle(r),a=r.getBoundingClientRect(),u=lm(a,i),f=Fi(u,o),p={client:u,tagName:r.tagName.toLowerCase(),display:i.display},h={x:u.marginBox.width,y:u.marginBox.height};return{descriptor:n,placeholder:p,displaceBy:h,client:u,page:f}}function F2(n){const r=yu("draggable"),{descriptor:o,registry:i,getDraggableRef:a,canDragInteractiveElements:u,shouldRespectForcePress:f,isEnabled:p}=n,h=Ae(()=>({canDragInteractiveElements:u,shouldRespectForcePress:f,isEnabled:p}),[u,p,f]),g=we(N=>{const E=a();return E||ie(),L2(o,E,N)},[o,a]),x=Ae(()=>({uniqueId:r,descriptor:o,options:h,getDimension:g}),[o,g,h,r]),v=w.useRef(x),y=w.useRef(!0);_t(()=>(i.draggable.register(v.current),()=>i.draggable.unregister(v.current)),[i.draggable]),_t(()=>{if(y.current){y.current=!1;return}const N=v.current;v.current=x,i.draggable.update(x,N)},[x,i.draggable])}var wu=Pe.createContext(null);function Vi(n){const r=w.useContext(n);return r||ie(),r}function B2(n){n.preventDefault()}const $2=n=>{const r=w.useRef(null),o=we(($=null)=>{r.current=$},[]),i=we(()=>r.current,[]),{contextId:a,dragHandleUsageInstructionsId:u,registry:f}=Vi(nl),{type:p,droppableId:h}=Vi(wu),g=Ae(()=>({id:n.draggableId,index:n.index,type:p,droppableId:h}),[n.draggableId,n.index,p,h]),{children:x,draggableId:v,isEnabled:y,shouldRespectForcePress:N,canDragInteractiveElements:E,isClone:k,mapped:P,dropAnimationFinished:Y}=n;if(!k){const $=Ae(()=>({descriptor:g,registry:f,getDraggableRef:i,canDragInteractiveElements:E,shouldRespectForcePress:N,isEnabled:y}),[g,f,i,E,N,y]);F2($)}const G=Ae(()=>y?{tabIndex:0,role:"button","aria-describedby":u,"data-rfd-drag-handle-draggable-id":v,"data-rfd-drag-handle-context-id":a,draggable:!1,onDragStart:B2}:null,[a,u,v,y]),K=we($=>{P.type==="DRAGGING"&&P.dropping&&$.propertyName==="transform"&&Qi.flushSync(Y)},[Y,P]),V=Ae(()=>{const $=M2(P),B=P.type==="DRAGGING"&&P.dropping?K:void 0;return{innerRef:o,draggableProps:{"data-rfd-draggable-context-id":a,"data-rfd-draggable-id":v,style:$,onTransitionEnd:B},dragHandleProps:G}},[a,G,v,P,K,o]),T=Ae(()=>({draggableId:g.id,type:g.type,source:{index:g.index,droppableId:g.droppableId}}),[g.droppableId,g.id,g.index,g.type]);return Pe.createElement(Pe.Fragment,null,x(V,P.snapshot,T))};var tg=(n,r)=>n===r,ng=n=>{const{combine:r,destination:o}=n;return o?o.droppableId:r?r.droppableId:null};const z2=n=>n.combine?n.combine.draggableId:null,G2=n=>n.at&&n.at.type==="COMBINE"?n.at.combine.draggableId:null;function U2(){const n=rt((a,u)=>({x:a,y:u})),r=rt((a,u,f=null,p=null,h=null)=>({isDragging:!0,isClone:u,isDropAnimating:!!h,dropAnimation:h,mode:a,draggingOver:f,combineWith:p,combineTargetFor:null})),o=rt((a,u,f,p,h=null,g=null,x=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:h,combineWith:g,mode:u,offset:a,dimension:f,forceShouldAnimate:x,snapshot:r(u,p,h,g,null)}}));return(a,u)=>{if(is(a)){if(a.critical.draggable.id!==u.draggableId)return null;const f=a.current.client.offset,p=a.dimensions.draggables[u.draggableId],h=At(a.impact),g=G2(a.impact),x=a.forceShouldAnimate;return o(n(f.x,f.y),a.movementMode,p,u.isClone,h,g,x)}if(a.phase==="DROP_ANIMATING"){const f=a.completed;if(f.result.draggableId!==u.draggableId)return null;const p=u.isClone,h=a.dimensions.draggables[u.draggableId],g=f.result,x=g.mode,v=ng(g),y=z2(g),E={duration:a.dropDuration,curve:pu.drop,moveTo:a.newHomeClientOffset,opacity:y?os.opacity.drop:null,scale:y?os.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:h,dropping:E,draggingOver:v,combineWith:y,mode:x,forceShouldAnimate:null,snapshot:r(x,p,v,y,E)}}}return null}}function rg(n=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:n,combineWith:null}}const V2={mapped:{type:"SECONDARY",offset:ot,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:rg(null)}};function W2(){const n=rt((f,p)=>({x:f,y:p})),r=rt(rg),o=rt((f,p=null,h)=>({mapped:{type:"SECONDARY",offset:f,combineTargetFor:p,shouldAnimateDisplacement:h,snapshot:r(p)}})),i=f=>f?o(ot,f,!0):null,a=(f,p,h,g)=>{const x=h.displaced.visible[f],v=!!(g.inVirtualList&&g.effected[f]),y=Xi(h),N=y&&y.draggableId===f?p:null;if(!x){if(!v)return i(N);if(h.displaced.invisible[f])return null;const P=to(g.displacedBy.point),Y=n(P.x,P.y);return o(Y,N,!0)}if(v)return i(N);const E=h.displacedBy.point,k=n(E.x,E.y);return o(k,N,x.shouldAnimate)};return(f,p)=>{if(is(f))return f.critical.draggable.id===p.draggableId?null:a(p.draggableId,f.critical.draggable.id,f.impact,f.afterCritical);if(f.phase==="DROP_ANIMATING"){const h=f.completed;return h.result.draggableId===p.draggableId?null:a(p.draggableId,h.result.draggableId,h.impact,h.afterCritical)}return null}}const H2=()=>{const n=U2(),r=W2();return(i,a)=>n(i,a)||r(i,a)||V2},q2={dropAnimationFinished:Tm},K2=im(H2,q2,null,{context:xu,areStatePropsEqual:tg})($2);function og(n){return Vi(wu).isUsingCloneFor===n.draggableId&&!n.isClone?null:Pe.createElement(K2,n)}function Y2(n){const r=typeof n.isDragDisabled=="boolean"?!n.isDragDisabled:!0,o=!!n.disableInteractiveElementBlocking,i=!!n.shouldRespectForcePress;return Pe.createElement(og,Bi({},n,{isClone:!1,isEnabled:r,canDragInteractiveElements:o,shouldRespectForcePress:i}))}const sg=n=>r=>n===r,Q2=sg("scroll"),Z2=sg("auto"),Th=(n,r)=>r(n.overflowX)||r(n.overflowY),X2=n=>{const r=window.getComputedStyle(n),o={overflowX:r.overflowX,overflowY:r.overflowY};return Th(o,Q2)||Th(o,Z2)},J2=()=>!1,ig=n=>n==null?null:n===document.body?J2()?n:null:n===document.documentElement?null:X2(n)?n:ig(n.parentElement);var Fc=n=>({x:n.scrollLeft,y:n.scrollTop});const lg=n=>n?window.getComputedStyle(n).position==="fixed"?!0:lg(n.parentElement):!1;var eS=n=>{const r=ig(n),o=lg(n);return{closestScrollable:r,isFixedOnPage:o}},tS=({descriptor:n,isEnabled:r,isCombineEnabled:o,isFixedOnPage:i,direction:a,client:u,page:f,closest:p})=>{const h=(()=>{if(!p)return null;const{scrollSize:y,client:N}=p,E=Bm({scrollHeight:y.scrollHeight,scrollWidth:y.scrollWidth,height:N.paddingBox.height,width:N.paddingBox.width});return{pageMarginBox:p.page.marginBox,frameClient:N,scrollSize:y,shouldClipSubject:p.shouldClipSubject,scroll:{initial:p.scroll,current:p.scroll,max:E,diff:{value:ot,displacement:ot}}}})(),g=a==="vertical"?iu:xm,x=Zr({page:f,withPlaceholder:null,axis:g,frame:h});return{descriptor:n,isCombineEnabled:o,isFixedOnPage:i,axis:g,isEnabled:r,client:u,page:f,frame:h,subject:x}};const nS=(n,r)=>{const o=am(n);if(!r||n!==r)return o;const i=o.paddingBox.top-r.scrollTop,a=o.paddingBox.left-r.scrollLeft,u=i+r.scrollHeight,f=a+r.scrollWidth,h=nu({top:i,right:f,bottom:u,left:a},o.border);return ru({borderBox:h,margin:o.margin,border:o.border,padding:o.padding})};var rS=({ref:n,descriptor:r,env:o,windowScroll:i,direction:a,isDropDisabled:u,isCombineEnabled:f,shouldClipSubject:p})=>{const h=o.closestScrollable,g=nS(n,h),x=Fi(g,i),v=(()=>{if(!h)return null;const N=am(h),E={scrollHeight:h.scrollHeight,scrollWidth:h.scrollWidth};return{client:N,page:Fi(N,i),scroll:Fc(h),scrollSize:E,shouldClipSubject:p}})();return tS({descriptor:r,isEnabled:!u,isCombineEnabled:f,isFixedOnPage:o.isFixedOnPage,direction:a,client:g,page:x,closest:v})};const oS={passive:!1},sS={passive:!0};var Mh=n=>n.shouldPublishImmediately?oS:sS;const Ri=n=>n&&n.env.closestScrollable||null;function iS(n){const r=w.useRef(null),o=Vi(nl),i=yu("droppable"),{registry:a,marshal:u}=o,f=Km(n),p=Ae(()=>({id:n.droppableId,type:n.type,mode:n.mode}),[n.droppableId,n.mode,n.type]),h=w.useRef(p),g=Ae(()=>rt((V,T)=>{r.current||ie();const $={x:V,y:T};u.updateDroppableScroll(p.id,$)}),[p.id,u]),x=we(()=>{const V=r.current;return!V||!V.env.closestScrollable?ot:Fc(V.env.closestScrollable)},[]),v=we(()=>{const V=x();g(V.x,V.y)},[x,g]),y=Ae(()=>es(v),[v]),N=we(()=>{const V=r.current,T=Ri(V);if(V&&T||ie(),V.scrollOptions.shouldPublishImmediately){v();return}y()},[y,v]),E=we((V,T)=>{r.current&&ie();const $=f.current,B=$.getDroppableRef();B||ie();const A=eS(B),z={ref:B,descriptor:p,env:A,scrollOptions:T};r.current=z;const U=rS({ref:B,descriptor:p,env:A,windowScroll:V,direction:$.direction,isDropDisabled:$.isDropDisabled,isCombineEnabled:$.isCombineEnabled,shouldClipSubject:!$.ignoreContainerClipping}),W=A.closestScrollable;return W&&(W.setAttribute(Rh.contextId,o.contextId),W.addEventListener("scroll",N,Mh(z.scrollOptions))),U},[o.contextId,p,N,f]),k=we(()=>{const V=r.current,T=Ri(V);return V&&T||ie(),Fc(T)},[]),P=we(()=>{const V=r.current;V||ie();const T=Ri(V);r.current=null,T&&(y.cancel(),T.removeAttribute(Rh.contextId),T.removeEventListener("scroll",N,Mh(V.scrollOptions)))},[N,y]),Y=we(V=>{const T=r.current;T||ie();const $=Ri(T);$||ie(),$.scrollTop+=V.y,$.scrollLeft+=V.x},[]),G=Ae(()=>({getDimensionAndWatchScroll:E,getScrollWhileDragging:k,dragStopped:P,scroll:Y}),[P,E,k,Y]),K=Ae(()=>({uniqueId:i,descriptor:p,callbacks:G}),[G,p,i]);_t(()=>(h.current=K.descriptor,a.droppable.register(K),()=>{r.current&&P(),a.droppable.unregister(K)}),[G,p,P,K,u,a.droppable]),_t(()=>{r.current&&u.updateDroppableIsEnabled(h.current.id,!n.isDropDisabled)},[n.isDropDisabled,u]),_t(()=>{r.current&&u.updateDroppableIsCombineEnabled(h.current.id,n.isCombineEnabled)},[n.isCombineEnabled,u])}function Sc(){}const Lh={width:0,height:0,margin:p1},lS=({isAnimatingOpenOnMount:n,placeholder:r,animate:o})=>n||o==="close"?Lh:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin},aS=({isAnimatingOpenOnMount:n,placeholder:r,animate:o})=>{const i=lS({isAnimatingOpenOnMount:n,placeholder:r,animate:o});return{display:r.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:o!=="none"?Yo.placeholder:null}},cS=n=>{const r=w.useRef(null),o=we(()=>{r.current&&(clearTimeout(r.current),r.current=null)},[]),{animate:i,onTransitionEnd:a,onClose:u,contextId:f}=n,[p,h]=w.useState(n.animate==="open");w.useEffect(()=>p?i!=="open"?(o(),h(!1),Sc):r.current?Sc:(r.current=setTimeout(()=>{r.current=null,h(!1)}),o):Sc,[i,p,o]);const g=we(v=>{v.propertyName==="height"&&(a(),i==="close"&&u())},[i,u,a]),x=aS({isAnimatingOpenOnMount:p,animate:n.animate,placeholder:n.placeholder});return Pe.createElement(n.placeholder.tagName,{style:x,"data-rfd-placeholder-context-id":f,onTransitionEnd:g,ref:n.innerRef})};var uS=Pe.memo(cS);class dS extends Pe.PureComponent{constructor(...r){super(...r),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(r,o){return r.shouldAnimate?r.on?{isVisible:!0,data:r.on,animate:"open"}:o.isVisible?{isVisible:!0,data:o.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!r.on,data:r.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const r={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(r)}}const fS=n=>{const r=w.useContext(nl);r||ie();const{contextId:o,isMovementAllowed:i}=r,a=w.useRef(null),u=w.useRef(null),{children:f,droppableId:p,type:h,mode:g,direction:x,ignoreContainerClipping:v,isDropDisabled:y,isCombineEnabled:N,snapshot:E,useClone:k,updateViewportMaxScroll:P,getContainerForClone:Y}=n,G=we(()=>a.current,[]),K=we((W=null)=>{a.current=W},[]);we(()=>u.current,[]);const V=we((W=null)=>{u.current=W},[]),T=we(()=>{i()&&P({maxScroll:zm()})},[i,P]);iS({droppableId:p,type:h,mode:g,direction:x,isDropDisabled:y,isCombineEnabled:N,ignoreContainerClipping:v,getDroppableRef:G});const $=Ae(()=>Pe.createElement(dS,{on:n.placeholder,shouldAnimate:n.shouldAnimatePlaceholder},({onClose:W,data:I,animate:L})=>Pe.createElement(uS,{placeholder:I,onClose:W,innerRef:V,animate:L,contextId:o,onTransitionEnd:T})),[o,T,n.placeholder,n.shouldAnimatePlaceholder,V]),B=Ae(()=>({innerRef:K,placeholder:$,droppableProps:{"data-rfd-droppable-id":p,"data-rfd-droppable-context-id":o}}),[o,p,$,K]),A=k?k.dragging.draggableId:null,z=Ae(()=>({droppableId:p,type:h,isUsingCloneFor:A}),[p,A,h]);function U(){if(!k)return null;const{dragging:W,render:I}=k,L=Pe.createElement(og,{draggableId:W.draggableId,index:W.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(ne,de)=>I(ne,de,W));return uy.createPortal(L,Y())}return Pe.createElement(wu.Provider,{value:z},f(B,E),U())};function pS(){return document.body||ie(),document.body}const Fh={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:pS},ag=n=>{let r={...n},o;for(o in Fh)n[o]===void 0&&(r={...r,[o]:Fh[o]});return r},Cc=(n,r)=>n===r.droppable.type,Bh=(n,r)=>r.draggables[n.draggable.id],hS=()=>{const n={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r={...n,shouldAnimatePlaceholder:!1},o=rt(u=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}})),i=rt((u,f,p,h,g,x)=>{const v=g.descriptor.id;if(g.descriptor.droppableId===u){const E=x?{render:x,dragging:o(g.descriptor)}:null,k={isDraggingOver:p,draggingOverWith:p?v:null,draggingFromThisWith:v,isUsingPlaceholder:!0};return{placeholder:g.placeholder,shouldAnimatePlaceholder:!1,snapshot:k,useClone:E}}if(!f)return r;if(!h)return n;const N={isDraggingOver:p,draggingOverWith:v,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:g.placeholder,shouldAnimatePlaceholder:!0,snapshot:N,useClone:null}});return(u,f)=>{const p=ag(f),h=p.droppableId,g=p.type,x=!p.isDropDisabled,v=p.renderClone;if(is(u)){const y=u.critical;if(!Cc(g,y))return r;const N=Bh(y,u.dimensions),E=At(u.impact)===h;return i(h,x,E,E,N,v)}if(u.phase==="DROP_ANIMATING"){const y=u.completed;if(!Cc(g,y.critical))return r;const N=Bh(y.critical,u.dimensions);return i(h,x,ng(y.result)===h,At(y.impact)===h,N,v)}if(u.phase==="IDLE"&&u.completed&&!u.shouldFlush){const y=u.completed;if(!Cc(g,y.critical))return r;const N=At(y.impact)===h,E=!!(y.impact.at&&y.impact.at.type==="COMBINE"),k=y.critical.droppable.id===h;return N?E?n:r:k?n:r}return r}},mS={updateViewportMaxScroll:jw},gS=im(hS,mS,(n,r,o)=>({...ag(o),...n,...r}),{context:xu,areStatePropsEqual:tg})(fS),Ut=n=>n.split(",").map(r=>r.trim()),Yn=n=>n.join(", "),Bc=n=>n.trim()?/^[a-gA-G][#b]?(\d+)?$/.test(n.trim()):!0,$h=n=>{if(!n.trim())return n;const r=n.trim();if(!Bc(r))return r;const o=r.match(/^([a-gA-G])([#b]?)(\d*)$/);if(o){const[,i,a,u]=o;return i.toUpperCase()+a.toLowerCase()+u}return r},vS=({chords:n,onUpdateChord:r,onFetchOriginalChord:o,onChordClick:i})=>{const[a,u]=w.useState(null),[f,p]=w.useState(null),[h,g]=w.useState(""),[x,v]=w.useState(""),[y,N]=w.useState(""),E=async I=>{const L=I.name.replace(/\/[A-G][#b]?\d*/,"");if(n){const ne=n.find(de=>de.chordName===L);if(ne?.chordNoteNames)return ne.chordNoteNames}if(I.originalKey&&I.originalMode&&o)try{const ne=await o(L,I.originalKey,I.originalMode);if(ne)return ne}catch(ne){console.warn("Failed to fetch original chord:",ne)}return I.originalNotes||null},k=I=>{if(!h.trim()||!x)return!1;const L=I.replace(/\d+/,""),ne=h.trim().replace(/\d+/,"");return L===ne?!Ut(x).some(pe=>pe.replace(/\d+/,"")===ne):!1},P=async(I,L)=>{u(I),p({...L});try{const de=await E(L);v(de||L.notes)}catch(de){console.warn("Failed to load original chord, using current notes:",de),v(L.originalNotes||L.notes)}const ne=L.name.match(/\/([A-G][#b]?\d*)/);g(ne?ne[1]:"")},Y=()=>{if(a!==null&&f&&r){if(y)return;let I=f.name.replace(/\/[A-G][#b]?\d*/,""),L=f.notes;if(h.trim()){I+=`/${h.trim()}`;const de=Ut(L),le=h.trim();if(de.some(q=>{const X=q.replace(/\d+/,""),Q=le.replace(/\d+/,"");return X===Q})){const q=de.filter(Q=>{const j=Q.replace(/\d+/,""),R=le.replace(/\d+/,"");return j!==R}),X=[le,...q];L=Yn(X)}else{const q=[le,...de];L=Yn(q)}}const ne={...f,name:I,notes:L,originalNotes:f.originalNotes||x};r(a,ne)}G()},G=()=>{u(null),p(null),g(""),v(""),N("")},K=async I=>{if(!f||I===0)return;const L=Ut(f.notes);I===1&&k(L[0])||([L[I],L[I-1]]=[L[I-1],L[I]],p({...f,notes:Yn(L)}),await B(L))},V=async I=>{if(!f)return;const L=Ut(f.notes);I!==L.length-1&&(I===0&&k(L[0])||([L[I],L[I+1]]=[L[I+1],L[I]],p({...f,notes:Yn(L)}),await B(L)))},T=async()=>{if(g(""),f)try{const L=await E(f)||f.originalNotes||x;L?Ut(L).every(le=>/^[A-Ga-g]/.test(le.trim()))?p({...f,notes:L}):console.warn("Original notes appear to be in invalid format, keeping current notes:",L):console.warn("No original notes found, keeping current notes")}catch(I){console.warn("Failed to revert to original chord:",I);const L=f.originalNotes||x;L&&Ut(L).every(le=>/^[A-Ga-g]/.test(le.trim()))&&p({...f,notes:L})}},$=async I=>{if(f)try{const ne=await E(f)||f.originalNotes||x;if(!ne)return;if(!I.trim()){p({...f,notes:ne});return}const de=Ut(ne),le=I.trim(),pe=de.some(X=>{const Q=X.replace(/\d+/,""),j=le.replace(/\d+/,"");return Q===j});let q;if(pe){const X=de.filter(j=>{const R=j.replace(/\d+/,""),re=le.replace(/\d+/,"");return R!==re}),Q=de.find(j=>{const R=j.replace(/\d+/,""),re=le.replace(/\d+/,"");return R===re});q=Q?[Q,...X]:[le,...X]}else q=[le,...de];p({...f,notes:Yn(q)})}catch(L){console.warn("Failed to update chord with slash note:",L);const ne=f.originalNotes||x;if(!ne)return;if(!I.trim()){p({...f,notes:ne});return}const de=Ut(ne),pe=[I.trim(),...de];p({...f,notes:Yn(pe)})}},B=async I=>{if(!(!f||I.length===0))try{const ne=await E(f)||f.originalNotes||x;if(!ne)return;const de=Ut(ne),le=I[0],pe=de[0];g(le!==pe?le:"")}catch(L){console.warn("Failed to detect slash note from order:",L);const ne=f.originalNotes||x;if(!ne)return;const de=Ut(ne),le=I[0],pe=de[0];g(le!==pe?le:"")}};return{editingChordIndex:a,editingChord:f,slashNote:h,originalChordNotes:x,slashNoteError:y,handleEditChord:P,handleSaveEdit:Y,handleCancelEdit:G,moveNoteUp:K,moveNoteDown:V,removeSlashNote:T,handleSlashNoteChange:async I=>{const L=I.trim();if(!L){N(""),g(""),await $("");return}if(!Bc(L)){N("Invalid note. Use A-G with optional # or b (e.g., C, F#, Bb, D4)"),g(I);return}N("");const ne=$h(L);g(ne),await $(ne)},handleDragEnd:async I=>{if(!I.destination||!f||I.source.index===I.destination.index)return;const L=Ut(f.notes);if(I.source.index===0&&k(L[0])||I.destination.index===0&&k(L[0]))return;const[ne]=L.splice(I.source.index,1);L.splice(I.destination.index,0,ne),p({...f,notes:Yn(L)}),await B(L)},handlePreviewChord:()=>{f&&i(f.notes,-1)},isSlashNote:I=>{if(!h.trim())return!1;const L=I.replace(/\d+/,""),ne=h.trim().replace(/\d+/,"");return L===ne},isManualSlashNote:k,parseNotes:Ut,notesToString:Yn,formatNoteName:$h,isValidNoteName:Bc}},xS=4,yS=8,bS=({activeMidiNotes:n})=>{const r=Pe.useRef(null),[o,i]=Pe.useState(400),a=Pe.useMemo(()=>o<400?Math.max(300,o-20):o<768?Math.min(500,o-40):Math.min(600,o-60),[o]);Pe.useEffect(()=>{const g=()=>{r.current&&i(r.current.offsetWidth)};g();const x=new ResizeObserver(()=>{g()});return r.current&&x.observe(r.current),()=>{x.disconnect()}},[]),Pe.useEffect(()=>{const g=document.createElement("style");return g.textContent=`
            /* Disable all pointer events on piano keys to prevent hover/click interference */
            .ReactPiano__Key {
                pointer-events: none !important;
            }
            
            /* Ultra-specific CSS to override react-piano styles */
            div[class*="ReactPiano"] .ReactPiano__Key--active,
            div[class*="ReactPiano"] .ReactPiano__Key--active.ReactPiano__Key--natural,
            div[class*="ReactPiano"] .ReactPiano__Key--active.ReactPiano__Key--accidental,
            .ReactPiano__Key--active[class*="ReactPiano__Key"],
            .ReactPiano__Key--active[class*="ReactPiano__Key"]:hover,
            .ReactPiano__Key--active[class*="ReactPiano__Key"]:active,
            .ReactPiano__Key--active[class*="ReactPiano__Key"]:focus {
                background: #3b82f6 !important;
                background-color: #3b82f6 !important;
                background-image: none !important;
                color: white !important;
                border-color: #2563eb !important;
                border-top-color: #2563eb !important;
                border-left-color: #2563eb !important;
                border-right-color: #2563eb !important;
                border-bottom-color: #2563eb !important;
                box-shadow: none !important;
                transition: none !important;
            }
            
            /* Force natural (white) keys to stay blue */
            div[class*="ReactPiano"] .ReactPiano__Key--active.ReactPiano__Key--natural,
            .ReactPiano__Key--active.ReactPiano__Key--natural[class*="ReactPiano__Key"],
            .ReactPiano__Key--active.ReactPiano__Key--natural[class*="ReactPiano__Key"]:hover,
            .ReactPiano__Key--active.ReactPiano__Key--natural[class*="ReactPiano__Key"]:active,
            .ReactPiano__Key--active.ReactPiano__Key--natural[class*="ReactPiano__Key"]:focus {
                background: linear-gradient(to bottom, #3b82f6 0%, #2563eb 100%) !important;
                background-color: #3b82f6 !important;
                color: white !important;
                border-top: 1px solid #2563eb !important;
                border-left: 1px solid #2563eb !important;
                border-right: 1px solid #2563eb !important;
                border-bottom: 1px solid #1e40af !important;
                box-shadow: 
                    inset 0 0 0 1px rgba(37, 99, 235, 0.3),
                    inset 0 -3px 6px rgba(0,0,0,0.1) !important;
            }
            
            /* Force accidental (black) keys to stay blue */
            div[class*="ReactPiano"] .ReactPiano__Key--active.ReactPiano__Key--accidental,
            .ReactPiano__Key--active.ReactPiano__Key--accidental[class*="ReactPiano__Key"],
            .ReactPiano__Key--active.ReactPiano__Key--accidental[class*="ReactPiano__Key"]:hover,
            .ReactPiano__Key--active.ReactPiano__Key--accidental[class*="ReactPiano__Key"]:active,
            .ReactPiano__Key--active.ReactPiano__Key--accidental[class*="ReactPiano__Key"]:focus {
                background: linear-gradient(to bottom, #1d4ed8 0%, #1e40af 100%) !important;
                background-color: #1d4ed8 !important;
                color: white !important;
                border: 1px solid #1e40af !important;
                box-shadow: 
                    inset 0 0 0 1px rgba(30, 64, 175, 0.4),
                    inset 0 -2px 4px rgba(0,0,0,0.2) !important;
            }
            
            /* Override any CSS animations or transitions */
            .ReactPiano__Key--active * {
                transition: none !important;
                animation: none !important;
            }
            
            /* Nuclear option - override any inline styles that might be applied */
            .ReactPiano__Key--active[style] {
                background: #3b82f6 !important;
                background-color: #3b82f6 !important;
            }
            
            .ReactPiano__Key--active.ReactPiano__Key--natural[style] {
                background: linear-gradient(to bottom, #3b82f6 0%, #2563eb 100%) !important;
            }
            
            .ReactPiano__Key--active.ReactPiano__Key--accidental[style] {
                background: linear-gradient(to bottom, #1d4ed8 0%, #1e40af 100%) !important;
            }
        `,document.head.appendChild(g),()=>{document.head.removeChild(g)}},[]);const u=4,f=7,p=gt.fromNote(`c${u}`),h=gt.fromNote(`c${f}`);return c.jsx("div",{ref:r,className:"w-full",children:c.jsx(Hc,{noteRange:{first:p,last:h},playNote:()=>{},stopNote:()=>{},disabled:!1,width:a,activeNotes:n,className:"mx-auto"})})},wS=({editingChordIndex:n,editingChord:r,totalChords:o,chords:i,onUpdateChord:a,onFetchOriginalChord:u,onChordClick:f,onClose:p,onNavigateToChord:h})=>{const{editingChord:g,slashNote:x,slashNoteError:v,handleEditChord:y,handleSaveEdit:N,handleCancelEdit:E,moveNoteUp:k,moveNoteDown:P,removeSlashNote:Y,handleSlashNoteChange:G,handleDragEnd:K,handlePreviewChord:V,isSlashNote:T,isManualSlashNote:$,parseNotes:B}=vS({chords:i,onUpdateChord:a,onFetchOriginalChord:u,onChordClick:f});Pe.useEffect(()=>{y(n,r)},[n,r]);const A=()=>{N(),p()},z=()=>{E(),p()},U=()=>{n>0&&h&&h(n-1)},W=()=>{n<o-1&&h&&h(n+1)},I=Pe.useMemo(()=>{if(!g?.notes)return[];try{return Oi(xS,yS,g.notes).map(({note:pe,octave:q})=>{try{return gt.fromNote(`${pe}${q}`)}catch(X){return console.warn(`Failed to parse note: ${pe}${q}`,X),null}}).filter(Boolean)}catch(le){return console.warn("Failed to parse chord notes:",le),[]}},[g?.notes]);if(!g)return null;const L=B(g.notes),ne=n>0,de=n<o-1;return c.jsxs("div",{className:"fixed inset-0 bg-[#1a1e24] bg-opacity-95 backdrop-blur-sm z-50 flex flex-col",children:[c.jsxs("div",{className:"flex-shrink-0 max-w-4xl mx-auto px-4 py-4 w-full",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[c.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-white truncate",children:["Edit: ",g.name.replace(/\/[A-G][#b]?\d*/,"")]}),c.jsxs("span",{className:"px-2 py-1 text-xs bg-slate-700 text-slate-300 rounded font-mono flex-shrink-0",children:[n+1," / ",o]})]}),c.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[c.jsxs(on,{onClick:A,variant:"primary",size:"sm",disabled:!!v,className:at("bg-green-600 hover:bg-green-700",v&&"opacity-50 cursor-not-allowed"),title:v?"Fix slash note error before saving":"Save changes",children:[c.jsx(Ex,{className:"w-4 h-4 sm:mr-1"}),c.jsx("span",{className:"hidden sm:inline",children:"Save"})]}),c.jsxs(on,{onClick:z,variant:"secondary",size:"sm",children:[c.jsx("span",{className:"hidden sm:inline",children:"Cancel"}),c.jsx("span",{className:"sm:hidden",children:""})]})]})]}),c.jsx("div",{className:"flex items-center",children:h&&c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(on,{onClick:U,variant:"secondary",size:"sm",disabled:!ne,title:"Previous chord",className:"px-2",children:c.jsx(Dx,{className:"w-4 h-4"})}),c.jsx(on,{onClick:W,variant:"secondary",size:"sm",disabled:!de,title:"Next chord",className:"px-2",children:c.jsx(Vh,{className:"w-4 h-4"})})]})}),c.jsxs("div",{className:"p-3 bg-[#2a2f38] rounded-lg border border-gray-600 mb-4 mt-4",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Slash Note (Bass Note)"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"text",value:x,onChange:le=>G(le.target.value),onBlur:le=>G(le.target.value),onKeyDown:le=>{le.key==="Enter"&&G(le.currentTarget.value)},placeholder:"e.g., C4, F#, Bb3",className:at("flex-1 px-3 py-2 bg-[#1a1e24] border rounded text-white placeholder-gray-400 focus:outline-none transition-colors text-sm",v?"border-red-500 focus:border-red-400":"border-gray-600 focus:border-blue-500")}),x.trim()&&!v&&c.jsx("button",{onClick:Y,className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded transition-colors",title:"Remove slash note",children:c.jsx(kc,{className:"w-4 h-4"})})]}),v?c.jsxs("p",{className:"text-xs text-red-400 mt-1 flex items-center space-x-1",children:[c.jsx(kc,{className:"w-3 h-3 flex-shrink-0"}),c.jsx("span",{children:v})]}):c.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Add bass note (e.g., Cmaj7/E)"}),L.length>0&&$(L[0])&&!v&&c.jsx("div",{className:"mt-2 p-2 bg-amber-500/10 border border-amber-500/30 rounded text-xs text-amber-300",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ap,{className:"w-3 h-3"}),c.jsx("span",{children:"Slash note locked in first position"})]})})]}),c.jsx("div",{className:"bg-[#2a2f38] rounded-lg border border-gray-600 p-3 mb-4",children:c.jsx("div",{className:"bg-[#1a1e24] rounded p-2 flex justify-center overflow-x-auto",children:c.jsx(bS,{activeMidiNotes:I})})})]}),c.jsx("div",{className:"flex-1 max-w-4xl mx-auto px-4 w-full overflow-hidden flex flex-col -mt-4",children:c.jsxs("div",{className:"bg-[#2a2f38] rounded-lg border border-gray-600 p-4 flex-1 flex flex-col min-h-0",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs(on,{onClick:V,variant:"secondary",size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",title:"Preview chord",children:[c.jsx(Wh,{className:"w-4 h-4 sm:mr-1"}),c.jsx("span",{className:"hidden sm:inline",children:"Preview"})]}),c.jsxs("div",{className:"flex-1 text-center mx-4",children:[c.jsx("h3",{className:"text-lg font-medium text-white leading-tight",children:"Chord Notes"}),c.jsx("p",{className:"text-xs text-gray-400 leading-tight",children:"Drag to reorder"})]}),c.jsx("div",{className:"w-16 sm:w-20"})," "]}),c.jsx("div",{className:"flex-1 min-h-0",children:c.jsx(R2,{onDragEnd:K,children:c.jsx(gS,{droppableId:"notes-list",children:(le,pe)=>c.jsxs("div",{...le.droppableProps,ref:le.innerRef,className:at("space-y-3 transition-colors duration-200 overflow-y-auto h-full",{"bg-blue-500/5 rounded-lg p-2":pe.isDraggingOver}),children:[L.map((q,X)=>{const Q=T(q),R=$(q)&&X===0;return c.jsx(Y2,{draggableId:`${q}-${X}`,index:X,isDragDisabled:R,children:(re,ue)=>c.jsxs("div",{ref:re.innerRef,...re.draggableProps,...re.dragHandleProps,className:at("flex items-center space-x-3 p-3 rounded border transition-all duration-200",{"shadow-lg shadow-blue-500/20 border-blue-500 transform scale-105":ue.isDragging,"cursor-grab":!ue.isDragging&&!R,"cursor-grabbing":ue.isDragging,"cursor-not-allowed":R,"bg-amber-500/10 border-amber-500/50":Q&&!ue.isDragging,"hover:border-amber-400/70":Q&&!ue.isDragging,"bg-amber-600/15 border-amber-600/60":R&&!ue.isDragging,"bg-[#1a1e24] border-gray-600":!Q&&!R&&!ue.isDragging,"hover:border-gray-500":!Q&&!R&&!ue.isDragging}),style:re.draggableProps.style,children:[c.jsxs("div",{className:"flex-1 text-left",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("span",{className:"text-white font-mono text-lg font-semibold",children:q}),c.jsxs("div",{className:"flex items-center space-x-2",children:[Q&&c.jsx("span",{className:"px-2 py-1 text-xs bg-amber-500/20 text-amber-300 rounded border border-amber-500/30 font-medium",children:"SLASH"}),R&&c.jsxs("span",{className:"px-2 py-1 text-xs bg-amber-600/20 text-amber-200 rounded border border-amber-600/30 font-medium flex items-center space-x-1",children:[c.jsx(Ap,{className:"w-3 h-3"}),c.jsx("span",{children:"LOCKED"})]})]})]}),c.jsxs("div",{className:"text-xs text-slate-400 font-medium",children:["Note ",X+1]})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("span",{className:"text-xs text-slate-400 mr-2",children:"Order:"}),c.jsx("button",{onClick:H=>{H.stopPropagation(),k(X)},disabled:X===0||R||X===1&&$(L[0]),className:"p-1 text-slate-300 hover:text-white hover:bg-[#4a5262] rounded transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:R?"Cannot move locked slash note":X===1&&$(L[0])?"Cannot move past locked slash note":"Move up",children:c.jsx(Zo,{className:"w-4 h-4"})}),c.jsx("button",{onClick:H=>{H.stopPropagation(),P(X)},disabled:X===L.length-1||R,className:"p-1 text-slate-300 hover:text-white hover:bg-[#4a5262] rounded transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:R?"Cannot move locked slash note":"Move down",children:c.jsx(br,{className:"w-4 h-4"})})]})]})},`${q}-${X}`)}),le.placeholder]})})})})]})}),c.jsx("div",{className:"flex-shrink-0 h-4"})]})},NS=4,SS=7,CS=()=>{const n=Cn(),r=yr(),o=eo(),i=Zc(),{addedChords:a,activeChordIndex:u,highlightedChordIndex:f}=r,{isDeleteMode:p,isLiveMode:h}=i,{globalPatternState:g}=o,{chords:x}=n,[v,y]=w.useState(!1),[N,E]=w.useState(null),k=w.useCallback((z,U,W)=>{if(i.isDeleteMode&&U!==void 0){r.removeChord(U);return}const I=Oi(NS,SS,z);U!==void 0?(r.setTemporaryChord(null),r.setActiveChordIndex(U),o.globalPatternState.isPlaying||r.playNotes(I),r.setHighlightedChordIndex(U),setTimeout(()=>r.setHighlightedChordIndex(null),150)):(W&&r.setTemporaryChord({name:W,notes:z}),o.globalPatternState.isPlaying||r.playNotes(I))},[i.isDeleteMode,o.globalPatternState.isPlaying]),P=w.useCallback(()=>{r.clearAllChords(),o.setGlobalPatternState({isPlaying:!1}),i.setIsLiveMode(!1)},[]),Y=w.useCallback(()=>{const z=!o.globalPatternState.isPlaying;o.setGlobalPatternState({isPlaying:z})},[o.globalPatternState.isPlaying]),G=()=>{i.setIsDeleteMode(!p)},K=()=>{i.setIsLiveMode(!h)},V=(z,U)=>{const W={name:U.name,notes:U.notes,pattern:U.pattern||["1","2","3","4"],originalKey:U.originalKey||n.key,originalMode:U.originalMode||n.mode,originalNotes:U.originalNotes||U.notes};r.updateChord(z,W)};if(a.length===0)return null;const T=z=>{E(z)},$=()=>{E(null)},B=z=>{z>=0&&z<a.length&&E(z)},A=h?"fixed inset-0 bg-[#1a1e24] bg-opacity-95 backdrop-blur-sm z-50 flex flex-col":"fixed bottom-0 left-0 right-0 bg-[#2a2f38] border-t border-gray-600 shadow-2xl z-50";if(N!==null){const z=a[N];if(z)return c.jsx(wS,{editingChordIndex:N,editingChord:z,totalChords:a.length,chords:x,onUpdateChord:V,onFetchOriginalChord:r.handleFetchOriginalChord,onChordClick:k,onClose:$,onNavigateToChord:B})}return c.jsxs("div",{className:A,children:[c.jsxs("div",{className:`${h?"flex-shrink-0":""} max-w-7xl mx-auto px-4 ${h?"py-4":"pt-2"} w-full`,children:[c.jsxs("div",{className:`flex items-center justify-between ${h?"mb-3":"mb-2"}`,children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[!h&&c.jsx(on,{onClick:Y,variant:"icon",size:"icon",className:"",active:g.isPlaying,title:g.isPlaying?"Stop":"Play",children:g.isPlaying?c.jsx(Xo,{className:"w-4 h-4"}):c.jsx(Wh,{className:"w-4 h-4"})}),h&&c.jsx(on,{onClick:Y,variant:"play-stop",size:"sm",active:g.isPlaying,className:"shadow-lg",children:g.isPlaying?c.jsxs(c.Fragment,{children:[c.jsx(Xo,{className:"w-4 h-4"}),"Stop"]}):c.jsxs(c.Fragment,{children:[c.jsx(Jo,{className:"w-4 h-4"}),"Play"]})})]}),c.jsxs("div",{className:"text-center sm:w-full sm:text-left sm:mx-4",children:[c.jsx("div",{className:"hidden sm:block text-xs font-bold text-slate-300 uppercase tracking-wider",children:"chords"}),c.jsx("div",{className:"block sm:hidden text-xs text-slate-300 uppercase tracking-wider",children:"chords"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:K,className:at("w-[7em] h-8 flex items-center space-x-2 px-3 py-1.5 text-xs border rounded transition-all duration-200",h?"text-slate-200 bg-[#4a5262] border-gray-600 hover:bg-[#525a6b]":"text-slate-300 hover:text-slate-200 bg-[#4a5262] hover:bg-[#525a6b] border-gray-600"),children:h?c.jsxs(c.Fragment,{children:[c.jsx(Nx,{className:"h-3 w-3"}),c.jsx("span",{children:"Collapse"})]}):c.jsxs(c.Fragment,{children:[c.jsx(Cx,{className:"h-3 w-3"}),c.jsx("span",{children:"Expand"})]})}),!h&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>{h&&K(),P()},className:"w-[5em] h-8 flex items-center justify-center px-3 py-1.5 text-xs text-slate-300 hover:text-slate-200 bg-[#4a5262] hover:bg-[#525a6b] border border-gray-600 rounded transition-all duration-200",children:"Clear"}),c.jsxs("button",{onClick:G,className:at("w-[7em] h-8 flex items-center space-x-2 px-3 py-1.5 text-xs border rounded transition-all duration-200",p?"text-white bg-red-600 border-red-500 hover:bg-red-700":"text-slate-300 hover:text-slate-200 bg-[#4a5262] hover:bg-[#525a6b] border-gray-600"),children:[c.jsx(Tp,{className:"h-3 w-3"}),c.jsx("span",{children:p?"Done":"Delete"})]})]})]})]}),h&&c.jsxs("div",{className:"text-center text-slate-400 text-sm mb-4",children:[c.jsxs("div",{children:["Use 1-",Math.min(a.length,9)," or click chords"]}),c.jsxs("div",{className:"text-xs mt-2",children:[c.jsx("span",{className:"inline-block w-3 h-3 bg-blue-500 rounded-full mr-2"}),"Active Chord"]})]})]}),c.jsx("div",{className:`flex-1 max-w-7xl mx-auto w-full ${h?"px-4 pb-8 overflow-y-auto":"px-2 pb-2"}`,children:c.jsxs("div",{className:h?"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 auto-rows-max":"flex space-x-2 overflow-x-auto pb-1 chord-sequence-scroll -mx-2 px-2",children:[a.map((z,U)=>{const W=U===u,I=U===f;return c.jsxs(py,{onClick:()=>v?T(U):k(z.notes,U),variant:p?"danger":v?"secondary":"primary",active:W&&!p&&!v,"aria-label":`Pattern: ${z.pattern.join("-")}`,className:at("relative",{"py-8 px-6 text-lg min-h-[120px] flex flex-col items-center justify-center":h,"flex-shrink-0 py-4 px-2 text-sm min-w-[85px] bottom-nav-button chord-button space-x-1 mt-1 min-h-[60px] flex flex-col items-center justify-center":!h,transform:I,"shadow-xl":h,"border-blue-500 hover:border-blue-400":v}),children:[p&&c.jsx(kc,{className:`absolute top-1 right-1 h-4 w-4 text-white bg-red-500 rounded-full shadow-sm ${h?"h-6 w-6":""}`}),v&&c.jsx(Ip,{className:`absolute top-1 right-1 h-4 w-4 text-white bg-blue-500 rounded-full shadow-sm p-0.5 ${h?"h-6 w-6":""}`}),c.jsx("div",{className:`text-cyan-200 font-bold ${h?"text-xl mb-2":"text-xs mb-1"}`,children:U+1}),c.jsx("div",{className:`leading-tight ${h?"text-base text-center text-white ":"text-xs"}`,children:z.name}),h&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs text-slate-300 mt-4 text-center",children:z.notes.replace(/,/g,"  ")}),c.jsx("div",{className:"text-xs text-slate-300 mt-1 text-center font-mono",children:z.pattern.join("-")})]})]},U)}),c.jsx("div",{className:at("flex items-center justify-center",{"py-8 px-6 min-h-[120px]":h,"flex-shrink-0 py-4 px-2 min-w-[85px] min-h-[60px] mt-1":!h}),children:c.jsx("button",{onClick:()=>y(!v),className:at("flex items-center justify-center rounded-lg border-2 border-dashed transition-all duration-200 hover:scale-105",{"w-16 h-16":h,"w-12 h-12":!h},v?"border-blue-500 text-blue-400 bg-blue-500/10 hover:bg-blue-500/20":"border-gray-500 text-gray-400 hover:border-gray-400 hover:text-gray-300 hover:bg-gray-500/10"),title:v?"Exit edit mode":"Edit chords",children:c.jsx(Ip,{className:`${h?"w-8 h-8":"w-6 h-6"} ${v?"animate-spin":""}`})})})]})}),h&&c.jsx("div",{className:"flex-shrink-0 bg-[#2a2f38] border-t border-gray-600 px-4 py-3",children:c.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[c.jsxs("div",{className:"text-xs text-slate-400 font-medium",children:[a.length," chord",a.length!==1?"s":""," loaded",v&&c.jsx("span",{className:"ml-2 text-blue-400",children:" Edit Mode: Click chords to edit"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:P,className:"w-[5em] h-8 flex items-center justify-center px-3 py-1.5 text-xs text-slate-300 hover:text-slate-200 bg-[#4a5262] hover:bg-[#525a6b] border border-gray-600 rounded transition-all duration-200",children:"Clear"}),c.jsxs("button",{onClick:G,className:at("w-[7em] h-8 flex items-center space-x-2 px-3 py-1.5 text-xs border rounded transition-all duration-200",p?"text-white bg-red-600 border-red-500 hover:bg-red-700":"text-slate-300 hover:text-slate-200 bg-[#4a5262] hover:bg-[#525a6b] border-gray-600"),children:[c.jsx(Tp,{className:"h-3 w-3"}),c.jsx("span",{children:p?"Done":"Delete"})]})]})]})})]})},jS=({className:n="",onKeyChange:r,onModeChange:o,onInstrumentChange:i})=>{const a=Cn(R=>R.key),u=Cn(R=>R.mode),f=Cn(R=>R.modes),p=Cn(R=>R.scaleNotes),h=qo(R=>R.pianoSettings),g=qo(R=>R.availableInstruments),x=yr(R=>R.isPlayingScale),v=eo(R=>R.globalPatternState),{setKey:y,setMode:N}=Cn(),{setPianoInstrument:E,setCutOffPreviousNotes:k,setEq:P,setOctaveOffset:Y,setReverbLevel:G,setNoteDuration:K,setVolume:V,setChorusLevel:T,setDelayLevel:$}=qo(),{setIsPlayingScale:B,clearScalePlaybackTimeouts:A,setActiveNotes:z}=yr(),[U,W]=w.useState(!1),I=w.useRef([]),L=w.useRef(!1),ne=R=>{const re=R.replaceAll(" ","_");i?i(re):E(re)},de=R=>{r?r(R):y(R)},le=R=>{o?o(R):N(R)},pe=w.useCallback(()=>{I.current.forEach(R=>clearTimeout(R)),I.current=[],L.current=!1},[]),q=w.useCallback(R=>6e4/R/2,[]),X=w.useCallback(()=>{if(!p||p.length===0){console.warn("No scale notes available to play");return}pe();const R=v?.bpm||120,re=q(R);L.current=!0,B(!0);const ue=p.map(H=>({note:H.noteName||"C",octave:4}));p.length>0&&ue.push({note:p[0].noteName||"C",octave:5}),ue.forEach((H,ae)=>{const ye=setTimeout(()=>{if(!L.current)return;z([H]);const se=setTimeout(()=>{L.current&&z([])},re*.8);if(I.current.push(se),ae===ue.length-1){const ce=setTimeout(()=>{L.current&&Q()},re);I.current.push(ce)}},ae*re);I.current.push(ye)})},[p,v,B,z,pe,q]),Q=w.useCallback(()=>{pe(),z([]),B(!1),A&&A()},[pe,z,B,A]),j=w.useCallback(()=>{x||L.current?Q():X()},[x,X,Q]);return Pe.useEffect(()=>()=>{pe()},[pe]),c.jsx("div",{className:`w-full max-w-7xl mx-auto px-2 sm:mt-4 mt-0 mb-2 ${n}`,children:c.jsxs("div",{className:"bg-[#3d434f] border border-gray-600 rounded-lg overflow-hidden",children:[c.jsx("div",{className:"px-4 py-3 border-b border-gray-600",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-sm font-bold text-slate-300 uppercase tracking-wider",children:"Controls"}),c.jsx("button",{onClick:()=>W(!U),className:"w-[7em] h-8 flex items-center space-x-2 px-3 py-1.5 text-xs text-slate-300 hover:text-slate-200 bg-[#4a5262] hover:bg-[#525a6b] border border-gray-600 rounded transition-all duration-200",children:U?c.jsxs(c.Fragment,{children:[c.jsx(Zo,{className:"w-3 h-3"}),c.jsx("span",{children:"Settings"})]}):c.jsxs(c.Fragment,{children:[c.jsx(br,{className:"w-3 h-3"}),c.jsx("span",{children:"Settings"})]})})]})}),c.jsx("div",{className:"p-6 py-4 bg-[#444b59]",children:c.jsxs("div",{className:"flex flex-col xl:flex-row xl:items-center xl:justify-center gap-6",children:[c.jsxs("div",{className:"hidden xl:flex items-center bg-[#3d434f]/30 border border-gray-600/30 rounded-lg px-6 py-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-sm text-slate-300 font-medium whitespace-nowrap",children:"Key:"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(rn,{value:a,className:"w-[5rem]",buttonClassName:"px-3 py-1.5 text-center font-medium text-xs h-10 flex items-center justify-center",menuClassName:"min-w-[5rem]",onChange:de,showSearch:!1,options:["C","C#","D","Eb","E","F","F#","G","G#","A","A#","B"]}),c.jsx(on,{onClick:j,variant:"play-stop",size:"icon",className:"!w-8 !h-8 flex items-center justify-center ml-1",active:x,title:x?"Stop scale":`Play ${a} ${u} scale`,disabled:!p||p.length===0,children:x?c.jsx(Xo,{className:"w-6 h-6"}):c.jsx(Jo,{className:"w-6 h-6"})})]})]}),c.jsx("div",{className:"w-px h-8 bg-gray-600/50 mx-8"}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-sm text-slate-300 font-medium whitespace-nowrap",children:"Mode:"}),f&&c.jsx(rn,{value:u,className:"w-[11rem]",buttonClassName:"px-3 py-1.5 text-left font-medium text-xs h-10 flex items-center",menuClassName:"min-w-[11rem]",onChange:le,showSearch:!0,options:f})]}),c.jsx("div",{className:"w-px h-8 bg-gray-600/50 mx-8"}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-sm text-slate-300 font-medium whitespace-nowrap",children:"Voice:"}),c.jsx(rn,{value:h.instrumentName.replaceAll("_"," "),className:"w-[14rem]",buttonClassName:"px-3 py-1.5 text-left font-medium text-xs h-10 flex items-center",menuClassName:"min-w-[11rem]",onChange:ne,showSearch:!0,options:g.map(R=>R.replaceAll("_"," "))})]})]}),c.jsxs("div",{className:"xl:hidden space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-sm text-slate-300 font-medium whitespace-nowrap w-16 flex items-center",children:"Key:"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(rn,{value:a,className:"w-[6em]",buttonClassName:"px-3 py-1.5 text-center font-medium text-xs h-10 flex items-center justify-center",menuClassName:"min-w-[6rem]",onChange:de,showSearch:!1,options:["C","C#","D","Eb","E","F","F#","G","G#","A","A#","B"]}),c.jsx(on,{onClick:j,variant:"play-stop",size:"icon",className:"!w-8 !h-8 flex items-center justify-center ml-1",active:x,title:x?"Stop scale":`Play ${a} ${u} scale`,disabled:!p||p.length===0,children:x?c.jsx(Xo,{className:"w-6 h-6"}):c.jsx(Jo,{className:"w-6 h-6"})})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-sm text-slate-300 font-medium whitespace-nowrap w-16 flex items-center",children:"Mode:"}),f&&c.jsx(rn,{value:u,className:"w-[14rem]",buttonClassName:"px-3 py-1.5 text-left font-medium text-xs h-10 flex items-center",menuClassName:"min-w-[14rem]",onChange:le,showSearch:!0,options:f})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-sm text-slate-300 font-medium whitespace-nowrap w-16 flex items-center",children:"Voice:"}),c.jsx(rn,{value:h.instrumentName.replaceAll("_"," "),className:"w-[14rem]",buttonClassName:"px-3 py-1.5 text-left font-medium text-xs h-10 flex items-center",menuClassName:"min-w-[11rem]",onChange:ne,showSearch:!0,options:g.map(R=>R.replaceAll("_"," "))})]})]})]})}),c.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${U?" opacity-100":"max-h-0 opacity-0"}`,children:c.jsxs("div",{className:"border-t border-gray-600 bg-[#3d434f]",children:[c.jsx("div",{className:"px-4 py-3 border-b border-gray-600",children:c.jsx("h3",{className:"text-left text-sm font-medium text-slate-200 uppercase tracking-wider",children:"Piano Settings"})}),c.jsx("div",{className:"p-6 bg-[#444b59]",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-x-8",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Volume",c.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",Math.round(h.volume*100),"%)"]})]}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:"range",min:"0",max:"1.0",step:"0.05",value:h.volume,onChange:R=>V(parseFloat(R.target.value)),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:"Octave Shift"}),c.jsxs("div",{className:"flex items-center justify-between bg-[#3d434f] border border-gray-600 rounded-md p-1.5",children:[c.jsx("button",{onClick:()=>Y(Math.max(-3,h.octaveOffset-1)),className:"w-6 h-6 flex items-center justify-center text-slate-300 hover:text-slate-200 hover:bg-[#4a5262] rounded transition-colors",disabled:h.octaveOffset<=-3,children:""}),c.jsx("span",{className:"font-mono text-xs text-slate-200 px-2",children:h.octaveOffset===0?"Normal":`${h.octaveOffset>0?"+":""}${h.octaveOffset} octave${Math.abs(h.octaveOffset)>1?"s":""}`}),c.jsx("button",{onClick:()=>Y(Math.min(3,h.octaveOffset+1)),className:"w-6 h-6 flex items-center justify-center text-slate-300 hover:text-slate-200 hover:bg-[#4a5262] rounded transition-colors",disabled:h.octaveOffset>=3,children:"+"})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Reverb",c.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",Math.round(h.reverbLevel*100),"%)"]})]}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:"range",min:"0",max:"1.0",step:"0.05",value:h.reverbLevel,onChange:R=>G(parseFloat(R.target.value)),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Note Duration",c.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",Math.round(h.noteDuration*100),"%)"]})]}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:"range",min:"0.1",max:"1.0",step:"0.05",value:h.noteDuration,onChange:R=>K(parseFloat(R.target.value)),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})})]}),c.jsx("div",{children:c.jsxs("label",{className:"flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",className:"w-3.5 h-3.5 text-blue-600 bg-[#3d434f] border-gray-600 rounded focus:ring-blue-500 focus:ring-1",checked:h.cutOffPreviousNotes,onChange:R=>k(R.target.checked)}),c.jsx("span",{className:"ml-2 text-xs text-slate-300 uppercase tracking-wide",children:"Cut off previous notes"})]})})]}),c.jsxs("div",{className:"space-y-4 mt-6 lg:mt-0",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:"Equalizer"}),c.jsx("div",{className:"space-y-3",children:[{label:"Bass",key:"bass"},{label:"Mid",key:"mid"},{label:"Treble",key:"treble"}].map(({label:R,key:re})=>c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wide",children:R}),c.jsxs("span",{className:"text-xs text-slate-400 font-mono",children:[h.eq[re]>0?"+":"",h.eq[re].toFixed(1),"dB"]})]}),c.jsx("input",{type:"range",name:re,min:"-24",max:"24",step:"0.5",value:h.eq[re],onChange:ue=>{const H={...h.eq,[re]:parseFloat(ue.target.value)};P(H)},className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})]},re))})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Chorus",c.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",Math.round(h.chorusLevel*100),"%)"]})]}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:"range",min:"0",max:"1.0",step:"0.05",value:h.chorusLevel,onChange:R=>T(parseFloat(R.target.value)),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Delay",c.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",Math.round(h.delayLevel*100),"%)"]})]}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:"range",min:"0",max:"1.0",step:"0.05",value:h.delayLevel,onChange:R=>$(parseFloat(R.target.value)),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})})]})]})]})]})})]})})]})})},ES=({isOpen:n,onClose:r,onOpenHelp:o})=>{const i=()=>{r(),o()};return c.jsx(Jc,{isOpen:n,onClose:r,title:"About",className:"max-w-2xl max-h-[85vh]",fixedHeader:!0,children:c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{className:"bg-[#2a2f38] rounded-lg border border-gray-600 overflow-hidden",children:[c.jsx("div",{className:"bg-[#444b59] px-4 py-3 border-b border-gray-600",children:c.jsx("h4",{className:"text-sm font-semibold text-white uppercase tracking-wide",children:"Overview"})}),c.jsxs("div",{className:"p-4 text-sm leading-relaxed space-y-3 text-slate-300 text-left",children:[c.jsx("p",{children:"Modal Chord Buildr **modal.chordbuildr.com** is a comprehensive web-based music composition and performance tool built with React. The application provides an intuitive interface for exploring musical scales, building chord progressions, and creating rhythmic patterns."}),c.jsxs("p",{children:["For more details on how to use this app, please refer to the"," ",c.jsx("button",{onClick:i,className:"font-semibold text-blue-400 hover:text-blue-300 underline underline-offset-2 transition-colors cursor-pointer",children:"Help & Guide"})," ","documentation."]})]})]}),c.jsxs("div",{className:"bg-[#2a2f38] rounded-lg border border-gray-600 overflow-hidden",children:[c.jsx("div",{className:"bg-[#444b59] px-4 py-3 border-b border-gray-600",children:c.jsx("h4",{className:"text-sm font-semibold text-white uppercase tracking-wide",children:"Key Features"})}),c.jsx("div",{className:"p-4",children:c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded-md hover:bg-[#3d434f]/50 transition-colors",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),c.jsx("span",{className:"text-sm text-slate-300 text-left",children:"Interactive piano with multiple instruments and audio effects"})]}),c.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded-md hover:bg-[#3d434f]/50 transition-colors",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),c.jsx("span",{className:"text-sm text-slate-300 text-left",children:"Pattern sequencer with customizable rhythmic patterns"})]}),c.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded-md hover:bg-[#3d434f]/50 transition-colors",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),c.jsx("span",{className:"text-sm text-slate-300 text-left",children:"Extensive chord explorer with mode-based chord generation"})]}),c.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded-md hover:bg-[#3d434f]/50 transition-colors",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),c.jsx("span",{className:"text-sm text-slate-300 text-left",children:"Real-time visualization of scale notes and chord relationships"})]}),c.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded-md hover:bg-[#3d434f]/50 transition-colors",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),c.jsx("span",{className:"text-sm text-slate-300 text-left",children:"Live mode for performance and improvisation"})]})]})})]}),c.jsxs("div",{className:"bg-[#2a2f38] rounded-lg border border-gray-600 overflow-hidden",children:[c.jsx("div",{className:"bg-[#444b59] px-4 py-3 border-b border-gray-600",children:c.jsx("h4",{className:"text-sm font-semibold text-white uppercase tracking-wide",children:"Links"})}),c.jsxs("div",{className:"p-4 space-y-3",children:[c.jsxs("a",{href:"https://github.com/jekrch/chord-analyzr",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-3 rounded-lg bg-[#3d434f]/50 hover:bg-[#4a5262]/70 transition-all duration-200 group",children:[c.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-700 group-hover:bg-gray-600 transition-colors",children:c.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M10 0C4.477 0 0 4.484 0 10.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0110 4.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.203 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.942.359.31.678.921.678 1.856 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0020 10.017C20 4.484 15.522 0 10 0z",clipRule:"evenodd"})})}),c.jsxs("div",{className:"flex-1 text-left",children:[c.jsx("div",{className:"text-sm font-medium text-white group-hover:text-blue-200 transition-colors",children:"GitHub Repository"}),c.jsx("div",{className:"text-xs text-slate-400",children:"View source code and documentation"})]})]}),c.jsxs("a",{href:"https://jacobkrch.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-3 rounded-lg bg-[#3d434f]/50 hover:bg-[#4a5262]/70 transition-all duration-200 group",children:[c.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-blue-600 group-hover:bg-blue-500 transition-colors",children:c.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})}),c.jsx("div",{className:"flex-1 text-left",children:c.jsx("div",{className:"text-sm font-medium text-white group-hover:text-blue-200 transition-colors",children:"jacobkrch.com"})})]})]})]}),c.jsx("div",{className:"pt-4 border-t border-gray-600/50",children:c.jsx("p",{className:"text-xs text-slate-400 text-left",children:" 2025 Jacob Krch. All rights reserved."})})]})})},Sn=({title:n,children:r,defaultOpen:o=!1})=>{const[i,a]=w.useState(o);return c.jsxs("div",{className:"bg-[#2a2f38] rounded-lg border border-gray-600 overflow-hidden mb-4",children:[c.jsxs("button",{onClick:()=>a(!i),className:"w-full flex items-center justify-between p-4 text-left bg-[#444b59] border-b border-gray-600 hover:bg-[#4a5262] transition-all duration-200",children:[c.jsx("h4",{className:"text-sm font-semibold text-white uppercase tracking-wide",children:n}),i?c.jsx(br,{className:"w-4 h-4 text-slate-300 flex-shrink-0"}):c.jsx(Vh,{className:"w-4 h-4 text-slate-300 flex-shrink-0"})]}),i&&c.jsx("div",{className:"p-4 text-slate-300",children:r})]})},PS=({isOpen:n,onClose:r})=>c.jsx(Jc,{isOpen:n,onClose:r,title:"Help & Guide",className:"max-w-4xl max-h-[85vh]",fixedHeader:!0,children:c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsx(Sn,{title:"Quick Start",defaultOpen:!0,children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-start space-x-4 p-3 rounded-lg bg-[#3d434f]/30 hover:bg-[#3d434f]/50 transition-colors",children:[c.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-blue-600 text-white text-sm font-bold flex-shrink-0",children:"1"}),c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"text-sm font-semibold text-white mb-1",children:"Choose a Key & Mode"}),c.jsx("div",{className:"text-sm text-slate-300",children:"Use the Controls section to select your musical key and mode (like C Ionian, D# Lydian, etc.)"})]})]}),c.jsxs("div",{className:"flex items-start space-x-4 p-3 rounded-lg bg-[#3d434f]/30 hover:bg-[#3d434f]/50 transition-colors",children:[c.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-blue-600 text-white text-sm font-bold flex-shrink-0",children:"2"}),c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"text-sm font-semibold text-white mb-1",children:"Explore Chords"}),c.jsx("div",{className:"text-sm text-slate-300",children:"Browse the Chord Explorer below to discover chords that fit your chosen key/mode"})]})]}),c.jsxs("div",{className:"flex items-start space-x-4 p-3 rounded-lg bg-[#3d434f]/30 hover:bg-[#3d434f]/50 transition-colors",children:[c.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-blue-600 text-white text-sm font-bold flex-shrink-0",children:"3"}),c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"text-sm font-semibold text-white mb-1",children:"Build Sequences"}),c.jsx("div",{className:"text-sm text-slate-300",children:"Click the + button on chords to add them to your sequence"})]})]}),c.jsxs("div",{className:"flex items-start space-x-4 p-3 rounded-lg bg-[#3d434f]/30 hover:bg-[#3d434f]/50 transition-colors",children:[c.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-blue-600 text-white text-sm font-bold flex-shrink-0",children:"4"}),c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"text-sm font-semibold text-white mb-1",children:"Create Patterns"}),c.jsx("div",{className:"text-sm text-slate-300",children:"Use the Sequencer to create rhythmic patterns for your chords"})]})]}),c.jsxs("div",{className:"flex items-start space-x-4 p-3 rounded-lg bg-[#3d434f]/30 hover:bg-[#3d434f]/50 transition-colors",children:[c.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-blue-600 text-white text-sm font-bold flex-shrink-0",children:"5"}),c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"text-sm font-semibold text-white mb-1",children:"Play & Perform"}),c.jsx("div",{className:"text-sm text-slate-300",children:"Hit Play to hear your creation, or use Live Mode for real-time performance"})]})]})]})}),c.jsx(Sn,{title:"Keyboard Shortcuts",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsx("h5",{className:"text-white font-semibold text-sm border-b border-gray-600 pb-2 text-left",children:"Playback Control"}),c.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md bg-[#3d434f]/30",children:[c.jsx("span",{className:"text-sm text-left",children:"Play/Pause sequencer"}),c.jsx("kbd",{className:"px-2 py-1 bg-gray-700 rounded text-xs font-mono",children:"Space"})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("h5",{className:"text-white font-semibold text-sm border-b border-gray-600 pb-2 text-left",children:"Navigation"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md bg-[#3d434f]/30",children:[c.jsx("span",{className:"text-sm text-left",children:"Expand chord buttons"}),c.jsx("kbd",{className:"px-2 py-1 bg-gray-700 rounded text-xs font-mono",children:"L"})]}),c.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md bg-[#3d434f]/30",children:[c.jsx("span",{className:"text-sm text-left",children:"Select chord from sequence"}),c.jsx("kbd",{className:"px-2 py-1 bg-gray-700 rounded text-xs font-mono",children:"1-9"})]})]})]})]})}),c.jsx(Sn,{title:"Piano & Audio Controls",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[c.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Piano Interaction"}),c.jsx("p",{className:"text-sm text-left",children:"Click piano keys to play individual notes. The piano highlights scale notes and chord tones based on your current selection."})]}),c.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[c.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Audio Settings"}),c.jsx("p",{className:"text-sm mb-3 text-left",children:"Access comprehensive audio controls through the Settings panel in the Controls section:"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-start space-x-2 text-sm",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),c.jsxs("div",{className:"text-left",children:[c.jsx("strong",{className:"text-white",children:"Voice:"})," ",c.jsx("span",{className:"text-slate-300",children:"Choose from multiple instrument sounds"})]})]}),c.jsxs("div",{className:"flex items-start space-x-2 text-sm",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),c.jsxs("div",{className:"text-left",children:[c.jsx("strong",{className:"text-white",children:"Volume & Octave:"})," ",c.jsx("span",{className:"text-slate-300",children:"Adjust overall volume and pitch range"})]})]}),c.jsxs("div",{className:"flex items-start space-x-2 text-sm",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),c.jsxs("div",{className:"text-left",children:[c.jsx("strong",{className:"text-white",children:"Effects:"})," ",c.jsx("span",{className:"text-slate-300",children:"Add reverb, chorus, and delay"})]})]}),c.jsxs("div",{className:"flex items-start space-x-2 text-sm",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),c.jsxs("div",{className:"text-left",children:[c.jsx("strong",{className:"text-white",children:"Equalizer:"})," ",c.jsx("span",{className:"text-slate-300",children:"Shape the sound with bass, mid, and treble controls"})]})]}),c.jsxs("div",{className:"flex items-start space-x-2 text-sm",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),c.jsxs("div",{className:"text-left",children:[c.jsx("strong",{className:"text-white",children:"Note Duration:"})," ",c.jsx("span",{className:"text-slate-300",children:"Control how long notes ring out"})]})]})]})]})]})}),c.jsx(Sn,{title:"Pattern Sequencer",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[c.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Understanding Patterns"}),c.jsx("p",{className:"text-sm mb-3 text-left",children:"Patterns control which chord tones play at different time steps. Each step can be:"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-md bg-[#2a2f38]",children:[c.jsx("code",{className:"px-2 py-1 bg-gray-700 rounded text-xs font-mono text-white min-w-[4rem] text-center",children:""}),c.jsx("span",{className:"text-sm text-slate-300 text-left",children:"Rest/silence"})]}),c.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-md bg-[#2a2f38]",children:[c.jsx("code",{className:"px-2 py-1 bg-gray-700 rounded text-xs font-mono text-white min-w-[4rem] text-center",children:"1, 2, 3..."}),c.jsx("span",{className:"text-sm text-slate-300 text-left",children:"Play the 1st, 2nd, 3rd... note of the chord"})]}),c.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-md bg-[#2a2f38]",children:[c.jsx("code",{className:"px-2 py-1 bg-gray-700 rounded text-xs font-mono text-white min-w-[4rem] text-center",children:"1, 2..."}),c.jsx("span",{className:"text-sm text-slate-300 text-left",children:"Play the note one octave higher"})]})]})]}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:c.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[c.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Pattern Controls"}),c.jsxs("div",{className:"space-y-2 text-sm text-left",children:[c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Add/Remove Steps:"})," Use the +/- buttons to change pattern length"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Pattern Presets:"})," Choose from pre-built patterns or create your own"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Timing:"})," Adjust BPM, subdivision, and swing feel"]})]})]})})]})}),c.jsx(Sn,{title:"Chord Explorer & Sequences",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[c.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Finding Chords"}),c.jsx("p",{className:"text-sm mb-3 text-left",children:"The Chord Explorer shows all chords that fit your selected key and mode. You can:"}),c.jsxs("div",{className:"space-y-2 text-sm text-left",children:[c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Filter by root note"})," to find specific chord types"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Search"})," for chord names or note combinations"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Click to preview"})," any chord"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Click "})," to see the individual notes in a chord"]})]})]}),c.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[c.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Building Sequences"}),c.jsxs("p",{className:"text-sm mb-3 text-left",children:["Add chords to your sequence using the ",c.jsx("span",{className:"text-green-400 font-bold",children:"+"})," button. Your chord sequence appears at the bottom where you can:"]}),c.jsxs("div",{className:"space-y-2 text-sm text-left",children:[c.jsx("div",{children:"Click any chord to play it immediately"}),c.jsx("div",{children:"Use numbers 1-9 to jump between chords"}),c.jsx("div",{children:"Toggle Delete mode to remove unwanted chords"}),c.jsx("div",{children:"Clear all chords to start fresh"}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-blue-400",children:"Click the gear icon"})," to enter Edit mode and modify chords"]})]})]})]})}),c.jsx(Sn,{title:"Chord Editing",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[c.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Edit Mode"}),c.jsxs("p",{className:"text-sm mb-3 text-left",children:["Click the ",c.jsx("span",{className:"text-blue-400 font-bold",children:"gear icon"})," next to your chord sequence to enter Edit Mode. In this mode, you can:"]}),c.jsxs("div",{className:"space-y-2 text-sm text-left",children:[c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Click any chord"})," to open the chord editor"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Modify chord voicings"})," by reordering notes"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Add slash chords"})," to change the bass note"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Preview changes"})," before saving them"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[c.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Slash Chords"}),c.jsx("p",{className:"text-sm mb-3 text-left",children:"Create slash chords (like C/E) by specifying a bass note:"}),c.jsxs("div",{className:"space-y-2 text-sm text-left",children:[c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Bass Note Field:"})," Enter a note name (e.g., E, Gb, C)"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Automatic Voicing:"})," The bass note moves to the lowest position"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Chord Name:"})," Updates to show the slash notation (C/E)"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Remove Bass:"})," Clear the field to return to original chord"]})]})]}),c.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[c.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Note Reordering"}),c.jsx("p",{className:"text-sm mb-3 text-left",children:"Change the order of chord notes for different voicings:"}),c.jsxs("div",{className:"space-y-2 text-sm text-left",children:[c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Drag & Drop:"})," Drag notes to reorder them"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Arrow Buttons:"})," Use up/down arrows to move notes"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Auto-Detection:"})," Slash note updates automatically when you change the bass"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Visual Feedback:"})," Slash notes are highlighted in amber"]})]})]})]}),c.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[c.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Editor Controls"}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2 text-sm text-left",children:[c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Preview:"})," Click the play button to hear your changes"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Save:"})," Green checkmark to confirm edits"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Cancel:"})," Discard changes and close editor"]})]}),c.jsxs("div",{className:"space-y-2 text-sm text-left",children:[c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Original Notes:"})," Editor preserves original chord voicing"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Real-time Updates:"})," Changes reflect immediately in the editor"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Full-screen:"})," Editor takes over the entire interface for focused editing"]})]})]})]})]})}),c.jsx(Sn,{title:"Live Mode",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[c.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Performance Mode"}),c.jsx("p",{className:"text-sm mb-3 text-left",children:"Live Mode expands your chord sequence into a full-screen performance interface perfect for:"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded-md bg-[#2a2f38]",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),c.jsxs("div",{className:"text-sm text-left",children:[c.jsx("strong",{className:"text-white",children:"Live performance:"})," ",c.jsx("span",{className:"text-slate-300",children:"Large, touch-friendly chord buttons"})]})]}),c.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded-md bg-[#2a2f38]",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),c.jsxs("div",{className:"text-sm text-left",children:[c.jsx("strong",{className:"text-white",children:"Practice sessions:"})," ",c.jsx("span",{className:"text-slate-300",children:"Easy chord switching with visual feedback"})]})]}),c.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded-md bg-[#2a2f38]",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),c.jsxs("div",{className:"text-sm text-left",children:[c.jsx("strong",{className:"text-white",children:"Composition:"})," ",c.jsx("span",{className:"text-slate-300",children:"Hear chord progressions in real-time"})]})]})]})]}),c.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[c.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Using Live Mode"}),c.jsxs("div",{className:"space-y-2 text-sm text-left",children:[c.jsx("div",{children:'Click "Expand" in the chord sequence to enter Live Mode'}),c.jsx("div",{children:"Use keyboard numbers 1-9 or click/tap chord buttons"}),c.jsx("div",{children:"The sequencer continues playing your patterns"}),c.jsx("div",{children:"Active chord is highlighted in blue"})]})]})]})}),c.jsxs(Sn,{title:"Interface Tips",children:[c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[c.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Navigation"}),c.jsxs("div",{className:"space-y-2 text-sm text-left",children:[c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Sequencer Header:"})," Click to show/hide the pattern editor"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Settings Panels:"})," Most sections have expandable settings"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Status Indicators:"})," Top bar shows current key, mode, and playback status"]})]})]})}),c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[c.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Visual Feedback"}),c.jsxs("div",{className:"space-y-2 text-sm text-left",children:[c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Piano Keys:"})," Scale notes are highlighted in blue"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Chord Tones:"})," Active chord notes show in brighter colors"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Step Indicator:"})," Shows current position in the pattern"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Animations:"})," Visual feedback for chord changes and playback"]})]})]})})]}),c.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30 mt-4",children:[c.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Responsive Design"}),c.jsx("p",{className:"text-sm text-left",children:"The interface adapts to different screen sizes. On mobile devices, some controls are simplified and touch-optimized for better usability."})]})]}),c.jsx(Sn,{title:"Troubleshooting",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[c.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Audio Issues"}),c.jsxs("div",{className:"space-y-2 text-sm text-left",children:[c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"No sound:"})," Check device volume and ensure audio isn't muted"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"iOS devices:"})," Tap any button first to initialize audio"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Distorted audio:"})," Lower the volume setting in piano controls"]})]})]}),c.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[c.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Performance"}),c.jsxs("div",{className:"space-y-2 text-sm text-left",children:[c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Lag or glitches:"})," Close other browser tabs using audio"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Mobile performance:"})," Use lower reverb/effect settings for better performance"]})]})]})]})}),c.jsx("div",{className:"mt-8 pt-6 border-t border-gray-600/50",children:c.jsx("p",{className:"text-xs text-slate-400 text-left",children:"Need more help? Check the GitHub repository for detailed documentation and examples."})})]})}),kS=({globalPatternState:n,isLiveMode:r,keySignature:o,mode:i})=>{const[a,u]=w.useState(!1),[f,p]=w.useState(!1),[h,g]=w.useState(!1),x=w.useRef(null),v=w.useRef(null);w.useEffect(()=>{const E=k=>{x.current&&v.current&&!x.current.contains(k.target)&&!v.current.contains(k.target)&&g(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const y=E=>{E(),g(!1)},N=()=>{p(!0)};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"bg-[#3d434f] border-b border-gray-600",children:c.jsx("div",{className:"relative",children:c.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"relative flex items-center mt-2",children:[c.jsx("div",{className:"relative w-12 h-12",children:c.jsxs("svg",{viewBox:"0 0 48 48",className:"w-12 h-12",children:[c.jsx("polygon",{points:"24,2 38,12 38,28 24,38 10,28 10,12",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-slate-300"}),c.jsx("circle",{cx:"18",cy:"20",r:"2",fill:"currentColor",className:"text-slate-400"}),c.jsx("circle",{cx:"30",cy:"20",r:"2",fill:"currentColor",className:"text-slate-400"}),c.jsx("circle",{cx:"24",cy:"28",r:"2",fill:"currentColor",className:"text-slate-400"}),c.jsx("line",{x1:"18",y1:"20",x2:"24",y2:"28",stroke:"currentColor",strokeWidth:"1.5",className:"text-slate-400"}),c.jsx("line",{x1:"30",y1:"20",x2:"24",y2:"28",stroke:"currentColor",strokeWidth:"1.5",className:"text-slate-400"}),c.jsx("line",{x1:"18",y1:"20",x2:"30",y2:"20",stroke:"currentColor",strokeWidth:"1.5",className:"text-slate-400"})]})}),c.jsx("div",{className:"absolute -top-1 -right-0 w-2 h-2 border border-slate-400 transform rotate-39"})]}),c.jsx("div",{className:"flex items-center space-x-3",children:c.jsxs("div",{className:"flex flex-col items-start",children:[c.jsx("h1",{className:"text-xl font-bold text-blue-500 tracking-tight leading-none",children:"modal"}),c.jsxs("div",{className:"flex items-center space-x-0.5",children:[c.jsx("span",{className:"text-xs text-slate-400 font-medium uppercase tracking-widest",children:"chord"}),c.jsx("div",{className:"w-1 h-1 bg-slate-400"}),c.jsx("span",{className:"text-xs text-slate-400 font-medium uppercase tracking-widest",children:"buildr"})]})]})})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"hidden sm:flex items-center space-x-2 text-sm",children:[c.jsx("div",{className:"px-2 py-0.5 bg-[#444b59] border border-gray-600 rounded text-slate-300 font-mono",children:o}),c.jsx("div",{className:"w-px h-4 bg-slate-600"}),c.jsx("div",{className:"px-2 py-1 bg-[#444b59] border border-gray-600 rounded text-slate-300 text-xs font-mono",children:i})]}),c.jsxs("div",{className:"relative",children:[c.jsx("button",{ref:v,onClick:()=>g(!h),className:"w-9 h-9 flex items-center justify-center text-slate-400 hover:text-slate-200 hover:bg-[#4a5262] rounded-lg transition-all duration-200 border border-transparent hover:border-gray-600",title:"Menu",children:c.jsx(Ox,{className:"w-5 h-5"})}),h&&c.jsx("div",{ref:x,className:"absolute right-0 mt-2 w-64 bg-[#3d434f] border border-gray-600 rounded-lg shadow-xl z-50 overflow-hidden",children:c.jsxs("div",{className:"py-2",children:[c.jsxs("button",{onClick:()=>y(()=>u(!0)),className:"w-full px-4 py-2.5 text-left flex items-center space-x-3 text-slate-400 hover:text-slate-200 hover:bg-[#4a5262] transition-all duration-150",children:[c.jsx(Mx,{className:"w-4 h-4 flex-shrink-0"}),c.jsx("span",{className:"text-sm font-medium",children:"About"})]}),c.jsxs("button",{onClick:()=>y(()=>p(!0)),className:"w-full px-4 py-2.5 text-left flex items-center space-x-3 text-slate-400 hover:text-slate-200 hover:bg-[#4a5262] transition-all duration-150",children:[c.jsx(Hh,{className:"w-4 h-4 flex-shrink-0"}),c.jsx("span",{className:"text-sm font-medium",children:"Help"})]})]})})]})]})]})})}),c.jsx(ES,{isOpen:a,onClose:()=>u(!1),onOpenHelp:N}),c.jsx(PS,{isOpen:f,onClose:()=>p(!1)})]})},DS=(n,r,o,i)=>n?i:r!==null&&o[r]?.pattern?o[r].pattern:i,RS=()=>{const{globalPatternState:n,currentlyActivePattern:r}=eo(),{temporaryChord:o,activeChordIndex:i,addedChords:a}=yr(),{isPlaying:u,bpm:f,currentStep:p}=n,h=w.useMemo(()=>DS(o,i,a,r),[o,i,a,r]);if(!u)return null;const g=h.length>0?h.length:1,x=p%g+1;return c.jsx("div",{className:"w-full px-2 mx-auto items-center",children:c.jsx("div",{className:"px-6 py-3 bg-green-900 bg-opacity-50 rounded-lg border border-green-700 w-full max-w-7xl mx-auto",children:c.jsxs("div",{className:"text-sm text-green-300 flex items-center justify-center space-x-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse mr-2"}),c.jsx("span",{className:"font-medium",children:"Sequencer Active"})]}),c.jsxs("div",{className:"text-xs opacity-80",children:["Pattern: ",h.join("-")," |",` ${f}`," BPM | Step ",x,"/",g,o&&c.jsxs("span",{className:"ml-2 text-yellow-300",children:[" ",o.name]}),!o&&i!==null&&c.jsxs("span",{className:"ml-2 text-purple-300",children:[" ",a[i]?.name]}),!o&&i===null&&c.jsx("span",{className:"ml-2 text-cyan-300",children:" Global pattern"})]})]})})})};function IS(){const{chords:n,key:r,mode:o,loadingChords:i,isLiveMode:a,globalPatternState:u,handleChordClick:f,addChordClick:p}=bx(),h=w.useRef(null),g=w.useRef(!1),x=async()=>{if(!g.current)try{await h.current?.play(),g.current=!0,document.removeEventListener("touchstart",x),document.removeEventListener("mousedown",x),document.removeEventListener("click",x)}catch(v){console.error("failed to initialize audio:",v)}};return w.useEffect(()=>(document.addEventListener("touchstart",x),document.addEventListener("mousedown",x),document.addEventListener("click",x),()=>{document.removeEventListener("touchstart",x),document.removeEventListener("mousedown",x),document.removeEventListener("click",x)}),[]),c.jsxs("div",{className:"select-none text-center bg-[#282c34] min-h-screen",children:[c.jsx("audio",{ref:h,preload:"auto",children:c.jsx("source",{src:"/silence.mp3",type:"audio/mp3"})}),c.jsx(kS,{globalPatternState:u,isLiveMode:a,keySignature:r,mode:o}),c.jsxs("div",{className:`mt-2 flex flex-col items-center justify-start text-[calc(10px+2vmin)] text-white p-4 space-y-6 pb-24 ${a?"pointer-events-none opacity-30":""}`,children:[c.jsx("div",{className:"w-full max-w-7xl",children:c.jsx(Qy,{hideConfigControls:!0})}),c.jsx(jS,{}),c.jsx(Xy,{}),c.jsx(RS,{}),c.jsx("div",{className:"w-full max-w-7xl mb-20 mt-2",children:c.jsx(Xx,{chords:n?.filter(v=>!!v.chordName&&!!v.chordNoteNames),loading:i,onChordClick:f,addChordClick:p})})]}),c.jsx(CS,{})]})}dv.createRoot(document.getElementById("root")).render(c.jsx(Pe.StrictMode,{children:c.jsx(IS,{})}));
