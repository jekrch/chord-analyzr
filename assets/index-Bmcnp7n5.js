(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function o(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(a){if(a.ep)return;a.ep=!0;const u=o(a);fetch(a.href,u)}})();var wi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ar(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function K0(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var r=n.default;if(typeof r=="function"){var o=function i(){var a=!1;try{a=this instanceof i}catch{}return a?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};o.prototype=r.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var a=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(o,i,a.get?a:{enumerable:!0,get:function(){return n[i]}})}),o}var Ta={exports:{}},Hs={},Ma={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qf;function Y0(){if(Qf)return De;Qf=1;var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function x(R){return R===null||typeof R!="object"?null:(R=v&&R[v]||R["@@iterator"],typeof R=="function"?R:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,E={};function k(R,C,X){this.props=R,this.context=C,this.refs=E,this.updater=X||N}k.prototype.isReactComponent={},k.prototype.setState=function(R,C){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,C,"setState")},k.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function V(){}V.prototype=k.prototype;function z(R,C,X){this.props=R,this.context=C,this.refs=E,this.updater=X||N}var T=z.prototype=new V;T.constructor=z,j(T,k.prototype),T.isPureReactComponent=!0;var L=Array.isArray,O=Object.prototype.hasOwnProperty,F={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function A(R,C,X){var se,Q={},ce=null,xe=null;if(C!=null)for(se in C.ref!==void 0&&(xe=C.ref),C.key!==void 0&&(ce=""+C.key),C)O.call(C,se)&&!$.hasOwnProperty(se)&&(Q[se]=C[se]);var ue=arguments.length-2;if(ue===1)Q.children=X;else if(1<ue){for(var le=Array(ue),Le=0;Le<ue;Le++)le[Le]=arguments[Le+2];Q.children=le}if(R&&R.defaultProps)for(se in ue=R.defaultProps,ue)Q[se]===void 0&&(Q[se]=ue[se]);return{$$typeof:n,type:R,key:ce,ref:xe,props:Q,_owner:F.current}}function Z(R,C){return{$$typeof:n,type:R.type,key:C,ref:R.ref,props:R.props,_owner:R._owner}}function H(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function de(R){var C={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(X){return C[X]})}var W=/\/+/g;function G(R,C){return typeof R=="object"&&R!==null&&R.key!=null?de(""+R.key):C.toString(36)}function ae(R,C,X,se,Q){var ce=typeof R;(ce==="undefined"||ce==="boolean")&&(R=null);var xe=!1;if(R===null)xe=!0;else switch(ce){case"string":case"number":xe=!0;break;case"object":switch(R.$$typeof){case n:case r:xe=!0}}if(xe)return xe=R,Q=Q(xe),R=se===""?"."+G(xe,0):se,L(Q)?(X="",R!=null&&(X=R.replace(W,"$&/")+"/"),ae(Q,C,X,"",function(Le){return Le})):Q!=null&&(H(Q)&&(Q=Z(Q,X+(!Q.key||xe&&xe.key===Q.key?"":(""+Q.key).replace(W,"$&/")+"/")+R)),C.push(Q)),1;if(xe=0,se=se===""?".":se+":",L(R))for(var ue=0;ue<R.length;ue++){ce=R[ue];var le=se+G(ce,ue);xe+=ae(ce,C,X,le,Q)}else if(le=x(R),typeof le=="function")for(R=le.call(R),ue=0;!(ce=R.next()).done;)ce=ce.value,le=se+G(ce,ue++),xe+=ae(ce,C,X,le,Q);else if(ce==="object")throw C=String(R),Error("Objects are not valid as a React child (found: "+(C==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":C)+"). If you meant to render a collection of children, use an array instead.");return xe}function pe(R,C,X){if(R==null)return R;var se=[],Q=0;return ae(R,se,"","",function(ce){return C.call(X,ce,Q++)}),se}function q(R){if(R._status===-1){var C=R._result;C=C(),C.then(function(X){(R._status===0||R._status===-1)&&(R._status=1,R._result=X)},function(X){(R._status===0||R._status===-1)&&(R._status=2,R._result=X)}),R._status===-1&&(R._status=0,R._result=C)}if(R._status===1)return R._result.default;throw R._result}var fe={current:null},U={transition:null},J={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:U,ReactCurrentOwner:F};function K(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:pe,forEach:function(R,C,X){pe(R,function(){C.apply(this,arguments)},X)},count:function(R){var C=0;return pe(R,function(){C++}),C},toArray:function(R){return pe(R,function(C){return C})||[]},only:function(R){if(!H(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},De.Component=k,De.Fragment=o,De.Profiler=a,De.PureComponent=z,De.StrictMode=i,De.Suspense=m,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,De.act=K,De.cloneElement=function(R,C,X){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var se=j({},R.props),Q=R.key,ce=R.ref,xe=R._owner;if(C!=null){if(C.ref!==void 0&&(ce=C.ref,xe=F.current),C.key!==void 0&&(Q=""+C.key),R.type&&R.type.defaultProps)var ue=R.type.defaultProps;for(le in C)O.call(C,le)&&!$.hasOwnProperty(le)&&(se[le]=C[le]===void 0&&ue!==void 0?ue[le]:C[le])}var le=arguments.length-2;if(le===1)se.children=X;else if(1<le){ue=Array(le);for(var Le=0;Le<le;Le++)ue[Le]=arguments[Le+2];se.children=ue}return{$$typeof:n,type:R.type,key:Q,ref:ce,props:se,_owner:xe}},De.createContext=function(R){return R={$$typeof:f,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:u,_context:R},R.Consumer=R},De.createElement=A,De.createFactory=function(R){var C=A.bind(null,R);return C.type=R,C},De.createRef=function(){return{current:null}},De.forwardRef=function(R){return{$$typeof:p,render:R}},De.isValidElement=H,De.lazy=function(R){return{$$typeof:y,_payload:{_status:-1,_result:R},_init:q}},De.memo=function(R,C){return{$$typeof:g,type:R,compare:C===void 0?null:C}},De.startTransition=function(R){var C=U.transition;U.transition={};try{R()}finally{U.transition=C}},De.unstable_act=K,De.useCallback=function(R,C){return fe.current.useCallback(R,C)},De.useContext=function(R){return fe.current.useContext(R)},De.useDebugValue=function(){},De.useDeferredValue=function(R){return fe.current.useDeferredValue(R)},De.useEffect=function(R,C){return fe.current.useEffect(R,C)},De.useId=function(){return fe.current.useId()},De.useImperativeHandle=function(R,C,X){return fe.current.useImperativeHandle(R,C,X)},De.useInsertionEffect=function(R,C){return fe.current.useInsertionEffect(R,C)},De.useLayoutEffect=function(R,C){return fe.current.useLayoutEffect(R,C)},De.useMemo=function(R,C){return fe.current.useMemo(R,C)},De.useReducer=function(R,C,X){return fe.current.useReducer(R,C,X)},De.useRef=function(R){return fe.current.useRef(R)},De.useState=function(R){return fe.current.useState(R)},De.useSyncExternalStore=function(R,C,X){return fe.current.useSyncExternalStore(R,C,X)},De.useTransition=function(){return fe.current.useTransition()},De.version="18.3.1",De}var Zf;function zi(){return Zf||(Zf=1,Ma.exports=Y0()),Ma.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xf;function Q0(){if(Xf)return Hs;Xf=1;var n=zi(),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function f(p,m,g){var y,v={},x=null,N=null;g!==void 0&&(x=""+g),m.key!==void 0&&(x=""+m.key),m.ref!==void 0&&(N=m.ref);for(y in m)i.call(m,y)&&!u.hasOwnProperty(y)&&(v[y]=m[y]);if(p&&p.defaultProps)for(y in m=p.defaultProps,m)v[y]===void 0&&(v[y]=m[y]);return{$$typeof:r,type:p,key:x,ref:N,props:v,_owner:a.current}}return Hs.Fragment=o,Hs.jsx=f,Hs.jsxs=f,Hs}var Jf;function Z0(){return Jf||(Jf=1,Ta.exports=Q0()),Ta.exports}var c=Z0(),w=zi();const Re=ar(w);var Ni={},La={exports:{}},Ot={},Fa={exports:{}},Ba={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep;function X0(){return ep||(ep=1,function(n){function r(U,J){var K=U.length;U.push(J);e:for(;0<K;){var R=K-1>>>1,C=U[R];if(0<a(C,J))U[R]=J,U[K]=C,K=R;else break e}}function o(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var J=U[0],K=U.pop();if(K!==J){U[0]=K;e:for(var R=0,C=U.length,X=C>>>1;R<X;){var se=2*(R+1)-1,Q=U[se],ce=se+1,xe=U[ce];if(0>a(Q,K))ce<C&&0>a(xe,Q)?(U[R]=xe,U[ce]=K,R=ce):(U[R]=Q,U[se]=K,R=se);else if(ce<C&&0>a(xe,K))U[R]=xe,U[ce]=K,R=ce;else break e}}return J}function a(U,J){var K=U.sortIndex-J.sortIndex;return K!==0?K:U.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();n.unstable_now=function(){return f.now()-p}}var m=[],g=[],y=1,v=null,x=3,N=!1,j=!1,E=!1,k=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(U){for(var J=o(g);J!==null;){if(J.callback===null)i(g);else if(J.startTime<=U)i(g),J.sortIndex=J.expirationTime,r(m,J);else break;J=o(g)}}function L(U){if(E=!1,T(U),!j)if(o(m)!==null)j=!0,q(O);else{var J=o(g);J!==null&&fe(L,J.startTime-U)}}function O(U,J){j=!1,E&&(E=!1,V(A),A=-1),N=!0;var K=x;try{for(T(J),v=o(m);v!==null&&(!(v.expirationTime>J)||U&&!de());){var R=v.callback;if(typeof R=="function"){v.callback=null,x=v.priorityLevel;var C=R(v.expirationTime<=J);J=n.unstable_now(),typeof C=="function"?v.callback=C:v===o(m)&&i(m),T(J)}else i(m);v=o(m)}if(v!==null)var X=!0;else{var se=o(g);se!==null&&fe(L,se.startTime-J),X=!1}return X}finally{v=null,x=K,N=!1}}var F=!1,$=null,A=-1,Z=5,H=-1;function de(){return!(n.unstable_now()-H<Z)}function W(){if($!==null){var U=n.unstable_now();H=U;var J=!0;try{J=$(!0,U)}finally{J?G():(F=!1,$=null)}}else F=!1}var G;if(typeof z=="function")G=function(){z(W)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,pe=ae.port2;ae.port1.onmessage=W,G=function(){pe.postMessage(null)}}else G=function(){k(W,0)};function q(U){$=U,F||(F=!0,G())}function fe(U,J){A=k(function(){U(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_continueExecution=function(){j||N||(j=!0,q(O))},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return o(m)},n.unstable_next=function(U){switch(x){case 1:case 2:case 3:var J=3;break;default:J=x}var K=x;x=J;try{return U()}finally{x=K}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(U,J){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var K=x;x=U;try{return J()}finally{x=K}},n.unstable_scheduleCallback=function(U,J,K){var R=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?R+K:R):K=R,U){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=K+C,U={id:y++,callback:J,priorityLevel:U,startTime:K,expirationTime:C,sortIndex:-1},K>R?(U.sortIndex=K,r(g,U),o(m)===null&&U===o(g)&&(E?(V(A),A=-1):E=!0,fe(L,K-R))):(U.sortIndex=C,r(m,U),j||N||(j=!0,q(O))),U},n.unstable_shouldYield=de,n.unstable_wrapCallback=function(U){var J=x;return function(){var K=x;x=J;try{return U.apply(this,arguments)}finally{x=K}}}}(Ba)),Ba}var tp;function J0(){return tp||(tp=1,Fa.exports=X0()),Fa.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var np;function ev(){if(np)return Ot;np=1;var n=zi(),r=J0();function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function u(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(a[e]=t,e=0;e<t.length;e++)i.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},v={};function x(e){return m.call(v,e)?!0:m.call(y,e)?!1:g.test(e)?v[e]=!0:(y[e]=!0,!1)}function N(e,t,s,l){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return l?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function j(e,t,s,l){if(t===null||typeof t>"u"||N(e,t,s,l))return!0;if(l)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function E(e,t,s,l,d,h,b){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=l,this.attributeNamespace=d,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=h,this.removeEmptyString=b}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){k[e]=new E(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];k[t]=new E(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){k[e]=new E(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){k[e]=new E(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){k[e]=new E(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){k[e]=new E(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){k[e]=new E(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){k[e]=new E(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){k[e]=new E(e,5,!1,e.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function z(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(V,z);k[t]=new E(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(V,z);k[t]=new E(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(V,z);k[t]=new E(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){k[e]=new E(e,1,!1,e.toLowerCase(),null,!1,!1)}),k.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){k[e]=new E(e,1,!1,e.toLowerCase(),null,!0,!0)});function T(e,t,s,l){var d=k.hasOwnProperty(t)?k[t]:null;(d!==null?d.type!==0:l||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(j(t,s,d,l)&&(s=null),l||d===null?x(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):d.mustUseProperty?e[d.propertyName]=s===null?d.type===3?!1:"":s:(t=d.attributeName,l=d.attributeNamespace,s===null?e.removeAttribute(t):(d=d.type,s=d===3||d===4&&s===!0?"":""+s,l?e.setAttributeNS(l,t,s):e.setAttribute(t,s))))}var L=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),F=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),de=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),pe=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),U=Symbol.iterator;function J(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var K=Object.assign,R;function C(e){if(R===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return`
`+R+e}var X=!1;function se(e,t){if(!e||X)return"";X=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(B){var l=B}Reflect.construct(e,[],t)}else{try{t.call()}catch(B){l=B}e.call(t.prototype)}else{try{throw Error()}catch(B){l=B}e()}}catch(B){if(B&&l&&typeof B.stack=="string"){for(var d=B.stack.split(`
`),h=l.stack.split(`
`),b=d.length-1,S=h.length-1;1<=b&&0<=S&&d[b]!==h[S];)S--;for(;1<=b&&0<=S;b--,S--)if(d[b]!==h[S]){if(b!==1||S!==1)do if(b--,S--,0>S||d[b]!==h[S]){var P=`
`+d[b].replace(" at new "," at ");return e.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",e.displayName)),P}while(1<=b&&0<=S);break}}}finally{X=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?C(e):""}function Q(e){switch(e.tag){case 5:return C(e.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 2:case 15:return e=se(e.type,!1),e;case 11:return e=se(e.type.render,!1),e;case 1:return e=se(e.type,!0),e;default:return""}}function ce(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case F:return"Portal";case Z:return"Profiler";case A:return"StrictMode";case G:return"Suspense";case ae:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case de:return(e.displayName||"Context")+".Consumer";case H:return(e._context.displayName||"Context")+".Provider";case W:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pe:return t=e.displayName||null,t!==null?t:ce(e.type)||"Memo";case q:t=e._payload,e=e._init;try{return ce(e(t))}catch{}}return null}function xe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(t);case 8:return t===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ue(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function le(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Le(e){var t=le(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,h=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(b){l=""+b,h.call(this,b)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bt(e){e._valueTracker||(e._valueTracker=Le(e))}function Ie(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),l="";return e&&(l=le(e)?e.checked?"true":"false":e.value),e=l,e!==s?(t.setValue(e),!0):!1}function Xe(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ct(e,t){var s=t.checked;return K({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function _e(e,t){var s=t.defaultValue==null?"":t.defaultValue,l=t.checked!=null?t.checked:t.defaultChecked;s=ue(t.value!=null?t.value:s),e._wrapperState={initialChecked:l,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Et(e,t){t=t.checked,t!=null&&T(e,"checked",t,!1)}function bn(e,t){Et(e,t);var s=ue(t.value),l=t.type;if(s!=null)l==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?cr(e,t.type,s):t.hasOwnProperty("defaultValue")&&cr(e,t.type,ue(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wn(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var l=t.type;if(!(l!=="submit"&&l!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function cr(e,t,s){(t!=="number"||Xe(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Nn=Array.isArray;function Tt(e,t,s,l){if(e=e.options,t){t={};for(var d=0;d<s.length;d++)t["$"+s[d]]=!0;for(s=0;s<e.length;s++)d=t.hasOwnProperty("$"+e[s].value),e[s].selected!==d&&(e[s].selected=d),d&&l&&(e[s].defaultSelected=!0)}else{for(s=""+ue(s),t=null,d=0;d<e.length;d++){if(e[d].value===s){e[d].selected=!0,l&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function ur(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(o(91));return K({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Dr(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(o(92));if(Nn(s)){if(1<s.length)throw Error(o(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:ue(s)}}function Ir(e,t){var s=ue(t.value),l=ue(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),l!=null&&(e.defaultValue=""+l)}function dr(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Sn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jt(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Sn(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fn,Ar=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,l,d){MSApp.execUnsafeLocalFunction(function(){return e(t,s,l,d)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fn=fn||document.createElement("div"),fn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function en(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Cn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ds=["Webkit","ms","Moz","O"];Object.keys(Cn).forEach(function(e){ds.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Cn[t]=Cn[e]})});function _r(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Cn.hasOwnProperty(e)&&Cn[e]?(""+t).trim():t+"px"}function Or(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var l=s.indexOf("--")===0,d=_r(s,t[s],l);s==="float"&&(s="cssFloat"),l?e.setProperty(s,d):e[s]=d}}var fs=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fr(e,t){if(t){if(fs[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(o(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(t.style!=null&&typeof t.style!="object")throw Error(o(62))}}function jn(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pn=null;function ne(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var je=null,Pe=null,D=null;function Y(e){if(e=Is(e)){if(typeof je!="function")throw Error(o(280));var t=e.stateNode;t&&(t=Mo(t),je(e.stateNode,e.type,t))}}function he(e){Pe?D?D.push(e):D=[e]:Pe=e}function Ae(){if(Pe){var e=Pe,t=D;if(D=Pe=null,Y(e),t)for(e=0;e<t.length;e++)Y(t[e])}}function Ye(e,t){return e(t)}function Ve(){}var kt=!1;function Gt(e,t,s){if(kt)return e(t,s);kt=!0;try{return Ye(e,t,s)}finally{kt=!1,(Pe!==null||D!==null)&&(Ve(),Ae())}}function wt(e,t){var s=e.stateNode;if(s===null)return null;var l=Mo(s);if(l===null)return null;s=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(o(231,t,typeof s));return s}var Mn=!1;if(p)try{var Pt={};Object.defineProperty(Pt,"passive",{get:function(){Mn=!0}}),window.addEventListener("test",Pt,Pt),window.removeEventListener("test",Pt,Pt)}catch{Mn=!1}function Ln(e,t,s,l,d,h,b,S,P){var B=Array.prototype.slice.call(arguments,3);try{t.apply(s,B)}catch(te){this.onError(te)}}var Fn=!1,ho=null,mo=!1,el=null,tg={onError:function(e){Fn=!0,ho=e}};function ng(e,t,s,l,d,h,b,S,P){Fn=!1,ho=null,Ln.apply(tg,arguments)}function rg(e,t,s,l,d,h,b,S,P){if(ng.apply(this,arguments),Fn){if(Fn){var B=ho;Fn=!1,ho=null}else throw Error(o(198));mo||(mo=!0,el=B)}}function pr(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function xu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function yu(e){if(pr(e)!==e)throw Error(o(188))}function sg(e){var t=e.alternate;if(!t){if(t=pr(e),t===null)throw Error(o(188));return t!==e?null:e}for(var s=e,l=t;;){var d=s.return;if(d===null)break;var h=d.alternate;if(h===null){if(l=d.return,l!==null){s=l;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===s)return yu(d),e;if(h===l)return yu(d),t;h=h.sibling}throw Error(o(188))}if(s.return!==l.return)s=d,l=h;else{for(var b=!1,S=d.child;S;){if(S===s){b=!0,s=d,l=h;break}if(S===l){b=!0,l=d,s=h;break}S=S.sibling}if(!b){for(S=h.child;S;){if(S===s){b=!0,s=h,l=d;break}if(S===l){b=!0,l=h,s=d;break}S=S.sibling}if(!b)throw Error(o(189))}}if(s.alternate!==l)throw Error(o(190))}if(s.tag!==3)throw Error(o(188));return s.stateNode.current===s?e:t}function bu(e){return e=sg(e),e!==null?wu(e):null}function wu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wu(e);if(t!==null)return t;e=e.sibling}return null}var Nu=r.unstable_scheduleCallback,Su=r.unstable_cancelCallback,og=r.unstable_shouldYield,ig=r.unstable_requestPaint,Qe=r.unstable_now,lg=r.unstable_getCurrentPriorityLevel,tl=r.unstable_ImmediatePriority,Cu=r.unstable_UserBlockingPriority,go=r.unstable_NormalPriority,ag=r.unstable_LowPriority,ju=r.unstable_IdlePriority,vo=null,hn=null;function cg(e){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(vo,e,void 0,(e.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:fg,ug=Math.log,dg=Math.LN2;function fg(e){return e>>>=0,e===0?32:31-(ug(e)/dg|0)|0}var xo=64,yo=4194304;function ps(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bo(e,t){var s=e.pendingLanes;if(s===0)return 0;var l=0,d=e.suspendedLanes,h=e.pingedLanes,b=s&268435455;if(b!==0){var S=b&~d;S!==0?l=ps(S):(h&=b,h!==0&&(l=ps(h)))}else b=s&~d,b!==0?l=ps(b):h!==0&&(l=ps(h));if(l===0)return 0;if(t!==0&&t!==l&&(t&d)===0&&(d=l&-l,h=t&-t,d>=h||d===16&&(h&4194240)!==0))return t;if((l&4)!==0&&(l|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=l;0<t;)s=31-tn(t),d=1<<s,l|=e[s],t&=~d;return l}function pg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hg(e,t){for(var s=e.suspendedLanes,l=e.pingedLanes,d=e.expirationTimes,h=e.pendingLanes;0<h;){var b=31-tn(h),S=1<<b,P=d[b];P===-1?((S&s)===0||(S&l)!==0)&&(d[b]=pg(S,t)):P<=t&&(e.expiredLanes|=S),h&=~S}}function nl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Eu(){var e=xo;return xo<<=1,(xo&4194240)===0&&(xo=64),e}function rl(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function hs(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tn(t),e[t]=s}function mg(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<s;){var d=31-tn(s),h=1<<d;t[d]=0,l[d]=-1,e[d]=-1,s&=~h}}function sl(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var l=31-tn(s),d=1<<l;d&t|e[l]&t&&(e[l]|=t),s&=~d}}var Be=0;function ku(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Pu,ol,Ru,Du,Iu,il=!1,wo=[],Bn=null,$n=null,zn=null,ms=new Map,gs=new Map,Un=[],gg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Au(e,t){switch(e){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":$n=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":ms.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gs.delete(t.pointerId)}}function vs(e,t,s,l,d,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:s,eventSystemFlags:l,nativeEvent:h,targetContainers:[d]},t!==null&&(t=Is(t),t!==null&&ol(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function vg(e,t,s,l,d){switch(t){case"focusin":return Bn=vs(Bn,e,t,s,l,d),!0;case"dragenter":return $n=vs($n,e,t,s,l,d),!0;case"mouseover":return zn=vs(zn,e,t,s,l,d),!0;case"pointerover":var h=d.pointerId;return ms.set(h,vs(ms.get(h)||null,e,t,s,l,d)),!0;case"gotpointercapture":return h=d.pointerId,gs.set(h,vs(gs.get(h)||null,e,t,s,l,d)),!0}return!1}function _u(e){var t=hr(e.target);if(t!==null){var s=pr(t);if(s!==null){if(t=s.tag,t===13){if(t=xu(s),t!==null){e.blockedOn=t,Iu(e.priority,function(){Ru(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function No(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=al(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);pn=l,s.target.dispatchEvent(l),pn=null}else return t=Is(s),t!==null&&ol(t),e.blockedOn=s,!1;t.shift()}return!0}function Ou(e,t,s){No(e)&&s.delete(t)}function xg(){il=!1,Bn!==null&&No(Bn)&&(Bn=null),$n!==null&&No($n)&&($n=null),zn!==null&&No(zn)&&(zn=null),ms.forEach(Ou),gs.forEach(Ou)}function xs(e,t){e.blockedOn===t&&(e.blockedOn=null,il||(il=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,xg)))}function ys(e){function t(d){return xs(d,e)}if(0<wo.length){xs(wo[0],e);for(var s=1;s<wo.length;s++){var l=wo[s];l.blockedOn===e&&(l.blockedOn=null)}}for(Bn!==null&&xs(Bn,e),$n!==null&&xs($n,e),zn!==null&&xs(zn,e),ms.forEach(t),gs.forEach(t),s=0;s<Un.length;s++)l=Un[s],l.blockedOn===e&&(l.blockedOn=null);for(;0<Un.length&&(s=Un[0],s.blockedOn===null);)_u(s),s.blockedOn===null&&Un.shift()}var Tr=L.ReactCurrentBatchConfig,So=!0;function yg(e,t,s,l){var d=Be,h=Tr.transition;Tr.transition=null;try{Be=1,ll(e,t,s,l)}finally{Be=d,Tr.transition=h}}function bg(e,t,s,l){var d=Be,h=Tr.transition;Tr.transition=null;try{Be=4,ll(e,t,s,l)}finally{Be=d,Tr.transition=h}}function ll(e,t,s,l){if(So){var d=al(e,t,s,l);if(d===null)jl(e,t,l,Co,s),Au(e,l);else if(vg(d,e,t,s,l))l.stopPropagation();else if(Au(e,l),t&4&&-1<gg.indexOf(e)){for(;d!==null;){var h=Is(d);if(h!==null&&Pu(h),h=al(e,t,s,l),h===null&&jl(e,t,l,Co,s),h===d)break;d=h}d!==null&&l.stopPropagation()}else jl(e,t,l,null,s)}}var Co=null;function al(e,t,s,l){if(Co=null,e=ne(l),e=hr(e),e!==null)if(t=pr(e),t===null)e=null;else if(s=t.tag,s===13){if(e=xu(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Co=e,null}function Tu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lg()){case tl:return 1;case Cu:return 4;case go:case ag:return 16;case ju:return 536870912;default:return 16}default:return 16}}var Gn=null,cl=null,jo=null;function Mu(){if(jo)return jo;var e,t=cl,s=t.length,l,d="value"in Gn?Gn.value:Gn.textContent,h=d.length;for(e=0;e<s&&t[e]===d[e];e++);var b=s-e;for(l=1;l<=b&&t[s-l]===d[h-l];l++);return jo=d.slice(e,1<l?1-l:void 0)}function Eo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ko(){return!0}function Lu(){return!1}function Mt(e){function t(s,l,d,h,b){this._reactName=s,this._targetInst=d,this.type=l,this.nativeEvent=h,this.target=b,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(s=e[S],this[S]=s?s(h):h[S]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?ko:Lu,this.isPropagationStopped=Lu,this}return K(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ko)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ko)},persist:function(){},isPersistent:ko}),t}var Mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ul=Mt(Mr),bs=K({},Mr,{view:0,detail:0}),wg=Mt(bs),dl,fl,ws,Po=K({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ws&&(ws&&e.type==="mousemove"?(dl=e.screenX-ws.screenX,fl=e.screenY-ws.screenY):fl=dl=0,ws=e),dl)},movementY:function(e){return"movementY"in e?e.movementY:fl}}),Fu=Mt(Po),Ng=K({},Po,{dataTransfer:0}),Sg=Mt(Ng),Cg=K({},bs,{relatedTarget:0}),pl=Mt(Cg),jg=K({},Mr,{animationName:0,elapsedTime:0,pseudoElement:0}),Eg=Mt(jg),kg=K({},Mr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pg=Mt(kg),Rg=K({},Mr,{data:0}),Bu=Mt(Rg),Dg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ig={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ag={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _g(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ag[e])?!!t[e]:!1}function hl(){return _g}var Og=K({},bs,{key:function(e){if(e.key){var t=Dg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Eo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ig[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hl,charCode:function(e){return e.type==="keypress"?Eo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Eo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tg=Mt(Og),Mg=K({},Po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$u=Mt(Mg),Lg=K({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hl}),Fg=Mt(Lg),Bg=K({},Mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),$g=Mt(Bg),zg=K({},Po,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ug=Mt(zg),Gg=[9,13,27,32],ml=p&&"CompositionEvent"in window,Ns=null;p&&"documentMode"in document&&(Ns=document.documentMode);var Wg=p&&"TextEvent"in window&&!Ns,zu=p&&(!ml||Ns&&8<Ns&&11>=Ns),Uu=" ",Gu=!1;function Wu(e,t){switch(e){case"keyup":return Gg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Lr=!1;function Vg(e,t){switch(e){case"compositionend":return Vu(t);case"keypress":return t.which!==32?null:(Gu=!0,Uu);case"textInput":return e=t.data,e===Uu&&Gu?null:e;default:return null}}function Hg(e,t){if(Lr)return e==="compositionend"||!ml&&Wu(e,t)?(e=Mu(),jo=cl=Gn=null,Lr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zu&&t.locale!=="ko"?null:t.data;default:return null}}var qg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qg[e.type]:t==="textarea"}function qu(e,t,s,l){he(l),t=_o(t,"onChange"),0<t.length&&(s=new ul("onChange","change",null,s,l),e.push({event:s,listeners:t}))}var Ss=null,Cs=null;function Kg(e){dd(e,0)}function Ro(e){var t=Ur(e);if(Ie(t))return e}function Yg(e,t){if(e==="change")return t}var Ku=!1;if(p){var gl;if(p){var vl="oninput"in document;if(!vl){var Yu=document.createElement("div");Yu.setAttribute("oninput","return;"),vl=typeof Yu.oninput=="function"}gl=vl}else gl=!1;Ku=gl&&(!document.documentMode||9<document.documentMode)}function Qu(){Ss&&(Ss.detachEvent("onpropertychange",Zu),Cs=Ss=null)}function Zu(e){if(e.propertyName==="value"&&Ro(Cs)){var t=[];qu(t,Cs,e,ne(e)),Gt(Kg,t)}}function Qg(e,t,s){e==="focusin"?(Qu(),Ss=t,Cs=s,Ss.attachEvent("onpropertychange",Zu)):e==="focusout"&&Qu()}function Zg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ro(Cs)}function Xg(e,t){if(e==="click")return Ro(t)}function Jg(e,t){if(e==="input"||e==="change")return Ro(t)}function e0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nn=typeof Object.is=="function"?Object.is:e0;function js(e,t){if(nn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),l=Object.keys(t);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var d=s[l];if(!m.call(t,d)||!nn(e[d],t[d]))return!1}return!0}function Xu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ju(e,t){var s=Xu(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=t&&l>=t)return{node:s,offset:t-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Xu(s)}}function ed(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ed(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function td(){for(var e=window,t=Xe();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Xe(e.document)}return t}function xl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function t0(e){var t=td(),s=e.focusedElem,l=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&ed(s.ownerDocument.documentElement,s)){if(l!==null&&xl(s)){if(t=l.start,e=l.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var d=s.textContent.length,h=Math.min(l.start,d);l=l.end===void 0?h:Math.min(l.end,d),!e.extend&&h>l&&(d=l,l=h,h=d),d=Ju(s,h);var b=Ju(s,l);d&&b&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==b.node||e.focusOffset!==b.offset)&&(t=t.createRange(),t.setStart(d.node,d.offset),e.removeAllRanges(),h>l?(e.addRange(t),e.extend(b.node,b.offset)):(t.setEnd(b.node,b.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var n0=p&&"documentMode"in document&&11>=document.documentMode,Fr=null,yl=null,Es=null,bl=!1;function nd(e,t,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;bl||Fr==null||Fr!==Xe(l)||(l=Fr,"selectionStart"in l&&xl(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Es&&js(Es,l)||(Es=l,l=_o(yl,"onSelect"),0<l.length&&(t=new ul("onSelect","select",null,t,s),e.push({event:t,listeners:l}),t.target=Fr)))}function Do(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Br={animationend:Do("Animation","AnimationEnd"),animationiteration:Do("Animation","AnimationIteration"),animationstart:Do("Animation","AnimationStart"),transitionend:Do("Transition","TransitionEnd")},wl={},rd={};p&&(rd=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);function Io(e){if(wl[e])return wl[e];if(!Br[e])return e;var t=Br[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in rd)return wl[e]=t[s];return e}var sd=Io("animationend"),od=Io("animationiteration"),id=Io("animationstart"),ld=Io("transitionend"),ad=new Map,cd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wn(e,t){ad.set(e,t),u(t,[e])}for(var Nl=0;Nl<cd.length;Nl++){var Sl=cd[Nl],r0=Sl.toLowerCase(),s0=Sl[0].toUpperCase()+Sl.slice(1);Wn(r0,"on"+s0)}Wn(sd,"onAnimationEnd"),Wn(od,"onAnimationIteration"),Wn(id,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(ld,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o0=new Set("cancel close invalid load scroll toggle".split(" ").concat(ks));function ud(e,t,s){var l=e.type||"unknown-event";e.currentTarget=s,rg(l,t,void 0,e),e.currentTarget=null}function dd(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],d=l.event;l=l.listeners;e:{var h=void 0;if(t)for(var b=l.length-1;0<=b;b--){var S=l[b],P=S.instance,B=S.currentTarget;if(S=S.listener,P!==h&&d.isPropagationStopped())break e;ud(d,S,B),h=P}else for(b=0;b<l.length;b++){if(S=l[b],P=S.instance,B=S.currentTarget,S=S.listener,P!==h&&d.isPropagationStopped())break e;ud(d,S,B),h=P}}}if(mo)throw e=el,mo=!1,el=null,e}function ze(e,t){var s=t[Il];s===void 0&&(s=t[Il]=new Set);var l=e+"__bubble";s.has(l)||(fd(t,e,2,!1),s.add(l))}function Cl(e,t,s){var l=0;t&&(l|=4),fd(s,e,l,t)}var Ao="_reactListening"+Math.random().toString(36).slice(2);function Ps(e){if(!e[Ao]){e[Ao]=!0,i.forEach(function(s){s!=="selectionchange"&&(o0.has(s)||Cl(s,!1,e),Cl(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ao]||(t[Ao]=!0,Cl("selectionchange",!1,t))}}function fd(e,t,s,l){switch(Tu(t)){case 1:var d=yg;break;case 4:d=bg;break;default:d=ll}s=d.bind(null,t,s,e),d=void 0,!Mn||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),l?d!==void 0?e.addEventListener(t,s,{capture:!0,passive:d}):e.addEventListener(t,s,!0):d!==void 0?e.addEventListener(t,s,{passive:d}):e.addEventListener(t,s,!1)}function jl(e,t,s,l,d){var h=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var S=l.stateNode.containerInfo;if(S===d||S.nodeType===8&&S.parentNode===d)break;if(b===4)for(b=l.return;b!==null;){var P=b.tag;if((P===3||P===4)&&(P=b.stateNode.containerInfo,P===d||P.nodeType===8&&P.parentNode===d))return;b=b.return}for(;S!==null;){if(b=hr(S),b===null)return;if(P=b.tag,P===5||P===6){l=h=b;continue e}S=S.parentNode}}l=l.return}Gt(function(){var B=h,te=ne(s),re=[];e:{var ee=ad.get(e);if(ee!==void 0){var me=ul,ve=e;switch(e){case"keypress":if(Eo(s)===0)break e;case"keydown":case"keyup":me=Tg;break;case"focusin":ve="focus",me=pl;break;case"focusout":ve="blur",me=pl;break;case"beforeblur":case"afterblur":me=pl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Fu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=Sg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=Fg;break;case sd:case od:case id:me=Eg;break;case ld:me=$g;break;case"scroll":me=wg;break;case"wheel":me=Ug;break;case"copy":case"cut":case"paste":me=Pg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=$u}var ye=(t&4)!==0,Ze=!ye&&e==="scroll",_=ye?ee!==null?ee+"Capture":null:ee;ye=[];for(var I=B,M;I!==null;){M=I;var oe=M.stateNode;if(M.tag===5&&oe!==null&&(M=oe,_!==null&&(oe=wt(I,_),oe!=null&&ye.push(Rs(I,oe,M)))),Ze)break;I=I.return}0<ye.length&&(ee=new me(ee,ve,null,s,te),re.push({event:ee,listeners:ye}))}}if((t&7)===0){e:{if(ee=e==="mouseover"||e==="pointerover",me=e==="mouseout"||e==="pointerout",ee&&s!==pn&&(ve=s.relatedTarget||s.fromElement)&&(hr(ve)||ve[En]))break e;if((me||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,me?(ve=s.relatedTarget||s.toElement,me=B,ve=ve?hr(ve):null,ve!==null&&(Ze=pr(ve),ve!==Ze||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(me=null,ve=B),me!==ve)){if(ye=Fu,oe="onMouseLeave",_="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(ye=$u,oe="onPointerLeave",_="onPointerEnter",I="pointer"),Ze=me==null?ee:Ur(me),M=ve==null?ee:Ur(ve),ee=new ye(oe,I+"leave",me,s,te),ee.target=Ze,ee.relatedTarget=M,oe=null,hr(te)===B&&(ye=new ye(_,I+"enter",ve,s,te),ye.target=M,ye.relatedTarget=Ze,oe=ye),Ze=oe,me&&ve)t:{for(ye=me,_=ve,I=0,M=ye;M;M=$r(M))I++;for(M=0,oe=_;oe;oe=$r(oe))M++;for(;0<I-M;)ye=$r(ye),I--;for(;0<M-I;)_=$r(_),M--;for(;I--;){if(ye===_||_!==null&&ye===_.alternate)break t;ye=$r(ye),_=$r(_)}ye=null}else ye=null;me!==null&&pd(re,ee,me,ye,!1),ve!==null&&Ze!==null&&pd(re,Ze,ve,ye,!0)}}e:{if(ee=B?Ur(B):window,me=ee.nodeName&&ee.nodeName.toLowerCase(),me==="select"||me==="input"&&ee.type==="file")var be=Yg;else if(Hu(ee))if(Ku)be=Jg;else{be=Zg;var Se=Qg}else(me=ee.nodeName)&&me.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(be=Xg);if(be&&(be=be(e,B))){qu(re,be,s,te);break e}Se&&Se(e,ee,B),e==="focusout"&&(Se=ee._wrapperState)&&Se.controlled&&ee.type==="number"&&cr(ee,"number",ee.value)}switch(Se=B?Ur(B):window,e){case"focusin":(Hu(Se)||Se.contentEditable==="true")&&(Fr=Se,yl=B,Es=null);break;case"focusout":Es=yl=Fr=null;break;case"mousedown":bl=!0;break;case"contextmenu":case"mouseup":case"dragend":bl=!1,nd(re,s,te);break;case"selectionchange":if(n0)break;case"keydown":case"keyup":nd(re,s,te)}var Ce;if(ml)e:{switch(e){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Lr?Wu(e,s)&&(Ee="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ee="onCompositionStart");Ee&&(zu&&s.locale!=="ko"&&(Lr||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Lr&&(Ce=Mu()):(Gn=te,cl="value"in Gn?Gn.value:Gn.textContent,Lr=!0)),Se=_o(B,Ee),0<Se.length&&(Ee=new Bu(Ee,e,null,s,te),re.push({event:Ee,listeners:Se}),Ce?Ee.data=Ce:(Ce=Vu(s),Ce!==null&&(Ee.data=Ce)))),(Ce=Wg?Vg(e,s):Hg(e,s))&&(B=_o(B,"onBeforeInput"),0<B.length&&(te=new Bu("onBeforeInput","beforeinput",null,s,te),re.push({event:te,listeners:B}),te.data=Ce))}dd(re,t)})}function Rs(e,t,s){return{instance:e,listener:t,currentTarget:s}}function _o(e,t){for(var s=t+"Capture",l=[];e!==null;){var d=e,h=d.stateNode;d.tag===5&&h!==null&&(d=h,h=wt(e,s),h!=null&&l.unshift(Rs(e,h,d)),h=wt(e,t),h!=null&&l.push(Rs(e,h,d))),e=e.return}return l}function $r(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pd(e,t,s,l,d){for(var h=t._reactName,b=[];s!==null&&s!==l;){var S=s,P=S.alternate,B=S.stateNode;if(P!==null&&P===l)break;S.tag===5&&B!==null&&(S=B,d?(P=wt(s,h),P!=null&&b.unshift(Rs(s,P,S))):d||(P=wt(s,h),P!=null&&b.push(Rs(s,P,S)))),s=s.return}b.length!==0&&e.push({event:t,listeners:b})}var i0=/\r\n?/g,l0=/\u0000|\uFFFD/g;function hd(e){return(typeof e=="string"?e:""+e).replace(i0,`
`).replace(l0,"")}function Oo(e,t,s){if(t=hd(t),hd(e)!==t&&s)throw Error(o(425))}function To(){}var El=null,kl=null;function Pl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Rl=typeof setTimeout=="function"?setTimeout:void 0,a0=typeof clearTimeout=="function"?clearTimeout:void 0,md=typeof Promise=="function"?Promise:void 0,c0=typeof queueMicrotask=="function"?queueMicrotask:typeof md<"u"?function(e){return md.resolve(null).then(e).catch(u0)}:Rl;function u0(e){setTimeout(function(){throw e})}function Dl(e,t){var s=t,l=0;do{var d=s.nextSibling;if(e.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(l===0){e.removeChild(d),ys(t);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=d}while(s);ys(t)}function Vn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var zr=Math.random().toString(36).slice(2),mn="__reactFiber$"+zr,Ds="__reactProps$"+zr,En="__reactContainer$"+zr,Il="__reactEvents$"+zr,d0="__reactListeners$"+zr,f0="__reactHandles$"+zr;function hr(e){var t=e[mn];if(t)return t;for(var s=e.parentNode;s;){if(t=s[En]||s[mn]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=gd(e);e!==null;){if(s=e[mn])return s;e=gd(e)}return t}e=s,s=e.parentNode}return null}function Is(e){return e=e[mn]||e[En],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ur(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function Mo(e){return e[Ds]||null}var Al=[],Gr=-1;function Hn(e){return{current:e}}function Ue(e){0>Gr||(e.current=Al[Gr],Al[Gr]=null,Gr--)}function $e(e,t){Gr++,Al[Gr]=e.current,e.current=t}var qn={},mt=Hn(qn),Rt=Hn(!1),mr=qn;function Wr(e,t){var s=e.type.contextTypes;if(!s)return qn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===t)return l.__reactInternalMemoizedMaskedChildContext;var d={},h;for(h in s)d[h]=t[h];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=d),d}function Dt(e){return e=e.childContextTypes,e!=null}function Lo(){Ue(Rt),Ue(mt)}function vd(e,t,s){if(mt.current!==qn)throw Error(o(168));$e(mt,t),$e(Rt,s)}function xd(e,t,s){var l=e.stateNode;if(t=t.childContextTypes,typeof l.getChildContext!="function")return s;l=l.getChildContext();for(var d in l)if(!(d in t))throw Error(o(108,xe(e)||"Unknown",d));return K({},s,l)}function Fo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qn,mr=mt.current,$e(mt,e),$e(Rt,Rt.current),!0}function yd(e,t,s){var l=e.stateNode;if(!l)throw Error(o(169));s?(e=xd(e,t,mr),l.__reactInternalMemoizedMergedChildContext=e,Ue(Rt),Ue(mt),$e(mt,e)):Ue(Rt),$e(Rt,s)}var kn=null,Bo=!1,_l=!1;function bd(e){kn===null?kn=[e]:kn.push(e)}function p0(e){Bo=!0,bd(e)}function Kn(){if(!_l&&kn!==null){_l=!0;var e=0,t=Be;try{var s=kn;for(Be=1;e<s.length;e++){var l=s[e];do l=l(!0);while(l!==null)}kn=null,Bo=!1}catch(d){throw kn!==null&&(kn=kn.slice(e+1)),Nu(tl,Kn),d}finally{Be=t,_l=!1}}return null}var Vr=[],Hr=0,$o=null,zo=0,Wt=[],Vt=0,gr=null,Pn=1,Rn="";function vr(e,t){Vr[Hr++]=zo,Vr[Hr++]=$o,$o=e,zo=t}function wd(e,t,s){Wt[Vt++]=Pn,Wt[Vt++]=Rn,Wt[Vt++]=gr,gr=e;var l=Pn;e=Rn;var d=32-tn(l)-1;l&=~(1<<d),s+=1;var h=32-tn(t)+d;if(30<h){var b=d-d%5;h=(l&(1<<b)-1).toString(32),l>>=b,d-=b,Pn=1<<32-tn(t)+d|s<<d|l,Rn=h+e}else Pn=1<<h|s<<d|l,Rn=e}function Ol(e){e.return!==null&&(vr(e,1),wd(e,1,0))}function Tl(e){for(;e===$o;)$o=Vr[--Hr],Vr[Hr]=null,zo=Vr[--Hr],Vr[Hr]=null;for(;e===gr;)gr=Wt[--Vt],Wt[Vt]=null,Rn=Wt[--Vt],Wt[Vt]=null,Pn=Wt[--Vt],Wt[Vt]=null}var Lt=null,Ft=null,Ge=!1,rn=null;function Nd(e,t){var s=Yt(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Sd(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Lt=e,Ft=Vn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Lt=e,Ft=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=gr!==null?{id:Pn,overflow:Rn}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=Yt(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,Lt=e,Ft=null,!0):!1;default:return!1}}function Ml(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ll(e){if(Ge){var t=Ft;if(t){var s=t;if(!Sd(e,t)){if(Ml(e))throw Error(o(418));t=Vn(s.nextSibling);var l=Lt;t&&Sd(e,t)?Nd(l,s):(e.flags=e.flags&-4097|2,Ge=!1,Lt=e)}}else{if(Ml(e))throw Error(o(418));e.flags=e.flags&-4097|2,Ge=!1,Lt=e}}}function Cd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Lt=e}function Uo(e){if(e!==Lt)return!1;if(!Ge)return Cd(e),Ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Pl(e.type,e.memoizedProps)),t&&(t=Ft)){if(Ml(e))throw jd(),Error(o(418));for(;t;)Nd(e,t),t=Vn(t.nextSibling)}if(Cd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){Ft=Vn(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}Ft=null}}else Ft=Lt?Vn(e.stateNode.nextSibling):null;return!0}function jd(){for(var e=Ft;e;)e=Vn(e.nextSibling)}function qr(){Ft=Lt=null,Ge=!1}function Fl(e){rn===null?rn=[e]:rn.push(e)}var h0=L.ReactCurrentBatchConfig;function As(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(o(309));var l=s.stateNode}if(!l)throw Error(o(147,e));var d=l,h=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===h?t.ref:(t=function(b){var S=d.refs;b===null?delete S[h]:S[h]=b},t._stringRef=h,t)}if(typeof e!="string")throw Error(o(284));if(!s._owner)throw Error(o(290,e))}return e}function Go(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ed(e){var t=e._init;return t(e._payload)}function kd(e){function t(_,I){if(e){var M=_.deletions;M===null?(_.deletions=[I],_.flags|=16):M.push(I)}}function s(_,I){if(!e)return null;for(;I!==null;)t(_,I),I=I.sibling;return null}function l(_,I){for(_=new Map;I!==null;)I.key!==null?_.set(I.key,I):_.set(I.index,I),I=I.sibling;return _}function d(_,I){return _=nr(_,I),_.index=0,_.sibling=null,_}function h(_,I,M){return _.index=M,e?(M=_.alternate,M!==null?(M=M.index,M<I?(_.flags|=2,I):M):(_.flags|=2,I)):(_.flags|=1048576,I)}function b(_){return e&&_.alternate===null&&(_.flags|=2),_}function S(_,I,M,oe){return I===null||I.tag!==6?(I=Ra(M,_.mode,oe),I.return=_,I):(I=d(I,M),I.return=_,I)}function P(_,I,M,oe){var be=M.type;return be===$?te(_,I,M.props.children,oe,M.key):I!==null&&(I.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===q&&Ed(be)===I.type)?(oe=d(I,M.props),oe.ref=As(_,I,M),oe.return=_,oe):(oe=pi(M.type,M.key,M.props,null,_.mode,oe),oe.ref=As(_,I,M),oe.return=_,oe)}function B(_,I,M,oe){return I===null||I.tag!==4||I.stateNode.containerInfo!==M.containerInfo||I.stateNode.implementation!==M.implementation?(I=Da(M,_.mode,oe),I.return=_,I):(I=d(I,M.children||[]),I.return=_,I)}function te(_,I,M,oe,be){return I===null||I.tag!==7?(I=jr(M,_.mode,oe,be),I.return=_,I):(I=d(I,M),I.return=_,I)}function re(_,I,M){if(typeof I=="string"&&I!==""||typeof I=="number")return I=Ra(""+I,_.mode,M),I.return=_,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case O:return M=pi(I.type,I.key,I.props,null,_.mode,M),M.ref=As(_,null,I),M.return=_,M;case F:return I=Da(I,_.mode,M),I.return=_,I;case q:var oe=I._init;return re(_,oe(I._payload),M)}if(Nn(I)||J(I))return I=jr(I,_.mode,M,null),I.return=_,I;Go(_,I)}return null}function ee(_,I,M,oe){var be=I!==null?I.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return be!==null?null:S(_,I,""+M,oe);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case O:return M.key===be?P(_,I,M,oe):null;case F:return M.key===be?B(_,I,M,oe):null;case q:return be=M._init,ee(_,I,be(M._payload),oe)}if(Nn(M)||J(M))return be!==null?null:te(_,I,M,oe,null);Go(_,M)}return null}function me(_,I,M,oe,be){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return _=_.get(M)||null,S(I,_,""+oe,be);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case O:return _=_.get(oe.key===null?M:oe.key)||null,P(I,_,oe,be);case F:return _=_.get(oe.key===null?M:oe.key)||null,B(I,_,oe,be);case q:var Se=oe._init;return me(_,I,M,Se(oe._payload),be)}if(Nn(oe)||J(oe))return _=_.get(M)||null,te(I,_,oe,be,null);Go(I,oe)}return null}function ve(_,I,M,oe){for(var be=null,Se=null,Ce=I,Ee=I=0,ot=null;Ce!==null&&Ee<M.length;Ee++){Ce.index>Ee?(ot=Ce,Ce=null):ot=Ce.sibling;var Me=ee(_,Ce,M[Ee],oe);if(Me===null){Ce===null&&(Ce=ot);break}e&&Ce&&Me.alternate===null&&t(_,Ce),I=h(Me,I,Ee),Se===null?be=Me:Se.sibling=Me,Se=Me,Ce=ot}if(Ee===M.length)return s(_,Ce),Ge&&vr(_,Ee),be;if(Ce===null){for(;Ee<M.length;Ee++)Ce=re(_,M[Ee],oe),Ce!==null&&(I=h(Ce,I,Ee),Se===null?be=Ce:Se.sibling=Ce,Se=Ce);return Ge&&vr(_,Ee),be}for(Ce=l(_,Ce);Ee<M.length;Ee++)ot=me(Ce,_,Ee,M[Ee],oe),ot!==null&&(e&&ot.alternate!==null&&Ce.delete(ot.key===null?Ee:ot.key),I=h(ot,I,Ee),Se===null?be=ot:Se.sibling=ot,Se=ot);return e&&Ce.forEach(function(rr){return t(_,rr)}),Ge&&vr(_,Ee),be}function ye(_,I,M,oe){var be=J(M);if(typeof be!="function")throw Error(o(150));if(M=be.call(M),M==null)throw Error(o(151));for(var Se=be=null,Ce=I,Ee=I=0,ot=null,Me=M.next();Ce!==null&&!Me.done;Ee++,Me=M.next()){Ce.index>Ee?(ot=Ce,Ce=null):ot=Ce.sibling;var rr=ee(_,Ce,Me.value,oe);if(rr===null){Ce===null&&(Ce=ot);break}e&&Ce&&rr.alternate===null&&t(_,Ce),I=h(rr,I,Ee),Se===null?be=rr:Se.sibling=rr,Se=rr,Ce=ot}if(Me.done)return s(_,Ce),Ge&&vr(_,Ee),be;if(Ce===null){for(;!Me.done;Ee++,Me=M.next())Me=re(_,Me.value,oe),Me!==null&&(I=h(Me,I,Ee),Se===null?be=Me:Se.sibling=Me,Se=Me);return Ge&&vr(_,Ee),be}for(Ce=l(_,Ce);!Me.done;Ee++,Me=M.next())Me=me(Ce,_,Ee,Me.value,oe),Me!==null&&(e&&Me.alternate!==null&&Ce.delete(Me.key===null?Ee:Me.key),I=h(Me,I,Ee),Se===null?be=Me:Se.sibling=Me,Se=Me);return e&&Ce.forEach(function(q0){return t(_,q0)}),Ge&&vr(_,Ee),be}function Ze(_,I,M,oe){if(typeof M=="object"&&M!==null&&M.type===$&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case O:e:{for(var be=M.key,Se=I;Se!==null;){if(Se.key===be){if(be=M.type,be===$){if(Se.tag===7){s(_,Se.sibling),I=d(Se,M.props.children),I.return=_,_=I;break e}}else if(Se.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===q&&Ed(be)===Se.type){s(_,Se.sibling),I=d(Se,M.props),I.ref=As(_,Se,M),I.return=_,_=I;break e}s(_,Se);break}else t(_,Se);Se=Se.sibling}M.type===$?(I=jr(M.props.children,_.mode,oe,M.key),I.return=_,_=I):(oe=pi(M.type,M.key,M.props,null,_.mode,oe),oe.ref=As(_,I,M),oe.return=_,_=oe)}return b(_);case F:e:{for(Se=M.key;I!==null;){if(I.key===Se)if(I.tag===4&&I.stateNode.containerInfo===M.containerInfo&&I.stateNode.implementation===M.implementation){s(_,I.sibling),I=d(I,M.children||[]),I.return=_,_=I;break e}else{s(_,I);break}else t(_,I);I=I.sibling}I=Da(M,_.mode,oe),I.return=_,_=I}return b(_);case q:return Se=M._init,Ze(_,I,Se(M._payload),oe)}if(Nn(M))return ve(_,I,M,oe);if(J(M))return ye(_,I,M,oe);Go(_,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,I!==null&&I.tag===6?(s(_,I.sibling),I=d(I,M),I.return=_,_=I):(s(_,I),I=Ra(M,_.mode,oe),I.return=_,_=I),b(_)):s(_,I)}return Ze}var Kr=kd(!0),Pd=kd(!1),Wo=Hn(null),Vo=null,Yr=null,Bl=null;function $l(){Bl=Yr=Vo=null}function zl(e){var t=Wo.current;Ue(Wo),e._currentValue=t}function Ul(e,t,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===s)break;e=e.return}}function Qr(e,t){Vo=e,Bl=Yr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(It=!0),e.firstContext=null)}function Ht(e){var t=e._currentValue;if(Bl!==e)if(e={context:e,memoizedValue:t,next:null},Yr===null){if(Vo===null)throw Error(o(308));Yr=e,Vo.dependencies={lanes:0,firstContext:e}}else Yr=Yr.next=e;return t}var xr=null;function Gl(e){xr===null?xr=[e]:xr.push(e)}function Rd(e,t,s,l){var d=t.interleaved;return d===null?(s.next=s,Gl(t)):(s.next=d.next,d.next=s),t.interleaved=s,Dn(e,l)}function Dn(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Yn=!1;function Wl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function In(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qn(e,t,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Te&2)!==0){var d=l.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),l.pending=t,Dn(e,s)}return d=l.interleaved,d===null?(t.next=t,Gl(l)):(t.next=d.next,d.next=t),l.interleaved=t,Dn(e,s)}function Ho(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var l=t.lanes;l&=e.pendingLanes,s|=l,t.lanes=s,sl(e,s)}}function Id(e,t){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var d=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var b={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};h===null?d=h=b:h=h.next=b,s=s.next}while(s!==null);h===null?d=h=t:h=h.next=t}else d=h=t;s={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:l.shared,effects:l.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function qo(e,t,s,l){var d=e.updateQueue;Yn=!1;var h=d.firstBaseUpdate,b=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var P=S,B=P.next;P.next=null,b===null?h=B:b.next=B,b=P;var te=e.alternate;te!==null&&(te=te.updateQueue,S=te.lastBaseUpdate,S!==b&&(S===null?te.firstBaseUpdate=B:S.next=B,te.lastBaseUpdate=P))}if(h!==null){var re=d.baseState;b=0,te=B=P=null,S=h;do{var ee=S.lane,me=S.eventTime;if((l&ee)===ee){te!==null&&(te=te.next={eventTime:me,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var ve=e,ye=S;switch(ee=t,me=s,ye.tag){case 1:if(ve=ye.payload,typeof ve=="function"){re=ve.call(me,re,ee);break e}re=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=ye.payload,ee=typeof ve=="function"?ve.call(me,re,ee):ve,ee==null)break e;re=K({},re,ee);break e;case 2:Yn=!0}}S.callback!==null&&S.lane!==0&&(e.flags|=64,ee=d.effects,ee===null?d.effects=[S]:ee.push(S))}else me={eventTime:me,lane:ee,tag:S.tag,payload:S.payload,callback:S.callback,next:null},te===null?(B=te=me,P=re):te=te.next=me,b|=ee;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;ee=S,S=ee.next,ee.next=null,d.lastBaseUpdate=ee,d.shared.pending=null}}while(!0);if(te===null&&(P=re),d.baseState=P,d.firstBaseUpdate=B,d.lastBaseUpdate=te,t=d.shared.interleaved,t!==null){d=t;do b|=d.lane,d=d.next;while(d!==t)}else h===null&&(d.shared.lanes=0);wr|=b,e.lanes=b,e.memoizedState=re}}function Ad(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var l=e[t],d=l.callback;if(d!==null){if(l.callback=null,l=s,typeof d!="function")throw Error(o(191,d));d.call(l)}}}var _s={},gn=Hn(_s),Os=Hn(_s),Ts=Hn(_s);function yr(e){if(e===_s)throw Error(o(174));return e}function Vl(e,t){switch($e(Ts,t),$e(Os,e),$e(gn,_s),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Jt(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Jt(t,e)}Ue(gn),$e(gn,t)}function Zr(){Ue(gn),Ue(Os),Ue(Ts)}function _d(e){yr(Ts.current);var t=yr(gn.current),s=Jt(t,e.type);t!==s&&($e(Os,e),$e(gn,s))}function Hl(e){Os.current===e&&(Ue(gn),Ue(Os))}var He=Hn(0);function Ko(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ql=[];function Kl(){for(var e=0;e<ql.length;e++)ql[e]._workInProgressVersionPrimary=null;ql.length=0}var Yo=L.ReactCurrentDispatcher,Yl=L.ReactCurrentBatchConfig,br=0,qe=null,et=null,rt=null,Qo=!1,Ms=!1,Ls=0,m0=0;function gt(){throw Error(o(321))}function Ql(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!nn(e[s],t[s]))return!1;return!0}function Zl(e,t,s,l,d,h){if(br=h,qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yo.current=e===null||e.memoizedState===null?y0:b0,e=s(l,d),Ms){h=0;do{if(Ms=!1,Ls=0,25<=h)throw Error(o(301));h+=1,rt=et=null,t.updateQueue=null,Yo.current=w0,e=s(l,d)}while(Ms)}if(Yo.current=Jo,t=et!==null&&et.next!==null,br=0,rt=et=qe=null,Qo=!1,t)throw Error(o(300));return e}function Xl(){var e=Ls!==0;return Ls=0,e}function vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?qe.memoizedState=rt=e:rt=rt.next=e,rt}function qt(){if(et===null){var e=qe.alternate;e=e!==null?e.memoizedState:null}else e=et.next;var t=rt===null?qe.memoizedState:rt.next;if(t!==null)rt=t,et=e;else{if(e===null)throw Error(o(310));et=e,e={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},rt===null?qe.memoizedState=rt=e:rt=rt.next=e}return rt}function Fs(e,t){return typeof t=="function"?t(e):t}function Jl(e){var t=qt(),s=t.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=e;var l=et,d=l.baseQueue,h=s.pending;if(h!==null){if(d!==null){var b=d.next;d.next=h.next,h.next=b}l.baseQueue=d=h,s.pending=null}if(d!==null){h=d.next,l=l.baseState;var S=b=null,P=null,B=h;do{var te=B.lane;if((br&te)===te)P!==null&&(P=P.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),l=B.hasEagerState?B.eagerState:e(l,B.action);else{var re={lane:te,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};P===null?(S=P=re,b=l):P=P.next=re,qe.lanes|=te,wr|=te}B=B.next}while(B!==null&&B!==h);P===null?b=l:P.next=S,nn(l,t.memoizedState)||(It=!0),t.memoizedState=l,t.baseState=b,t.baseQueue=P,s.lastRenderedState=l}if(e=s.interleaved,e!==null){d=e;do h=d.lane,qe.lanes|=h,wr|=h,d=d.next;while(d!==e)}else d===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function ea(e){var t=qt(),s=t.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=e;var l=s.dispatch,d=s.pending,h=t.memoizedState;if(d!==null){s.pending=null;var b=d=d.next;do h=e(h,b.action),b=b.next;while(b!==d);nn(h,t.memoizedState)||(It=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),s.lastRenderedState=h}return[h,l]}function Od(){}function Td(e,t){var s=qe,l=qt(),d=t(),h=!nn(l.memoizedState,d);if(h&&(l.memoizedState=d,It=!0),l=l.queue,ta(Fd.bind(null,s,l,e),[e]),l.getSnapshot!==t||h||rt!==null&&rt.memoizedState.tag&1){if(s.flags|=2048,Bs(9,Ld.bind(null,s,l,d,t),void 0,null),st===null)throw Error(o(349));(br&30)!==0||Md(s,t,d)}return d}function Md(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Ld(e,t,s,l){t.value=s,t.getSnapshot=l,Bd(t)&&$d(e)}function Fd(e,t,s){return s(function(){Bd(t)&&$d(e)})}function Bd(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!nn(e,s)}catch{return!0}}function $d(e){var t=Dn(e,1);t!==null&&an(t,e,1,-1)}function zd(e){var t=vn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:e},t.queue=e,e=e.dispatch=x0.bind(null,qe,e),[t.memoizedState,e]}function Bs(e,t,s,l){return e={tag:e,create:t,destroy:s,deps:l,next:null},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,t.lastEffect=e)),e}function Ud(){return qt().memoizedState}function Zo(e,t,s,l){var d=vn();qe.flags|=e,d.memoizedState=Bs(1|t,s,void 0,l===void 0?null:l)}function Xo(e,t,s,l){var d=qt();l=l===void 0?null:l;var h=void 0;if(et!==null){var b=et.memoizedState;if(h=b.destroy,l!==null&&Ql(l,b.deps)){d.memoizedState=Bs(t,s,h,l);return}}qe.flags|=e,d.memoizedState=Bs(1|t,s,h,l)}function Gd(e,t){return Zo(8390656,8,e,t)}function ta(e,t){return Xo(2048,8,e,t)}function Wd(e,t){return Xo(4,2,e,t)}function Vd(e,t){return Xo(4,4,e,t)}function Hd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qd(e,t,s){return s=s!=null?s.concat([e]):null,Xo(4,4,Hd.bind(null,t,e),s)}function na(){}function Kd(e,t){var s=qt();t=t===void 0?null:t;var l=s.memoizedState;return l!==null&&t!==null&&Ql(t,l[1])?l[0]:(s.memoizedState=[e,t],e)}function Yd(e,t){var s=qt();t=t===void 0?null:t;var l=s.memoizedState;return l!==null&&t!==null&&Ql(t,l[1])?l[0]:(e=e(),s.memoizedState=[e,t],e)}function Qd(e,t,s){return(br&21)===0?(e.baseState&&(e.baseState=!1,It=!0),e.memoizedState=s):(nn(s,t)||(s=Eu(),qe.lanes|=s,wr|=s,e.baseState=!0),t)}function g0(e,t){var s=Be;Be=s!==0&&4>s?s:4,e(!0);var l=Yl.transition;Yl.transition={};try{e(!1),t()}finally{Be=s,Yl.transition=l}}function Zd(){return qt().memoizedState}function v0(e,t,s){var l=er(e);if(s={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null},Xd(e))Jd(t,s);else if(s=Rd(e,t,s,l),s!==null){var d=St();an(s,e,l,d),ef(s,t,l)}}function x0(e,t,s){var l=er(e),d={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null};if(Xd(e))Jd(t,d);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var b=t.lastRenderedState,S=h(b,s);if(d.hasEagerState=!0,d.eagerState=S,nn(S,b)){var P=t.interleaved;P===null?(d.next=d,Gl(t)):(d.next=P.next,P.next=d),t.interleaved=d;return}}catch{}finally{}s=Rd(e,t,d,l),s!==null&&(d=St(),an(s,e,l,d),ef(s,t,l))}}function Xd(e){var t=e.alternate;return e===qe||t!==null&&t===qe}function Jd(e,t){Ms=Qo=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function ef(e,t,s){if((s&4194240)!==0){var l=t.lanes;l&=e.pendingLanes,s|=l,t.lanes=s,sl(e,s)}}var Jo={readContext:Ht,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},y0={readContext:Ht,useCallback:function(e,t){return vn().memoizedState=[e,t===void 0?null:t],e},useContext:Ht,useEffect:Gd,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Zo(4194308,4,Hd.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zo(4,2,e,t)},useMemo:function(e,t){var s=vn();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var l=vn();return t=s!==void 0?s(t):t,l.memoizedState=l.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},l.queue=e,e=e.dispatch=v0.bind(null,qe,e),[l.memoizedState,e]},useRef:function(e){var t=vn();return e={current:e},t.memoizedState=e},useState:zd,useDebugValue:na,useDeferredValue:function(e){return vn().memoizedState=e},useTransition:function(){var e=zd(!1),t=e[0];return e=g0.bind(null,e[1]),vn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var l=qe,d=vn();if(Ge){if(s===void 0)throw Error(o(407));s=s()}else{if(s=t(),st===null)throw Error(o(349));(br&30)!==0||Md(l,t,s)}d.memoizedState=s;var h={value:s,getSnapshot:t};return d.queue=h,Gd(Fd.bind(null,l,h,e),[e]),l.flags|=2048,Bs(9,Ld.bind(null,l,h,s,t),void 0,null),s},useId:function(){var e=vn(),t=st.identifierPrefix;if(Ge){var s=Rn,l=Pn;s=(l&~(1<<32-tn(l)-1)).toString(32)+s,t=":"+t+"R"+s,s=Ls++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=m0++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},b0={readContext:Ht,useCallback:Kd,useContext:Ht,useEffect:ta,useImperativeHandle:qd,useInsertionEffect:Wd,useLayoutEffect:Vd,useMemo:Yd,useReducer:Jl,useRef:Ud,useState:function(){return Jl(Fs)},useDebugValue:na,useDeferredValue:function(e){var t=qt();return Qd(t,et.memoizedState,e)},useTransition:function(){var e=Jl(Fs)[0],t=qt().memoizedState;return[e,t]},useMutableSource:Od,useSyncExternalStore:Td,useId:Zd,unstable_isNewReconciler:!1},w0={readContext:Ht,useCallback:Kd,useContext:Ht,useEffect:ta,useImperativeHandle:qd,useInsertionEffect:Wd,useLayoutEffect:Vd,useMemo:Yd,useReducer:ea,useRef:Ud,useState:function(){return ea(Fs)},useDebugValue:na,useDeferredValue:function(e){var t=qt();return et===null?t.memoizedState=e:Qd(t,et.memoizedState,e)},useTransition:function(){var e=ea(Fs)[0],t=qt().memoizedState;return[e,t]},useMutableSource:Od,useSyncExternalStore:Td,useId:Zd,unstable_isNewReconciler:!1};function sn(e,t){if(e&&e.defaultProps){t=K({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function ra(e,t,s,l){t=e.memoizedState,s=s(l,t),s=s==null?t:K({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var ei={isMounted:function(e){return(e=e._reactInternals)?pr(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var l=St(),d=er(e),h=In(l,d);h.payload=t,s!=null&&(h.callback=s),t=Qn(e,h,d),t!==null&&(an(t,e,d,l),Ho(t,e,d))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var l=St(),d=er(e),h=In(l,d);h.tag=1,h.payload=t,s!=null&&(h.callback=s),t=Qn(e,h,d),t!==null&&(an(t,e,d,l),Ho(t,e,d))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=St(),l=er(e),d=In(s,l);d.tag=2,t!=null&&(d.callback=t),t=Qn(e,d,l),t!==null&&(an(t,e,l,s),Ho(t,e,l))}};function tf(e,t,s,l,d,h,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,h,b):t.prototype&&t.prototype.isPureReactComponent?!js(s,l)||!js(d,h):!0}function nf(e,t,s){var l=!1,d=qn,h=t.contextType;return typeof h=="object"&&h!==null?h=Ht(h):(d=Dt(t)?mr:mt.current,l=t.contextTypes,h=(l=l!=null)?Wr(e,d):qn),t=new t(s,h),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ei,e.stateNode=t,t._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=h),t}function rf(e,t,s,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,l),t.state!==e&&ei.enqueueReplaceState(t,t.state,null)}function sa(e,t,s,l){var d=e.stateNode;d.props=s,d.state=e.memoizedState,d.refs={},Wl(e);var h=t.contextType;typeof h=="object"&&h!==null?d.context=Ht(h):(h=Dt(t)?mr:mt.current,d.context=Wr(e,h)),d.state=e.memoizedState,h=t.getDerivedStateFromProps,typeof h=="function"&&(ra(e,t,h,s),d.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(t=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),t!==d.state&&ei.enqueueReplaceState(d,d.state,null),qo(e,s,d,l),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function Xr(e,t){try{var s="",l=t;do s+=Q(l),l=l.return;while(l);var d=s}catch(h){d=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:t,stack:d,digest:null}}function oa(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function ia(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var N0=typeof WeakMap=="function"?WeakMap:Map;function sf(e,t,s){s=In(-1,s),s.tag=3,s.payload={element:null};var l=t.value;return s.callback=function(){li||(li=!0,wa=l),ia(e,t)},s}function of(e,t,s){s=In(-1,s),s.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var d=t.value;s.payload=function(){return l(d)},s.callback=function(){ia(e,t)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(s.callback=function(){ia(e,t),typeof l!="function"&&(Xn===null?Xn=new Set([this]):Xn.add(this));var b=t.stack;this.componentDidCatch(t.value,{componentStack:b!==null?b:""})}),s}function lf(e,t,s){var l=e.pingCache;if(l===null){l=e.pingCache=new N0;var d=new Set;l.set(t,d)}else d=l.get(t),d===void 0&&(d=new Set,l.set(t,d));d.has(s)||(d.add(s),e=M0.bind(null,e,t,s),t.then(e,e))}function af(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cf(e,t,s,l,d){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=In(-1,1),t.tag=2,Qn(s,t,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var S0=L.ReactCurrentOwner,It=!1;function Nt(e,t,s,l){t.child=e===null?Pd(t,null,s,l):Kr(t,e.child,s,l)}function uf(e,t,s,l,d){s=s.render;var h=t.ref;return Qr(t,d),l=Zl(e,t,s,l,h,d),s=Xl(),e!==null&&!It?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,An(e,t,d)):(Ge&&s&&Ol(t),t.flags|=1,Nt(e,t,l,d),t.child)}function df(e,t,s,l,d){if(e===null){var h=s.type;return typeof h=="function"&&!Pa(h)&&h.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=h,ff(e,t,h,l,d)):(e=pi(s.type,null,l,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,(e.lanes&d)===0){var b=h.memoizedProps;if(s=s.compare,s=s!==null?s:js,s(b,l)&&e.ref===t.ref)return An(e,t,d)}return t.flags|=1,e=nr(h,l),e.ref=t.ref,e.return=t,t.child=e}function ff(e,t,s,l,d){if(e!==null){var h=e.memoizedProps;if(js(h,l)&&e.ref===t.ref)if(It=!1,t.pendingProps=l=h,(e.lanes&d)!==0)(e.flags&131072)!==0&&(It=!0);else return t.lanes=e.lanes,An(e,t,d)}return la(e,t,s,l,d)}function pf(e,t,s){var l=t.pendingProps,d=l.children,h=e!==null?e.memoizedState:null;if(l.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(es,Bt),Bt|=s;else{if((s&1073741824)===0)return e=h!==null?h.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$e(es,Bt),Bt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=h!==null?h.baseLanes:s,$e(es,Bt),Bt|=l}else h!==null?(l=h.baseLanes|s,t.memoizedState=null):l=s,$e(es,Bt),Bt|=l;return Nt(e,t,d,s),t.child}function hf(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function la(e,t,s,l,d){var h=Dt(s)?mr:mt.current;return h=Wr(t,h),Qr(t,d),s=Zl(e,t,s,l,h,d),l=Xl(),e!==null&&!It?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,An(e,t,d)):(Ge&&l&&Ol(t),t.flags|=1,Nt(e,t,s,d),t.child)}function mf(e,t,s,l,d){if(Dt(s)){var h=!0;Fo(t)}else h=!1;if(Qr(t,d),t.stateNode===null)ni(e,t),nf(t,s,l),sa(t,s,l,d),l=!0;else if(e===null){var b=t.stateNode,S=t.memoizedProps;b.props=S;var P=b.context,B=s.contextType;typeof B=="object"&&B!==null?B=Ht(B):(B=Dt(s)?mr:mt.current,B=Wr(t,B));var te=s.getDerivedStateFromProps,re=typeof te=="function"||typeof b.getSnapshotBeforeUpdate=="function";re||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(S!==l||P!==B)&&rf(t,b,l,B),Yn=!1;var ee=t.memoizedState;b.state=ee,qo(t,l,b,d),P=t.memoizedState,S!==l||ee!==P||Rt.current||Yn?(typeof te=="function"&&(ra(t,s,te,l),P=t.memoizedState),(S=Yn||tf(t,s,S,l,ee,P,B))?(re||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(t.flags|=4194308)):(typeof b.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=P),b.props=l,b.state=P,b.context=B,l=S):(typeof b.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{b=t.stateNode,Dd(e,t),S=t.memoizedProps,B=t.type===t.elementType?S:sn(t.type,S),b.props=B,re=t.pendingProps,ee=b.context,P=s.contextType,typeof P=="object"&&P!==null?P=Ht(P):(P=Dt(s)?mr:mt.current,P=Wr(t,P));var me=s.getDerivedStateFromProps;(te=typeof me=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(S!==re||ee!==P)&&rf(t,b,l,P),Yn=!1,ee=t.memoizedState,b.state=ee,qo(t,l,b,d);var ve=t.memoizedState;S!==re||ee!==ve||Rt.current||Yn?(typeof me=="function"&&(ra(t,s,me,l),ve=t.memoizedState),(B=Yn||tf(t,s,B,l,ee,ve,P)||!1)?(te||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(l,ve,P),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(l,ve,P)),typeof b.componentDidUpdate=="function"&&(t.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof b.componentDidUpdate!="function"||S===e.memoizedProps&&ee===e.memoizedState||(t.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&ee===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=ve),b.props=l,b.state=ve,b.context=P,l=B):(typeof b.componentDidUpdate!="function"||S===e.memoizedProps&&ee===e.memoizedState||(t.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&ee===e.memoizedState||(t.flags|=1024),l=!1)}return aa(e,t,s,l,h,d)}function aa(e,t,s,l,d,h){hf(e,t);var b=(t.flags&128)!==0;if(!l&&!b)return d&&yd(t,s,!1),An(e,t,h);l=t.stateNode,S0.current=t;var S=b&&typeof s.getDerivedStateFromError!="function"?null:l.render();return t.flags|=1,e!==null&&b?(t.child=Kr(t,e.child,null,h),t.child=Kr(t,null,S,h)):Nt(e,t,S,h),t.memoizedState=l.state,d&&yd(t,s,!0),t.child}function gf(e){var t=e.stateNode;t.pendingContext?vd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vd(e,t.context,!1),Vl(e,t.containerInfo)}function vf(e,t,s,l,d){return qr(),Fl(d),t.flags|=256,Nt(e,t,s,l),t.child}var ca={dehydrated:null,treeContext:null,retryLane:0};function ua(e){return{baseLanes:e,cachePool:null,transitions:null}}function xf(e,t,s){var l=t.pendingProps,d=He.current,h=!1,b=(t.flags&128)!==0,S;if((S=b)||(S=e!==null&&e.memoizedState===null?!1:(d&2)!==0),S?(h=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),$e(He,d&1),e===null)return Ll(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(b=l.children,e=l.fallback,h?(l=t.mode,h=t.child,b={mode:"hidden",children:b},(l&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=b):h=hi(b,l,0,null),e=jr(e,l,s,null),h.return=t,e.return=t,h.sibling=e,t.child=h,t.child.memoizedState=ua(s),t.memoizedState=ca,e):da(t,b));if(d=e.memoizedState,d!==null&&(S=d.dehydrated,S!==null))return C0(e,t,b,l,S,d,s);if(h){h=l.fallback,b=t.mode,d=e.child,S=d.sibling;var P={mode:"hidden",children:l.children};return(b&1)===0&&t.child!==d?(l=t.child,l.childLanes=0,l.pendingProps=P,t.deletions=null):(l=nr(d,P),l.subtreeFlags=d.subtreeFlags&14680064),S!==null?h=nr(S,h):(h=jr(h,b,s,null),h.flags|=2),h.return=t,l.return=t,l.sibling=h,t.child=l,l=h,h=t.child,b=e.child.memoizedState,b=b===null?ua(s):{baseLanes:b.baseLanes|s,cachePool:null,transitions:b.transitions},h.memoizedState=b,h.childLanes=e.childLanes&~s,t.memoizedState=ca,l}return h=e.child,e=h.sibling,l=nr(h,{mode:"visible",children:l.children}),(t.mode&1)===0&&(l.lanes=s),l.return=t,l.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=l,t.memoizedState=null,l}function da(e,t){return t=hi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ti(e,t,s,l){return l!==null&&Fl(l),Kr(t,e.child,null,s),e=da(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function C0(e,t,s,l,d,h,b){if(s)return t.flags&256?(t.flags&=-257,l=oa(Error(o(422))),ti(e,t,b,l)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(h=l.fallback,d=t.mode,l=hi({mode:"visible",children:l.children},d,0,null),h=jr(h,d,b,null),h.flags|=2,l.return=t,h.return=t,l.sibling=h,t.child=l,(t.mode&1)!==0&&Kr(t,e.child,null,b),t.child.memoizedState=ua(b),t.memoizedState=ca,h);if((t.mode&1)===0)return ti(e,t,b,null);if(d.data==="$!"){if(l=d.nextSibling&&d.nextSibling.dataset,l)var S=l.dgst;return l=S,h=Error(o(419)),l=oa(h,l,void 0),ti(e,t,b,l)}if(S=(b&e.childLanes)!==0,It||S){if(l=st,l!==null){switch(b&-b){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(l.suspendedLanes|b))!==0?0:d,d!==0&&d!==h.retryLane&&(h.retryLane=d,Dn(e,d),an(l,e,d,-1))}return ka(),l=oa(Error(o(421))),ti(e,t,b,l)}return d.data==="$?"?(t.flags|=128,t.child=e.child,t=L0.bind(null,e),d._reactRetry=t,null):(e=h.treeContext,Ft=Vn(d.nextSibling),Lt=t,Ge=!0,rn=null,e!==null&&(Wt[Vt++]=Pn,Wt[Vt++]=Rn,Wt[Vt++]=gr,Pn=e.id,Rn=e.overflow,gr=t),t=da(t,l.children),t.flags|=4096,t)}function yf(e,t,s){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Ul(e.return,t,s)}function fa(e,t,s,l,d){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:d}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=s,h.tailMode=d)}function bf(e,t,s){var l=t.pendingProps,d=l.revealOrder,h=l.tail;if(Nt(e,t,l.children,s),l=He.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yf(e,s,t);else if(e.tag===19)yf(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if($e(He,l),(t.mode&1)===0)t.memoizedState=null;else switch(d){case"forwards":for(s=t.child,d=null;s!==null;)e=s.alternate,e!==null&&Ko(e)===null&&(d=s),s=s.sibling;s=d,s===null?(d=t.child,t.child=null):(d=s.sibling,s.sibling=null),fa(t,!1,d,s,h);break;case"backwards":for(s=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&Ko(e)===null){t.child=d;break}e=d.sibling,d.sibling=s,s=d,d=e}fa(t,!0,s,null,h);break;case"together":fa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ni(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function An(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),wr|=t.lanes,(s&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,s=nr(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=nr(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function j0(e,t,s){switch(t.tag){case 3:gf(t),qr();break;case 5:_d(t);break;case 1:Dt(t.type)&&Fo(t);break;case 4:Vl(t,t.stateNode.containerInfo);break;case 10:var l=t.type._context,d=t.memoizedProps.value;$e(Wo,l._currentValue),l._currentValue=d;break;case 13:if(l=t.memoizedState,l!==null)return l.dehydrated!==null?($e(He,He.current&1),t.flags|=128,null):(s&t.child.childLanes)!==0?xf(e,t,s):($e(He,He.current&1),e=An(e,t,s),e!==null?e.sibling:null);$e(He,He.current&1);break;case 19:if(l=(s&t.childLanes)!==0,(e.flags&128)!==0){if(l)return bf(e,t,s);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),$e(He,He.current),l)break;return null;case 22:case 23:return t.lanes=0,pf(e,t,s)}return An(e,t,s)}var wf,pa,Nf,Sf;wf=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},pa=function(){},Nf=function(e,t,s,l){var d=e.memoizedProps;if(d!==l){e=t.stateNode,yr(gn.current);var h=null;switch(s){case"input":d=ct(e,d),l=ct(e,l),h=[];break;case"select":d=K({},d,{value:void 0}),l=K({},l,{value:void 0}),h=[];break;case"textarea":d=ur(e,d),l=ur(e,l),h=[];break;default:typeof d.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=To)}fr(s,l);var b;s=null;for(B in d)if(!l.hasOwnProperty(B)&&d.hasOwnProperty(B)&&d[B]!=null)if(B==="style"){var S=d[B];for(b in S)S.hasOwnProperty(b)&&(s||(s={}),s[b]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(a.hasOwnProperty(B)?h||(h=[]):(h=h||[]).push(B,null));for(B in l){var P=l[B];if(S=d?.[B],l.hasOwnProperty(B)&&P!==S&&(P!=null||S!=null))if(B==="style")if(S){for(b in S)!S.hasOwnProperty(b)||P&&P.hasOwnProperty(b)||(s||(s={}),s[b]="");for(b in P)P.hasOwnProperty(b)&&S[b]!==P[b]&&(s||(s={}),s[b]=P[b])}else s||(h||(h=[]),h.push(B,s)),s=P;else B==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,S=S?S.__html:void 0,P!=null&&S!==P&&(h=h||[]).push(B,P)):B==="children"?typeof P!="string"&&typeof P!="number"||(h=h||[]).push(B,""+P):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(a.hasOwnProperty(B)?(P!=null&&B==="onScroll"&&ze("scroll",e),h||S===P||(h=[])):(h=h||[]).push(B,P))}s&&(h=h||[]).push("style",s);var B=h;(t.updateQueue=B)&&(t.flags|=4)}},Sf=function(e,t,s,l){s!==l&&(t.flags|=4)};function $s(e,t){if(!Ge)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(t)for(var d=e.child;d!==null;)s|=d.lanes|d.childLanes,l|=d.subtreeFlags&14680064,l|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)s|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=l,e.childLanes=s,t}function E0(e,t,s){var l=t.pendingProps;switch(Tl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(t),null;case 1:return Dt(t.type)&&Lo(),vt(t),null;case 3:return l=t.stateNode,Zr(),Ue(Rt),Ue(mt),Kl(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Uo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,rn!==null&&(Ca(rn),rn=null))),pa(e,t),vt(t),null;case 5:Hl(t);var d=yr(Ts.current);if(s=t.type,e!==null&&t.stateNode!=null)Nf(e,t,s,l,d),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!l){if(t.stateNode===null)throw Error(o(166));return vt(t),null}if(e=yr(gn.current),Uo(t)){l=t.stateNode,s=t.type;var h=t.memoizedProps;switch(l[mn]=t,l[Ds]=h,e=(t.mode&1)!==0,s){case"dialog":ze("cancel",l),ze("close",l);break;case"iframe":case"object":case"embed":ze("load",l);break;case"video":case"audio":for(d=0;d<ks.length;d++)ze(ks[d],l);break;case"source":ze("error",l);break;case"img":case"image":case"link":ze("error",l),ze("load",l);break;case"details":ze("toggle",l);break;case"input":_e(l,h),ze("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!h.multiple},ze("invalid",l);break;case"textarea":Dr(l,h),ze("invalid",l)}fr(s,h),d=null;for(var b in h)if(h.hasOwnProperty(b)){var S=h[b];b==="children"?typeof S=="string"?l.textContent!==S&&(h.suppressHydrationWarning!==!0&&Oo(l.textContent,S,e),d=["children",S]):typeof S=="number"&&l.textContent!==""+S&&(h.suppressHydrationWarning!==!0&&Oo(l.textContent,S,e),d=["children",""+S]):a.hasOwnProperty(b)&&S!=null&&b==="onScroll"&&ze("scroll",l)}switch(s){case"input":bt(l),wn(l,h,!0);break;case"textarea":bt(l),dr(l);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(l.onclick=To)}l=d,t.updateQueue=l,l!==null&&(t.flags|=4)}else{b=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Sn(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=b.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=b.createElement(s,{is:l.is}):(e=b.createElement(s),s==="select"&&(b=e,l.multiple?b.multiple=!0:l.size&&(b.size=l.size))):e=b.createElementNS(e,s),e[mn]=t,e[Ds]=l,wf(e,t,!1,!1),t.stateNode=e;e:{switch(b=jn(s,l),s){case"dialog":ze("cancel",e),ze("close",e),d=l;break;case"iframe":case"object":case"embed":ze("load",e),d=l;break;case"video":case"audio":for(d=0;d<ks.length;d++)ze(ks[d],e);d=l;break;case"source":ze("error",e),d=l;break;case"img":case"image":case"link":ze("error",e),ze("load",e),d=l;break;case"details":ze("toggle",e),d=l;break;case"input":_e(e,l),d=ct(e,l),ze("invalid",e);break;case"option":d=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},d=K({},l,{value:void 0}),ze("invalid",e);break;case"textarea":Dr(e,l),d=ur(e,l),ze("invalid",e);break;default:d=l}fr(s,d),S=d;for(h in S)if(S.hasOwnProperty(h)){var P=S[h];h==="style"?Or(e,P):h==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&Ar(e,P)):h==="children"?typeof P=="string"?(s!=="textarea"||P!=="")&&en(e,P):typeof P=="number"&&en(e,""+P):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(a.hasOwnProperty(h)?P!=null&&h==="onScroll"&&ze("scroll",e):P!=null&&T(e,h,P,b))}switch(s){case"input":bt(e),wn(e,l,!1);break;case"textarea":bt(e),dr(e);break;case"option":l.value!=null&&e.setAttribute("value",""+ue(l.value));break;case"select":e.multiple=!!l.multiple,h=l.value,h!=null?Tt(e,!!l.multiple,h,!1):l.defaultValue!=null&&Tt(e,!!l.multiple,l.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=To)}switch(s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return vt(t),null;case 6:if(e&&t.stateNode!=null)Sf(e,t,e.memoizedProps,l);else{if(typeof l!="string"&&t.stateNode===null)throw Error(o(166));if(s=yr(Ts.current),yr(gn.current),Uo(t)){if(l=t.stateNode,s=t.memoizedProps,l[mn]=t,(h=l.nodeValue!==s)&&(e=Lt,e!==null))switch(e.tag){case 3:Oo(l.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Oo(l.nodeValue,s,(e.mode&1)!==0)}h&&(t.flags|=4)}else l=(s.nodeType===9?s:s.ownerDocument).createTextNode(l),l[mn]=t,t.stateNode=l}return vt(t),null;case 13:if(Ue(He),l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ge&&Ft!==null&&(t.mode&1)!==0&&(t.flags&128)===0)jd(),qr(),t.flags|=98560,h=!1;else if(h=Uo(t),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(o(318));if(h=t.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));h[mn]=t}else qr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;vt(t),h=!1}else rn!==null&&(Ca(rn),rn=null),h=!0;if(!h)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=s,t):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(He.current&1)!==0?tt===0&&(tt=3):ka())),t.updateQueue!==null&&(t.flags|=4),vt(t),null);case 4:return Zr(),pa(e,t),e===null&&Ps(t.stateNode.containerInfo),vt(t),null;case 10:return zl(t.type._context),vt(t),null;case 17:return Dt(t.type)&&Lo(),vt(t),null;case 19:if(Ue(He),h=t.memoizedState,h===null)return vt(t),null;if(l=(t.flags&128)!==0,b=h.rendering,b===null)if(l)$s(h,!1);else{if(tt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(b=Ko(e),b!==null){for(t.flags|=128,$s(h,!1),l=b.updateQueue,l!==null&&(t.updateQueue=l,t.flags|=4),t.subtreeFlags=0,l=s,s=t.child;s!==null;)h=s,e=l,h.flags&=14680066,b=h.alternate,b===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=b.childLanes,h.lanes=b.lanes,h.child=b.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=b.memoizedProps,h.memoizedState=b.memoizedState,h.updateQueue=b.updateQueue,h.type=b.type,e=b.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return $e(He,He.current&1|2),t.child}e=e.sibling}h.tail!==null&&Qe()>ts&&(t.flags|=128,l=!0,$s(h,!1),t.lanes=4194304)}else{if(!l)if(e=Ko(b),e!==null){if(t.flags|=128,l=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),$s(h,!0),h.tail===null&&h.tailMode==="hidden"&&!b.alternate&&!Ge)return vt(t),null}else 2*Qe()-h.renderingStartTime>ts&&s!==1073741824&&(t.flags|=128,l=!0,$s(h,!1),t.lanes=4194304);h.isBackwards?(b.sibling=t.child,t.child=b):(s=h.last,s!==null?s.sibling=b:t.child=b,h.last=b)}return h.tail!==null?(t=h.tail,h.rendering=t,h.tail=t.sibling,h.renderingStartTime=Qe(),t.sibling=null,s=He.current,$e(He,l?s&1|2:s&1),t):(vt(t),null);case 22:case 23:return Ea(),l=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(t.flags|=8192),l&&(t.mode&1)!==0?(Bt&1073741824)!==0&&(vt(t),t.subtreeFlags&6&&(t.flags|=8192)):vt(t),null;case 24:return null;case 25:return null}throw Error(o(156,t.tag))}function k0(e,t){switch(Tl(t),t.tag){case 1:return Dt(t.type)&&Lo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zr(),Ue(Rt),Ue(mt),Kl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Hl(t),null;case 13:if(Ue(He),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));qr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ue(He),null;case 4:return Zr(),null;case 10:return zl(t.type._context),null;case 22:case 23:return Ea(),null;case 24:return null;default:return null}}var ri=!1,xt=!1,P0=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Jr(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(l){Ke(e,t,l)}else s.current=null}function ha(e,t,s){try{s()}catch(l){Ke(e,t,l)}}var Cf=!1;function R0(e,t){if(El=So,e=td(),xl(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var d=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break e}var b=0,S=-1,P=-1,B=0,te=0,re=e,ee=null;t:for(;;){for(var me;re!==s||d!==0&&re.nodeType!==3||(S=b+d),re!==h||l!==0&&re.nodeType!==3||(P=b+l),re.nodeType===3&&(b+=re.nodeValue.length),(me=re.firstChild)!==null;)ee=re,re=me;for(;;){if(re===e)break t;if(ee===s&&++B===d&&(S=b),ee===h&&++te===l&&(P=b),(me=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=me}s=S===-1||P===-1?null:{start:S,end:P}}else s=null}s=s||{start:0,end:0}}else s=null;for(kl={focusedElem:e,selectionRange:s},So=!1,ge=t;ge!==null;)if(t=ge,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ge=e;else for(;ge!==null;){t=ge;try{var ve=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var ye=ve.memoizedProps,Ze=ve.memoizedState,_=t.stateNode,I=_.getSnapshotBeforeUpdate(t.elementType===t.type?ye:sn(t.type,ye),Ze);_.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var M=t.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(oe){Ke(t,t.return,oe)}if(e=t.sibling,e!==null){e.return=t.return,ge=e;break}ge=t.return}return ve=Cf,Cf=!1,ve}function zs(e,t,s){var l=t.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&e)===e){var h=d.destroy;d.destroy=void 0,h!==void 0&&ha(t,s,h)}d=d.next}while(d!==l)}}function si(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var l=s.create;s.destroy=l()}s=s.next}while(s!==t)}}function ma(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function jf(e){var t=e.alternate;t!==null&&(e.alternate=null,jf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[mn],delete t[Ds],delete t[Il],delete t[d0],delete t[f0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ef(e){return e.tag===5||e.tag===3||e.tag===4}function kf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ef(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ga(e,t,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=To));else if(l!==4&&(e=e.child,e!==null))for(ga(e,t,s),e=e.sibling;e!==null;)ga(e,t,s),e=e.sibling}function va(e,t,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(va(e,t,s),e=e.sibling;e!==null;)va(e,t,s),e=e.sibling}var ut=null,on=!1;function Zn(e,t,s){for(s=s.child;s!==null;)Pf(e,t,s),s=s.sibling}function Pf(e,t,s){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(vo,s)}catch{}switch(s.tag){case 5:xt||Jr(s,t);case 6:var l=ut,d=on;ut=null,Zn(e,t,s),ut=l,on=d,ut!==null&&(on?(e=ut,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):ut.removeChild(s.stateNode));break;case 18:ut!==null&&(on?(e=ut,s=s.stateNode,e.nodeType===8?Dl(e.parentNode,s):e.nodeType===1&&Dl(e,s),ys(e)):Dl(ut,s.stateNode));break;case 4:l=ut,d=on,ut=s.stateNode.containerInfo,on=!0,Zn(e,t,s),ut=l,on=d;break;case 0:case 11:case 14:case 15:if(!xt&&(l=s.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){d=l=l.next;do{var h=d,b=h.destroy;h=h.tag,b!==void 0&&((h&2)!==0||(h&4)!==0)&&ha(s,t,b),d=d.next}while(d!==l)}Zn(e,t,s);break;case 1:if(!xt&&(Jr(s,t),l=s.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=s.memoizedProps,l.state=s.memoizedState,l.componentWillUnmount()}catch(S){Ke(s,t,S)}Zn(e,t,s);break;case 21:Zn(e,t,s);break;case 22:s.mode&1?(xt=(l=xt)||s.memoizedState!==null,Zn(e,t,s),xt=l):Zn(e,t,s);break;default:Zn(e,t,s)}}function Rf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new P0),t.forEach(function(l){var d=F0.bind(null,e,l);s.has(l)||(s.add(l),l.then(d,d))})}}function ln(e,t){var s=t.deletions;if(s!==null)for(var l=0;l<s.length;l++){var d=s[l];try{var h=e,b=t,S=b;e:for(;S!==null;){switch(S.tag){case 5:ut=S.stateNode,on=!1;break e;case 3:ut=S.stateNode.containerInfo,on=!0;break e;case 4:ut=S.stateNode.containerInfo,on=!0;break e}S=S.return}if(ut===null)throw Error(o(160));Pf(h,b,d),ut=null,on=!1;var P=d.alternate;P!==null&&(P.return=null),d.return=null}catch(B){Ke(d,t,B)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Df(t,e),t=t.sibling}function Df(e,t){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ln(t,e),xn(e),l&4){try{zs(3,e,e.return),si(3,e)}catch(ye){Ke(e,e.return,ye)}try{zs(5,e,e.return)}catch(ye){Ke(e,e.return,ye)}}break;case 1:ln(t,e),xn(e),l&512&&s!==null&&Jr(s,s.return);break;case 5:if(ln(t,e),xn(e),l&512&&s!==null&&Jr(s,s.return),e.flags&32){var d=e.stateNode;try{en(d,"")}catch(ye){Ke(e,e.return,ye)}}if(l&4&&(d=e.stateNode,d!=null)){var h=e.memoizedProps,b=s!==null?s.memoizedProps:h,S=e.type,P=e.updateQueue;if(e.updateQueue=null,P!==null)try{S==="input"&&h.type==="radio"&&h.name!=null&&Et(d,h),jn(S,b);var B=jn(S,h);for(b=0;b<P.length;b+=2){var te=P[b],re=P[b+1];te==="style"?Or(d,re):te==="dangerouslySetInnerHTML"?Ar(d,re):te==="children"?en(d,re):T(d,te,re,B)}switch(S){case"input":bn(d,h);break;case"textarea":Ir(d,h);break;case"select":var ee=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!h.multiple;var me=h.value;me!=null?Tt(d,!!h.multiple,me,!1):ee!==!!h.multiple&&(h.defaultValue!=null?Tt(d,!!h.multiple,h.defaultValue,!0):Tt(d,!!h.multiple,h.multiple?[]:"",!1))}d[Ds]=h}catch(ye){Ke(e,e.return,ye)}}break;case 6:if(ln(t,e),xn(e),l&4){if(e.stateNode===null)throw Error(o(162));d=e.stateNode,h=e.memoizedProps;try{d.nodeValue=h}catch(ye){Ke(e,e.return,ye)}}break;case 3:if(ln(t,e),xn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{ys(t.containerInfo)}catch(ye){Ke(e,e.return,ye)}break;case 4:ln(t,e),xn(e);break;case 13:ln(t,e),xn(e),d=e.child,d.flags&8192&&(h=d.memoizedState!==null,d.stateNode.isHidden=h,!h||d.alternate!==null&&d.alternate.memoizedState!==null||(ba=Qe())),l&4&&Rf(e);break;case 22:if(te=s!==null&&s.memoizedState!==null,e.mode&1?(xt=(B=xt)||te,ln(t,e),xt=B):ln(t,e),xn(e),l&8192){if(B=e.memoizedState!==null,(e.stateNode.isHidden=B)&&!te&&(e.mode&1)!==0)for(ge=e,te=e.child;te!==null;){for(re=ge=te;ge!==null;){switch(ee=ge,me=ee.child,ee.tag){case 0:case 11:case 14:case 15:zs(4,ee,ee.return);break;case 1:Jr(ee,ee.return);var ve=ee.stateNode;if(typeof ve.componentWillUnmount=="function"){l=ee,s=ee.return;try{t=l,ve.props=t.memoizedProps,ve.state=t.memoizedState,ve.componentWillUnmount()}catch(ye){Ke(l,s,ye)}}break;case 5:Jr(ee,ee.return);break;case 22:if(ee.memoizedState!==null){_f(re);continue}}me!==null?(me.return=ee,ge=me):_f(re)}te=te.sibling}e:for(te=null,re=e;;){if(re.tag===5){if(te===null){te=re;try{d=re.stateNode,B?(h=d.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(S=re.stateNode,P=re.memoizedProps.style,b=P!=null&&P.hasOwnProperty("display")?P.display:null,S.style.display=_r("display",b))}catch(ye){Ke(e,e.return,ye)}}}else if(re.tag===6){if(te===null)try{re.stateNode.nodeValue=B?"":re.memoizedProps}catch(ye){Ke(e,e.return,ye)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===e)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===e)break e;for(;re.sibling===null;){if(re.return===null||re.return===e)break e;te===re&&(te=null),re=re.return}te===re&&(te=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:ln(t,e),xn(e),l&4&&Rf(e);break;case 21:break;default:ln(t,e),xn(e)}}function xn(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(Ef(s)){var l=s;break e}s=s.return}throw Error(o(160))}switch(l.tag){case 5:var d=l.stateNode;l.flags&32&&(en(d,""),l.flags&=-33);var h=kf(e);va(e,h,d);break;case 3:case 4:var b=l.stateNode.containerInfo,S=kf(e);ga(e,S,b);break;default:throw Error(o(161))}}catch(P){Ke(e,e.return,P)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function D0(e,t,s){ge=e,If(e)}function If(e,t,s){for(var l=(e.mode&1)!==0;ge!==null;){var d=ge,h=d.child;if(d.tag===22&&l){var b=d.memoizedState!==null||ri;if(!b){var S=d.alternate,P=S!==null&&S.memoizedState!==null||xt;S=ri;var B=xt;if(ri=b,(xt=P)&&!B)for(ge=d;ge!==null;)b=ge,P=b.child,b.tag===22&&b.memoizedState!==null?Of(d):P!==null?(P.return=b,ge=P):Of(d);for(;h!==null;)ge=h,If(h),h=h.sibling;ge=d,ri=S,xt=B}Af(e)}else(d.subtreeFlags&8772)!==0&&h!==null?(h.return=d,ge=h):Af(e)}}function Af(e){for(;ge!==null;){var t=ge;if((t.flags&8772)!==0){var s=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:xt||si(5,t);break;case 1:var l=t.stateNode;if(t.flags&4&&!xt)if(s===null)l.componentDidMount();else{var d=t.elementType===t.type?s.memoizedProps:sn(t.type,s.memoizedProps);l.componentDidUpdate(d,s.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var h=t.updateQueue;h!==null&&Ad(t,h,l);break;case 3:var b=t.updateQueue;if(b!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Ad(t,b,s)}break;case 5:var S=t.stateNode;if(s===null&&t.flags&4){s=S;var P=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&s.focus();break;case"img":P.src&&(s.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var B=t.alternate;if(B!==null){var te=B.memoizedState;if(te!==null){var re=te.dehydrated;re!==null&&ys(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}xt||t.flags&512&&ma(t)}catch(ee){Ke(t,t.return,ee)}}if(t===e){ge=null;break}if(s=t.sibling,s!==null){s.return=t.return,ge=s;break}ge=t.return}}function _f(e){for(;ge!==null;){var t=ge;if(t===e){ge=null;break}var s=t.sibling;if(s!==null){s.return=t.return,ge=s;break}ge=t.return}}function Of(e){for(;ge!==null;){var t=ge;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{si(4,t)}catch(P){Ke(t,s,P)}break;case 1:var l=t.stateNode;if(typeof l.componentDidMount=="function"){var d=t.return;try{l.componentDidMount()}catch(P){Ke(t,d,P)}}var h=t.return;try{ma(t)}catch(P){Ke(t,h,P)}break;case 5:var b=t.return;try{ma(t)}catch(P){Ke(t,b,P)}}}catch(P){Ke(t,t.return,P)}if(t===e){ge=null;break}var S=t.sibling;if(S!==null){S.return=t.return,ge=S;break}ge=t.return}}var I0=Math.ceil,oi=L.ReactCurrentDispatcher,xa=L.ReactCurrentOwner,Kt=L.ReactCurrentBatchConfig,Te=0,st=null,Je=null,dt=0,Bt=0,es=Hn(0),tt=0,Us=null,wr=0,ii=0,ya=0,Gs=null,At=null,ba=0,ts=1/0,_n=null,li=!1,wa=null,Xn=null,ai=!1,Jn=null,ci=0,Ws=0,Na=null,ui=-1,di=0;function St(){return(Te&6)!==0?Qe():ui!==-1?ui:ui=Qe()}function er(e){return(e.mode&1)===0?1:(Te&2)!==0&&dt!==0?dt&-dt:h0.transition!==null?(di===0&&(di=Eu()),di):(e=Be,e!==0||(e=window.event,e=e===void 0?16:Tu(e.type)),e)}function an(e,t,s,l){if(50<Ws)throw Ws=0,Na=null,Error(o(185));hs(e,s,l),((Te&2)===0||e!==st)&&(e===st&&((Te&2)===0&&(ii|=s),tt===4&&tr(e,dt)),_t(e,l),s===1&&Te===0&&(t.mode&1)===0&&(ts=Qe()+500,Bo&&Kn()))}function _t(e,t){var s=e.callbackNode;hg(e,t);var l=bo(e,e===st?dt:0);if(l===0)s!==null&&Su(s),e.callbackNode=null,e.callbackPriority=0;else if(t=l&-l,e.callbackPriority!==t){if(s!=null&&Su(s),t===1)e.tag===0?p0(Mf.bind(null,e)):bd(Mf.bind(null,e)),c0(function(){(Te&6)===0&&Kn()}),s=null;else{switch(ku(l)){case 1:s=tl;break;case 4:s=Cu;break;case 16:s=go;break;case 536870912:s=ju;break;default:s=go}s=Wf(s,Tf.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function Tf(e,t){if(ui=-1,di=0,(Te&6)!==0)throw Error(o(327));var s=e.callbackNode;if(ns()&&e.callbackNode!==s)return null;var l=bo(e,e===st?dt:0);if(l===0)return null;if((l&30)!==0||(l&e.expiredLanes)!==0||t)t=fi(e,l);else{t=l;var d=Te;Te|=2;var h=Ff();(st!==e||dt!==t)&&(_n=null,ts=Qe()+500,Sr(e,t));do try{O0();break}catch(S){Lf(e,S)}while(!0);$l(),oi.current=h,Te=d,Je!==null?t=0:(st=null,dt=0,t=tt)}if(t!==0){if(t===2&&(d=nl(e),d!==0&&(l=d,t=Sa(e,d))),t===1)throw s=Us,Sr(e,0),tr(e,l),_t(e,Qe()),s;if(t===6)tr(e,l);else{if(d=e.current.alternate,(l&30)===0&&!A0(d)&&(t=fi(e,l),t===2&&(h=nl(e),h!==0&&(l=h,t=Sa(e,h))),t===1))throw s=Us,Sr(e,0),tr(e,l),_t(e,Qe()),s;switch(e.finishedWork=d,e.finishedLanes=l,t){case 0:case 1:throw Error(o(345));case 2:Cr(e,At,_n);break;case 3:if(tr(e,l),(l&130023424)===l&&(t=ba+500-Qe(),10<t)){if(bo(e,0)!==0)break;if(d=e.suspendedLanes,(d&l)!==l){St(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=Rl(Cr.bind(null,e,At,_n),t);break}Cr(e,At,_n);break;case 4:if(tr(e,l),(l&4194240)===l)break;for(t=e.eventTimes,d=-1;0<l;){var b=31-tn(l);h=1<<b,b=t[b],b>d&&(d=b),l&=~h}if(l=d,l=Qe()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*I0(l/1960))-l,10<l){e.timeoutHandle=Rl(Cr.bind(null,e,At,_n),l);break}Cr(e,At,_n);break;case 5:Cr(e,At,_n);break;default:throw Error(o(329))}}}return _t(e,Qe()),e.callbackNode===s?Tf.bind(null,e):null}function Sa(e,t){var s=Gs;return e.current.memoizedState.isDehydrated&&(Sr(e,t).flags|=256),e=fi(e,t),e!==2&&(t=At,At=s,t!==null&&Ca(t)),e}function Ca(e){At===null?At=e:At.push.apply(At,e)}function A0(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var l=0;l<s.length;l++){var d=s[l],h=d.getSnapshot;d=d.value;try{if(!nn(h(),d))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function tr(e,t){for(t&=~ya,t&=~ii,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-tn(t),l=1<<s;e[s]=-1,t&=~l}}function Mf(e){if((Te&6)!==0)throw Error(o(327));ns();var t=bo(e,0);if((t&1)===0)return _t(e,Qe()),null;var s=fi(e,t);if(e.tag!==0&&s===2){var l=nl(e);l!==0&&(t=l,s=Sa(e,l))}if(s===1)throw s=Us,Sr(e,0),tr(e,t),_t(e,Qe()),s;if(s===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cr(e,At,_n),_t(e,Qe()),null}function ja(e,t){var s=Te;Te|=1;try{return e(t)}finally{Te=s,Te===0&&(ts=Qe()+500,Bo&&Kn())}}function Nr(e){Jn!==null&&Jn.tag===0&&(Te&6)===0&&ns();var t=Te;Te|=1;var s=Kt.transition,l=Be;try{if(Kt.transition=null,Be=1,e)return e()}finally{Be=l,Kt.transition=s,Te=t,(Te&6)===0&&Kn()}}function Ea(){Bt=es.current,Ue(es)}function Sr(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,a0(s)),Je!==null)for(s=Je.return;s!==null;){var l=s;switch(Tl(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Lo();break;case 3:Zr(),Ue(Rt),Ue(mt),Kl();break;case 5:Hl(l);break;case 4:Zr();break;case 13:Ue(He);break;case 19:Ue(He);break;case 10:zl(l.type._context);break;case 22:case 23:Ea()}s=s.return}if(st=e,Je=e=nr(e.current,null),dt=Bt=t,tt=0,Us=null,ya=ii=wr=0,At=Gs=null,xr!==null){for(t=0;t<xr.length;t++)if(s=xr[t],l=s.interleaved,l!==null){s.interleaved=null;var d=l.next,h=s.pending;if(h!==null){var b=h.next;h.next=d,l.next=b}s.pending=l}xr=null}return e}function Lf(e,t){do{var s=Je;try{if($l(),Yo.current=Jo,Qo){for(var l=qe.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}Qo=!1}if(br=0,rt=et=qe=null,Ms=!1,Ls=0,xa.current=null,s===null||s.return===null){tt=1,Us=t,Je=null;break}e:{var h=e,b=s.return,S=s,P=t;if(t=dt,S.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var B=P,te=S,re=te.tag;if((te.mode&1)===0&&(re===0||re===11||re===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var me=af(b);if(me!==null){me.flags&=-257,cf(me,b,S,h,t),me.mode&1&&lf(h,B,t),t=me,P=B;var ve=t.updateQueue;if(ve===null){var ye=new Set;ye.add(P),t.updateQueue=ye}else ve.add(P);break e}else{if((t&1)===0){lf(h,B,t),ka();break e}P=Error(o(426))}}else if(Ge&&S.mode&1){var Ze=af(b);if(Ze!==null){(Ze.flags&65536)===0&&(Ze.flags|=256),cf(Ze,b,S,h,t),Fl(Xr(P,S));break e}}h=P=Xr(P,S),tt!==4&&(tt=2),Gs===null?Gs=[h]:Gs.push(h),h=b;do{switch(h.tag){case 3:h.flags|=65536,t&=-t,h.lanes|=t;var _=sf(h,P,t);Id(h,_);break e;case 1:S=P;var I=h.type,M=h.stateNode;if((h.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Xn===null||!Xn.has(M)))){h.flags|=65536,t&=-t,h.lanes|=t;var oe=of(h,S,t);Id(h,oe);break e}}h=h.return}while(h!==null)}$f(s)}catch(be){t=be,Je===s&&s!==null&&(Je=s=s.return);continue}break}while(!0)}function Ff(){var e=oi.current;return oi.current=Jo,e===null?Jo:e}function ka(){(tt===0||tt===3||tt===2)&&(tt=4),st===null||(wr&268435455)===0&&(ii&268435455)===0||tr(st,dt)}function fi(e,t){var s=Te;Te|=2;var l=Ff();(st!==e||dt!==t)&&(_n=null,Sr(e,t));do try{_0();break}catch(d){Lf(e,d)}while(!0);if($l(),Te=s,oi.current=l,Je!==null)throw Error(o(261));return st=null,dt=0,tt}function _0(){for(;Je!==null;)Bf(Je)}function O0(){for(;Je!==null&&!og();)Bf(Je)}function Bf(e){var t=Gf(e.alternate,e,Bt);e.memoizedProps=e.pendingProps,t===null?$f(e):Je=t,xa.current=null}function $f(e){var t=e;do{var s=t.alternate;if(e=t.return,(t.flags&32768)===0){if(s=E0(s,t,Bt),s!==null){Je=s;return}}else{if(s=k0(s,t),s!==null){s.flags&=32767,Je=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{tt=6,Je=null;return}}if(t=t.sibling,t!==null){Je=t;return}Je=t=e}while(t!==null);tt===0&&(tt=5)}function Cr(e,t,s){var l=Be,d=Kt.transition;try{Kt.transition=null,Be=1,T0(e,t,s,l)}finally{Kt.transition=d,Be=l}return null}function T0(e,t,s,l){do ns();while(Jn!==null);if((Te&6)!==0)throw Error(o(327));s=e.finishedWork;var d=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var h=s.lanes|s.childLanes;if(mg(e,h),e===st&&(Je=st=null,dt=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||ai||(ai=!0,Wf(go,function(){return ns(),null})),h=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||h){h=Kt.transition,Kt.transition=null;var b=Be;Be=1;var S=Te;Te|=4,xa.current=null,R0(e,s),Df(s,e),t0(kl),So=!!El,kl=El=null,e.current=s,D0(s),ig(),Te=S,Be=b,Kt.transition=h}else e.current=s;if(ai&&(ai=!1,Jn=e,ci=d),h=e.pendingLanes,h===0&&(Xn=null),cg(s.stateNode),_t(e,Qe()),t!==null)for(l=e.onRecoverableError,s=0;s<t.length;s++)d=t[s],l(d.value,{componentStack:d.stack,digest:d.digest});if(li)throw li=!1,e=wa,wa=null,e;return(ci&1)!==0&&e.tag!==0&&ns(),h=e.pendingLanes,(h&1)!==0?e===Na?Ws++:(Ws=0,Na=e):Ws=0,Kn(),null}function ns(){if(Jn!==null){var e=ku(ci),t=Kt.transition,s=Be;try{if(Kt.transition=null,Be=16>e?16:e,Jn===null)var l=!1;else{if(e=Jn,Jn=null,ci=0,(Te&6)!==0)throw Error(o(331));var d=Te;for(Te|=4,ge=e.current;ge!==null;){var h=ge,b=h.child;if((ge.flags&16)!==0){var S=h.deletions;if(S!==null){for(var P=0;P<S.length;P++){var B=S[P];for(ge=B;ge!==null;){var te=ge;switch(te.tag){case 0:case 11:case 15:zs(8,te,h)}var re=te.child;if(re!==null)re.return=te,ge=re;else for(;ge!==null;){te=ge;var ee=te.sibling,me=te.return;if(jf(te),te===B){ge=null;break}if(ee!==null){ee.return=me,ge=ee;break}ge=me}}}var ve=h.alternate;if(ve!==null){var ye=ve.child;if(ye!==null){ve.child=null;do{var Ze=ye.sibling;ye.sibling=null,ye=Ze}while(ye!==null)}}ge=h}}if((h.subtreeFlags&2064)!==0&&b!==null)b.return=h,ge=b;else e:for(;ge!==null;){if(h=ge,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:zs(9,h,h.return)}var _=h.sibling;if(_!==null){_.return=h.return,ge=_;break e}ge=h.return}}var I=e.current;for(ge=I;ge!==null;){b=ge;var M=b.child;if((b.subtreeFlags&2064)!==0&&M!==null)M.return=b,ge=M;else e:for(b=I;ge!==null;){if(S=ge,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:si(9,S)}}catch(be){Ke(S,S.return,be)}if(S===b){ge=null;break e}var oe=S.sibling;if(oe!==null){oe.return=S.return,ge=oe;break e}ge=S.return}}if(Te=d,Kn(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(vo,e)}catch{}l=!0}return l}finally{Be=s,Kt.transition=t}}return!1}function zf(e,t,s){t=Xr(s,t),t=sf(e,t,1),e=Qn(e,t,1),t=St(),e!==null&&(hs(e,1,t),_t(e,t))}function Ke(e,t,s){if(e.tag===3)zf(e,e,s);else for(;t!==null;){if(t.tag===3){zf(t,e,s);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Xn===null||!Xn.has(l))){e=Xr(s,e),e=of(t,e,1),t=Qn(t,e,1),e=St(),t!==null&&(hs(t,1,e),_t(t,e));break}}t=t.return}}function M0(e,t,s){var l=e.pingCache;l!==null&&l.delete(t),t=St(),e.pingedLanes|=e.suspendedLanes&s,st===e&&(dt&s)===s&&(tt===4||tt===3&&(dt&130023424)===dt&&500>Qe()-ba?Sr(e,0):ya|=s),_t(e,t)}function Uf(e,t){t===0&&((e.mode&1)===0?t=1:(t=yo,yo<<=1,(yo&130023424)===0&&(yo=4194304)));var s=St();e=Dn(e,t),e!==null&&(hs(e,t,s),_t(e,s))}function L0(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Uf(e,s)}function F0(e,t){var s=0;switch(e.tag){case 13:var l=e.stateNode,d=e.memoizedState;d!==null&&(s=d.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(o(314))}l!==null&&l.delete(t),Uf(e,s)}var Gf;Gf=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||Rt.current)It=!0;else{if((e.lanes&s)===0&&(t.flags&128)===0)return It=!1,j0(e,t,s);It=(e.flags&131072)!==0}else It=!1,Ge&&(t.flags&1048576)!==0&&wd(t,zo,t.index);switch(t.lanes=0,t.tag){case 2:var l=t.type;ni(e,t),e=t.pendingProps;var d=Wr(t,mt.current);Qr(t,s),d=Zl(null,t,l,e,d,s);var h=Xl();return t.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Dt(l)?(h=!0,Fo(t)):h=!1,t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Wl(t),d.updater=ei,t.stateNode=d,d._reactInternals=t,sa(t,l,e,s),t=aa(null,t,l,!0,h,s)):(t.tag=0,Ge&&h&&Ol(t),Nt(null,t,d,s),t=t.child),t;case 16:l=t.elementType;e:{switch(ni(e,t),e=t.pendingProps,d=l._init,l=d(l._payload),t.type=l,d=t.tag=$0(l),e=sn(l,e),d){case 0:t=la(null,t,l,e,s);break e;case 1:t=mf(null,t,l,e,s);break e;case 11:t=uf(null,t,l,e,s);break e;case 14:t=df(null,t,l,sn(l.type,e),s);break e}throw Error(o(306,l,""))}return t;case 0:return l=t.type,d=t.pendingProps,d=t.elementType===l?d:sn(l,d),la(e,t,l,d,s);case 1:return l=t.type,d=t.pendingProps,d=t.elementType===l?d:sn(l,d),mf(e,t,l,d,s);case 3:e:{if(gf(t),e===null)throw Error(o(387));l=t.pendingProps,h=t.memoizedState,d=h.element,Dd(e,t),qo(t,l,null,s);var b=t.memoizedState;if(l=b.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){d=Xr(Error(o(423)),t),t=vf(e,t,l,s,d);break e}else if(l!==d){d=Xr(Error(o(424)),t),t=vf(e,t,l,s,d);break e}else for(Ft=Vn(t.stateNode.containerInfo.firstChild),Lt=t,Ge=!0,rn=null,s=Pd(t,null,l,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(qr(),l===d){t=An(e,t,s);break e}Nt(e,t,l,s)}t=t.child}return t;case 5:return _d(t),e===null&&Ll(t),l=t.type,d=t.pendingProps,h=e!==null?e.memoizedProps:null,b=d.children,Pl(l,d)?b=null:h!==null&&Pl(l,h)&&(t.flags|=32),hf(e,t),Nt(e,t,b,s),t.child;case 6:return e===null&&Ll(t),null;case 13:return xf(e,t,s);case 4:return Vl(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Kr(t,null,l,s):Nt(e,t,l,s),t.child;case 11:return l=t.type,d=t.pendingProps,d=t.elementType===l?d:sn(l,d),uf(e,t,l,d,s);case 7:return Nt(e,t,t.pendingProps,s),t.child;case 8:return Nt(e,t,t.pendingProps.children,s),t.child;case 12:return Nt(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(l=t.type._context,d=t.pendingProps,h=t.memoizedProps,b=d.value,$e(Wo,l._currentValue),l._currentValue=b,h!==null)if(nn(h.value,b)){if(h.children===d.children&&!Rt.current){t=An(e,t,s);break e}}else for(h=t.child,h!==null&&(h.return=t);h!==null;){var S=h.dependencies;if(S!==null){b=h.child;for(var P=S.firstContext;P!==null;){if(P.context===l){if(h.tag===1){P=In(-1,s&-s),P.tag=2;var B=h.updateQueue;if(B!==null){B=B.shared;var te=B.pending;te===null?P.next=P:(P.next=te.next,te.next=P),B.pending=P}}h.lanes|=s,P=h.alternate,P!==null&&(P.lanes|=s),Ul(h.return,s,t),S.lanes|=s;break}P=P.next}}else if(h.tag===10)b=h.type===t.type?null:h.child;else if(h.tag===18){if(b=h.return,b===null)throw Error(o(341));b.lanes|=s,S=b.alternate,S!==null&&(S.lanes|=s),Ul(b,s,t),b=h.sibling}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===t){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}Nt(e,t,d.children,s),t=t.child}return t;case 9:return d=t.type,l=t.pendingProps.children,Qr(t,s),d=Ht(d),l=l(d),t.flags|=1,Nt(e,t,l,s),t.child;case 14:return l=t.type,d=sn(l,t.pendingProps),d=sn(l.type,d),df(e,t,l,d,s);case 15:return ff(e,t,t.type,t.pendingProps,s);case 17:return l=t.type,d=t.pendingProps,d=t.elementType===l?d:sn(l,d),ni(e,t),t.tag=1,Dt(l)?(e=!0,Fo(t)):e=!1,Qr(t,s),nf(t,l,d),sa(t,l,d,s),aa(null,t,l,!0,e,s);case 19:return bf(e,t,s);case 22:return pf(e,t,s)}throw Error(o(156,t.tag))};function Wf(e,t){return Nu(e,t)}function B0(e,t,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(e,t,s,l){return new B0(e,t,s,l)}function Pa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $0(e){if(typeof e=="function")return Pa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===W)return 11;if(e===pe)return 14}return 2}function nr(e,t){var s=e.alternate;return s===null?(s=Yt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function pi(e,t,s,l,d,h){var b=2;if(l=e,typeof e=="function")Pa(e)&&(b=1);else if(typeof e=="string")b=5;else e:switch(e){case $:return jr(s.children,d,h,t);case A:b=8,d|=8;break;case Z:return e=Yt(12,s,t,d|2),e.elementType=Z,e.lanes=h,e;case G:return e=Yt(13,s,t,d),e.elementType=G,e.lanes=h,e;case ae:return e=Yt(19,s,t,d),e.elementType=ae,e.lanes=h,e;case fe:return hi(s,d,h,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:b=10;break e;case de:b=9;break e;case W:b=11;break e;case pe:b=14;break e;case q:b=16,l=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return t=Yt(b,s,t,d),t.elementType=e,t.type=l,t.lanes=h,t}function jr(e,t,s,l){return e=Yt(7,e,l,t),e.lanes=s,e}function hi(e,t,s,l){return e=Yt(22,e,l,t),e.elementType=fe,e.lanes=s,e.stateNode={isHidden:!1},e}function Ra(e,t,s){return e=Yt(6,e,null,t),e.lanes=s,e}function Da(e,t,s){return t=Yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function z0(e,t,s,l,d){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rl(0),this.expirationTimes=rl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rl(0),this.identifierPrefix=l,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Ia(e,t,s,l,d,h,b,S,P){return e=new z0(e,t,s,S,P),t===1?(t=1,h===!0&&(t|=8)):t=0,h=Yt(3,null,null,t),e.current=h,h.stateNode=e,h.memoizedState={element:l,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wl(h),e}function U0(e,t,s){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:l==null?null:""+l,children:e,containerInfo:t,implementation:s}}function Vf(e){if(!e)return qn;e=e._reactInternals;e:{if(pr(e)!==e||e.tag!==1)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(o(171))}if(e.tag===1){var s=e.type;if(Dt(s))return xd(e,s,t)}return t}function Hf(e,t,s,l,d,h,b,S,P){return e=Ia(s,l,!0,e,d,h,b,S,P),e.context=Vf(null),s=e.current,l=St(),d=er(s),h=In(l,d),h.callback=t??null,Qn(s,h,d),e.current.lanes=d,hs(e,d,l),_t(e,l),e}function mi(e,t,s,l){var d=t.current,h=St(),b=er(d);return s=Vf(s),t.context===null?t.context=s:t.pendingContext=s,t=In(h,b),t.payload={element:e},l=l===void 0?null:l,l!==null&&(t.callback=l),e=Qn(d,t,b),e!==null&&(an(e,d,b,h),Ho(e,d,b)),b}function gi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Aa(e,t){qf(e,t),(e=e.alternate)&&qf(e,t)}function G0(){return null}var Kf=typeof reportError=="function"?reportError:function(e){console.error(e)};function _a(e){this._internalRoot=e}vi.prototype.render=_a.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));mi(e,t,null,null)},vi.prototype.unmount=_a.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nr(function(){mi(null,e,null,null)}),t[En]=null}};function vi(e){this._internalRoot=e}vi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Du();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Un.length&&t!==0&&t<Un[s].priority;s++);Un.splice(s,0,e),s===0&&_u(e)}};function Oa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yf(){}function W0(e,t,s,l,d){if(d){if(typeof l=="function"){var h=l;l=function(){var B=gi(b);h.call(B)}}var b=Hf(t,l,e,0,null,!1,!1,"",Yf);return e._reactRootContainer=b,e[En]=b.current,Ps(e.nodeType===8?e.parentNode:e),Nr(),b}for(;d=e.lastChild;)e.removeChild(d);if(typeof l=="function"){var S=l;l=function(){var B=gi(P);S.call(B)}}var P=Ia(e,0,!1,null,null,!1,!1,"",Yf);return e._reactRootContainer=P,e[En]=P.current,Ps(e.nodeType===8?e.parentNode:e),Nr(function(){mi(t,P,s,l)}),P}function yi(e,t,s,l,d){var h=s._reactRootContainer;if(h){var b=h;if(typeof d=="function"){var S=d;d=function(){var P=gi(b);S.call(P)}}mi(t,b,e,d)}else b=W0(s,t,e,d,l);return gi(b)}Pu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=ps(t.pendingLanes);s!==0&&(sl(t,s|1),_t(t,Qe()),(Te&6)===0&&(ts=Qe()+500,Kn()))}break;case 13:Nr(function(){var l=Dn(e,1);if(l!==null){var d=St();an(l,e,1,d)}}),Aa(e,1)}},ol=function(e){if(e.tag===13){var t=Dn(e,134217728);if(t!==null){var s=St();an(t,e,134217728,s)}Aa(e,134217728)}},Ru=function(e){if(e.tag===13){var t=er(e),s=Dn(e,t);if(s!==null){var l=St();an(s,e,t,l)}Aa(e,t)}},Du=function(){return Be},Iu=function(e,t){var s=Be;try{return Be=e,t()}finally{Be=s}},je=function(e,t,s){switch(t){case"input":if(bn(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var l=s[t];if(l!==e&&l.form===e.form){var d=Mo(l);if(!d)throw Error(o(90));Ie(l),bn(l,d)}}}break;case"textarea":Ir(e,s);break;case"select":t=s.value,t!=null&&Tt(e,!!s.multiple,t,!1)}},Ye=ja,Ve=Nr;var V0={usingClientEntryPoint:!1,Events:[Is,Ur,Mo,he,Ae,ja]},Vs={findFiberByHostInstance:hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},H0={bundleType:Vs.bundleType,version:Vs.version,rendererPackageName:Vs.rendererPackageName,rendererConfig:Vs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bu(e),e===null?null:e.stateNode},findFiberByHostInstance:Vs.findFiberByHostInstance||G0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bi.isDisabled&&bi.supportsFiber)try{vo=bi.inject(H0),hn=bi}catch{}}return Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V0,Ot.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oa(t))throw Error(o(200));return U0(e,t,null,s)},Ot.createRoot=function(e,t){if(!Oa(e))throw Error(o(299));var s=!1,l="",d=Kf;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=Ia(e,1,!1,null,null,s,!1,l,d),e[En]=t.current,Ps(e.nodeType===8?e.parentNode:e),new _a(t)},Ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=bu(t),e=e===null?null:e.stateNode,e},Ot.flushSync=function(e){return Nr(e)},Ot.hydrate=function(e,t,s){if(!xi(t))throw Error(o(200));return yi(null,e,t,!0,s)},Ot.hydrateRoot=function(e,t,s){if(!Oa(e))throw Error(o(405));var l=s!=null&&s.hydratedSources||null,d=!1,h="",b=Kf;if(s!=null&&(s.unstable_strictMode===!0&&(d=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),t=Hf(t,null,e,1,s??null,d,!1,h,b),e[En]=t.current,Ps(e),l)for(e=0;e<l.length;e++)s=l[e],d=s._getVersion,d=d(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,d]:t.mutableSourceEagerHydrationData.push(s,d);return new vi(t)},Ot.render=function(e,t,s){if(!xi(t))throw Error(o(200));return yi(null,e,t,!1,s)},Ot.unmountComponentAtNode=function(e){if(!xi(e))throw Error(o(40));return e._reactRootContainer?(Nr(function(){yi(null,null,e,!1,function(){e._reactRootContainer=null,e[En]=null})}),!0):!1},Ot.unstable_batchedUpdates=ja,Ot.unstable_renderSubtreeIntoContainer=function(e,t,s,l){if(!xi(s))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return yi(e,t,s,!1,l)},Ot.version="18.3.1-next-f1338f8080-20240426",Ot}var rp;function _h(){if(rp)return La.exports;rp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),La.exports=ev(),La.exports}var sp;function tv(){if(sp)return Ni;sp=1;var n=_h();return Ni.createRoot=n.createRoot,Ni.hydrateRoot=n.hydrateRoot,Ni}var nv=tv();const rv=ar(nv);var $a,op;function sv(){if(op)return $a;op=1,$a=n;function n(r,o,i){if(r!=null&&typeof r!="number")throw new Error("start must be a number or null");if(o!=null&&typeof o!="number")throw new Error("stop must be a number or null");if(i!=null&&typeof i!="number")throw new Error("step must be a number or null");o==null&&(o=r||0,r=0),i==null&&(i=o>r?1:-1);for(var a=[],u=r<o;u?r<o:r>o;r+=i)a.push(r);return a}return $a}var ov=sv();const Tc=ar(ov);var za={exports:{}},Ua,ip;function iv(){if(ip)return Ua;ip=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ua=n,Ua}var Ga,lp;function lv(){if(lp)return Ga;lp=1;var n=iv();function r(){}function o(){}return o.resetWarningCache=r,Ga=function(){function i(f,p,m,g,y,v){if(v!==n){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}i.isRequired=i;function a(){return i}var u={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:o,resetWarningCache:r};return u.PropTypes=u,u},Ga}var ap;function av(){return ap||(ap=1,za.exports=lv()()),za.exports}var cv=av();const Ne=ar(cv);var Wa={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var cp;function uv(){return cp||(cp=1,function(n){(function(){var r={}.hasOwnProperty;function o(){for(var u="",f=0;f<arguments.length;f++){var p=arguments[f];p&&(u=a(u,i(p)))}return u}function i(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return o.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var f="";for(var p in u)r.call(u,p)&&u[p]&&(f=a(f,p));return f}function a(u,f){return f?u?u+" "+f:u+f:u}n.exports?(o.default=o,n.exports=o):window.classNames=o})()}(Wa)),Wa.exports}var dv=uv();const pt=ar(dv);var Va,up;function fv(){if(up)return Va;up=1;var n=200,r="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",a="[object Function]",u="[object GeneratorFunction]",f=/[\\^$.*+?()[\]{}|]/g,p=/^\[object .+?Constructor\]$/,m=typeof wi=="object"&&wi&&wi.Object===Object&&wi,g=typeof self=="object"&&self&&self.Object===Object&&self,y=m||g||Function("return this")();function v(D,Y,he){switch(he.length){case 0:return D.call(Y);case 1:return D.call(Y,he[0]);case 2:return D.call(Y,he[0],he[1]);case 3:return D.call(Y,he[0],he[1],he[2])}return D.apply(Y,he)}function x(D,Y){var he=D?D.length:0;return!!he&&E(D,Y,0)>-1}function N(D,Y){for(var he=-1,Ae=Y.length,Ye=D.length;++he<Ae;)D[Ye+he]=Y[he];return D}function j(D,Y,he,Ae){for(var Ye=D.length,Ve=he+-1;++Ve<Ye;)if(Y(D[Ve],Ve,D))return Ve;return-1}function E(D,Y,he){if(Y!==Y)return j(D,k,he);for(var Ae=he-1,Ye=D.length;++Ae<Ye;)if(D[Ae]===Y)return Ae;return-1}function k(D){return D!==D}function V(D,Y){return D.has(Y)}function z(D,Y){return D?.[Y]}function T(D){var Y=!1;if(D!=null&&typeof D.toString!="function")try{Y=!!(D+"")}catch{}return Y}var L=Array.prototype,O=Function.prototype,F=Object.prototype,$=y["__core-js_shared__"],A=function(){var D=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||"");return D?"Symbol(src)_1."+D:""}(),Z=O.toString,H=F.hasOwnProperty,de=F.toString,W=RegExp("^"+Z.call(H).replace(f,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),G=y.Symbol,ae=F.propertyIsEnumerable,pe=L.splice,q=G?G.isConcatSpreadable:void 0,fe=Math.max,U=Jt(y,"Map"),J=Jt(Object,"create");function K(D){var Y=-1,he=D?D.length:0;for(this.clear();++Y<he;){var Ae=D[Y];this.set(Ae[0],Ae[1])}}function R(){this.__data__=J?J(null):{}}function C(D){return this.has(D)&&delete this.__data__[D]}function X(D){var Y=this.__data__;if(J){var he=Y[D];return he===r?void 0:he}return H.call(Y,D)?Y[D]:void 0}function se(D){var Y=this.__data__;return J?Y[D]!==void 0:H.call(Y,D)}function Q(D,Y){var he=this.__data__;return he[D]=J&&Y===void 0?r:Y,this}K.prototype.clear=R,K.prototype.delete=C,K.prototype.get=X,K.prototype.has=se,K.prototype.set=Q;function ce(D){var Y=-1,he=D?D.length:0;for(this.clear();++Y<he;){var Ae=D[Y];this.set(Ae[0],Ae[1])}}function xe(){this.__data__=[]}function ue(D){var Y=this.__data__,he=Tt(Y,D);if(he<0)return!1;var Ae=Y.length-1;return he==Ae?Y.pop():pe.call(Y,he,1),!0}function le(D){var Y=this.__data__,he=Tt(Y,D);return he<0?void 0:Y[he][1]}function Le(D){return Tt(this.__data__,D)>-1}function bt(D,Y){var he=this.__data__,Ae=Tt(he,D);return Ae<0?he.push([D,Y]):he[Ae][1]=Y,this}ce.prototype.clear=xe,ce.prototype.delete=ue,ce.prototype.get=le,ce.prototype.has=Le,ce.prototype.set=bt;function Ie(D){var Y=-1,he=D?D.length:0;for(this.clear();++Y<he;){var Ae=D[Y];this.set(Ae[0],Ae[1])}}function Xe(){this.__data__={hash:new K,map:new(U||ce),string:new K}}function ct(D){return Sn(this,D).delete(D)}function _e(D){return Sn(this,D).get(D)}function Et(D){return Sn(this,D).has(D)}function bn(D,Y){return Sn(this,D).set(D,Y),this}Ie.prototype.clear=Xe,Ie.prototype.delete=ct,Ie.prototype.get=_e,Ie.prototype.has=Et,Ie.prototype.set=bn;function wn(D){var Y=-1,he=D?D.length:0;for(this.__data__=new Ie;++Y<he;)this.add(D[Y])}function cr(D){return this.__data__.set(D,r),this}function Nn(D){return this.__data__.has(D)}wn.prototype.add=wn.prototype.push=cr,wn.prototype.has=Nn;function Tt(D,Y){for(var he=D.length;he--;)if(_r(D[he][0],Y))return he;return-1}function ur(D,Y,he,Ae){var Ye=-1,Ve=x,kt=!0,Gt=D.length,wt=[],Mn=Y.length;if(!Gt)return wt;Y.length>=n&&(Ve=V,kt=!1,Y=new wn(Y));e:for(;++Ye<Gt;){var Pt=D[Ye],Ln=Pt;if(Pt=Pt!==0?Pt:0,kt&&Ln===Ln){for(var Fn=Mn;Fn--;)if(Y[Fn]===Ln)continue e;wt.push(Pt)}else Ve(Y,Ln,Ae)||wt.push(Pt)}return wt}function Dr(D,Y,he,Ae,Ye){var Ve=-1,kt=D.length;for(he||(he=fn),Ye||(Ye=[]);++Ve<kt;){var Gt=D[Ve];he(Gt)&&N(Ye,Gt)}return Ye}function Ir(D){if(!je(D)||en(D))return!1;var Y=pn(D)||T(D)?W:p;return Y.test(Cn(D))}function dr(D,Y){return Y=fe(Y===void 0?D.length-1:Y,0),function(){for(var he=arguments,Ae=-1,Ye=fe(he.length-Y,0),Ve=Array(Ye);++Ae<Ye;)Ve[Ae]=he[Y+Ae];Ae=-1;for(var kt=Array(Y+1);++Ae<Y;)kt[Ae]=he[Ae];return kt[Y]=Ve,v(D,this,kt)}}function Sn(D,Y){var he=D.__data__;return Ar(Y)?he[typeof Y=="string"?"string":"hash"]:he.map}function Jt(D,Y){var he=z(D,Y);return Ir(he)?he:void 0}function fn(D){return fs(D)||Or(D)||!!(q&&D&&D[q])}function Ar(D){var Y=typeof D;return Y=="string"||Y=="number"||Y=="symbol"||Y=="boolean"?D!=="__proto__":D===null}function en(D){return!!A&&A in D}function Cn(D){if(D!=null){try{return Z.call(D)}catch{}try{return D+""}catch{}}return""}var ds=dr(function(D,Y){return jn(D)?ur(D,Dr(Y,1,jn)):[]});function _r(D,Y){return D===Y||D!==D&&Y!==Y}function Or(D){return jn(D)&&H.call(D,"callee")&&(!ae.call(D,"callee")||de.call(D)==i)}var fs=Array.isArray;function fr(D){return D!=null&&ne(D.length)&&!pn(D)}function jn(D){return Pe(D)&&fr(D)}function pn(D){var Y=je(D)?de.call(D):"";return Y==a||Y==u}function ne(D){return typeof D=="number"&&D>-1&&D%1==0&&D<=o}function je(D){var Y=typeof D;return!!D&&(Y=="object"||Y=="function")}function Pe(D){return!!D&&typeof D=="object"}return Va=ds,Va}var pv=fv();const dp=ar(pv);function Ui(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function hv(n,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Gi(n,r,o){return r&&hv(n.prototype,r),n}function We(n,r,o){return r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n}function yc(){return yc=Object.assign||function(n){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},yc.apply(this,arguments)}function Wi(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),r&&bc(n,r)}function ss(n){return ss=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},ss(n)}function bc(n,r){return bc=Object.setPrototypeOf||function(i,a){return i.__proto__=a,i},bc(n,r)}function mv(n,r){if(n==null)return{};var o={},i=Object.keys(n),a,u;for(u=0;u<i.length;u++)a=i[u],!(r.indexOf(a)>=0)&&(o[a]=n[a]);return o}function gv(n,r){if(n==null)return{};var o=mv(n,r),i,a;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(n);for(a=0;a<u.length;a++)i=u[a],!(r.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(o[i]=n[i])}return o}function it(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Vi(n,r){return r&&(typeof r=="object"||typeof r=="function")?r:it(n)}function vv(n,r){return xv(n)||yv(n,r)||bv()}function xv(n){if(Array.isArray(n))return n}function yv(n,r){var o=[],i=!0,a=!1,u=void 0;try{for(var f=n[Symbol.iterator](),p;!(i=(p=f.next()).done)&&(o.push(p.value),!(r&&o.length===r));i=!0);}catch(m){a=!0,u=m}finally{try{!i&&f.return!=null&&f.return()}finally{if(a)throw u}}return o}function bv(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var wv=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],Nv=["Db","Eb","Gb","Ab","Bb"],Sv={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},Di=12,Mc=Di,Lc=127,Cv=/([a-g])([#b]?)(\d+)/,wc=12;function jv(n){if(!n)throw Error("Invalid note argument");var r=Cv.exec(n.toLowerCase());if(!r)throw Error("Invalid note argument");var o=vv(r,4),i=o[1],a=o[2],u=o[3],f="".concat(i.toUpperCase()).concat(a),p=Sv[f];if(p==null)throw Error("Invalid note argument");return Di+p+wc*parseInt(u,10)}function Ev(n){var r=(n-Di)%wc,o=Math.floor((n-Di)/wc),i=wv[r];return{note:"".concat(i).concat(o),pitchName:i,octave:o,midiNumber:n,isAccidental:Nv.includes(i)}}function kv(){return Tc(Mc,Lc+1).reduce(function(n,r){return n[r]=Ev(r),n},{})}var Pv=kv();function Oh(n){var r=Pv[n];if(!r)throw Error("Invalid MIDI number");return r}var Rv=Tc(Mc,Lc+1).filter(function(n){return!Oh(n).isAccidental}),yt={fromNote:jv,getAttributes:Oh,MIN_MIDI_NUMBER:Mc,MAX_MIDI_NUMBER:Lc,NATURAL_MIDI_NUMBERS:Rv},Fc=function(n){Wi(r,n);function r(){var o,i;Ui(this,r);for(var a=arguments.length,u=new Array(a),f=0;f<a;f++)u[f]=arguments[f];return i=Vi(this,(o=ss(r)).call.apply(o,[this].concat(u))),We(it(i),"onPlayNoteInput",function(){i.props.onPlayNoteInput(i.props.midiNumber)}),We(it(i),"onStopNoteInput",function(){i.props.onStopNoteInput(i.props.midiNumber)}),i}return Gi(r,[{key:"getAbsoluteKeyPosition",value:function(i){var a=7,u=yt.getAttributes(i),f=u.octave,p=u.pitchName,m=this.props.pitchPositions[p],g=a*f;return m+g}},{key:"getRelativeKeyPosition",value:function(i){return this.getAbsoluteKeyPosition(i)-this.getAbsoluteKeyPosition(this.props.noteRange.first)}},{key:"render",value:function(){var i=this.props,a=i.naturalKeyWidth,u=i.accidentalWidthRatio,f=i.midiNumber,p=i.gliss,m=i.useTouchEvents,g=i.accidental,y=i.active,v=i.disabled,x=i.children;return Re.createElement("div",{className:pt("ReactPiano__Key",{"ReactPiano__Key--accidental":g,"ReactPiano__Key--natural":!g,"ReactPiano__Key--disabled":v,"ReactPiano__Key--active":y}),style:{left:fp(this.getRelativeKeyPosition(f)*a),width:fp(g?u*a:a)},onMouseDown:m?null:this.onPlayNoteInput,onMouseUp:m?null:this.onStopNoteInput,onMouseEnter:p?this.onPlayNoteInput:null,onMouseLeave:this.onStopNoteInput,onTouchStart:m?this.onPlayNoteInput:null,onTouchCancel:m?this.onStopNoteInput:null,onTouchEnd:m?this.onStopNoteInput:null},Re.createElement("div",{className:"ReactPiano__NoteLabelContainer"},x))}}]),r}(Re.Component);We(Fc,"propTypes",{midiNumber:Ne.number.isRequired,naturalKeyWidth:Ne.number.isRequired,gliss:Ne.bool.isRequired,useTouchEvents:Ne.bool.isRequired,accidental:Ne.bool.isRequired,active:Ne.bool.isRequired,disabled:Ne.bool.isRequired,onPlayNoteInput:Ne.func.isRequired,onStopNoteInput:Ne.func.isRequired,accidentalWidthRatio:Ne.number.isRequired,pitchPositions:Ne.object.isRequired,children:Ne.node});We(Fc,"defaultProps",{accidentalWidthRatio:.65,pitchPositions:{C:0,Db:.55,D:1,Eb:1.8,E:2,F:3,Gb:3.5,G:4,Ab:4.7,A:5,Bb:5.85,B:6}});function fp(n){return"".concat(n*100,"%")}var Bc=function(n){Wi(r,n);function r(){return Ui(this,r),Vi(this,ss(r).apply(this,arguments))}return Gi(r,[{key:"getMidiNumbers",value:function(){return Tc(this.props.noteRange.first,this.props.noteRange.last+1)}},{key:"getNaturalKeyCount",value:function(){return this.getMidiNumbers().filter(function(i){var a=yt.getAttributes(i),u=a.isAccidental;return!u}).length}},{key:"getNaturalKeyWidth",value:function(){return 1/this.getNaturalKeyCount()}},{key:"getWidth",value:function(){return this.props.width?this.props.width:"100%"}},{key:"getHeight",value:function(){if(!this.props.width)return"100%";var i=this.props.width*this.getNaturalKeyWidth();return"".concat(i/this.props.keyWidthToHeight,"px")}},{key:"render",value:function(){var i=this,a=this.getNaturalKeyWidth();return Re.createElement("div",{className:pt("ReactPiano__Keyboard",this.props.className),style:{width:this.getWidth(),height:this.getHeight()}},this.getMidiNumbers().map(function(u){var f=yt.getAttributes(u);f.note;var p=f.isAccidental,m=!i.props.disabled&&i.props.activeNotes.includes(u);return Re.createElement(Fc,{naturalKeyWidth:a,midiNumber:u,noteRange:i.props.noteRange,active:m,accidental:p,disabled:i.props.disabled,onPlayNoteInput:i.props.onPlayNoteInput,onStopNoteInput:i.props.onStopNoteInput,gliss:i.props.gliss,useTouchEvents:i.props.useTouchEvents,key:u},i.props.disabled?null:i.props.renderNoteLabel({isActive:m,isAccidental:p,midiNumber:u}))}))}}]),r}(Re.Component);We(Bc,"propTypes",{noteRange:Dv,activeNotes:Ne.arrayOf(Ne.number),onPlayNoteInput:Ne.func.isRequired,onStopNoteInput:Ne.func.isRequired,renderNoteLabel:Ne.func.isRequired,keyWidthToHeight:Ne.number.isRequired,className:Ne.string,disabled:Ne.bool,gliss:Ne.bool,useTouchEvents:Ne.bool,width:Ne.number});We(Bc,"defaultProps",{disabled:!1,gliss:!1,useTouchEvents:!1,keyWidthToHeight:.33,renderNoteLabel:function(){}});function pp(n){return typeof n!="number"?!1:yt.NATURAL_MIDI_NUMBERS.includes(n)}function Dv(n,r,o){var i=n[r],a=i.first,u=i.last;if(!a||!u)return new Error("Invalid prop ".concat(r," supplied to ").concat(o,". ").concat(r," must be an object with .first and .last values."));if(!pp(a)||!pp(u))return new Error("Invalid prop ".concat(r," supplied to ").concat(o,". ").concat(r," values must be valid MIDI numbers, and should not be accidentals (sharp or flat notes)."));if(a>=u)return new Error("Invalid prop ".concat(r," supplied to ").concat(o,". ").concat(r,".first must be smaller than ").concat(r,".last."))}var $c=function(n){Wi(r,n);function r(){var o,i;Ui(this,r);for(var a=arguments.length,u=new Array(a),f=0;f<a;f++)u[f]=arguments[f];return i=Vi(this,(o=ss(r)).call.apply(o,[this].concat(u))),We(it(i),"state",{isMouseDown:!1,useTouchEvents:!1}),We(it(i),"handleNoteChanges",function(p){var m=p.prevActiveNotes,g=p.nextActiveNotes;if(!i.props.disabled){var y=dp(m,g),v=dp(g,m);v.forEach(function(x){i.props.playNote(x)}),y.forEach(function(x){i.props.stopNote(x)})}}),We(it(i),"getMidiNumberForKey",function(p){if(!i.props.keyboardShortcuts)return null;var m=i.props.keyboardShortcuts.find(function(g){return g.key===p});return m&&m.midiNumber}),We(it(i),"getKeyForMidiNumber",function(p){if(!i.props.keyboardShortcuts)return null;var m=i.props.keyboardShortcuts.find(function(g){return g.midiNumber===p});return m&&m.key}),We(it(i),"onKeyDown",function(p){if(!(p.ctrlKey||p.metaKey||p.shiftKey)){var m=i.getMidiNumberForKey(p.key);m&&i.onPlayNoteInput(m)}}),We(it(i),"onKeyUp",function(p){var m=i.getMidiNumberForKey(p.key);m&&i.onStopNoteInput(m)}),We(it(i),"onPlayNoteInput",function(p){i.props.disabled||i.props.onPlayNoteInput(p,i.props.activeNotes)}),We(it(i),"onStopNoteInput",function(p){i.props.disabled||i.props.onStopNoteInput(p,i.props.activeNotes)}),We(it(i),"onMouseDown",function(){i.setState({isMouseDown:!0})}),We(it(i),"onMouseUp",function(){i.setState({isMouseDown:!1})}),We(it(i),"onTouchStart",function(){i.setState({useTouchEvents:!0})}),We(it(i),"renderNoteLabel",function(p){var m=p.midiNumber,g=p.isActive,y=p.isAccidental,v=i.getKeyForMidiNumber(m);return i.props.renderNoteLabel({keyboardShortcut:v,midiNumber:m,isActive:g,isAccidental:y})}),i}return Gi(r,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)}},{key:"componentDidUpdate",value:function(i,a){this.props.activeNotes!==i.activeNotes&&this.handleNoteChanges({prevActiveNotes:i.activeNotes||[],nextActiveNotes:this.props.activeNotes||[]})}},{key:"render",value:function(){return Re.createElement("div",{style:{width:"100%",height:"100%"},onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchStart:this.onTouchStart,"data-testid":"container"},Re.createElement(Bc,{noteRange:this.props.noteRange,onPlayNoteInput:this.onPlayNoteInput,onStopNoteInput:this.onStopNoteInput,activeNotes:this.props.activeNotes,className:this.props.className,disabled:this.props.disabled,width:this.props.width,keyWidthToHeight:this.props.keyWidthToHeight,gliss:this.state.isMouseDown,useTouchEvents:this.state.useTouchEvents,renderNoteLabel:this.renderNoteLabel}))}}]),r}(Re.Component);We($c,"propTypes",{noteRange:Ne.object.isRequired,activeNotes:Ne.arrayOf(Ne.number.isRequired).isRequired,playNote:Ne.func.isRequired,stopNote:Ne.func.isRequired,onPlayNoteInput:Ne.func.isRequired,onStopNoteInput:Ne.func.isRequired,renderNoteLabel:Ne.func.isRequired,className:Ne.string,disabled:Ne.bool,width:Ne.number,keyWidthToHeight:Ne.number,keyboardShortcuts:Ne.arrayOf(Ne.shape({key:Ne.string.isRequired,midiNumber:Ne.number.isRequired}))});We($c,"defaultProps",{renderNoteLabel:function(r){var o=r.keyboardShortcut;r.midiNumber;var i=r.isActive,a=r.isAccidental;return o?Re.createElement("div",{className:pt("ReactPiano__NoteLabel",{"ReactPiano__NoteLabel--active":i,"ReactPiano__NoteLabel--accidental":a,"ReactPiano__NoteLabel--natural":!a})},o):null}});var zc=function(n){Wi(r,n);function r(){var o,i;Ui(this,r);for(var a=arguments.length,u=new Array(a),f=0;f<a;f++)u[f]=arguments[f];return i=Vi(this,(o=ss(r)).call.apply(o,[this].concat(u))),We(it(i),"state",{activeNotes:i.props.activeNotes||[]}),We(it(i),"handlePlayNoteInput",function(p){i.setState(function(m){return i.props.onPlayNoteInput&&i.props.onPlayNoteInput(p,{prevActiveNotes:m.activeNotes}),m.activeNotes.includes(p)?null:{activeNotes:m.activeNotes.concat(p)}})}),We(it(i),"handleStopNoteInput",function(p){i.setState(function(m){return i.props.onStopNoteInput&&i.props.onStopNoteInput(p,{prevActiveNotes:i.state.activeNotes}),{activeNotes:m.activeNotes.filter(function(g){return p!==g})}})}),i}return Gi(r,[{key:"componentDidUpdate",value:function(i){i.activeNotes!==this.props.activeNotes&&this.state.activeNotes!==this.props.activeNotes&&this.setState({activeNotes:this.props.activeNotes||[]})}},{key:"render",value:function(){var i=this.props;i.activeNotes,i.onPlayNoteInput,i.onStopNoteInput;var a=gv(i,["activeNotes","onPlayNoteInput","onStopNoteInput"]);return Re.createElement($c,yc({activeNotes:this.state.activeNotes,onPlayNoteInput:this.handlePlayNoteInput,onStopNoteInput:this.handleStopNoteInput},a))}}]),r}(Re.Component);We(zc,"propTypes",{noteRange:Ne.object.isRequired,activeNotes:Ne.arrayOf(Ne.number.isRequired),playNote:Ne.func.isRequired,stopNote:Ne.func.isRequired,onPlayNoteInput:Ne.func,onStopNoteInput:Ne.func,renderNoteLabel:Ne.func,className:Ne.string,disabled:Ne.bool,width:Ne.number,keyWidthToHeight:Ne.number,keyboardShortcuts:Ne.arrayOf(Ne.shape({key:Ne.string.isRequired,midiNumber:Ne.number.isRequired}))});function Iv(n){for(var r=n.firstNote,o=n.lastNote,i=n.keyboardConfig,a=r,u=0,f=[];u<i.length&&a<=o;){var p=i[u],m=yt.getAttributes(a),g=m.isAccidental;g?f.push({key:p.flat,midiNumber:a}):(f.push({key:p.natural,midiNumber:a}),u+=1),a+=1}return f}var hp={create:Iv,BOTTOM_ROW:[{natural:"z",flat:"a",sharp:"s"},{natural:"x",flat:"s",sharp:"d"},{natural:"c",flat:"d",sharp:"f"},{natural:"v",flat:"f",sharp:"g"},{natural:"b",flat:"g",sharp:"h"},{natural:"n",flat:"h",sharp:"j"},{natural:"m",flat:"j",sharp:"k"},{natural:",",flat:"k",sharp:"l"},{natural:".",flat:"l",sharp:";"},{natural:"/",flat:";",sharp:"'"}],HOME_ROW:[{natural:"a",flat:"q",sharp:"w"},{natural:"s",flat:"w",sharp:"e"},{natural:"d",flat:"e",sharp:"r"},{natural:"f",flat:"r",sharp:"t"},{natural:"g",flat:"t",sharp:"y"},{natural:"h",flat:"y",sharp:"u"},{natural:"j",flat:"u",sharp:"i"},{natural:"k",flat:"i",sharp:"o"},{natural:"l",flat:"o",sharp:"p"},{natural:";",flat:"p",sharp:"["},{natural:"'",flat:"[",sharp:"]"}],QWERTY_ROW:[{natural:"q",flat:"1",sharp:"2"},{natural:"w",flat:"2",sharp:"3"},{natural:"e",flat:"3",sharp:"4"},{natural:"r",flat:"4",sharp:"5"},{natural:"t",flat:"5",sharp:"6"},{natural:"y",flat:"6",sharp:"7"},{natural:"u",flat:"7",sharp:"8"},{natural:"i",flat:"8",sharp:"9"},{natural:"o",flat:"9",sharp:"0"},{natural:"p",flat:"0",sharp:"-"},{natural:"[",flat:"-",sharp:"="}]};class mp extends Error{constructor(r,o,i){super(i),this.name="ApiError",this.url=o.url,this.status=o.status,this.statusText=o.statusText,this.body=o.body,this.request=r}}class Av extends Error{constructor(r){super(r),this.name="CancelError"}get isCancelled(){return!0}}class _v{#t;#n;#e;#r;#o;#i;#s;constructor(r){this.#t=!1,this.#n=!1,this.#e=!1,this.#r=[],this.#o=new Promise((o,i)=>{this.#i=o,this.#s=i;const a=p=>{this.#t||this.#n||this.#e||(this.#t=!0,this.#i&&this.#i(p))},u=p=>{this.#t||this.#n||this.#e||(this.#n=!0,this.#s&&this.#s(p))},f=p=>{this.#t||this.#n||this.#e||this.#r.push(p)};return Object.defineProperty(f,"isResolved",{get:()=>this.#t}),Object.defineProperty(f,"isRejected",{get:()=>this.#n}),Object.defineProperty(f,"isCancelled",{get:()=>this.#e}),r(a,u,f)})}get[Symbol.toStringTag](){return"Cancellable Promise"}then(r,o){return this.#o.then(r,o)}catch(r){return this.#o.catch(r)}finally(r){return this.#o.finally(r)}cancel(){if(!(this.#t||this.#n||this.#e)){if(this.#e=!0,this.#r.length)try{for(const r of this.#r)r()}catch(r){console.warn("Cancellation threw an error",r);return}this.#r.length=0,this.#s&&this.#s(new Av("Request aborted"))}}get isCancelled(){return this.#e}}const Uc={BASE:"http://localhost:8080",VERSION:"0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0},Gc=n=>n!=null,uo=n=>typeof n=="string",Ha=n=>uo(n)&&n!=="",Wc=n=>typeof n=="object"&&typeof n.type=="string"&&typeof n.stream=="function"&&typeof n.arrayBuffer=="function"&&typeof n.constructor=="function"&&typeof n.constructor.name=="string"&&/^(Blob|File)$/.test(n.constructor.name)&&/^(Blob|File)$/.test(n[Symbol.toStringTag]),Th=n=>n instanceof FormData,Ov=n=>{try{return btoa(n)}catch{return Buffer.from(n).toString("base64")}},Tv=n=>{const r=[],o=(a,u)=>{r.push(`${encodeURIComponent(a)}=${encodeURIComponent(String(u))}`)},i=(a,u)=>{Gc(u)&&(Array.isArray(u)?u.forEach(f=>{i(a,f)}):typeof u=="object"?Object.entries(u).forEach(([f,p])=>{i(`${a}[${f}]`,p)}):o(a,u))};return Object.entries(n).forEach(([a,u])=>{i(a,u)}),r.length>0?`?${r.join("&")}`:""},Mv=(n,r)=>{const o=encodeURI,i=r.url.replace("{api-version}",n.VERSION).replace(/{(.*?)}/g,(u,f)=>r.path?.hasOwnProperty(f)?o(String(r.path[f])):u),a=`${n.BASE}${i}`;return r.query?`${a}${Tv(r.query)}`:a},Lv=n=>{if(n.formData){const r=new FormData,o=(i,a)=>{uo(a)||Wc(a)?r.append(i,a):r.append(i,JSON.stringify(a))};return Object.entries(n.formData).filter(([i,a])=>Gc(a)).forEach(([i,a])=>{Array.isArray(a)?a.forEach(u=>o(i,u)):o(i,a)}),r}},Si=async(n,r)=>r,Fv=async(n,r)=>{const[o,i,a,u]=await Promise.all([Si(r,n.TOKEN),Si(r,n.USERNAME),Si(r,n.PASSWORD),Si(r,n.HEADERS)]),f=Object.entries({Accept:"application/json",...u,...r.headers}).filter(([p,m])=>Gc(m)).reduce((p,[m,g])=>({...p,[m]:String(g)}),{});if(Ha(o)&&(f.Authorization=`Bearer ${o}`),Ha(i)&&Ha(a)){const p=Ov(`${i}:${a}`);f.Authorization=`Basic ${p}`}return r.body&&(r.mediaType?f["Content-Type"]=r.mediaType:Wc(r.body)?f["Content-Type"]=r.body.type||"application/octet-stream":uo(r.body)?f["Content-Type"]="text/plain":Th(r.body)||(f["Content-Type"]="application/json")),new Headers(f)},Bv=n=>{if(n.body!==void 0)return n.mediaType?.includes("/json")?JSON.stringify(n.body):uo(n.body)||Wc(n.body)||Th(n.body)?n.body:JSON.stringify(n.body)},$v=async(n,r,o,i,a,u,f)=>{const p=new AbortController,m={headers:u,body:i??a,method:r.method,signal:p.signal};return f(()=>p.abort()),await fetch(o,m)},zv=(n,r)=>{if(r){const o=n.headers.get(r);if(uo(o))return o}},Uv=async n=>{if(n.status!==204)try{const r=n.headers.get("Content-Type");if(r)return["application/json","application/problem+json"].some(a=>r.toLowerCase().startsWith(a))?await n.json():await n.text()}catch(r){console.error(r)}},Gv=(n,r)=>{const i={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...n.errors}[r.status];if(i)throw new mp(n,r,i);if(!r.ok){const a=r.status??"unknown",u=r.statusText??"unknown",f=(()=>{try{return JSON.stringify(r.body,null,2)}catch{return}})();throw new mp(n,r,`Generic Error: status: ${a}; status text: ${u}; body: ${f}`)}},Vc=(n,r)=>new _v(async(o,i,a)=>{try{const u=Mv(n,r),f=Lv(r),p=Bv(r),m=await Fv(n,r);if(!a.isCancelled){const g=await $v(n,r,u,p,f,m,a),y=await Uv(g),v=zv(g,r.responseHeader),x={url:u,ok:g.ok,status:g.status,statusText:g.statusText,body:v??y};Gv(r,x),o(x.body)}}catch(u){i(u)}});class Wv{static getModeKeyChords(r,o){return Vc(Uc,{method:"GET",url:"/api/chords",query:{key:r,mode:o}})}}class gp{static getModes(){return Vc(Uc,{method:"GET",url:"/api/modes"})}}class Vv{static getScaleNotes(r,o){return Vc(Uc,{method:"GET",url:"/api/scales",query:{key:r,mode:o}})}}class Hv{constructor(){this.baseUrl="/data",this.indexCache=null,this.modesCache=null,this.chordsCache=new Map,this.scalesCache=new Map}normalizeKey(r){const o=r.trim();return o.length===0?"":o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()}async loadIndex(){if(this.indexCache)return this.indexCache;try{const r=await fetch(`${this.baseUrl}/index.json`);if(!r.ok)throw new Error(`Failed to load index: ${r.statusText}`);return this.indexCache=await r.json(),this.indexCache}catch(r){throw console.error("Error loading static data index:",r),new Error("Failed to load static data. Please ensure the data generation completed successfully.")}}async getModes(){if(this.modesCache)return this.modesCache;try{const r=await fetch(`${this.baseUrl}/modes.json`);if(!r.ok)throw new Error(`Failed to load modes: ${r.statusText}`);return this.modesCache=await r.json(),this.modesCache}catch(r){throw console.error("Error loading modes from static data:",r),r}}async getModeKeyChords(r,o){try{const i=this.normalizeKey(r),u=(await this.loadIndex()).modes.find(g=>g.name===o);if(!u||!u.id)throw new Error(`Mode "${o}" not found`);const f=u.id.toString();if(this.chordsCache.has(f))return this.chordsCache.get(f).filter(y=>y.keyName===i);const p=await fetch(`${this.baseUrl}/chords-mode-${f}.json`);if(!p.ok)throw new Error(`Failed to load chords for mode ${o}: ${p.statusText}`);const m=await p.json();return this.chordsCache.set(f,m),m.filter(g=>g.keyName===i)}catch(i){throw console.error("Error loading chords from static data:",i),i}}async getScaleNotes(r,o){try{const i=this.normalizeKey(r),u=(await this.loadIndex()).modes.find(g=>g.name===o);if(!u||!u.id)throw new Error(`Mode "${o}" not found`);const f=u.id.toString();if(this.scalesCache.has(f))return this.scalesCache.get(f)[i]||[];const p=await fetch(`${this.baseUrl}/scales-mode-${f}.json`);if(!p.ok)throw new Error(`Failed to load scales for mode ${o}: ${p.statusText}`);const m=await p.json();return this.scalesCache.set(f,m),m[i]||[]}catch(i){throw console.error("Error loading scale notes from static data:",i),i}}async getMetadata(){const r=await this.loadIndex();return{generatedAt:r.generated_at,modesCount:r.modes.length}}clearCache(){this.indexCache=null,this.modesCache=null,this.chordsCache.clear(),this.scalesCache.clear()}}const rs=new Hv,qv={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080",VITE_USE_STATIC_DATA:"true"};function Kv(){try{return qv||{}}catch{return console.warn("Failed to access import.meta.env, using fallbacks"),{}}}const Yv=Kv();function vp(n,r=""){const o=Yv[n];return typeof o=="string"?o:r}class Qv{constructor(){const r=vp("VITE_USE_STATIC_DATA","true");console.log("Initializing DataService with environment:",{useStaticData:r}),this.config={useStaticData:r.toLowerCase()!=="false",apiBaseUrl:vp("VITE_API_BASE_URL","http://localhost:8080")},console.log("DataService initialized with config:",this.config)}async getModes(){return this.config.useStaticData?(console.log("Loading modes from static data"),rs.getModes()):(console.log("Loading modes from API"),gp.getModes())}async getModeKeyChords(r,o){return this.config.useStaticData?(console.log(`Loading chords from static data: ${o} in ${r}`),rs.getModeKeyChords(r,o)):(console.log(`Loading chords from API: ${o} in ${r}`),Wv.getModeKeyChords(r,o))}async getScaleNotes(r,o){return this.config.useStaticData?(console.log(`Loading scale notes from static data: ${o} in ${r}`),rs.getScaleNotes(r,o)):(console.log(`Loading scale notes from API: ${o} in ${r}`),Vv.getScaleNotes(r,o))}getConfig(){return{...this.config}}updateConfig(r){this.config={...this.config,...r},console.log("DataService configuration updated:",this.config),r.useStaticData!==void 0&&rs.clearCache()}async getDataSourceInfo(){if(this.config.useStaticData)try{return{source:"static",metadata:await rs.getMetadata()}}catch{return{source:"static",metadata:{error:"Failed to load metadata"}}}else return{source:"api",metadata:{baseUrl:this.config.apiBaseUrl}}}async testConnection(){const r=Date.now();try{return this.config.useStaticData?await rs.getModes():await gp.getModes(),{success:!0,responseTime:Date.now()-r}}catch(o){return{success:!1,error:o instanceof Error?o.message:"Unknown error",responseTime:Date.now()-r}}}}const Pi=new Qv;function Zv(){const[n,r]=w.useState(),[o,i]=w.useState(null);return w.useEffect(()=>{(async()=>{try{const u=await Pi.getModes();r(u.map(f=>f.name))}catch(u){i(u),console.error("Error fetching modes:",u)}})()},[]),{modes:n,error:o}}const Xv={"C##":"D","D##":"E","E#":"F","F##":"G","G##":"A","A##":"B","B#":"C",Cb:"B",Db:"C#",Eb:"D#",Fb:"E",Gb:"F#",Ab:"G#",Bb:"A#",Dbb:"C",Ebb:"D",Fbb:"E",Gbb:"F",Abb:"G",Bbb:"A",Cbb:"B"},Js=n=>{if(n)return Xv[n]||n},xp=["C","D","E","F","G","A","B"],Nc=(n,r,o)=>{const i=o.split(", ");let a=xp.indexOf(Js(i[0])[0]),u=n;return i.map((f,p)=>{const m=Js(f),g=xp.indexOf(m[0]);return g<a&&p>0&&u++,u>r&&(u=r),a=g,{note:m,octave:u}})},ft=n=>Math.max(0,Math.round(n)).toString(36),nt=n=>parseInt(n,36)||0,Jv=(n,r,o,i,a,u,f,p,m,g,y,v,x,N)=>{if(console.log("Encoding state - addedChords:",o.length,"chords available:",N?.length),!N?.length||!y.length||!v.length)return console.log("Skipping encode due to missing data"),"";try{const j="v7",E=y.indexOf(n),k=ft(Math.max(0,E)),V=v.indexOf(r),z=ft(Math.max(0,V)),T=i.slice(0,16).map(le=>le.replace(/[xX]/gi,"0")).join("."),L=Math.max(60,Math.min(200,a)),O=ft(L-60),$={.125:"0",.25:"1",.5:"2",1:"3",2:"4"}[u]||"1",A=Math.max(0,Math.min(50,f)),Z=ft(A),H=(p?2:0)+(m?1:0),de=ft(H),W=`${O}|${$}|${Z}|${de}`,G=x.indexOf(g.instrumentName),ae=ft(Math.max(0,G)),pe=g.cutOffPreviousNotes?"1":"0",q=ft(Math.round(g.eq.bass)+24),fe=ft(Math.round(g.eq.mid)+24),U=ft(Math.round(g.eq.treble)+24),J=ft(g.octaveOffset+3),K=ft(Math.round(g.reverbLevel*35)),R=ft(Math.max(0,Math.round(g.noteDuration*10)-1)),C=ft(Math.round(g.volume*35)),X=ft(Math.round(g.chorusLevel*35)),se=ft(Math.round(g.delayLevel*35)),Q=`${ae}|${pe}|${q}|${fe}|${U}|${J}|${K}|${R}|${C}|${X}|${se}`,xe=o.map(le=>{const Le=encodeURIComponent(le.name),bt=encodeURIComponent(le.notes);let Ie=`${Le}~${bt}`;if(le.originalKey&&le.originalMode){const _e=y.indexOf(le.originalKey),Et=v.indexOf(le.originalMode);_e>=0&&Et>=0&&(Ie+=`@${ft(_e)}${ft(Et)}`)}const Xe=le.pattern.map(_e=>_e.replace(/[xX]/gi,"0")).join("."),ct=i.map(_e=>_e.replace(/[xX]/gi,"0")).join(".");if(Xe===ct)return Ie;{const _e=le.pattern.slice(0,16).map(Et=>Et.replace(/[xX]/gi,"0")).join(".");return`${Ie}:${_e}`}}).filter(Boolean).join("|"),ue=`${j}_${k}_${z}_${T}_${W}_${Q}_${xe}`;return console.log("Encoded state result:",ue),ue}catch(j){return console.error("Failed to encode state:",j),""}},ex=(n,r,o,i,a)=>{if(console.log("Decoding state:",n),!n||!a?.length||!r.length||!o.length)return console.log("Cannot decode - missing data"),null;try{const u=n.split("_");console.log("State parts:",u);const f=u[0];if(!["v2","v3","v4","v5","v6","v7"].includes(f)||u.length<6)return console.log("Invalid state format or version"),null;const p=nt(u[1]||"0"),m=r[p]||r[0],g=nt(u[2]||"0"),y=o[g]||o[0],v=u[3]||(f==="v4"||f==="v5"||f==="v6"||f==="v7"?"1.2.3.4":"1234"),x=f==="v4"||f==="v5"||f==="v6"||f==="v7"?v.split(".").map(W=>W==="0"?"x":W):v.split("").map(W=>W==="0"?"x":W),N=(u[4]||"").split("|"),j=nt(N[0]||"60")+60,k={0:.125,1:.25,2:.5,3:1,4:2}[N[1]||"1"]||.25,V=nt(N[2]||"0"),z=nt(N[3]||"0"),T=(z&2)!==0,L=(z&1)!==0,O=(u[5]||"").split("|"),$={volume:.8,chorusLevel:0,delayLevel:0},A={instrumentName:i[nt(O[0]||"0")]||i[0]||"electric_piano_1",cutOffPreviousNotes:(O[1]||"1")==="1",eq:{bass:nt(O[2]||"o")-24,mid:nt(O[3]||"o")-24,treble:nt(O[4]||"o")-24},octaveOffset:nt(O[5]||"3")-3,reverbLevel:nt(O[6]||"0")/35,noteDuration:(nt(O[7]||"7")+1)/10,volume:f==="v6"||f==="v7"?nt(O[8]||Math.round($.volume*35).toString(36))/35:$.volume,chorusLevel:f==="v6"||f==="v7"?nt(O[9]||"0")/35:$.chorusLevel,delayLevel:f==="v6"||f==="v7"?nt(O[10]||"0")/35:$.delayLevel},Z=[],H=u[6]||"";if(H){const W=H.split("|").filter(Boolean);console.log("Chord entries to decode:",W);for(const G of W)if(f==="v5"||f==="v6"||f==="v7"){const[ae,pe]=G.split(":");let q=ae,fe,U;if(f==="v7"&&ae.includes("@")){const[R,C]=ae.split("@");if(q=R,C.length>=2){const X=nt(C[0]),se=nt(C[1]);fe=r[X],U=o[se]}}const[J,K]=q.split("~");if(J&&K){const R=decodeURIComponent(J),C=decodeURIComponent(K);let X;pe?X=pe.split(".").map(Q=>Q==="0"?"x":Q):X=[...x];const se={name:R,notes:C,pattern:X};f==="v7"&&fe&&U&&(se.originalKey=fe,se.originalMode=U,se.originalNotes=C),Z.push(se),console.log("Successfully decoded chord:",R)}else console.warn("Invalid chord format:",G)}else{let ae,pe;if(G.includes(":")){const[fe,U]=G.split(":");ae=nt(fe),pe=f==="v4"?U.split(".").map(J=>J==="0"?"x":J):U.split("").map(J=>J==="0"?"x":J)}else ae=nt(G),pe=[...x];let q;if(f==="v3"||f==="v4")q=a[ae];else{const fe=G.includes(":")?G.split(":")[0]:G;q=a.find(U=>U.chordName&&tx(U.chordName)===fe)}q?.chordName&&q?.chordNoteNames?(Z.push({name:q.chordName,notes:q.chordNoteNames,pattern:pe,originalKey:m,originalMode:y,originalNotes:q.chordNoteNames}),console.log("Successfully decoded chord:",q.chordName)):console.warn("Could not find chord at index/name:",f==="v3"||f==="v4"?ae:G)}}const de={key:m,mode:y,pattern:x,bpm:j,subdivision:k,swing:V,showPattern:T,liveMode:L,addedChords:Z,pianoSettings:A};return console.log("Decoded state result:",de),console.log("Decoded addedChords:",Z.length),de}catch(u){return console.error("Failed to decode state:",u),null}},tx=n=>n.replace(/[^a-zA-Z0-9]/g,"").substring(0,8),nx=(n,r="s")=>{if(n){const o=new URL(window.location.href);o.searchParams.set(r,n),window.history.replaceState({},"",o.toString()),console.log("URL updated with state:",n)}},rx=(n="s")=>new URL(window.location.href).searchParams.get(n),sx=(n,r,o,i,a,u,f,p,m,g,y,v,x,N,j="s")=>{const E=Jv(n,r,o,i,a,u,f,p,m,g,y,v,x,N);nx(E,j)},ox=(n,r,o,i,a="s")=>{const u=rx(a);return u?ex(u,n,r,o,i):null},yp=4,bp=7,wp=["C","C#","D","Eb","E","F","F#","G","G#","A","A#","B"],ix=["electric_piano_1","acoustic_grand_piano","bright_acoustic_piano","electric_grand_piano","honkytonk_piano","electric_piano_2","harpsichord","clavinet"],lx=(n,r)=>{if(!n||n.length===0)return!0;const o=n[r%n.length];return o!=="x"&&o!=="X"},Np=(n,r,o,i)=>n?i:r!==null&&o[r]?o[r].pattern:i,ax=()=>({instrumentName:"electric_piano_1",cutOffPreviousNotes:!0,eq:{bass:0,mid:0,treble:0},octaveOffset:0,reverbLevel:0,noteDuration:.8,volume:.8,chorusLevel:0,delayLevel:0}),cx=()=>{const[n,r]=w.useState(),[o,i]=w.useState([]),[a,u]=w.useState("C"),[f,p]=w.useState("Ionian"),{modes:m}=Zv(),[g,y]=w.useState(ix),[v,x]=w.useState(ax()),[N,j]=w.useState([]),[E,k]=w.useState(null),[V,z]=w.useState(null),[T,L]=w.useState([]),[O,F]=w.useState(!1),[$,A]=w.useState(!1),[Z,H]=w.useState(!1),[de,W]=w.useState(!1),[G,ae]=w.useState(!1),pe=w.useRef([]),[q,fe]=w.useState({currentPattern:["1","2","3","4"],isPlaying:!1,bpm:120,subdivision:.25,swing:0,currentStep:0,repeat:!0,lastChordChangeTime:0,globalClockStartTime:0}),[U,J]=w.useState(["1","2","3","4"]),[K,R]=w.useState(null),C=w.useRef(null),X=w.useRef(0),se=w.useRef(0),Q=w.useRef(0),ce=w.useRef(null);w.useRef(!1);const xe=w.useRef(!1),ue=w.useRef(null),le=w.useRef(!0),Le=w.useMemo(()=>6e4/q.bpm*q.subdivision,[q.bpm,q.subdivision]),bt=w.useMemo(()=>o?o.map(ne=>ne.noteName?Js(ne.noteName):null).filter(Boolean):[],[o]),Ie=w.useMemo(()=>m||["Ionian"],[m]),Xe=w.useCallback(()=>{n?.length&&Ie.length&&!le.current&&(console.log("Saving state to URL - addedChords:",T.length),sx(a,f,T,q.currentPattern,q.bpm,q.subdivision,q.swing,de,G,v,wp,Ie,g,n))},[a,f,T,q.currentPattern,q.bpm,q.subdivision,q.swing,de,G,v,Ie,g,n]),ct=w.useCallback(()=>{if(n?.length){console.log("Loading state from URL - chords available:",n.length);const ne=ox(wp,Ie,g,n);ne?(console.log("Loaded state from URL - addedChords:",ne.addedChords.length),u(ne.key),p(ne.mode),L(ne.addedChords),fe(je=>({...je,currentPattern:ne.pattern,bpm:ne.bpm,subdivision:ne.subdivision,swing:ne.swing})),W(ne.showPattern),ae(ne.liveMode),x(ne.pianoSettings)):console.log("No valid state found in URL")}},[n,Ie,g]),_e=w.useCallback(ne=>{x(je=>({...je,...ne}))},[]),Et=w.useCallback(ne=>{_e({instrumentName:ne})},[_e]),bn=w.useCallback(ne=>{_e({cutOffPreviousNotes:ne})},[_e]),wn=w.useCallback(ne=>{_e({eq:ne})},[_e]),cr=w.useCallback(ne=>{_e({octaveOffset:ne})},[_e]),Nn=w.useCallback(ne=>{_e({reverbLevel:ne})},[_e]),Tt=w.useCallback(ne=>{_e({noteDuration:ne})},[_e]),ur=w.useCallback(ne=>{_e({volume:ne})},[_e]),Dr=w.useCallback(ne=>{_e({chorusLevel:ne})},[_e]),Ir=w.useCallback(ne=>{_e({delayLevel:ne})},[_e]),dr=w.useCallback(ne=>{if(q.swing===0)return Le;const je=ne%2===1,Pe=1+q.swing/100;return je?Le*Pe:Le/Pe},[Le,q.swing]),Sn=w.useCallback(()=>Np(K,E,T,U),[K,E,T,U]),Jt=w.useCallback(ne=>{j([]),setTimeout(()=>j(ne),10)},[]),fn=w.useCallback(ne=>{L(je=>{const Pe=je.filter((D,Y)=>Y!==ne);return console.log("Removed chord, new total:",Pe.length),Pe.length===0&&G&&ae(!1),Pe}),E===ne?k(null):E!==null&&E>ne&&k(E-1)},[E,G]),Ar=w.useCallback((ne,je)=>{L(Pe=>{const D=[...Pe];return D[ne]={...je},console.log("Updated chord at index",ne,":",je.name),D})},[]),en=w.useCallback((ne,je,Pe)=>{if($&&je!==void 0){fn(je);return}const D=Nc(yp,bp,ne);je!==void 0?(R(null),k(je),q.isPlaying||Jt(D),z(je),setTimeout(()=>z(null),150)):(Pe&&R({name:Pe,notes:ne}),q.isPlaying||Jt(D))},[Jt,q.isPlaying,$,fn]),Cn=w.useCallback(async(ne,je,Pe)=>{try{return(await Pi.getModeKeyChords(je,Pe)).find(he=>he.chordName===ne)?.chordNoteNames||null}catch(D){return console.error("Failed to fetch original chord:",D),null}},[]),ds=w.useCallback((ne,je)=>{L(Pe=>{const D=[...Pe,{name:ne,notes:je,pattern:[...U],originalKey:a,originalMode:f,originalNotes:je}];return console.log("Added chord, new total:",D.length),D})},[U,a,f]),_r=w.useCallback(()=>{L([]),fe(ne=>({...ne,isPlaying:!1})),k(null),R(null),ae(!1)},[]),Or=w.useCallback((ne,je)=>{L(Pe=>{const D=[...Pe];return D[ne]={...D[ne],pattern:[...je]},D})},[]),fs=w.useCallback(()=>{if(Z){pe.current.forEach(clearTimeout),pe.current=[],j([]),H(!1);return}if(!o?.length)return;H(!0);const ne=q.isPlaying;ne&&fe(Ve=>({...Ve,isPlaying:!1})),j([]);const Pe=6e4/q.bpm*.8;let D=100,Y=4,he=0;const Ae=[...o];o[0]?.noteName&&Ae.push({noteName:o[0].noteName}),Ae.forEach(Ve=>{if(!Ve.noteName)return;const kt=setTimeout(()=>{const Gt=Js(Ve.noteName);if(!Gt)return;let wt=yt.fromNote(Gt+Y);wt<=he&&(Y++,wt=yt.fromNote(Gt+Y)),he=wt;const Mn=yt.getAttributes(wt),Pt=Mn.note.slice(0,-1),Ln=parseInt(Mn.note.slice(-1),10);j([{note:Pt,octave:Ln}])},D);pe.current.push(kt),D+=Pe});const Ye=setTimeout(()=>{j([]),H(!1),pe.current=[],ne&&fe(Ve=>({...Ve,isPlaying:!0}))},D+Pe);pe.current.push(Ye)},[o,Z,q.bpm,q.isPlaying]),fr=w.useCallback(ne=>{fe(je=>({...je,...ne})),ne.hasOwnProperty("isPlaying")&&ne.isPlaying&&(X.current=0,se.current=Date.now(),Q.current=Date.now()),ne.hasOwnProperty("currentStep")&&ne.currentStep===0&&(X.current=0,se.current=Date.now(),Q.current=Date.now())},[]),jn=w.useCallback(()=>{const ne=!q.isPlaying;fe(je=>({...je,isPlaying:ne})),ne&&(X.current=0,se.current=Date.now(),Q.current=Date.now())},[q.isPlaying]),pn=w.useCallback(ne=>{if(ne.target instanceof HTMLInputElement)return;if(ne.key.toLowerCase()==="p"){W(Pe=>!Pe);return}if(ne.key.toLowerCase()==="l"){ae(Pe=>!Pe);return}if(ne.key===" "){ne.preventDefault();const Pe=!q.isPlaying;fe(D=>({...D,isPlaying:Pe})),Pe&&(X.current=0,se.current=Date.now(),Q.current=Date.now());return}const je=ne.key==="0"?9:parseInt(ne.key,10)-1;if(!isNaN(je)&&je>=0&&je<T.length){const Pe=T[je];Pe&&(R(null),en(Pe.notes,je))}},[T,en,q.isPlaying]);return w.useEffect(()=>{if(q.isPlaying){if(!C.current){se.current=Date.now(),Q.current=Date.now(),X.current=0,fe(je=>({...je,currentStep:0}));const ne=()=>{const je=Date.now();if(je>=Q.current){X.current++;const Pe=dr(X.current);Q.current=je+Pe,fe(D=>({...D,currentStep:X.current}))}C.current=setTimeout(ne,5)};ne()}}else C.current&&(clearTimeout(C.current),C.current=null);return()=>{C.current&&(clearTimeout(C.current),C.current=null)}},[q.isPlaying,dr]),w.useEffect(()=>{E!==null&&T[E]?J([...T[E].pattern]):J([...q.currentPattern])},[E,T,q.currentPattern]),w.useEffect(()=>{if(q.isPlaying){let ne=null;if(K?ne=K:E!==null&&T[E]&&(ne=T[E]),ne){const je=Np(K,E,T,U),Pe=q.currentStep%je.length;if(lx(je,Pe)){const D=Nc(yp,bp,ne.notes);j(D)}else j([])}}},[q.isPlaying,q.currentStep,K,E,T,U]),w.useEffect(()=>{a&&(F(!0),Promise.all([Pi.getModeKeyChords(a,f),Pi.getScaleNotes(a,f)]).then(([ne,je])=>{r(ne),i(je)}).catch(ne=>console.error("Error fetching music data:",ne)).finally(()=>F(!1)))},[a,f]),w.useEffect(()=>{n?.length&&!xe.current&&(xe.current=!0,le.current=!0,ct(),setTimeout(()=>{le.current=!1},100))},[n,ct]),w.useEffect(()=>(n?.length&&Ie.length&&!le.current&&(ue.current&&clearTimeout(ue.current),ue.current=setTimeout(()=>{Xe()},100)),()=>{ue.current&&clearTimeout(ue.current)}),[a,f,T,q.currentPattern,q.bpm,q.subdivision,q.swing,de,G,v,n?.length,Ie.length,Xe]),w.useEffect(()=>(document.addEventListener("keydown",pn),()=>document.removeEventListener("keydown",pn)),[pn]),{chords:n,scaleNotes:o,key:a,mode:f,modes:m,activeNotes:N,activeChordIndex:E,highlightedChordIndex:V,addedChords:T,loadingChords:O,isDeleteMode:$,isPlayingScale:Z,showPatternSystem:de,isLiveMode:G,globalPatternState:q,currentlyActivePattern:U,temporaryChord:K,normalizedScaleNotes:bt,pianoSettings:v,availableInstruments:g,silentAudioRef:ce,setKey:u,setMode:p,setIsDeleteMode:A,setShowPatternSystem:W,setIsLiveMode:ae,setAvailableInstruments:y,handleChordClick:en,addChordClick:ds,removeChord:fn,updateChord:Ar,clearAllChords:_r,updateChordPattern:Or,toggleScalePlayback:fs,handlePatternChange:fr,handleTogglePlayback:jn,getCurrentPattern:Sn,setPianoInstrument:Et,setCutOffPreviousNotes:bn,setEq:wn,setOctaveOffset:cr,setReverbLevel:Nn,setNoteDuration:Tt,setVolume:ur,setChorusLevel:Dr,setDelayLevel:Ir,updatePianoSettings:_e,handleFetchOriginalChord:Cn,playNotes:Jt,saveStateToUrl:Xe,loadStateFromUrl:ct}};function ux({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{d:"M3.28 2.22a.75.75 0 0 0-1.06 1.06L5.44 6.5H2.75a.75.75 0 0 0 0 1.5h4.5A.75.75 0 0 0 8 7.25v-4.5a.75.75 0 0 0-1.5 0v2.69L3.28 2.22ZM13.5 2.75a.75.75 0 0 0-1.5 0v4.5c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-2.69l3.22-3.22a.75.75 0 0 0-1.06-1.06L13.5 5.44V2.75ZM3.28 17.78l3.22-3.22v2.69a.75.75 0 0 0 1.5 0v-4.5a.75.75 0 0 0-.75-.75h-4.5a.75.75 0 0 0 0 1.5h2.69l-3.22 3.22a.75.75 0 1 0 1.06 1.06ZM13.5 14.56l3.22 3.22a.75.75 0 1 0 1.06-1.06l-3.22-3.22h2.69a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0-.75.75v4.5a.75.75 0 0 0 1.5 0v-2.69Z"}))}const dx=w.forwardRef(ux);function fx({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{d:"m13.28 7.78 3.22-3.22v2.69a.75.75 0 0 0 1.5 0v-4.5a.75.75 0 0 0-.75-.75h-4.5a.75.75 0 0 0 0 1.5h2.69l-3.22 3.22a.75.75 0 0 0 1.06 1.06ZM2 17.25v-4.5a.75.75 0 0 1 1.5 0v2.69l3.22-3.22a.75.75 0 0 1 1.06 1.06L4.56 16.5h2.69a.75.75 0 0 1 0 1.5h-4.5a.747.747 0 0 1-.75-.75ZM12.22 13.28l3.22 3.22h-2.69a.75.75 0 0 0 0 1.5h4.5a.747.747 0 0 0 .75-.75v-4.5a.75.75 0 0 0-1.5 0v2.69l-3.22-3.22a.75.75 0 1 0-1.06 1.06ZM3.5 4.56l3.22 3.22a.75.75 0 0 0 1.06-1.06L4.56 3.5h2.69a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0-.75.75v4.5a.75.75 0 0 0 1.5 0V4.56Z"}))}const px=w.forwardRef(fx);function hx({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const mx=w.forwardRef(hx);function gx({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const Pr=w.forwardRef(gx);function vx({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{fillRule:"evenodd",d:"M11.78 5.22a.75.75 0 0 1 0 1.06L8.06 10l3.72 3.72a.75.75 0 1 1-1.06 1.06l-4.25-4.25a.75.75 0 0 1 0-1.06l4.25-4.25a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const xx=w.forwardRef(vx);function yx({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{fillRule:"evenodd",d:"M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const Mh=w.forwardRef(yx);function bx({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{fillRule:"evenodd",d:"M9.47 6.47a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 1 1-1.06 1.06L10 8.06l-3.72 3.72a.75.75 0 0 1-1.06-1.06l4.25-4.25Z",clipRule:"evenodd"}))}const eo=w.forwardRef(bx);function wx({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{d:"M13.024 9.25c.47 0 .827-.433.637-.863a4 4 0 0 0-4.094-2.364c-.468.05-.665.576-.43.984l1.08 1.868a.75.75 0 0 0 .649.375h2.158ZM7.84 7.758c-.236-.408-.79-.5-1.068-.12A3.982 3.982 0 0 0 6 10c0 .884.287 1.7.772 2.363.278.38.832.287 1.068-.12l1.078-1.868a.75.75 0 0 0 0-.75L7.839 7.758ZM9.138 12.993c-.235.408-.039.934.43.984a4 4 0 0 0 4.094-2.364c.19-.43-.168-.863-.638-.863h-2.158a.75.75 0 0 0-.65.375l-1.078 1.868Z"}),w.createElement("path",{fillRule:"evenodd",d:"m14.13 4.347.644-1.117a.75.75 0 0 0-1.299-.75l-.644 1.116a6.954 6.954 0 0 0-2.081-.556V1.75a.75.75 0 0 0-1.5 0v1.29a6.954 6.954 0 0 0-2.081.556L6.525 2.48a.75.75 0 1 0-1.3.75l.645 1.117A7.04 7.04 0 0 0 4.347 5.87L3.23 5.225a.75.75 0 1 0-.75 1.3l1.116.644A6.954 6.954 0 0 0 3.04 9.25H1.75a.75.75 0 0 0 0 1.5h1.29c.078.733.27 1.433.556 2.081l-1.116.645a.75.75 0 1 0 .75 1.298l1.117-.644a7.04 7.04 0 0 0 1.523 1.523l-.645 1.117a.75.75 0 1 0 1.3.75l.644-1.116a6.954 6.954 0 0 0 2.081.556v1.29a.75.75 0 0 0 1.5 0v-1.29a6.954 6.954 0 0 0 2.081-.556l.645 1.116a.75.75 0 0 0 1.299-.75l-.645-1.117a7.042 7.042 0 0 0 1.523-1.523l1.117.644a.75.75 0 0 0 .75-1.298l-1.116-.645a6.954 6.954 0 0 0 .556-2.081h1.29a.75.75 0 0 0 0-1.5h-1.29a6.954 6.954 0 0 0-.556-2.081l1.116-.644a.75.75 0 0 0-.75-1.3l-1.117.645a7.04 7.04 0 0 0-1.524-1.523ZM10 4.5a5.475 5.475 0 0 0-2.781.754A5.527 5.527 0 0 0 5.22 7.277 5.475 5.475 0 0 0 4.5 10a5.475 5.475 0 0 0 .752 2.777 5.527 5.527 0 0 0 2.028 2.004c.802.458 1.73.719 2.72.719a5.474 5.474 0 0 0 2.78-.753 5.527 5.527 0 0 0 2.001-2.027c.458-.802.719-1.73.719-2.72a5.475 5.475 0 0 0-.753-2.78 5.528 5.528 0 0 0-2.028-2.002A5.475 5.475 0 0 0 10 4.5Z",clipRule:"evenodd"}))}const Sp=w.forwardRef(wx);function Nx({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{d:"M10 3a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM10 8.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM11.5 15.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z"}))}const Sx=w.forwardRef(Nx);function Cx({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-7-4a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM9 9a.75.75 0 0 0 0 1.5h.253a.25.25 0 0 1 .244.304l-.459 2.066A1.75 1.75 0 0 0 10.747 15H11a.75.75 0 0 0 0-1.5h-.253a.25.25 0 0 1-.244-.304l.459-2.066A1.75 1.75 0 0 0 9.253 9H9Z",clipRule:"evenodd"}))}const jx=w.forwardRef(Cx);function Ex({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{fillRule:"evenodd",d:"M10 1a4.5 4.5 0 0 0-4.5 4.5V9H5a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2h-.5V5.5A4.5 4.5 0 0 0 10 1Zm3 8V5.5a3 3 0 1 0-6 0V9h6Z",clipRule:"evenodd"}))}const Cp=w.forwardRef(Ex);function kx({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{fillRule:"evenodd",d:"M9 3.5a5.5 5.5 0 1 0 0 11 5.5 5.5 0 0 0 0-11ZM2 9a7 7 0 1 1 12.452 4.391l3.328 3.329a.75.75 0 1 1-1.06 1.06l-3.329-3.328A7 7 0 0 1 2 9Z",clipRule:"evenodd"}))}const Px=w.forwardRef(kx);function Rx({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{fillRule:"evenodd",d:"M4 10a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H4.75A.75.75 0 0 1 4 10Z",clipRule:"evenodd"}))}const jp=w.forwardRef(Rx);function Dx({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{d:"M5.75 3a.75.75 0 0 0-.75.75v12.5c0 .414.336.75.75.75h1.5a.75.75 0 0 0 .75-.75V3.75A.75.75 0 0 0 7.25 3h-1.5ZM12.75 3a.75.75 0 0 0-.75.75v12.5c0 .414.336.75.75.75h1.5a.75.75 0 0 0 .75-.75V3.75a.75.75 0 0 0-.75-.75h-1.5Z"}))}const to=w.forwardRef(Dx);function Ix({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{fillRule:"evenodd",d:"M2 10a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm6.39-2.908a.75.75 0 0 1 .766.027l3.5 2.25a.75.75 0 0 1 0 1.262l-3.5 2.25A.75.75 0 0 1 8 12.25v-4.5a.75.75 0 0 1 .39-.658Z",clipRule:"evenodd"}))}const no=w.forwardRef(Ix);function Ax({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{d:"M6.3 2.84A1.5 1.5 0 0 0 4 4.11v11.78a1.5 1.5 0 0 0 2.3 1.27l9.344-5.891a1.5 1.5 0 0 0 0-2.538L6.3 2.841Z"}))}const Lh=w.forwardRef(Ax);function _x({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm.75-11.25a.75.75 0 0 0-1.5 0v2.5h-2.5a.75.75 0 0 0 0 1.5h2.5v2.5a.75.75 0 0 0 1.5 0v-2.5h2.5a.75.75 0 0 0 0-1.5h-2.5v-2.5Z",clipRule:"evenodd"}))}const Ox=w.forwardRef(_x);function Tx({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{d:"M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z"}))}const Ep=w.forwardRef(Tx);function Mx({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0ZM8.94 6.94a.75.75 0 1 1-1.061-1.061 3 3 0 1 1 2.871 5.026v.345a.75.75 0 0 1-1.5 0v-.5c0-.72.57-1.172 1.081-1.287A1.5 1.5 0 1 0 8.94 6.94ZM10 15a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",clipRule:"evenodd"}))}const Fh=w.forwardRef(Mx);function Lx({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 0 0 6 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 1 0 .23 1.482l.149-.022.841 10.518A2.75 2.75 0 0 0 7.596 19h4.807a2.75 2.75 0 0 0 2.742-2.53l.841-10.52.149.023a.75.75 0 0 0 .23-1.482A41.03 41.03 0 0 0 14 4.193V3.75A2.75 2.75 0 0 0 11.25 1h-2.5ZM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4ZM8.58 7.72a.75.75 0 0 0-1.5.06l.3 7.5a.75.75 0 1 0 1.5-.06l-.3-7.5Zm4.34.06a.75.75 0 1 0-1.5-.06l-.3 7.5a.75.75 0 1 0 1.5.06l.3-7.5Z",clipRule:"evenodd"}))}const kp=w.forwardRef(Lx);function Fx({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16ZM8.28 7.22a.75.75 0 0 0-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 1 0 1.06 1.06L10 11.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L11.06 10l1.72-1.72a.75.75 0 0 0-1.06-1.06L10 8.94 8.28 7.22Z",clipRule:"evenodd"}))}const Sc=w.forwardRef(Fx);function Bx({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{d:"M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"}))}const $x=w.forwardRef(Bx),zx=({chords:n,loading:r,onChordClick:o,addChordClick:i})=>{const[a,u]=w.useState("All"),[f,p]=w.useState(""),[m,g]=w.useState(new Set),[y,v]=w.useState(new Set),[x,N]=w.useState(new Set),[j,E]=w.useState(1);w.useEffect(()=>{const A=()=>{const Z=window.innerWidth;Z>=1280?E(3):Z>=640?E(2):E(1)};return A(),window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]);const k=A=>A.length>=2&&(A[1]==="b"||A[1]==="#")?A.substring(0,2):A[0],V=w.useMemo(()=>{if(!n)return[];const A=n.map(Z=>k(Z.chordName));return[...new Set(A)].sort()},[n]),z=w.useMemo(()=>{if(!n)return[];let A=n;if(a!=="All"&&(A=A.filter(Z=>k(Z.chordName)===a)),f.trim()){const Z=f.toLowerCase().trim();A=A.filter(H=>H.chordName.toLowerCase().includes(Z)||H.chordNoteNames.toLowerCase().includes(Z))}return A},[n,a,f]),T=w.useMemo(()=>{if(!n)return{};const A={};return n.forEach(Z=>{const H=k(Z.chordName);A[H]=(A[H]||0)+1}),A},[n]),L=w.useCallback(A=>{const H=Math.floor(A/j)*j,de=Math.min(H+j,z.length),W=[];for(let G=H;G<de;G++)W.push(G);return W},[j,z.length]),O=A=>{const Z=L(A),H=new Set(m);H.has(A)?Z.forEach(W=>H.delete(W)):Z.forEach(W=>H.add(W)),g(H)},F=(A,Z,H)=>{v(de=>new Set(de).add(Z)),o(A,void 0,H),setTimeout(()=>{v(de=>{const W=new Set(de);return W.delete(Z),W})},800)},$=(A,Z,H)=>{N(de=>new Set(de).add(A)),i?.(Z,H),setTimeout(()=>{N(de=>{const W=new Set(de);return W.delete(A),W})},600)};return c.jsxs("div",{className:"w-full max-w-7xl mx-auto px-2",children:[c.jsx("div",{className:"bg-[#3d434f] border border-gray-600 rounded-lg overflow-hidden mb-4",children:c.jsxs("div",{className:"px-4 py-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-sm font-bold text-slate-300 uppercase tracking-wider",children:"Chord Explorer"}),c.jsxs("div",{className:"text-sm text-gray-400",children:[z?.length||0," of ",n?.length||0," chords"]})]}),c.jsx("div",{className:"mb-4",children:c.jsxs("div",{className:"relative",children:[c.jsx(Px,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search chords or notes...",value:f,onChange:A=>p(A.target.value),className:"w-full pl-10 pr-4 py-2 bg-[#444b59] border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-blue-500 focus:outline-none transition-colors !text-sm"})]})}),c.jsx("div",{className:"lg:hidden",children:c.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-transparent px-1",children:[c.jsxs("button",{onClick:()=>u("All"),className:`flex-shrink-0 px-3 py-2 rounded-full text-sm font-medium transition-colors ${a==="All"?"bg-blue-600 text-white":"bg-[#444b59] text-gray-300 hover:bg-[#525a6b] hover:text-white"}`,children:["All (",n?.length||0,")"]}),V.map(A=>c.jsxs("button",{onClick:()=>u(A),className:`flex-shrink-0 px-3 py-2 rounded-full text-sm font-medium transition-colors ${a===A?"bg-blue-600 text-white":"bg-[#444b59] text-gray-300 hover:bg-[#525a6b] hover:text-white"}`,children:[A," (",T[A]||0,")"]},A))]})})]})}),c.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 lg:gap-4",children:[c.jsx("div",{className:"hidden lg:block lg:w-48 flex-shrink-0",children:c.jsxs("div",{className:"bg-[#3d434f] rounded-lg h-fit",children:[c.jsx("div",{className:"px-4 py-3 border-b border-gray-600",children:c.jsx("h3",{className:"text-sm font-medium text-gray-200 uppercase tracking-wide",children:"Filter by Root"})}),c.jsxs("div",{className:"p-2",children:[c.jsx("button",{onClick:()=>u("All"),className:`w-full px-3 py-2 text-left transition-colors rounded-md border-l-4 ${a==="All"?"bg-[#4a5262] border-l-blue-500 text-white":"hover:bg-[#444b59] border-l-transparent text-gray-300 hover:text-white"}`,children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm font-medium",children:"All Notes"}),c.jsx("span",{className:"text-xs text-gray-400 bg-gray-700 px-2 py-1 rounded",children:n?.length||0})]})}),V.map(A=>c.jsx("button",{onClick:()=>u(A),className:`w-full px-3 py-2 text-left transition-colors rounded-md border-l-4 mt-1 ${a===A?"bg-[#4a5262] border-l-blue-500 text-white":"hover:bg-[#444b59] border-l-transparent text-gray-300 hover:text-white"}`,children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm font-medium",children:A}),c.jsx("span",{className:"text-xs text-gray-400 bg-gray-700 px-2 py-1 rounded",children:T[A]||0})]})},A))]})]})}),c.jsxs("div",{className:"flex-1",children:[r?c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[c.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-current border-r-transparent text-blue-500"}),c.jsx("span",{className:"text-sm text-gray-400",children:"Loading chords..."})]})}):z?.length?c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-2 sm:gap-3",children:z.map((A,Z)=>{const H=m.has(Z),de=y.has(Z),W=x.has(Z);return c.jsxs("div",{className:`bg-[#3d434f] rounded-lg border border-gray-600 hover:border-blue-500 hover:bg-[#444b59] transition-all duration-200 overflow-hidden cursor-pointer group relative ${de?"chord-playing z-50":""} ${W?"chord-adding z-40":""}`,onClick:()=>F(A.chordNoteNames,Z,A.chordName),children:[c.jsx("div",{className:"p-3 sm:p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 flex-1 min-w-0",children:[c.jsx(no,{className:`h-5 w-5 sm:h-6 sm:w-6 transition-colors flex-shrink-0 ${de?"text-blue-400":"text-gray-400 group-hover:text-blue-300"}`}),c.jsx("h3",{className:`text-base sm:text-lg font-bold transition-colors truncate ${de?"text-blue-200":"text-white group-hover:text-blue-200"}`,children:A.chordName})]}),c.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0 ml-2",children:[c.jsx("button",{onClick:G=>{G.stopPropagation(),$(Z,A.chordName,A.chordNoteNames)},className:`p-1 sm:p-2 rounded-md transition-colors ${W?"bg-green-600 text-white":"hover:bg-green-600 text-gray-400 hover:text-white"}`,title:"Add to sequence",children:c.jsx(Ox,{className:"h-5 w-5 sm:h-4 sm:w-4"})}),c.jsx("button",{onClick:G=>{G.stopPropagation(),O(Z)},className:"p-1.5 sm:p-2 rounded-md hover:bg-[#555] text-gray-400 hover:text-white transition-colors",title:H?"Hide notes":"Show notes",children:H?c.jsx(eo,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}):c.jsx(Pr,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})})]})]})}),H&&c.jsx("div",{className:"px-3 pb-3 pt-0 sm:px-4 sm:pb-4",children:c.jsxs("div",{className:"bg-[#2d3142] rounded-md p-2 sm:p-3 border-t border-gray-600",children:[c.jsx("div",{className:"text-xs font-medium text-gray-400 uppercase tracking-wide mb-1",children:"Notes"}),c.jsx("div",{className:"text-sm text-gray-200 font-mono",children:A.chordNoteNames})]})})]},`chord-${Z}`)})}):c.jsx("div",{className:"flex justify-center items-center h-64 bg-[#3d434f] rounded-lg",children:c.jsxs("div",{className:"text-center space-y-3",children:[c.jsx("div",{className:"text-gray-500 text-4xl",children:""}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm text-gray-400",children:f.trim()?`No chords found matching "${f}"`:a==="All"?"No chords available":`No chords found for root note "${a}"`}),(f.trim()||a!=="All")&&c.jsx("button",{onClick:()=>{p(""),u("All")},className:"text-sm text-blue-400 hover:text-blue-300 underline transition-colors",children:"Clear filters"})]})]})}),z?.length>0&&c.jsx("div",{className:"mt-4 text-center",children:c.jsxs("div",{className:"text-xs text-gray-400",children:["Tap any chord to play ",c.jsx("span",{className:"text-gray-300 mx-1",children:"+"})," to add to sequence ",c.jsx(Pr,{className:"inline h-3 w-3 mx-1"})," to show notes (expands entire row)"]})})]})]})]})},gu=class gu extends w.Component{constructor(){super(...arguments),this.state={instrumentList:null},this.loadInstrumentList=()=>{fetch(`${this.props.hostname}/${this.props.soundfont}/names.json`).then(r=>r.json()).then(r=>{this.setState({instrumentList:r})})}}componentDidMount(){this.loadInstrumentList()}render(){return this.props.render(this.state.instrumentList)}};gu.defaultProps={soundfont:"MusyngKite"};let Ii=gu;function Ux({title:n,titleId:r,...o},i){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},o),n?w.createElement("title",{id:r},n):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Gx=w.forwardRef(Ux);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Vx=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,o,i)=>i?i.toUpperCase():o.toLowerCase()),Pp=n=>{const r=Vx(n);return r.charAt(0).toUpperCase()+r.slice(1)},Bh=(...n)=>n.filter((r,o,i)=>!!r&&r.trim()!==""&&i.indexOf(r)===o).join(" ").trim(),Hx=n=>{for(const r in n)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=w.forwardRef(({color:n="currentColor",size:r=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:a="",children:u,iconNode:f,...p},m)=>w.createElement("svg",{ref:m,...qx,width:r,height:r,stroke:n,strokeWidth:i?Number(o)*24/Number(r):o,className:Bh("lucide",a),...!u&&!Hx(p)&&{"aria-hidden":"true"},...p},[...f.map(([g,y])=>w.createElement(g,y)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=(n,r)=>{const o=w.forwardRef(({className:i,...a},u)=>w.createElement(Kx,{ref:u,iconNode:r,className:Bh(`lucide-${Wx(Pp(n))}`,`lucide-${n}`,i),...a}));return o.displayName=Pp(n),o};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Qx=$h("chevron-down",Yx);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Xx=$h("search",Zx);var Hi=_h();const Jx=ar(Hi),cn=({value:n,onChange:r,options:o,className:i="",menuClassName:a="",showSearch:u=!1,buttonClassName:f=""})=>{const[p,m]=w.useState(!1),[g,y]=w.useState(!1),[v,x]=w.useState(""),N=w.useRef(null),j=w.useRef(null),[E,k]=w.useState({top:0,left:0,width:0,maxHeight:320}),V=o.filter(O=>v?.length?O.toLowerCase().includes(v.toLowerCase()):!0),z=()=>{if(N.current){const O=N.current.getBoundingClientRect(),F=window.innerHeight-O.bottom,$=Math.min(F-10,320);k({top:O.bottom+window.scrollY,left:O.left+window.scrollX,width:O.width,maxHeight:$}),y(!0)}};w.useEffect(()=>{const O=$=>{N.current&&!N.current.contains($.target)&&j.current&&!j.current.contains($.target)&&(m(!1),x(""),y(!1))},F=$=>{$.key==="Escape"&&(m(!1),x(""),y(!1))};return p&&(document.addEventListener("mousedown",O),document.addEventListener("keydown",F)),()=>{document.removeEventListener("mousedown",O),document.removeEventListener("keydown",F)}},[p]);const T=()=>{p?(m(!1),y(!1)):(z(),requestAnimationFrame(()=>{m(!0)}))},L=O=>{r(O),m(!1),x(""),y(!1)};return c.jsxs("div",{className:`relative inline-block text-left text-lg ${i}`,children:[c.jsxs("button",{ref:N,onClick:T,className:`
          inline-flex w-full justify-between items-center gap-x-2 rounded-lg
          bg-[#3d434f] border
          px-4 py-2.5 text-sm font-medium
          text-slate-200 
          ${p?"border-blue-500 bg-[#4a5262]":"border-gray-600 hover:bg-[#4a5262] hover:border-gray-500"}
          focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:ring-offset-2 focus:ring-offset-[#2a2f38]
          transition-all duration-200 ease-out
          ${f.includes("h-")?"":"h-10"}
          ${f}
        `,children:[c.jsx("span",{className:"truncate text-left flex-1 font-medium tracking-wide",children:n}),c.jsx(Qx,{className:`
            h-4 w-4 text-slate-400 flex-shrink-0
            transition-all duration-200
            ${p?"rotate-180 text-slate-200":"group-hover:text-slate-200"}
          `,"aria-hidden":"true"})]}),p&&g&&Hi.createPortal(c.jsx("div",{ref:j,style:{position:"absolute",top:`${E.top+4}px`,left:`${E.left}px`,minWidth:`${E.width}px`,maxWidth:`${E.width}px`,zIndex:9999},className:"origin-top dropdown-enter",children:c.jsx("div",{style:{maxHeight:`${E.maxHeight}px`,minWidth:`${E.width}px`},className:"dropdown-menu rounded-lg shadow-2xl ring-1 ring-black/30 overflow-hidden",children:c.jsxs("div",{className:"bg-[#3d434f] border border-gray-600 rounded-lg overflow-hidden shadow-2xl",children:[u&&c.jsx("div",{className:"p-3 border-b border-gray-600 bg-[#444b59]",children:c.jsxs("div",{className:"relative",children:[c.jsx(Xx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),c.jsx("input",{type:"text",className:`w-full text-slate-200 pl-9 pr-3 py-2 text-sm font-normal 
                        bg-[#2a2f38] border border-gray-600 rounded-md 
                        focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 
                        placeholder-slate-500 
                        transition-all duration-200
                        hover:bg-[#333844] hover:border-gray-500`,placeholder:"Search options...",value:v,onChange:O=>x(O.target.value),autoFocus:!0})]})}),c.jsx("div",{className:`py-1.5 overflow-y-auto ${a}`,style:{maxHeight:u?`${E.maxHeight-60}px`:`${E.maxHeight}px`},children:V.length>0?V.map((O,F)=>c.jsxs("button",{onClick:()=>L(O),className:`
                        relative block w-full px-4 py-2.5 text-left text-sm font-medium 
                        transition-all duration-200
                        text-slate-300 hover:text-slate-100
                        hover:bg-[#4a5262]
                        border-l-2 border-l-transparent hover:border-l-blue-400
                      `,children:[c.jsx("span",{className:"relative truncate block tracking-wide",children:O}),n===O&&c.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-1.5 h-1.5 bg-blue-400 rounded-full"})]},F)):c.jsx("div",{className:"px-4 py-3 text-sm text-slate-500 italic text-center",children:"No options found"})})]})})}),document.body)]})},ey=n=>c.jsx("label",{className:pt("mr-[1em] flex-1 text-right text-sm font-medium text-slate-400",n.className),children:n.value}),ty=({isOpen:n,cutOffPreviousNotes:r,setCutOffPreviousNotes:o,eq:i,setEq:a,octaveOffset:u,setOctaveOffset:f,reverbLevel:p,setReverbLevel:m,noteDuration:g,setNoteDuration:y,volume:v,setVolume:x,chorusLevel:N,setChorusLevel:j,delayLevel:E,setDelayLevel:k})=>{const V=z=>{const{name:T,value:L}=z.target;a({...i,[T]:parseFloat(L)})};return c.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden px-2 ${n?"max-h-[600px] opacity-100 mt-6":"max-h-0 opacity-0"}`,children:c.jsxs("div",{className:"bg-[#3d434f] border border-gray-600 rounded-lg overflow-hidden w-full max-w-7xl mx-auto",children:[c.jsx("div",{className:"px-4 py-3 border-b border-gray-600",children:c.jsx("h3",{className:"text-sm font-medium text-slate-200 uppercase tracking-wider",children:"Piano Settings"})}),c.jsx("div",{className:"p-6 bg-[#444b59]",children:c.jsxs("div",{className:"grid grid-cols-2 gap-x-8",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Volume",c.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",Math.round(v*100),"%)"]})]}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:"range",min:"0",max:"1.0",step:"0.05",value:v,onChange:z=>x(parseFloat(z.target.value)),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:"Octave Shift"}),c.jsxs("div",{className:"flex items-center justify-between bg-[#3d434f] border border-gray-600 rounded-md p-1.5",children:[c.jsx("button",{onClick:()=>f(Math.max(-3,u-1)),className:"w-6 h-6 flex items-center justify-center text-slate-300 hover:text-slate-200 hover:bg-[#4a5262] rounded transition-colors",disabled:u<=-3,children:""}),c.jsx("span",{className:"font-mono !text-xs text-slate-200 px-2",children:u===0?"Normal":`${u>0?"+":""}${u} octave${Math.abs(u)>1?"s":""}`}),c.jsx("button",{onClick:()=>f(Math.min(3,u+1)),className:"w-6 h-6 flex items-center justify-center text-slate-300 hover:text-slate-200 hover:bg-[#4a5262] rounded transition-colors",disabled:u>=3,children:"+"})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Reverb",c.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",Math.round(p*100),"%)"]})]}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:"range",min:"0",max:"1.0",step:"0.05",value:p,onChange:z=>m(parseFloat(z.target.value)),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Note Duration",c.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",Math.round(g*100),"%)"]})]}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:"range",min:"0.1",max:"1.0",step:"0.05",value:g,onChange:z=>y(parseFloat(z.target.value)),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})})]}),c.jsx("div",{children:c.jsxs("label",{className:"flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",className:"w-3.5 h-3.5 text-blue-600 bg-[#3d434f] border-gray-600 rounded focus:ring-blue-500 focus:ring-1",checked:r,onChange:z=>o(z.target.checked)}),c.jsx("span",{className:"ml-2 text-xs text-slate-300 uppercase tracking-wide",children:"Cut off previous notes"})]})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:"Equalizer"}),c.jsx("div",{className:"space-y-3",children:[{label:"Bass",key:"bass"},{label:"Mid",key:"mid"},{label:"Treble",key:"treble"}].map(({label:z,key:T})=>c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wide",children:z}),c.jsxs("span",{className:"text-xs text-slate-400 font-mono",children:[i[T]>0?"+":"",i[T].toFixed(1),"dB"]})]}),c.jsx("input",{type:"range",name:T,min:"-24",max:"24",step:"0.5",value:i[T],onChange:V,className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})]},T))})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Chorus",c.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",Math.round(N*100),"%)"]})]}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:"range",min:"0",max:"1.0",step:"0.05",value:N,onChange:z=>j(parseFloat(z.target.value)),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Delay",c.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",Math.round(E*100),"%)"]})]}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:"range",min:"0",max:"1.0",step:"0.05",value:E,onChange:z=>k(parseFloat(z.target.value)),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})})]})]})]})]})})]})})},un=({children:n,onClick:r,className:o="",variant:i="primary",size:a="md",disabled:u=!1,active:f=!1,"aria-label":p,"aria-expanded":m,type:g="button",title:y})=>{const v=`
    inline-flex justify-center items-center gap-x-2 rounded-sm
    font-medium border
    focus:outline-none
    transition-all duration-200 ease-out
    disabled:opacity-50 disabled:cursor-not-allowed
    relative overflow-hidden
  `,x=`
    focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#2a2f38]
  `,N={sm:"px-3 py-1.5 text-xs h-8",md:"px-4 py-2.5 text-sm h-10",lg:"px-6 py-3 text-base h-12",icon:"w-8 h-8 flex items-center justify-center p-0"},j={primary:`
      ${f?"bg-[#525a6b] border-gray-500 text-slate-100":"bg-[#3d434f] border-gray-600 text-slate-200 hover:bg-[#4a5262] hover:border-gray-500"}
      focus:ring-blue-500/50
    `,secondary:`
      ${f?"bg-[#525a6b] border-gray-500 text-slate-100":"bg-[#4a5262] border-gray-500 text-slate-200 hover:bg-[#525a6b] hover:border-gray-400"}
      focus:ring-gray-400/50
    `,success:`
      ${f?"bg-green-600 border-green-500 text-green-100":"bg-green-700 border-green-600 text-green-100 hover:bg-green-600 hover:border-green-500"}
      focus:ring-green-500/50
    `,danger:`
      ${f?"bg-red-600 border-red-500 text-red-100":"bg-red-700 border-red-600 text-red-100 hover:bg-red-600 hover:border-red-500"}
      focus:ring-red-500/50
    `,icon:`
      ${f?"bg-[#525a6b] border-gray-500 text-slate-200":"bg-[#3d434f] border-gray-600 text-slate-400 hover:bg-[#4a5262] hover:border-gray-500 hover:text-slate-200"}
      focus:ring-gray-500/50
    `,"play-stop":`
      ${f?"bg-red-700 hover:bg-red-600 border-red-600 text-white":"bg-green-600 hover:bg-green-500 border-green-500 text-white"}
      font-medium uppercase tracking-wide text-sm w-[7em] px-4 py-2
      focus:ring-green-500/50
    `};return c.jsx("button",{type:g,onClick:r,disabled:u,"aria-label":p,"aria-expanded":m,title:y,className:pt(v,x,N[a],j[i],o),children:c.jsx("span",{className:pt("flex items-center gap-x-2 tracking-wide","relative"),children:n})})},ny=({children:n,onClick:r,className:o="",variant:i="primary",size:a="md",disabled:u=!1,active:f=!1,"aria-label":p,"aria-expanded":m,type:g="button",title:y})=>{const v=`
    font-medium transition-all duration-200 rounded-md border
    focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#2a2f38]
    disabled:opacity-50 disabled:cursor-not-allowed
    flex items-center justify-center gap-1
  `,x={sm:"py-1 px-3 text-xs",md:"py-2 px-4 text-sm",lg:"py-3 px-6 text-base"},N={primary:f?"bg-blue-600 border-blue-500 text-white focus:ring-blue-500":"bg-blue-700 border-blue-600 hover:bg-blue-600 hover:border-blue-500 text-white focus:ring-blue-500",secondary:f?"bg-[#525a6b] border-gray-500 text-white focus:ring-gray-500":"bg-[#4a5262] border-gray-600 hover:bg-[#525a6b] hover:border-gray-500 text-white focus:ring-gray-500",danger:f?"bg-red-600 border-red-500 text-white focus:ring-red-500":"bg-red-700 border-red-600 hover:bg-red-600 hover:border-red-500 text-white focus:ring-red-500",success:f?"bg-green-600 border-green-500 text-white focus:ring-green-500":"bg-green-700 border-green-600 hover:bg-green-600 hover:border-green-500 text-white focus:ring-green-500"};return c.jsx("button",{type:g,onClick:r,disabled:u,"aria-label":p,"aria-expanded":m,title:y,className:pt(v,x[a],N[i],o),children:n})};class ry extends w.Component{constructor(r){super(r),this.handleKeyDown=o=>{const{noteRange:i,keyboardShortcutOffset:a}=this.props.config;if(!i)return;const u=i.last-i.first+1,f=0,p=u-this.props.keyboardShortcuts.length;if(o.key==="ArrowLeft"){const m=a-1;m>=f&&this.props.setConfig({keyboardShortcutOffset:m})}else if(o.key==="ArrowRight"){const m=a+1;m<=p&&this.props.setConfig({keyboardShortcutOffset:m})}},this.onChangeFirstNote=o=>{this.props.setConfig({noteRange:{first:parseInt(o.target.value,10),last:this.props.config.noteRange.last}})},this.onChangeLastNote=o=>{this.props.setConfig({noteRange:{first:this.props.config.noteRange.first,last:parseInt(o.target.value,10)}})},this.onChangeInstrument=o=>{const i=o.replaceAll(" ","_");this.props.setConfig({instrumentName:i}),this.props.onInstrumentChange(i)},this.state={settingsOpen:!1}}componentDidMount(){window.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown)}render(){const{noteRange:r,instrumentName:o}=this.props.config;return c.jsxs("div",{children:[c.jsx("div",{className:"flex justify-center",children:c.jsxs("div",{className:"inline-flex items-center gap-2",children:[c.jsx("div",{className:"inline-block",children:c.jsx(ey,{value:"voice"})}),c.jsx("div",{className:"inline-block",children:c.jsx(cn,{className:"form-control h-10",value:this.props.config.instrumentName.replaceAll("_"," ")||o.replaceAll("_"," "),onChange:this.onChangeInstrument,options:this.props.instrumentList.map(i=>i.replaceAll("_"," ")),showSearch:!0})}),c.jsx("div",{className:"inline-block",children:c.jsx(un,{onClick:()=>this.setState({settingsOpen:!this.state.settingsOpen}),active:this.state.settingsOpen,"aria-label":"Sound Settings","aria-expanded":this.state.settingsOpen,size:"sm",className:"h-10 ",children:c.jsx(Gx,{className:"h-5 w-5 text-slate-400 group-hover:text-slate-300 transition-colors duration-200 flex-shrink-0"})})})]})}),c.jsx("div",{className:"flex justify-center",children:c.jsx(ty,{isOpen:this.state.settingsOpen,cutOffPreviousNotes:this.props.cutOffPreviousNotes,setCutOffPreviousNotes:this.props.setCutOffPreviousNotes,eq:this.props.eq,setEq:this.props.setEq,octaveOffset:this.props.octaveOffset,setOctaveOffset:this.props.setOctaveOffset,reverbLevel:this.props.reverbLevel,setReverbLevel:this.props.setReverbLevel,noteDuration:this.props.noteDuration,setNoteDuration:this.props.setNoteDuration,volume:this.props.volume,setVolume:this.props.setVolume,chorusLevel:this.props.chorusLevel,setChorusLevel:this.props.setChorusLevel,delayLevel:this.props.delayLevel,setDelayLevel:this.props.setDelayLevel})})]})}}var qa={exports:{}},Ka={exports:{}},Ya,Rp;function sy(){if(Rp)return Ya;Rp=1;function n(o){return o>64&&o<91?o-65:o>96&&o<123?o-71:o>47&&o<58?o+4:o===43?62:o===47?63:0}function r(o,i){for(var a=o.replace(/[^A-Za-z0-9\+\/]/g,""),u=a.length,f=i?Math.ceil((u*3+1>>2)/i)*i:u*3+1>>2,p=new Uint8Array(f),m,g,y=0,v=0,x=0;x<u;x++)if(g=x&3,y|=n(a.charCodeAt(x))<<18-6*g,g===3||u-x===1){for(m=0;m<3&&v<f;m++,v++)p[v]=y>>>(16>>>m&24)&255;y=0}return p}return Ya={decode:r},Ya}var Qa,Dp;function oy(){return Dp||(Dp=1,Qa=function(n,r){return new Promise(function(o,i){var a=new XMLHttpRequest;r&&(a.responseType=r),a.open("GET",n),a.onload=function(){a.status===200?o(a.response):i(Error(a.statusText))},a.onerror=function(){i(Error("Network Error"))},a.send()})}),Qa}var Ip;function iy(){return Ip||(Ip=1,function(n){var r=sy(),o=oy();function i($){return function(A){return typeof A=="string"&&$.test(A)}}function a($,A){return typeof $=="string"?$+A:typeof $=="function"?$(A):A}function u($,A,Z,H){var de=f(A)?p:m(A)?g:y(A)?v:x(A)?N:j(A)?E:k(A)?V:z(A)?T:L(A)?O:null,W=Z||{};return de?de($,A,W):H?Promise.resolve(H):Promise.reject("Source not valid ("+A+")")}u.fetch=o;function f($){return $ instanceof ArrayBuffer}function p($,A,Z){return new Promise(function(H,de){$.decodeAudioData(A,function(W){H(W)},function(){de("Can't decode audio data ("+A.slice(0,30)+"...)")})})}var m=i(/\.(mp3|wav|ogg)(\?.*)?$/i);function g($,A,Z){var H=a(Z.from,A);return u($,u.fetch(H,"arraybuffer"),Z)}function y($){return $&&typeof $.then=="function"}function v($,A,Z){return A.then(function(H){return u($,H,Z)})}var x=Array.isArray;function N($,A,Z){return Promise.all(A.map(function(H){return u($,H,Z,H)}))}function j($){return $&&typeof $=="object"}function E($,A,Z){var H={},de=Object.keys(A).map(function(W){if(Z.only&&Z.only.indexOf(W)===-1)return null;var G=A[W];return u($,G,Z,G).then(function(ae){H[W]=ae})});return Promise.all(de).then(function(){return H})}var k=i(/\.json(\?.*)?$/i);function V($,A,Z){var H=a(Z.from,A);return u($,u.fetch(H,"text").then(JSON.parse),Z)}var z=i(/^data:audio/);function T($,A,Z){var H=A.indexOf(",");return u($,r.decode(A.slice(H+1)).buffer,Z)}var L=i(/\.js(\?.*)?$/i);function O($,A,Z){var H=a(Z.from,A);return u($,u.fetch(H,"text").then(F),Z)}function F($){var A=$.indexOf("MIDI.Soundfont.");if(A<0)throw Error("Invalid MIDI.js Soundfont format");A=$.indexOf("=",A)+2;var Z=$.lastIndexOf(",");return JSON.parse($.slice(A,Z)+"}")}n.exports&&(n.exports=u),typeof window<"u"&&(window.loadAudio=u)}(Ka)),Ka.exports}var Za={exports:{}},Xa,Ap;function ly(){if(Ap)return Xa;Ap=1,Xa=n;function n(p){var m=p.createGain(),g=m._voltage=i(p),y=a(g),v=a(g),x=a(g);return m._startAmount=a(v),m._endAmount=a(x),m._multiplier=a(y),m._multiplier.connect(m),m._startAmount.connect(m),m._endAmount.connect(m),m.value=y.gain,m.startValue=v.gain,m.endValue=x.gain,m.startValue.value=0,m.endValue.value=0,Object.defineProperties(m,r),m}var r={attack:{value:0,writable:!0},decay:{value:0,writable:!0},sustain:{value:1,writable:!0},release:{value:0,writable:!0},getReleaseDuration:{value:function(){return this.release}},start:{value:function(p){var m=this._multiplier.gain,g=this._startAmount.gain,y=this._endAmount.gain;this._voltage.start(p),this._decayFrom=this._decayFrom=p+this.attack,this._startedAt=p;var v=this.sustain;m.cancelScheduledValues(p),g.cancelScheduledValues(p),y.cancelScheduledValues(p),y.setValueAtTime(0,p),this.attack?(m.setValueAtTime(0,p),m.linearRampToValueAtTime(1,p+this.attack),g.setValueAtTime(1,p),g.linearRampToValueAtTime(0,p+this.attack)):(m.setValueAtTime(1,p),g.setValueAtTime(0,p)),this.decay&&m.setTargetAtTime(v,this._decayFrom,u(this.decay))}},stop:{value:function(p,m){m&&(p=p-this.release);var g=p+this.release;if(this.release){var y=this._multiplier.gain,v=this._startAmount.gain,x=this._endAmount.gain;y.cancelScheduledValues(p),v.cancelScheduledValues(p),x.cancelScheduledValues(p);var N=u(this.release);if(this.attack&&p<this._decayFrom){var j=f(0,1,this._startedAt,this._decayFrom,p);y.linearRampToValueAtTime(j,p),v.linearRampToValueAtTime(1-j,p),v.setTargetAtTime(0,p,N)}x.setTargetAtTime(1,p,N),y.setTargetAtTime(0,p,N)}return this._voltage.stop(g),g}},onended:{get:function(){return this._voltage.onended},set:function(p){this._voltage.onended=p}}},o=new Float32Array([1,1]);function i(p){var m=p.createBufferSource(),g=p.createBuffer(1,2,p.sampleRate);return g.getChannelData(0).set(o),m.buffer=g,m.loop=!0,m}function a(p){var m=p.context.createGain();return p.connect(m),m}function u(p){return Math.log(p+1)/Math.log(100)}function f(p,m,g,y,v){var x=m-p,N=y-g,j=v-g,E=j/N,k=p+E*x;return k<=p&&(k=p),k>=m&&(k=m),k}return Xa}var Ja,_p;function ay(){if(_p)return Ja;_p=1;var n=ly(),r={},o={gain:1,attack:.01,decay:.1,sustain:.9,release:.3,loop:!1,cents:0,loopStart:0,loopEnd:0};function i(m,g,y){var v=!1,x=0,N={},j=m.createGain();j.gain.value=1;var E=Object.assign({},o,y),k={context:m,out:j,opts:E};return g instanceof AudioBuffer?k.buffer=g:k.buffers=g,k.start=function(T,L,O){if(k.buffer&&T!==null)return k.start(null,T,L);var F=T?k.buffers[T]:k.buffer;if(F){if(!v){console.warn("SamplePlayer not connected to any node.");return}}else{console.warn("Buffer "+T+" not found.");return}var $=O||r;L=Math.max(m.currentTime,L||0),k.emit("start",L,T,$);var A=z(T,F,$);return A.id=V(T,A),A.env.start(L),A.source.start(L),k.emit("started",L,A.id,A),$.duration&&A.stop(L+$.duration),A},k.play=function(T,L,O){return k.start(T,L,O)},k.stop=function(T,L){var O;return L=L||Object.keys(N),L.map(function(F){return O=N[F],O?(O.stop(T),O.id):null})},k.connect=function(T){return v=!0,j.connect(T),k},k.emit=function(T,L,O,F){k.onevent&&k.onevent(T,L,O,F);var $=k["on"+T];$&&$(L,O,F)},k;function V(T,L){return L.id=x++,N[L.id]=L,L.source.onended=function(){var O=m.currentTime;L.source.disconnect(),L.env.disconnect(),L.disconnect(),k.emit("ended",O,L.id,L)},L.id}function z(T,L,O){var F=m.createGain();return F.gain.value=0,F.connect(j),F.env=f(m,O,E),F.env.connect(F.gain),F.source=m.createBufferSource(),F.source.buffer=L,F.source.connect(F),F.source.loop=O.loop||E.loop,F.source.playbackRate.value=p(O.cents||E.cents),F.source.loopStart=O.loopStart||E.loopStart,F.source.loopEnd=O.loopEnd||E.loopEnd,F.stop=function($){var A=$||m.currentTime;k.emit("stop",A,T);var Z=F.env.stop(A);F.source.stop(Z)},F}}function a(m){return typeof m=="number"}var u=["attack","decay","sustain","release"];function f(m,g,y){var v=n(m),x=g.adsr||y.adsr;return u.forEach(function(N,j){x?v[N]=x[j]:v[N]=g[N]||y[N]}),v.value.value=a(g.gain)?g.gain:a(y.gain)?y.gain:1,v}function p(m){return m?Math.pow(2,m/1200):1}return Ja=i,Ja}var ec,Op;function cy(){if(Op)return ec;Op=1,ec=function(r){return r.on=function(o,i){if(arguments.length===1&&typeof o=="function")return r.on("event",o);var a="on"+o,u=r[a];return r[a]=u?n(u,i):i,r},r};function n(r,o){return function(i,a,u,f){r(i,a,u,f),o(i,a,u,f)}}return ec}var tc,Tp;function uy(){if(Tp)return tc;Tp=1;var n=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;function r(){return n}var o=[0,2,4,5,7,9,11];function i(p,m,g){if(typeof p!="string")return null;var y=n.exec(p);if(!y||!m&&y[4])return null;var v={letter:y[1].toUpperCase(),acc:y[2].replace(/x/g,"##")};return v.pc=v.letter+v.acc,v.step=(v.letter.charCodeAt(0)+3)%7,v.alt=v.acc[0]==="b"?-v.acc.length:v.acc.length,v.chroma=o[v.step]+v.alt,y[3]&&(v.oct=+y[3],v.midi=v.chroma+12*(v.oct+1),v.freq=a(v.midi,g)),m&&(v.tonicOf=y[4]),v}function a(p,m){return Math.pow(2,(p-69)/12)*(m||440)}var u={parse:i,regex:r,midiToFreq:a},f=["letter","acc","pc","step","alt","chroma","oct","midi","freq"];return f.forEach(function(p){u[p]=function(m){var g=i(m);return g&&typeof g[p]<"u"?g[p]:null}}),tc=u,tc}var nc,Mp;function dy(){if(Mp)return nc;Mp=1;var n=uy(),r=function(a){return a!==null&&a!==[]&&a>=0&&a<129},o=function(a){return r(a)?+a:n.midi(a)};nc=function(a){if(a.buffers){var u=a.opts.map,f=typeof u=="function"?u:o,p=function(g){return g?f(g)||g:null};a.buffers=i(a.buffers,p);var m=a.start;a.start=function(g,y,v){var x=p(g),N=x%1;return N&&(x=Math.floor(x),v=Object.assign(v||{},{cents:Math.floor(N*100)})),m(x,y,v)}}return a};function i(a,u){return Object.keys(a).reduce(function(f,p){return f[u(p)]=a[p],f},{})}return nc}var rc,Lp;function fy(){if(Lp)return rc;Lp=1;var n=Array.isArray,r=function(i){return i&&typeof i=="object"},o={};return rc=function(i){return i.schedule=function(a,u){var f=i.context.currentTime,p=a<f?f:a;i.emit("schedule",p,u);var m,g,y,v;return u.map(function(x){if(x)n(x)?(m=x[0],g=x[1]):(m=x.time,g=x);else return null;return r(g)?(y=g.name||g.key||g.note||g.midi||null,v=g):(y=g,v=o),i.start(y,p+(m||0),v)})},i},rc}function Ci(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var sc={exports:{}},Fp;function py(){return Fp||(Fp=1,function(n,r){(function(o){n.exports=o()})(function(){return function o(i,a,u){function f(g,y){if(!a[g]){if(!i[g]){var v=typeof Ci=="function"&&Ci;if(!y&&v)return v(g,!0);if(p)return p(g,!0);var x=new Error("Cannot find module '"+g+"'");throw x.code="MODULE_NOT_FOUND",x}var N=a[g]={exports:{}};i[g][0].call(N.exports,function(j){var E=i[g][1][j];return f(E||j)},N,N.exports,o,i,a,u)}return a[g].exports}for(var p=typeof Ci=="function"&&Ci,m=0;m<u.length;m++)f(u[m]);return f}({1:[function(o,i,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(u){function f(p){if(this._event=p,this._data=p.data,this.receivedTime=p.receivedTime,this._data&&this._data.length<2){console.warn("Illegal MIDI message of length",this._data.length);return}switch(this._messageCode=p.data[0]&240,this.channel=p.data[0]&15,this._messageCode){case 128:this.messageType="noteoff",this.key=p.data[1]&127,this.velocity=p.data[2]&127;break;case 144:this.messageType="noteon",this.key=p.data[1]&127,this.velocity=p.data[2]&127;break;case 160:this.messageType="keypressure",this.key=p.data[1]&127,this.pressure=p.data[2]&127;break;case 176:this.messageType="controlchange",this.controllerNumber=p.data[1]&127,this.controllerValue=p.data[2]&127,this.controllerNumber===120&&this.controllerValue===0?this.channelModeMessage="allsoundoff":this.controllerNumber===121?this.channelModeMessage="resetallcontrollers":this.controllerNumber===122?this.controllerValue===0?this.channelModeMessage="localcontroloff":this.channelModeMessage="localcontrolon":this.controllerNumber===123&&this.controllerValue===0?this.channelModeMessage="allnotesoff":this.controllerNumber===124&&this.controllerValue===0?this.channelModeMessage="omnimodeoff":this.controllerNumber===125&&this.controllerValue===0?this.channelModeMessage="omnimodeon":this.controllerNumber===126?this.channelModeMessage="monomodeon":this.controllerNumber===127&&(this.channelModeMessage="polymodeon");break;case 192:this.messageType="programchange",this.program=p.data[1];break;case 208:this.messageType="channelpressure",this.pressure=p.data[1]&127;break;case 224:this.messageType="pitchbendchange";var m=p.data[2]&127,g=p.data[1]&127;this.pitchBend=(m<<8)+g;break}}return new f(u)},i.exports=a.default},{}]},{},[1])(1)})}(sc)),sc.exports}var oc,Bp;function hy(){if(Bp)return oc;Bp=1;var n=py();return oc=function(r){return r.listenToMidi=function(o,i){var a={},u=i||{},f=u.gain||function(p){return p/127};return o.onmidimessage=function(p){var m=p.messageType?p:n(p);if(m.messageType==="noteon"&&m.velocity===0&&(m.messageType="noteoff"),!(u.channel&&m.channel!==u.channel))switch(m.messageType){case"noteon":a[m.key]=r.play(m.key,0,{gain:f(m.velocity)});break;case"noteoff":a[m.key]&&(a[m.key].stop(),delete a[m.key]);break}},r},r},oc}var $p;function my(){return $p||($p=1,function(n){var r=ay(),o=cy(),i=dy(),a=fy(),u=hy();function f(p,m,g){return u(a(i(o(r(p,m,g)))))}n.exports&&(n.exports=f),typeof window<"u"&&(window.SamplePlayer=f)}(Za)),Za.exports}function zp(n,r){return Array(r+1).join(n)}function Hc(n){return typeof n=="number"}function gy(n){return typeof n=="string"}function vy(n){return typeof n<"u"}function zh(n,r){return Math.pow(2,(n-69)/12)*(r||440)}var Uh=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;function xy(){return Uh}var yy=[0,2,4,5,7,9,11];function Tn(n,r,o){if(typeof n!="string")return null;var i=Uh.exec(n);if(!i||!r&&i[4])return null;var a={letter:i[1].toUpperCase(),acc:i[2].replace(/x/g,"##")};a.pc=a.letter+a.acc,a.step=(a.letter.charCodeAt(0)+3)%7,a.alt=a.acc[0]==="b"?-a.acc.length:a.acc.length;var u=yy[a.step]+a.alt;return a.chroma=u<0?12+u:u%12,i[3]&&(a.oct=+i[3],a.midi=u+12*(a.oct+1),a.freq=zh(a.midi,o)),r&&(a.tonicOf=i[4]),a}var by="CDEFGAB";function wy(n){return Hc(n)?n<0?zp("b",-n):zp("#",n):""}function Ny(n){return Hc(n)?""+n:""}function Gh(n,r,o){return n===null||typeof n>"u"?null:n.step?Gh(n.step,n.alt,n.oct):n<0||n>6?null:by.charAt(n)+wy(r)+Ny(o)}function Wh(n){if((Hc(n)||gy(n))&&n>=0&&n<128)return+n;var r=Tn(n);return r&&vy(r.midi)?r.midi:null}function Sy(n,r){var o=Wh(n);return o===null?null:zh(o,r)}function Cy(n){return(Tn(n)||{}).letter}function jy(n){return(Tn(n)||{}).acc}function Ey(n){return(Tn(n)||{}).pc}function ky(n){return(Tn(n)||{}).step}function Py(n){return(Tn(n)||{}).alt}function Ry(n){return(Tn(n)||{}).chroma}function Dy(n){return(Tn(n)||{}).oct}const Iy=Object.freeze(Object.defineProperty({__proto__:null,acc:jy,alt:Py,build:Gh,chroma:Ry,freq:Sy,letter:Cy,midi:Wh,oct:Dy,parse:Tn,pc:Ey,regex:xy,step:ky},Symbol.toStringTag,{value:"Module"})),Ay=K0(Iy);var ic,Up;function _y(){if(Up)return ic;Up=1;var n=Ay;function r(a,u){if(console.warn("new Soundfont() is deprected"),console.log("Please use Soundfont.instrument() instead of new Soundfont().instrument()"),!(this instanceof r))return new r(a);this.nameToUrl=u||r.nameToUrl,this.ctx=a,this.instruments={},this.promises=[]}r.prototype.onready=function(a){console.warn("deprecated API"),console.log("Please use Promise.all(Soundfont.instrument(), Soundfont.instrument()).then() instead of new Soundfont().onready()"),Promise.all(this.promises).then(a)},r.prototype.instrument=function(a,u){console.warn("new Soundfont().instrument() is deprecated."),console.log("Please use Soundfont.instrument() instead.");var f=this.ctx;if(a=a||"default",a in this.instruments)return this.instruments[a];var p={name:a,play:i(f,u)};if(this.instruments[a]=p,a!=="default"){var m=r.instrument(f,a,u).then(function(g){return p.play=g.play,p});this.promises.push(m),p.onready=function(g){console.warn("onready is deprecated. Use Soundfont.instrument().then()"),m.then(g)}}else p.onready=function(g){console.warn("onready is deprecated. Use Soundfont.instrument().then()"),g()};return p};function o(a,u,f){return console.warn("Soundfont.loadBuffers is deprecate."),console.log("Use Soundfont.instrument(..) and get buffers properties from the result."),r.instrument(a,u,f).then(function(p){return p.buffers})}r.loadBuffers=o;function i(a,u){return u=u||{},function(f,p,m,g){console.warn("The oscillator player is deprecated."),console.log("Starting with version 0.9.0 you will have to wait until the soundfont is loaded to play sounds.");var y=f>0&&f<129?+f:n.midi(f),v=y?n.midiToFreq(y,440):null;if(v){m=m||.2,g=g||{};var x=g.destination||u.destination||a.destination,N=g.vcoType||u.vcoType||"sine",j=g.gain||u.gain||.4,E=a.createOscillator();E.type=N,E.frequency.value=v;var k=a.createGain();return k.gain.value=j,E.connect(k),k.connect(x),E.start(p),m>0&&E.stop(p+m),E}}}return r.noteToMidi=n.midi,ic=r,ic}var Gp;function Oy(){return Gp||(Gp=1,function(n){var r=iy(),o=my();function i(p,m,g){if(arguments.length===1)return function(j,E){return i(p,j,E)};var y=g||{},v=y.isSoundfontURL||a,x=y.nameToUrl||u,N=v(m)?m:x(m,y.soundfont,y.format);return r(p,N,{only:y.only||y.notes}).then(function(j){var E=o(p,j,y).connect(y.destination?y.destination:p.destination);return E.url=N,E.name=m,E})}function a(p){return/\.js(\?.*)?$/i.test(p)}function u(p,m,g){return g=g==="ogg"?g:"mp3",m=m==="FluidR3_GM"?m:"MusyngKite","https://gleitz.github.io/midi-js-soundfonts/"+m+"/"+p+"-"+g+".js"}var f=_y();f.instrument=i,f.nameToUrl=u,n.exports&&(n.exports=f),typeof window<"u"&&(window.Soundfont=f)}(qa)),qa.exports}var Ty=Oy();const My=ar(Ty),vu=class vu extends Re.Component{constructor(r){super(r),this.setupAudioChain=()=>{const{audioContext:o,eq:i,reverbLevel:a,volume:u,chorusLevel:f,delayLevel:p}=this.props;this.effectsChain=o.createGain(),this.masterVolumeNode=o.createGain(),this.masterVolumeNode.gain.value=u,this.bassNode=o.createBiquadFilter(),this.midNode=o.createBiquadFilter(),this.trebleNode=o.createBiquadFilter(),this.bassNode.type="lowshelf",this.bassNode.frequency.value=320,this.bassNode.gain.value=i.bass,this.midNode.type="peaking",this.midNode.frequency.value=1e3,this.midNode.Q.value=1,this.midNode.gain.value=i.mid,this.trebleNode.type="highshelf",this.trebleNode.frequency.value=3200,this.trebleNode.gain.value=i.treble,this.chorusDelayNode=o.createDelay(.05),this.chorusDelayNode.delayTime.value=.015,this.chorusLFO=o.createOscillator(),this.chorusLFO.frequency.value=1.5,this.chorusLFO.type="sine",this.chorusLFOGain=o.createGain(),this.chorusLFOGain.gain.value=.005,this.chorusDryGain=o.createGain(),this.chorusWetGain=o.createGain(),this.chorusMixNode=o.createGain(),this.chorusLFO.connect(this.chorusLFOGain),this.chorusLFOGain.connect(this.chorusDelayNode.delayTime),this.chorusLFO.start(),this.delayNode=o.createDelay(1),this.delayNode.delayTime.value=.3,this.delayFeedbackGain=o.createGain(),this.delayFeedbackGain.gain.value=.4,this.delayDryGain=o.createGain(),this.delayWetGain=o.createGain(),this.delayMixNode=o.createGain(),this.delayNode.connect(this.delayFeedbackGain),this.delayFeedbackGain.connect(this.delayNode),this.convolverNode=o.createConvolver(),this.wetGainNode=o.createGain(),this.dryGainNode=o.createGain(),this.convolverNode.buffer=this.generateImpulseResponse(o),this.effectsChain.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.bassNode),this.bassNode.connect(this.midNode),this.midNode.connect(this.trebleNode),this.trebleNode.connect(this.chorusDryGain),this.trebleNode.connect(this.chorusDelayNode),this.chorusDelayNode.connect(this.chorusWetGain),this.chorusDryGain.connect(this.chorusMixNode),this.chorusWetGain.connect(this.chorusMixNode),this.chorusMixNode.connect(this.delayDryGain),this.chorusMixNode.connect(this.delayNode),this.delayNode.connect(this.delayWetGain),this.delayDryGain.connect(this.delayMixNode),this.delayWetGain.connect(this.delayMixNode),this.delayMixNode.connect(this.dryGainNode),this.delayMixNode.connect(this.convolverNode),this.convolverNode.connect(this.wetGainNode),this.dryGainNode.connect(o.destination),this.wetGainNode.connect(o.destination),this.updateReverbMix(a),this.updateChorusMix(f),this.updateDelayMix(p)},this.generateImpulseResponse=o=>{const i=o.sampleRate,a=3,u=1.5,f=o.createBuffer(2,a*i,i);for(let p=0;p<2;p++){const m=f.getChannelData(p);for(let g=0;g<f.length;g++){const y=g/f.length,v=Math.sin(y*Math.PI*20)*Math.exp(-y*3),x=(Math.random()*2-1)*Math.pow(1-y,u),N=Math.sin(y*Math.PI*100)*.1*Math.exp(-y*8);m[g]=(v*.3+x*.6+N*.1)*1.5,p===1&&(m[g]*=1+Math.sin(y*Math.PI*7)*.2)}}return f},this.updateReverbMix=o=>{const i=this.props.audioContext.currentTime,a=Math.pow(o,.7)*1.2,u=1-o*.6;this.dryGainNode.gain.setValueAtTime(u,i),this.wetGainNode.gain.setValueAtTime(a,i)},this.updateChorusMix=o=>{const i=this.props.audioContext.currentTime,a=o*.8,u=1-o*.3;this.chorusDryGain.gain.setValueAtTime(u,i),this.chorusWetGain.gain.setValueAtTime(a,i)},this.updateDelayMix=o=>{const i=this.props.audioContext.currentTime,a=o*.6,u=1-o*.2;this.delayDryGain.gain.setValueAtTime(u,i),this.delayWetGain.gain.setValueAtTime(a,i)},this.updateVolume=o=>{const i=this.props.audioContext.currentTime;this.masterVolumeNode.gain.setValueAtTime(o,i)},this.loadInstrument=o=>{this.setState({instrument:null}),My.instrument(this.props.audioContext,o,{format:this.props.format,soundfont:this.props.soundfont,nameToUrl:(i,a,u)=>`${this.props.hostname}/${a}/${i}-${u}.js`,destination:this.effectsChain}).then(i=>{this.setState({instrument:i}),this.props.onLoad&&this.props.onLoad({playNote:this.playNote,stopNote:this.stopNote,stopAllNotes:this.stopAllNotes})})},this.playNote=o=>{this.resumeAudio().then(()=>{if(!this.state.instrument)return;const i=this.state.instrument.play(o.toString());this.setState(a=>({activeAudioNodes:{...a.activeAudioNodes,[o]:i}}))})},this.stopNote=o=>{this.resumeAudio().then(()=>{const i=this.state.activeAudioNodes[o];i&&(i.stop(),this.setState(a=>{const u={...a.activeAudioNodes};return delete u[o],{activeAudioNodes:u}}))})},this.resumeAudio=()=>this.props.audioContext.state==="suspended"?this.props.audioContext.resume():Promise.resolve(),this.stopAllNotes=()=>{this.resumeAudio().then(()=>{Object.values(this.state.activeAudioNodes).forEach(o=>{o&&o.stop()}),this.setState({activeAudioNodes:{}})})},this.state={activeAudioNodes:{},instrument:null},this.setupAudioChain()}componentDidMount(){this.loadInstrument(this.props.instrumentName)}componentDidUpdate(r){if(r.instrumentName!==this.props.instrumentName&&this.loadInstrument(this.props.instrumentName),JSON.stringify(r.eq)!==JSON.stringify(this.props.eq)){const o=this.props.audioContext.currentTime;this.bassNode.gain.setValueAtTime(this.props.eq.bass,o),this.midNode.gain.setValueAtTime(this.props.eq.mid,o),this.trebleNode.gain.setValueAtTime(this.props.eq.treble,o)}r.reverbLevel!==this.props.reverbLevel&&this.updateReverbMix(this.props.reverbLevel),r.volume!==this.props.volume&&this.updateVolume(this.props.volume),r.chorusLevel!==this.props.chorusLevel&&this.updateChorusMix(this.props.chorusLevel),r.delayLevel!==this.props.delayLevel&&this.updateDelayMix(this.props.delayLevel)}render(){return this.props.render?this.props.render({isLoading:!this.state.instrument,playNote:this.playNote,stopNote:this.stopNote,stopAllNotes:this.stopAllNotes}):null}};vu.defaultProps={format:"mp3",soundfont:"MusyngKite",instrumentName:"acoustic_grand_piano",eq:{bass:0,mid:0,treble:0},reverbLevel:0,volume:.8,chorusLevel:0,delayLevel:0};let Cc=vu;const Wp=typeof window<"u"?new(window.AudioContext||window.webkitAudioContext):null,Ly=4,Fy=7,By=({activeNotes:n,normalizedScaleNotes:r,activeChordIndex:o,addedChords:i,currentlyActivePattern:a,globalPatternState:u,onPatternStateChange:f,pianoSettings:p,availableInstruments:m,onInstrumentChange:g,onCutOffPreviousNotesChange:y,onEqChange:v,onOctaveOffsetChange:x,onReverbLevelChange:N,onNoteDurationChange:j,onVolumeChange:E,onChorusLevelChange:k,onDelayLevelChange:V,onAvailableInstrumentsChange:z,hideConfigControls:T=!1})=>{const L="https://d1pzp51pvbm36p.cloudfront.net",O=w.useRef(null),[F,$]=w.useState([]),A=w.useRef(-1),Z=w.useRef(null),H=w.useRef(null),[de,W]=w.useState(500),G=w.useMemo(()=>{const Q=de;return Q<400?Math.max(320,Q-40):Q<768?Math.min(600,Q-60):Q<1200?Math.min(800,Q-80):Math.min(1e3,Q-100)},[de]);w.useEffect(()=>{const Q=()=>{H.current&&W(H.current.offsetWidth)};Q();const ce=new ResizeObserver(()=>{Q()});H.current&&ce.observe(H.current);const xe=()=>{Q()};return window.addEventListener("resize",xe),()=>{ce.disconnect(),window.removeEventListener("resize",xe)}},[]);const{firstNote:ae,lastNote:pe,keyboardShortcuts:q,midiOffset:fe}=w.useMemo(()=>{const Q="c",ce=yt.fromNote(`${Q}${Ly}`),xe=yt.fromNote(`${Q}${Fy}`),ue=p.octaveOffset*12;return{firstNote:ce,lastNote:xe,midiOffset:ue,keyboardShortcuts:hp.create({firstNote:ce,lastNote:xe,keyboardConfig:hp.HOME_ROW})}},[p.octaveOffset]),[U,J]=w.useState({instrumentName:p.instrumentName});w.useEffect(()=>{J(Q=>({...Q,instrumentName:p.instrumentName}))},[p.instrumentName]),w.useEffect(()=>{if(Z.current&&(clearTimeout(Z.current),Z.current=null),!u.isPlaying&&n.length>0){const Q=n.map(({note:ce,octave:xe=4})=>yt.fromNote(`${ce}${xe}`));$(Q),Z.current=setTimeout(()=>{u.isPlaying||$([])},2e3)}else!u.isPlaying&&n.length===0&&$([]);return()=>{Z.current&&(clearTimeout(Z.current),Z.current=null)}},[n,u.isPlaying]);const K=w.useCallback(()=>o!==null&&i[o]?i[o].pattern:a,[o,i,a]),R=w.useCallback((Q,ce)=>{if(Q==="x"||Q==="X")return null;const xe=Q.includes("+"),ue=Q.includes("-"),le=parseInt(Q.replace(/[+-]/g,""))-1;return le>=0&&le<ce?{noteIndex:le,octaveUp:xe,octaveDown:ue}:null},[]),C=w.useCallback(()=>6e4/u.bpm*u.subdivision,[u.bpm,u.subdivision]);w.useEffect(()=>{const Q=K();if(u.isPlaying&&n.length>0&&Q?.length>0&&u.currentStep!==A.current){A.current=u.currentStep;const ce=u.currentStep%Q.length,xe=Q[ce],ue=R(xe,n.length);if(ue){const{noteIndex:le,octaveUp:Le,octaveDown:bt}=ue,{note:Ie,octave:Xe=4}=n[le];let ct=Xe;Le&&(ct+=1),bt&&(ct-=1),ct=Math.max(1,Math.min(8,ct));const _e=yt.fromNote(`${Ie}${ct}`);!p.cutOffPreviousNotes&&O.current&&O.current(),$([_e]);const Et=C(),bn=Math.min(Et*p.noteDuration,Et-50);setTimeout(()=>{$([])},bn)}else $([])}else u.isPlaying||A.current!==-1&&($([]),A.current=-1)},[u.currentStep,u.isPlaying,n,p.cutOffPreviousNotes,p.noteDuration,C,K,R]);const X=Q=>ce=>{!p.cutOffPreviousNotes&&O.current&&O.current(),Q(ce+fe)},se=Q=>ce=>{Q(ce+fe)};return Wp?c.jsx(Cc,{instrumentName:p.instrumentName,audioContext:Wp,hostname:L,eq:p.eq,reverbLevel:p.reverbLevel,volume:p.volume,chorusLevel:p.chorusLevel,delayLevel:p.delayLevel,render:({isLoading:Q,playNote:ce,stopNote:xe,stopAllNotes:ue})=>(O.current=ue,c.jsxs(c.Fragment,{children:[c.jsx("div",{ref:H,className:"relative w-full",children:c.jsx("div",{className:"w-full flex justify-center overflow-x-auto",children:c.jsx(zc,{noteRange:{first:ae,last:pe},playNote:X(ce),stopNote:se(xe),disabled:Q,width:G,className:"mx-auto w-full",activeNotes:F,renderNoteLabel:({midiNumber:le,isAccidental:Le})=>{const bt=yt.getAttributes(le).note.slice(0,-1);return r.includes(Js(bt))?c.jsx("div",{className:`mx-auto mb-2 w-2 h-2 rounded-full ${Le?"bg-blue-300":"bg-blue-500"}`}):null}})})}),!T&&c.jsx("div",{className:"mt-5",children:c.jsx(Ii,{hostname:L,render:le=>(le&&le.length>0&&JSON.stringify(le)!==JSON.stringify(m)&&z(le),c.jsx(ry,{config:U,setConfig:J,instrumentList:le||m,keyboardShortcuts:q,cutOffPreviousNotes:p.cutOffPreviousNotes,setCutOffPreviousNotes:y,eq:p.eq,setEq:v,octaveOffset:p.octaveOffset,setOctaveOffset:x,reverbLevel:p.reverbLevel,setReverbLevel:N,noteDuration:p.noteDuration,setNoteDuration:j,volume:p.volume,setVolume:E,chorusLevel:p.chorusLevel,setChorusLevel:k,delayLevel:p.delayLevel,setDelayLevel:V,onInstrumentChange:g}))})}),c.jsx(Ii,{hostname:L,render:le=>(le&&le.length>0&&JSON.stringify(le)!==JSON.stringify(m)&&z(le),c.jsx(c.Fragment,{}))})]}))}):c.jsx("div",{children:"Audio context is not available."})},ke={BASIC:"basic",RHYTHMIC:"rhythmic",ADVANCED:"advanced",GENRE:"genre"},Vp=[{name:"Root Only",pattern:["1","x","1","x"],desc:"Simple root note emphasis",icon:"",category:ke.BASIC},{name:"Root Bass",pattern:["1","x","x","x","1","x","x","x"],desc:"Steady root note bass line",icon:"",category:ke.BASIC},{name:"Up Down",pattern:["1","2","3","4","3","2"],desc:"Classic ascending and descending",icon:"",category:ke.BASIC},{name:"Broken Chord",pattern:["1","3","2","4"],desc:"Mixed chord tones",icon:"",category:ke.BASIC},{name:"Octave Jump",pattern:["1","1+","1","1+"],desc:"Root note with octave jumps",icon:"",category:ke.BASIC},{name:"Waltz",pattern:["1","2","3"],desc:"Three-beat waltz pattern",icon:"",category:ke.BASIC},{name:"Alberti Bass",pattern:["1","3","2","3","1","3","2","3"],desc:"Classical broken chord accompaniment",icon:"",category:ke.BASIC},{name:"Syncopated",pattern:["x","1","x","2","x","3","1","x"],desc:"Off-beat emphasis",icon:"",category:ke.RHYTHMIC},{name:"Dotted Rhythm",pattern:["1","x","x","2","x","x"],desc:"Long-short rhythm pattern",icon:"",category:ke.RHYTHMIC},{name:"Staccato",pattern:["1","x","2","x","3","x","4","x"],desc:"Short, detached notes",icon:"",category:ke.RHYTHMIC},{name:"Legato Flow",pattern:["1","2","3","4","4","3","2","1"],desc:"Smooth, connected motion",icon:"",category:ke.ADVANCED},{name:"Fifth Wheel",pattern:["1","2","3","4","5"],desc:"Simple ascent through 5-note chord",icon:"5",category:ke.BASIC},{name:"Pentagon",pattern:["1","3","5","2","4","1"],desc:"Geometric pattern through 5 notes",icon:"",category:ke.BASIC},{name:"Five Alive",pattern:["1","5","2","4","3","5","1","x"],desc:"Dynamic 5-note exploration",icon:"",category:ke.ADVANCED},{name:"Jazz Walk",pattern:["1","2","3","4","5","4","3","2"],desc:"Walking bass with 5th extension",icon:"",category:ke.ADVANCED},{name:"Quintet Roll",pattern:["1","x","2","3","x","4","5","x"],desc:"Rolled chord with gaps",icon:"",category:ke.RHYTHMIC},{name:"High Five",pattern:["1","2+","3","4+","5","1+"],desc:"Mix of regular and high octave notes",icon:"",category:ke.ADVANCED},{name:"Hexagon",pattern:["1","2","3","4","5","6"],desc:"Complete 6-note ascent",icon:"",category:ke.BASIC},{name:"Six Pack",pattern:["1","6","2","5","3","4"],desc:"Outside-in pattern",icon:"",category:ke.ADVANCED},{name:"Jazz Cascade",pattern:["1","3","5","6","4","2","1","x"],desc:"Complex jazz voicing pattern",icon:"",category:ke.ADVANCED},{name:"Spiral Six",pattern:["1","4","2","5","3","6","1"],desc:"Spiraling through 6 notes",icon:"",category:ke.ADVANCED},{name:"Double Triple",pattern:["1","2","3","4","5","6","6","5","4","3","2","1"],desc:"Up and down through all 6 notes",icon:"",category:ke.ADVANCED},{name:"Sixth Sense",pattern:["1","x","3","x","5","x","6","x"],desc:"Selective 6-note chord tones",icon:"",category:ke.RHYTHMIC},{name:"Polyrhythm",pattern:["1","x","x","2","x","3","x","x","1","x","3","x"],desc:"Complex rhythmic displacement",icon:"",category:ke.RHYTHMIC},{name:"Bounce",pattern:["1","4","1","4","2","3","2","3"],desc:"Bouncing between chord tones",icon:"",category:ke.ADVANCED},{name:"Cascade",pattern:["4+","3+","2+","1+","4","3","2","1"],desc:"Waterfall effect across octaves",icon:"",category:ke.ADVANCED},{name:"Morse Code",pattern:["1","x","1","1","x","x","1","x","1","1","x"],desc:"Dot-dash rhythm pattern",icon:"",category:ke.RHYTHMIC},{name:"Fibonacci",pattern:["1","1","2","3","2","1","3","4"],desc:"Based on Fibonacci sequence",icon:"",category:ke.ADVANCED},{name:"Pendulum",pattern:["1","3","2","4","3","1","2","4","3","2"],desc:"Swinging motion through chord",icon:"",category:ke.ADVANCED},{name:"Stutter Step",pattern:["1","1","x","2","2","x","3","3","x"],desc:"Repeated notes with rests",icon:"",category:ke.RHYTHMIC},{name:"Call Response",pattern:["1","x","x","3","2","x","x","4"],desc:"Question and answer phrases",icon:"",category:ke.RHYTHMIC},{name:"Spiral",pattern:["1","2","4","3","1","4","2","3"],desc:"Spiraling chord progression",icon:"",category:ke.ADVANCED},{name:"Latin Clave",pattern:["1","x","x","1","x","1","x","x"],desc:"Based on Latin clave rhythm",icon:"",category:ke.RHYTHMIC},{name:"Long Journey",pattern:["1","2","x","3","4","x","3","2","1","x","2","3","4","x","x","1"],desc:"Extended 16-step pattern",icon:"",category:ke.ADVANCED},{name:"Minimalist",pattern:["1","x","x","x","x","x","x","x"],desc:"Sparse, contemplative",icon:"",category:ke.BASIC},{name:"Maximalist",pattern:["1","2","3","4","1+","2+","3+","4+"],desc:"Dense, energetic pattern",icon:"",category:ke.ADVANCED},{name:"Ghost Notes",pattern:["1","x","2","x","x","3","x","4","x","x"],desc:"Implied rhythm with spaces",icon:"",category:ke.RHYTHMIC},{name:"Power Chord",pattern:["1","1","1+","1+"],desc:"Rock-style power chord emphasis",icon:"",category:ke.BASIC},{name:"Bossa Nova",pattern:["1","x","2","x","3","x","4","2"],desc:"Brazilian bossa nova feel",icon:"",category:ke.GENRE},{name:"Reggae Skank",pattern:["x","2","x","4","x","2","x","4"],desc:"Reggae upstroke pattern",icon:"",category:ke.GENRE},{name:"Tango",pattern:["1","x","2","3","x","x","4","x"],desc:"Dramatic tango rhythm",icon:"",category:ke.GENRE},{name:"Swing Feel",pattern:["1","x","3","x","2","x","4","x"],desc:"Jazz swing pattern",icon:"",category:ke.GENRE},{name:"Folk Strum",pattern:["1","2","3","2","1","2","3","2"],desc:"Folk guitar strumming pattern",icon:"",category:ke.GENRE},{name:"Extended Jazz",pattern:["1","3","5","6","5","3","1","x"],desc:"Jazz chord extensions",icon:"",category:ke.ADVANCED},{name:"Full House",pattern:["1","2","3","4","5","6","x","x"],desc:"All chord tones, then rest",icon:"",category:ke.BASIC},{name:"Polyrhythmic 6",pattern:["1","x","3","x","5","x","2","x","4","x","6","x"],desc:"Complex 6-note polyrhythm",icon:"",category:ke.RHYTHMIC},{name:"Wave Function",pattern:["1","3","5","6","4","2","1","3","5","4","2","x"],desc:"Wave-like motion through extended chord",icon:"",category:ke.ADVANCED}],qc=({isOpen:n,onClose:r,children:o,className:i="",showCloseButton:a=!0,closeOnBackdropClick:u=!0,title:f,fixedHeader:p=!1})=>{if(!n)return null;const m=g=>{u&&g.target===g.currentTarget&&r()};return c.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:m}),c.jsxs("div",{className:`relative bg-[#3d434f] border border-gray-600 rounded-lg shadow-xl w-full animate-in fade-in-0 zoom-in-95 duration-200 ${p?"flex flex-col max-h-full":""} ${i}`,children:[(f||a)&&c.jsxs("div",{className:`flex items-center justify-between p-4 border-b border-gray-600 bg-[#3d434f] rounded-t-lg ${p?"flex-shrink-0":""}`,children:[f&&c.jsx("h3",{className:"text-sm font-semibold text-slate-200 uppercase tracking-wide",children:f}),a&&c.jsx("button",{onClick:r,className:"w-6 h-6 flex items-center justify-center rounded-full hover:bg-slate-600 text-slate-400 hover:text-slate-200 transition-colors ml-auto",children:c.jsx($x,{className:"w-4 h-4"})})]}),p?c.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto",children:o}):o]})]})},$y=({className:n=""})=>{const[r,o]=w.useState(!1),i=()=>o(!0),a=()=>o(!1);return c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:i,className:`inline-flex items-center justify-center w-5 h-5 rounded-full bg-slate-600 hover:bg-slate-500 text-slate-300 hover:text-white transition-colors ${n}`,title:"Pattern notation help",children:c.jsx(Fh,{className:"w-3 h-3"})}),c.jsxs(qc,{isOpen:r,onClose:a,title:"Pattern Notation Guide",children:[c.jsxs("div",{className:"p-4 space-y-4",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("code",{className:"px-2 py-1 bg-slate-700 text-slate-200 rounded text-xs font-mono min-w-[2rem] text-center",children:"x"}),c.jsx("span",{className:"text-xs text-slate-300",children:"Rest (silence)"})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("code",{className:"px-2 py-1 bg-slate-700 text-slate-200 rounded text-xs font-mono min-w-[2rem] text-center",children:"1-8"}),c.jsx("span",{className:"text-xs text-slate-300",children:"Note index (1st, 2nd, 3rd note, etc.)"})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("code",{className:"px-2 py-1 bg-slate-700 text-slate-200 rounded text-xs font-mono min-w-[2rem] text-center",children:"1+"}),c.jsx("span",{className:"text-xs text-slate-300",children:"Note with octave up"})]})]}),c.jsxs("div",{className:"border-t border-gray-600 pt-4",children:[c.jsx("div",{className:"text-xs text-slate-400 mb-2",children:c.jsx("strong",{className:"text-slate-300",children:"Example:"})}),c.jsxs("div",{className:"bg-slate-700 rounded p-3",children:[c.jsx("code",{className:"text-xs font-mono text-slate-200",children:"1,x,3,2+"}),c.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Plays: 1st note  rest  3rd note  2nd note (octave up)"})]})]}),c.jsx("div",{className:"text-xs text-slate-500",children:"Separate values with commas. Use any combination to create your pattern."})]}),c.jsx("div",{className:"flex justify-end p-4 border-t border-gray-600",children:c.jsx("button",{onClick:a,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-xs font-medium rounded transition-colors uppercase tracking-wide",children:"Got it"})})]})]})},qs=[{value:.125,symbol:"",name:"32nd notes"},{value:.25,symbol:"",name:"16th notes"},{value:.5,symbol:"",name:"8th notes"},{value:1,symbol:"",name:"Quarter notes"},{value:2,symbol:"",name:"Half notes"}],Hp=n=>new Set(n.filter(o=>o!=="x").map(o=>{const i=parseInt(o.replace("+",""));return isNaN(i)?null:i}).filter(o=>o!==null)).size,jc=w.memo(({stepIndex:n,stepValue:r,maxNotes:o,onStepChange:i})=>{const a=w.useMemo(()=>{const g=[""];for(let y=1;y<=o;y++)g.push(String(y)),g.push(`${y}`);return g},[o]),f=(()=>{if(r==="x")return"";const g=parseInt(r.replace("+",""));return!isNaN(g)&&g>o?"":r.replace("+","")})(),p=r!=="x"&&f==="",m=g=>{let y=g;g===""?y="x":g.includes("")&&(y=g.replace("","+")),i(n,y)};return c.jsx("div",{className:"relative",children:c.jsx(cn,{value:f,onChange:m,options:a,className:"w-full",buttonClassName:`w-full h-10 text-xs pl-2.5 ${r==="x"?"bg-[#3d434f] border-gray-700 text-slate-400":p?"bg-[#3d434f] border-gray-700 text-orange-400":"bg-[#3d434f] border-gray-600 text-slate-200 hover:bg-[#4a5262]"} border rounded transition-all duration-200`})})});jc.displayName="StepEditor";const zy=({activeNotes:n,addedChords:r,activeChordIndex:o,currentlyActivePattern:i,onPatternChange:a,onUpdateChordPattern:u,globalPatternState:f})=>{const[p,m]=w.useState(!1),[g,y]=w.useState(!0),[v,x]=w.useState("1,2,3,4"),[N,j]=w.useState(!1),[E,k]=w.useState("all"),[V,z]=w.useState("all"),{currentPattern:T,editingContext:L}=w.useMemo(()=>{if(o!==null&&r[o]){const C=r[o];return{currentPattern:C.pattern,editingContext:{type:"chord",title:`Pattern for "${C.name}"`,description:"Editing pattern for this specific chord",chordName:C.name}}}else return{currentPattern:f.currentPattern,editingContext:{type:"current",title:"Global Pattern",description:"Base pattern - becomes active when no chord is selected",chordName:null}}},[o,r,f.currentPattern]),O=w.useMemo(()=>{if(o!==null&&r[o]){const X=r[o].notes.split(",").map(Q=>Q.trim()).filter(Q=>Q);return new Set(X.map(Q=>Q.replace(/\d+$/,""))).size}return 4},[o,r]),F=w.useMemo(()=>{const C=Math.min(4,O);return Math.max(C,O)},[O]),$=w.useMemo(()=>{const C=new Set(Vp.map(X=>X.pattern.length));return Array.from(C).sort((X,se)=>X-se)},[]),A=w.useMemo(()=>Vp.filter(C=>{const X=Hp(C.pattern);return!(X>O||N&&X<O||Math.max(...C.pattern.filter(Q=>Q!=="x").map(Q=>{const ce=parseInt(Q.replace("+",""));return isNaN(ce)?0:ce}))>F||E!=="all"&&C.pattern.length!==parseInt(E)||V!=="all"&&C.category!==V)}),[O,N,F,E,V]);w.useEffect(()=>{T&&x(T.join(","))},[T]);const Z=w.useCallback(()=>{const C=!f.isPlaying;a?.({isPlaying:C})},[f.isPlaying,a]);w.useCallback(()=>{a?.({isPlaying:!1,currentStep:0})},[a]);const H=w.useCallback(C=>{L.type==="current"?a?.({currentPattern:C}):L.type==="chord"&&o!==null&&u?.(o,C)},[L.type,o,a,u]),de=w.useCallback((C,X)=>{const se=[...T];se[C]=X,H(se)},[T,H]),W=w.useCallback(()=>{if(T.length<16){const C=[...T,"x"];H(C)}},[T,H]),G=w.useCallback(()=>{if(T.length>1){const C=T.slice(0,-1);H(C)}},[T,H]),ae=w.useCallback(()=>{try{const C=v.split(",").map(X=>X.trim()).filter(X=>X);C.length>0&&H(C)}catch{console.error("Invalid pattern format")}},[v,H]),pe=w.useCallback(C=>{H(C.pattern)},[H]),q=w.useMemo(()=>f.isPlaying?f.currentStep%T.length:-1,[f.isPlaying,f.currentStep,T.length]),fe=qs.map(C=>`${C.symbol} ${C.name}`),U=qs.find(C=>C.value===f.subdivision),J=U?`${U.symbol} ${U.name}`:`${qs[1].symbol} ${qs[1].name}`,K=["All Steps",...$.map(C=>`${C} Steps`)],R=["All Categories","Basic","Rhythmic","Advanced","Genre"];return c.jsx("div",{className:"w-full max-w-7xl mx-auto px-2 mt-6",children:c.jsxs("div",{className:"bg-[#3d434f] border border-gray-600 rounded-lg overflow-hidden",children:[c.jsx("div",{className:"px-4 py-3",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-sm font-bold text-slate-300 uppercase tracking-wider",children:"Sequencer"}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("button",{onClick:()=>m(!p),className:"w-[7em] h-8 flex items-center space-x-2 px-3 py-1.5 text-xs text-slate-300 hover:text-slate-200 bg-[#4a5262] hover:bg-[#525a6b] border border-gray-600 rounded transition-all duration-200",children:p?c.jsxs(c.Fragment,{children:[c.jsx(eo,{className:"w-3 h-3"}),c.jsx("span",{children:"Hide"})]}):c.jsxs(c.Fragment,{children:[c.jsx(Pr,{className:"w-3 h-3"}),c.jsx("span",{children:"Show"})]})}),c.jsx(un,{onClick:Z,variant:"play-stop",size:"sm",active:f.isPlaying,className:"shadow-lg",children:f.isPlaying?c.jsxs(c.Fragment,{children:[c.jsx(to,{className:"w-6 h-6"}),c.jsx("span",{className:"hidden sm:inline",children:"Stop"})]}):c.jsxs(c.Fragment,{children:[c.jsx(no,{className:"w-6 h-6"}),c.jsx("span",{className:"hidden sm:inline",children:"Play"})]})})]})]})}),c.jsxs("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${p?" opacity-100":"max-h-0 opacity-0"}`,children:[c.jsxs("div",{className:"border-t border-gray-600 bg-[#444b59]",children:[c.jsxs("div",{className:"px-4 py-3 border-b border-gray-600 bg-[#3d434f]",children:[c.jsxs("div",{className:"flex items-center justify-between sm:hidden",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("button",{onClick:G,disabled:T.length<=1,className:"flex items-center justify-center w-7 h-7 bg-[#4a5262] hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed text-xs rounded transition-all duration-200 text-slate-200 hover:text-white disabled:hover:bg-[#4a5262] disabled:hover:text-slate-200",title:"Remove step",children:c.jsx(jp,{className:"w-3 h-3"})}),c.jsx("div",{className:"text-xs text-slate-300 font-mono w-8 text-center",children:T.length}),c.jsx("button",{onClick:W,disabled:T.length>=16,className:"flex items-center justify-center w-7 h-7 bg-[#4a5262] hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed text-xs rounded transition-all duration-200 text-slate-200 hover:text-white disabled:hover:bg-[#4a5262] disabled:hover:text-slate-200",title:"Add step",children:c.jsx(Ep,{className:"w-3 h-3"})})]}),c.jsx("div",{children:L.chordName?c.jsx("div",{className:"text-xs font-medium text-purple-300 bg-purple-900/30 px-2 py-1 rounded border border-purple-700/50",children:L.chordName}):c.jsx("div",{className:"text-xs text-cyan-300 bg-cyan-900/30 px-2 py-1 rounded border border-cyan-700/50",children:"Global Pattern"})})]}),c.jsxs("div",{className:"hidden sm:flex sm:items-center sm:justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("span",{className:"text-xs text-slate-400 font-medium",children:"Pattern:"}),c.jsxs("div",{className:"text-xs text-slate-300 font-mono bg-[#4a5262] px-2 py-1 rounded",children:[T.length," steps"]})]}),L.chordName&&c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:"text-xs text-slate-400",children:"for"}),c.jsx("div",{className:"text-xs font-medium text-purple-300 bg-purple-900/30 px-2 py-1 rounded border border-purple-700/50",children:L.chordName})]}),!L.chordName&&c.jsx("div",{className:"text-xs text-cyan-300 bg-cyan-900/30 px-2 py-1 rounded border border-cyan-700/50",children:"Global Pattern"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:"text-xs text-slate-400",children:"Steps:"}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("button",{onClick:G,disabled:T.length<=1,className:"flex items-center justify-center w-7 h-7 bg-[#4a5262] hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed text-xs rounded transition-all duration-200 text-slate-200 hover:text-white disabled:hover:bg-[#4a5262] disabled:hover:text-slate-200",title:"Remove step",children:c.jsx(jp,{className:"w-3 h-3"})}),c.jsx("div",{className:"text-xs text-slate-300 font-mono w-8 text-center",children:T.length}),c.jsx("button",{onClick:W,disabled:T.length>=16,className:"flex items-center justify-center w-7 h-7 bg-[#4a5262] hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed text-xs rounded transition-all duration-200 text-slate-200 hover:text-white disabled:hover:bg-[#4a5262] disabled:hover:text-slate-200",title:"Add step",children:c.jsx(Ep,{className:"w-3 h-3"})})]})]})]})]}),c.jsxs("div",{className:"p-6 px-3 sm:px-4",children:[c.jsx("div",{className:"block md:hidden",children:Array.from({length:Math.ceil(T.length/4)},(C,X)=>{const se=X*4,Q=Math.min(se+4,T.length),ce=T.slice(se,Q);return c.jsxs("div",{className:"mb-4 last:mb-0",children:[c.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[ce.map((xe,ue)=>{const le=se+ue;return c.jsx(jc,{stepIndex:le,stepValue:xe,maxNotes:F,onStepChange:de},`pattern-${L.type}-${o}-${le}`)}),Array.from({length:4-ce.length},(xe,ue)=>c.jsx("div",{},`empty-${ue}`))]}),c.jsxs("div",{className:"grid grid-cols-4 gap-2 mt-2",children:[ce.map((xe,ue)=>{const le=se+ue;return c.jsx("div",{className:"flex justify-center",children:c.jsx("div",{className:`transition-all duration-200 ${q===le?"w-full h-1 bg-blue-400 rounded-full":"w-full h-1 bg-gray-600 rounded-full"}`})},`indicator-${le}`)}),Array.from({length:4-ce.length},(xe,ue)=>c.jsx("div",{},`empty-indicator-${ue}`))]})]},`mobile-row-${X}`)})}),c.jsx("div",{className:"hidden md:block",children:Array.from({length:Math.ceil(T.length/8)},(C,X)=>{const se=X*8,Q=Math.min(se+8,T.length),ce=T.slice(se,Q);return c.jsxs("div",{className:"mb-4 last:mb-0",children:[c.jsxs("div",{className:"grid grid-cols-8 gap-2",children:[ce.map((xe,ue)=>{const le=se+ue;return c.jsx(jc,{stepIndex:le,stepValue:xe,maxNotes:F,onStepChange:de},`pattern-${L.type}-${o}-${le}`)}),Array.from({length:8-ce.length},(xe,ue)=>c.jsx("div",{},`empty-${ue}`))]}),c.jsxs("div",{className:"grid grid-cols-8 gap-2 mt-2",children:[ce.map((xe,ue)=>{const le=se+ue;return c.jsx("div",{className:"flex justify-center",children:c.jsx("div",{className:`transition-all duration-200 ${q===le?"w-full h-1 bg-blue-400 rounded-full shadow-lg shadow-blue-400/50":"w-full h-1 bg-gray-600 rounded-full"}`})},`indicator-${le}`)}),Array.from({length:8-ce.length},(xe,ue)=>c.jsx("div",{},`empty-indicator-${ue}`))]})]},`desktop-row-${X}`)})})]})]}),c.jsxs("div",{className:"bg-[#3d434f] border-t border-gray-600",children:[c.jsx("div",{className:"px-4 py-3 border-b border-gray-600",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-sm font-medium text-slate-200 uppercase tracking-wider",children:"Settings"}),c.jsx("button",{onClick:()=>y(!g),className:"w-[7em] h-8 flex items-center space-x-2 px-3 py-1.5 text-xs text-slate-300 hover:text-slate-200 bg-[#4a5262] hover:bg-[#525a6b] border border-gray-600 rounded transition-all duration-200",children:g?c.jsxs(c.Fragment,{children:[c.jsx(eo,{className:"w-3 h-3"}),c.jsx("span",{children:"Hide"})]}):c.jsxs(c.Fragment,{children:[c.jsx(Pr,{className:"w-3 h-3"}),c.jsx("span",{children:"Show"})]})})]})}),c.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${g?" opacity-100":"max-h-0 opacity-0"}`,children:c.jsx("div",{className:"p-6 bg-[#444b59]",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-x-8 gap-y-6",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{children:c.jsx("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:"Timing"})}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["BPM",c.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",f.bpm,")"]})]}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:"range",min:"60",max:"200",value:f.bpm,onChange:C=>a?.({bpm:parseInt(C.target.value)}),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})}),c.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-1",children:[c.jsx("span",{children:"60"}),c.jsx("span",{children:"200"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:"Subdivision"}),c.jsx(cn,{value:J,onChange:C=>{const X=qs.find(se=>`${se.symbol} ${se.name}`===C);X&&a?.({subdivision:X.value})},options:fe,className:"w-full",buttonClassName:"w-full p-3 bg-[#3d434f] border border-gray-600 rounded text-slate-200 text-xs focus:border-blue-500 transition-colors hover:bg-[#4a5262]"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Swing",c.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",f.swing,"%)"]})]}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:"range",min:"0",max:"50",value:f.swing,onChange:C=>a?.({swing:parseInt(C.target.value)}),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})}),c.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-1",children:[c.jsx("span",{children:"0%"}),c.jsx("span",{children:"50%"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:"Pattern Presets"}),c.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:N,onChange:C=>j(C.target.checked),className:"w-3 h-3 rounded border-gray-600 bg-[#3d434f] text-blue-600 focus:ring-blue-500 focus:ring-1"}),c.jsx("span",{className:"text-xs text-slate-200",children:"Hide patterns with fewer notes"})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[c.jsx(cn,{value:K[E==="all"?0:K.findIndex(C=>C===`${E} Steps`)],onChange:C=>{if(C==="All Steps")k("all");else{const X=C.replace(" Steps","");k(X)}},options:K,className:"flex-1",buttonClassName:"w-full p-2 bg-[#3d434f] border border-gray-600 rounded text-slate-200 text-xs transition-colors hover:bg-[#4a5262]"}),c.jsx(cn,{value:R[V==="all"?0:R.findIndex(C=>C.toLowerCase()===V)],onChange:C=>{z(C==="All Categories"?"all":C.toLowerCase())},options:R,className:"flex-1",buttonClassName:"w-full p-2 bg-[#3d434f] border border-gray-600 rounded text-slate-200 text-xs transition-colors hover:bg-[#4a5262]"})]}),c.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-80 overflow-y-auto pr-2 custom-scrollbar",children:A.length>0?A.map((C,X)=>{const se=Hp(C.pattern);return c.jsxs("button",{onClick:()=>pe(C),className:"p-2 rounded text-xs transition-colors text-left bg-[#3d434f] text-slate-300 hover:bg-[#4a5262] hover:text-slate-200 border border-gray-600 hover:border-gray-500",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("span",{className:"font-medium uppercase tracking-wide",children:C.name}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("span",{className:"text-xs text-slate-500",children:[se,"n  ",C.pattern.length,"s"]}),c.jsx("span",{children:C.icon})]})]}),c.jsx("div",{className:"text-xs opacity-60 text-slate-500",children:C.pattern.join("-")})]},X)}):c.jsx("div",{className:"p-3 text-xs text-slate-400 text-center",children:"No patterns found matching current filters"})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("label",{className:"block text-xs font-medium text-slate-200 uppercase tracking-wide",children:"Custom"}),c.jsx($y,{})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("input",{type:"text",value:v,onChange:C=>x(C.target.value),onKeyPress:C=>C.key==="Enter"&&ae(),placeholder:"1,x,3,2+",className:"w-full p-2 bg-[#3d434f] border border-gray-600 rounded text-slate-200 text-xs focus:border-blue-500 transition-colors placeholder-slate-500"}),c.jsx("button",{onClick:ae,className:"w-full px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded text-xs font-medium transition-colors uppercase tracking-wide",children:"Apply Pattern"})]})]})]})})})]})]})]})})};function jt(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var Uy=typeof Symbol=="function"&&Symbol.observable||"@@observable",qp=Uy,Kp=()=>Math.random().toString(36).substring(7).split("").join("."),Gy={INIT:`@@redux/INIT${Kp()}`,REPLACE:`@@redux/REPLACE${Kp()}`},Yp=Gy;function Wy(n){if(typeof n!="object"||n===null)return!1;let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r||Object.getPrototypeOf(n)===null}function Vh(n,r,o){if(typeof n!="function")throw new Error(jt(2));if(typeof r=="function"&&typeof o=="function"||typeof o=="function"&&typeof arguments[3]=="function")throw new Error(jt(0));if(typeof r=="function"&&typeof o>"u"&&(o=r,r=void 0),typeof o<"u"){if(typeof o!="function")throw new Error(jt(1));return o(Vh)(n,r)}let i=n,a=r,u=new Map,f=u,p=0,m=!1;function g(){f===u&&(f=new Map,u.forEach((k,V)=>{f.set(V,k)}))}function y(){if(m)throw new Error(jt(3));return a}function v(k){if(typeof k!="function")throw new Error(jt(4));if(m)throw new Error(jt(5));let V=!0;g();const z=p++;return f.set(z,k),function(){if(V){if(m)throw new Error(jt(6));V=!1,g(),f.delete(z),u=null}}}function x(k){if(!Wy(k))throw new Error(jt(7));if(typeof k.type>"u")throw new Error(jt(8));if(typeof k.type!="string")throw new Error(jt(17));if(m)throw new Error(jt(9));try{m=!0,a=i(a,k)}finally{m=!1}return(u=f).forEach(z=>{z()}),k}function N(k){if(typeof k!="function")throw new Error(jt(10));i=k,x({type:Yp.REPLACE})}function j(){const k=v;return{subscribe(V){if(typeof V!="object"||V===null)throw new Error(jt(11));function z(){const L=V;L.next&&L.next(y())}return z(),{unsubscribe:k(z)}},[qp](){return this}}}return x({type:Yp.INIT}),{dispatch:x,subscribe:v,getState:y,replaceReducer:N,[qp]:j}}function Qp(n,r){return function(...o){return r(n.apply(this,o))}}function Zp(n,r){if(typeof n=="function")return Qp(n,r);if(typeof n!="object"||n===null)throw new Error(jt(16));const o={};for(const i in n){const a=n[i];typeof a=="function"&&(o[i]=Qp(a,r))}return o}function Hh(...n){return n.length===0?r=>r:n.length===1?n[0]:n.reduce((r,o)=>(...i)=>r(o(...i)))}function Vy(...n){return r=>(o,i)=>{const a=r(o,i);let u=()=>{throw new Error(jt(15))};const f={getState:a.getState,dispatch:(m,...g)=>u(m,...g)},p=n.map(m=>m(f));return u=Hh(...p)(a.dispatch),{...a,dispatch:u}}}var lc={exports:{}},ac={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function Hy(){if(Xp)return ac;Xp=1;var n=zi();function r(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var o=typeof Object.is=="function"?Object.is:r,i=n.useSyncExternalStore,a=n.useRef,u=n.useEffect,f=n.useMemo,p=n.useDebugValue;return ac.useSyncExternalStoreWithSelector=function(m,g,y,v,x){var N=a(null);if(N.current===null){var j={hasValue:!1,value:null};N.current=j}else j=N.current;N=f(function(){function k(O){if(!V){if(V=!0,z=O,O=v(O),x!==void 0&&j.hasValue){var F=j.value;if(x(F,O))return T=F}return T=O}if(F=T,o(z,O))return F;var $=v(O);return x!==void 0&&x(F,$)?(z=O,F):(z=O,T=$)}var V=!1,z,T,L=y===void 0?null:y;return[function(){return k(g())},L===null?void 0:function(){return k(L())}]},[g,y,v,x]);var E=i(m,N[0],N[1]);return u(function(){j.hasValue=!0,j.value=E},[E]),p(E),E},ac}var Jp;function qy(){return Jp||(Jp=1,lc.exports=Hy()),lc.exports}qy();var Ky=w.version.startsWith("19"),Yy=Symbol.for(Ky?"react.transitional.element":"react.element"),Qy=Symbol.for("react.portal"),Zy=Symbol.for("react.fragment"),Xy=Symbol.for("react.strict_mode"),Jy=Symbol.for("react.profiler"),eb=Symbol.for("react.consumer"),tb=Symbol.for("react.context"),qh=Symbol.for("react.forward_ref"),nb=Symbol.for("react.suspense"),rb=Symbol.for("react.suspense_list"),Kc=Symbol.for("react.memo"),sb=Symbol.for("react.lazy"),ob=qh,ib=Kc;function lb(n){if(typeof n=="object"&&n!==null){const{$$typeof:r}=n;switch(r){case Yy:switch(n=n.type,n){case Zy:case Jy:case Xy:case nb:case rb:return n;default:switch(n=n&&n.$$typeof,n){case tb:case qh:case sb:case Kc:return n;case eb:return n;default:return r}}case Qy:return r}}}function ab(n){return lb(n)===Kc}function cb(n,r,o,i,{areStatesEqual:a,areOwnPropsEqual:u,areStatePropsEqual:f}){let p=!1,m,g,y,v,x;function N(z,T){return m=z,g=T,y=n(m,g),v=r(i,g),x=o(y,v,g),p=!0,x}function j(){return y=n(m,g),r.dependsOnOwnProps&&(v=r(i,g)),x=o(y,v,g),x}function E(){return n.dependsOnOwnProps&&(y=n(m,g)),r.dependsOnOwnProps&&(v=r(i,g)),x=o(y,v,g),x}function k(){const z=n(m,g),T=!f(z,y);return y=z,T&&(x=o(y,v,g)),x}function V(z,T){const L=!u(T,g),O=!a(z,m,T,g);return m=z,g=T,L&&O?j():L?E():O?k():x}return function(T,L){return p?V(T,L):N(T,L)}}function ub(n,{initMapStateToProps:r,initMapDispatchToProps:o,initMergeProps:i,...a}){const u=r(n,a),f=o(n,a),p=i(n,a);return cb(u,f,p,n,a)}function db(n,r){const o={};for(const i in n){const a=n[i];typeof a=="function"&&(o[i]=(...u)=>r(a(...u)))}return o}function Ec(n){return function(o){const i=n(o);function a(){return i}return a.dependsOnOwnProps=!1,a}}function eh(n){return n.dependsOnOwnProps?!!n.dependsOnOwnProps:n.length!==1}function Kh(n,r){return function(i,{displayName:a}){const u=function(p,m){return u.dependsOnOwnProps?u.mapToProps(p,m):u.mapToProps(p,void 0)};return u.dependsOnOwnProps=!0,u.mapToProps=function(p,m){u.mapToProps=n,u.dependsOnOwnProps=eh(n);let g=u(p,m);return typeof g=="function"&&(u.mapToProps=g,u.dependsOnOwnProps=eh(g),g=u(p,m)),g},u}}function Yc(n,r){return(o,i)=>{throw new Error(`Invalid value of type ${typeof n} for ${r} argument when connecting component ${i.wrappedComponentName}.`)}}function fb(n){return n&&typeof n=="object"?Ec(r=>db(n,r)):n?typeof n=="function"?Kh(n):Yc(n,"mapDispatchToProps"):Ec(r=>({dispatch:r}))}function pb(n){return n?typeof n=="function"?Kh(n):Yc(n,"mapStateToProps"):Ec(()=>({}))}function hb(n,r,o){return{...o,...n,...r}}function mb(n){return function(o,{displayName:i,areMergedPropsEqual:a}){let u=!1,f;return function(m,g,y){const v=n(m,g,y);return u?a(v,f)||(f=v):(u=!0,f=v),f}}}function gb(n){return n?typeof n=="function"?mb(n):Yc(n,"mergeProps"):()=>hb}function vb(n){n()}function xb(){let n=null,r=null;return{clear(){n=null,r=null},notify(){vb(()=>{let o=n;for(;o;)o.callback(),o=o.next})},get(){const o=[];let i=n;for(;i;)o.push(i),i=i.next;return o},subscribe(o){let i=!0;const a=r={callback:o,next:null,prev:r};return a.prev?a.prev.next=a:n=a,function(){!i||n===null||(i=!1,a.next?a.next.prev=a.prev:r=a.prev,a.prev?a.prev.next=a.next:n=a.next)}}}}var th={notify(){},get:()=>[]};function Yh(n,r){let o,i=th,a=0,u=!1;function f(E){y();const k=i.subscribe(E);let V=!1;return()=>{V||(V=!0,k(),v())}}function p(){i.notify()}function m(){j.onStateChange&&j.onStateChange()}function g(){return u}function y(){a++,o||(o=r?r.addNestedSub(m):n.subscribe(m),i=xb())}function v(){a--,o&&a===0&&(o(),o=void 0,i.clear(),i=th)}function x(){u||(u=!0,y())}function N(){u&&(u=!1,v())}const j={addNestedSub:f,notifyNestedSubs:p,handleChangeWrapper:m,isSubscribed:g,trySubscribe:x,tryUnsubscribe:N,getListeners:()=>i};return j}var yb=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bb=yb(),wb=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Nb=wb(),Sb=()=>bb||Nb?w.useLayoutEffect:w.useEffect,Ai=Sb();function nh(n,r){return n===r?n!==0||r!==0||1/n===1/r:n!==n&&r!==r}function cc(n,r){if(nh(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;const o=Object.keys(n),i=Object.keys(r);if(o.length!==i.length)return!1;for(let a=0;a<o.length;a++)if(!Object.prototype.hasOwnProperty.call(r,o[a])||!nh(n[o[a]],r[o[a]]))return!1;return!0}var Cb={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},jb={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Eb={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Qh={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},kb={[ob]:Eb,[ib]:Qh};function rh(n){return ab(n)?Qh:kb[n.$$typeof]||Cb}var Pb=Object.defineProperty,Rb=Object.getOwnPropertyNames,sh=Object.getOwnPropertySymbols,Db=Object.getOwnPropertyDescriptor,Ib=Object.getPrototypeOf,oh=Object.prototype;function kc(n,r){if(typeof r!="string"){if(oh){const u=Ib(r);u&&u!==oh&&kc(n,u)}let o=Rb(r);sh&&(o=o.concat(sh(r)));const i=rh(n),a=rh(r);for(let u=0;u<o.length;++u){const f=o[u];if(!jb[f]&&!(a&&a[f])&&!(i&&i[f])){const p=Db(r,f);try{Pb(n,f,p)}catch{}}}}return n}var Ab=Symbol.for("react-redux-context"),_b=typeof globalThis<"u"?globalThis:{};function Ob(){if(!w.createContext)return{};const n=_b[Ab]??=new Map;let r=n.get(w.createContext);return r||(r=w.createContext(null),n.set(w.createContext,r)),r}var Zh=Ob(),Tb=[null,null];function Mb(n,r,o){Ai(()=>n(...r),o)}function Lb(n,r,o,i,a,u){n.current=i,o.current=!1,a.current&&(a.current=null,u())}function Fb(n,r,o,i,a,u,f,p,m,g,y){if(!n)return()=>{};let v=!1,x=null;const N=()=>{if(v||!p.current)return;const E=r.getState();let k,V;try{k=i(E,a.current)}catch(z){V=z,x=z}V||(x=null),k===u.current?f.current||g():(u.current=k,m.current=k,f.current=!0,y())};return o.onStateChange=N,o.trySubscribe(),N(),()=>{if(v=!0,o.tryUnsubscribe(),o.onStateChange=null,x)throw x}}function Bb(n,r){return n===r}function $b(n,r,o,{pure:i,areStatesEqual:a=Bb,areOwnPropsEqual:u=cc,areStatePropsEqual:f=cc,areMergedPropsEqual:p=cc,forwardRef:m=!1,context:g=Zh}={}){const y=g,v=pb(n),x=fb(r),N=gb(o),j=!!n;return k=>{const V=k.displayName||k.name||"Component",z=`Connect(${V})`,T={shouldHandleStateChanges:j,displayName:z,wrappedComponentName:V,WrappedComponent:k,initMapStateToProps:v,initMapDispatchToProps:x,initMergeProps:N,areStatesEqual:a,areStatePropsEqual:f,areOwnPropsEqual:u,areMergedPropsEqual:p};function L($){const[A,Z,H]=w.useMemo(()=>{const{reactReduxForwardedRef:Ie,...Xe}=$;return[$.context,Ie,Xe]},[$]),de=w.useMemo(()=>{let Ie=y;return A?.Consumer,Ie},[A,y]),W=w.useContext(de),G=!!$.store&&!!$.store.getState&&!!$.store.dispatch,ae=!!W&&!!W.store,pe=G?$.store:W.store,q=ae?W.getServerState:pe.getState,fe=w.useMemo(()=>ub(pe.dispatch,T),[pe]),[U,J]=w.useMemo(()=>{if(!j)return Tb;const Ie=Yh(pe,G?void 0:W.subscription),Xe=Ie.notifyNestedSubs.bind(Ie);return[Ie,Xe]},[pe,G,W]),K=w.useMemo(()=>G?W:{...W,subscription:U},[G,W,U]),R=w.useRef(void 0),C=w.useRef(H),X=w.useRef(void 0),se=w.useRef(!1),Q=w.useRef(!1),ce=w.useRef(void 0);Ai(()=>(Q.current=!0,()=>{Q.current=!1}),[]);const xe=w.useMemo(()=>()=>X.current&&H===C.current?X.current:fe(pe.getState(),H),[pe,H]),ue=w.useMemo(()=>Xe=>U?Fb(j,pe,U,fe,C,R,se,Q,X,J,Xe):()=>{},[U]);Mb(Lb,[C,R,se,H,X,J]);let le;try{le=w.useSyncExternalStore(ue,xe,q?()=>fe(q(),H):xe)}catch(Ie){throw ce.current&&(Ie.message+=`
The error may be correlated with this previous error:
${ce.current.stack}

`),Ie}Ai(()=>{ce.current=void 0,X.current=void 0,R.current=le});const Le=w.useMemo(()=>w.createElement(k,{...le,ref:Z}),[Z,k,le]);return w.useMemo(()=>j?w.createElement(de.Provider,{value:K},Le):Le,[de,Le,K])}const F=w.memo(L);if(F.WrappedComponent=k,F.displayName=L.displayName=z,m){const A=w.forwardRef(function(H,de){return w.createElement(F,{...H,reactReduxForwardedRef:de})});return A.displayName=z,A.WrappedComponent=k,kc(A,k)}return kc(F,k)}}var Xh=$b;function zb(n){const{children:r,context:o,serverState:i,store:a}=n,u=w.useMemo(()=>{const m=Yh(a);return{store:a,subscription:m,getServerState:i?()=>i:void 0}},[a,i]),f=w.useMemo(()=>a.getState(),[a]);Ai(()=>{const{subscription:m}=u;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),f!==a.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[u,f]);const p=o||Zh;return w.createElement(p.Provider,{value:u},r)}var Ub=zb,Gb="Invariant failed";function Wb(n,r){throw new Error(Gb)}var dn=function(r){var o=r.top,i=r.right,a=r.bottom,u=r.left,f=i-u,p=a-o,m={top:o,right:i,bottom:a,left:u,width:f,height:p,x:u,y:o,center:{x:(i+u)/2,y:(a+o)/2}};return m},Qc=function(r,o){return{top:r.top-o.top,left:r.left-o.left,bottom:r.bottom+o.bottom,right:r.right+o.right}},ih=function(r,o){return{top:r.top+o.top,left:r.left+o.left,bottom:r.bottom-o.bottom,right:r.right-o.right}},Vb=function(r,o){return{top:r.top+o.y,left:r.left+o.x,bottom:r.bottom+o.y,right:r.right+o.x}},uc={top:0,right:0,bottom:0,left:0},Zc=function(r){var o=r.borderBox,i=r.margin,a=i===void 0?uc:i,u=r.border,f=u===void 0?uc:u,p=r.padding,m=p===void 0?uc:p,g=dn(Qc(o,a)),y=dn(ih(o,f)),v=dn(ih(y,m));return{marginBox:g,borderBox:dn(o),paddingBox:y,contentBox:v,margin:a,border:f,padding:m}},Qt=function(r){var o=r.slice(0,-2),i=r.slice(-2);if(i!=="px")return 0;var a=Number(o);return isNaN(a)&&Wb(),a},Hb=function(){return{x:window.pageXOffset,y:window.pageYOffset}},_i=function(r,o){var i=r.borderBox,a=r.border,u=r.margin,f=r.padding,p=Vb(i,o);return Zc({borderBox:p,border:a,margin:u,padding:f})},Oi=function(r,o){return o===void 0&&(o=Hb()),_i(r,o)},Jh=function(r,o){var i={top:Qt(o.marginTop),right:Qt(o.marginRight),bottom:Qt(o.marginBottom),left:Qt(o.marginLeft)},a={top:Qt(o.paddingTop),right:Qt(o.paddingRight),bottom:Qt(o.paddingBottom),left:Qt(o.paddingLeft)},u={top:Qt(o.borderTopWidth),right:Qt(o.borderRightWidth),bottom:Qt(o.borderBottomWidth),left:Qt(o.borderLeftWidth)};return Zc({borderBox:r,margin:i,padding:a,border:u})},em=function(r){var o=r.getBoundingClientRect(),i=window.getComputedStyle(r);return Jh(o,i)},ro=function(r){var o=[],i=null,a=function(){for(var f=arguments.length,p=new Array(f),m=0;m<f;m++)p[m]=arguments[m];o=p,!i&&(i=requestAnimationFrame(function(){i=null,r.apply(void 0,o)}))};return a.cancel=function(){i&&(cancelAnimationFrame(i),i=null)},a};function Ti(){return Ti=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var i in o)({}).hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},Ti.apply(null,arguments)}function tm(n,r){}tm.bind(null,"warn");tm.bind(null,"error");function or(){}function qb(n,r){return{...n,...r}}function Zt(n,r,o){const i=r.map(a=>{const u=qb(o,a.options);return n.addEventListener(a.eventName,a.fn,u),function(){n.removeEventListener(a.eventName,a.fn,u)}});return function(){i.forEach(u=>{u()})}}const Kb="Invariant failed";class Mi extends Error{}Mi.prototype.toString=function(){return this.message};function ie(n,r){throw new Mi(Kb)}class Yb extends Re.Component{constructor(...r){super(...r),this.callbacks=null,this.unbind=or,this.onWindowError=o=>{const i=this.getCallbacks();i.isDragging()&&i.tryAbort(),o.error instanceof Mi&&o.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=o=>{this.callbacks=o}}componentDidMount(){this.unbind=Zt(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(r){if(r instanceof Mi){this.setState({});return}throw r}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const Qb=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Li=n=>n+1,Zb=n=>`
  You have lifted an item in position ${Li(n.source.index)}
`,nm=(n,r)=>{const o=n.droppableId===r.droppableId,i=Li(n.index),a=Li(r.index);return o?`
      You have moved the item from position ${i}
      to position ${a}
    `:`
    You have moved the item from position ${i}
    in list ${n.droppableId}
    to list ${r.droppableId}
    in position ${a}
  `},rm=(n,r,o)=>r.droppableId===o.droppableId?`
      The item ${n}
      has been combined with ${o.draggableId}`:`
      The item ${n}
      in list ${r.droppableId}
      has been combined with ${o.draggableId}
      in list ${o.droppableId}
    `,Xb=n=>{const r=n.destination;if(r)return nm(n.source,r);const o=n.combine;return o?rm(n.draggableId,n.source,o):"You are over an area that cannot be dropped on"},lh=n=>`
  The item has returned to its starting position
  of ${Li(n.index)}
`,Jb=n=>{if(n.reason==="CANCEL")return`
      Movement cancelled.
      ${lh(n.source)}
    `;const r=n.destination,o=n.combine;return r?`
      You have dropped the item.
      ${nm(n.source,r)}
    `:o?`
      You have dropped the item.
      ${rm(n.draggableId,n.source,o)}
    `:`
    The item has been dropped while not over a drop area.
    ${lh(n.source)}
  `},Ri={dragHandleUsageInstructions:Qb,onDragStart:Zb,onDragUpdate:Xb,onDragEnd:Jb};function e1(n,r){return!!(n===r||Number.isNaN(n)&&Number.isNaN(r))}function sm(n,r){if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(!e1(n[o],r[o]))return!1;return!0}function Oe(n,r){const o=w.useState(()=>({inputs:r,result:n()}))[0],i=w.useRef(!0),a=w.useRef(o),f=i.current||!!(r&&a.current.inputs&&sm(r,a.current.inputs))?a.current:{inputs:r,result:n()};return w.useEffect(()=>{i.current=!1,a.current=f},[f]),f.result}function we(n,r){return Oe(()=>n,r)}const at={x:0,y:0},ht=(n,r)=>({x:n.x+r.x,y:n.y+r.y}),$t=(n,r)=>({x:n.x-r.x,y:n.y-r.y}),ir=(n,r)=>n.x===r.x&&n.y===r.y,as=n=>({x:n.x!==0?-n.x:0,y:n.y!==0?-n.y:0}),Rr=(n,r,o=0)=>n==="x"?{x:r,y:o}:{x:o,y:r},so=(n,r)=>Math.sqrt((r.x-n.x)**2+(r.y-n.y)**2),ah=(n,r)=>Math.min(...r.map(o=>so(n,o))),om=n=>r=>({x:n(r.x),y:n(r.y)});var t1=(n,r)=>{const o=dn({top:Math.max(r.top,n.top),right:Math.min(r.right,n.right),bottom:Math.min(r.bottom,n.bottom),left:Math.max(r.left,n.left)});return o.width<=0||o.height<=0?null:o};const fo=(n,r)=>({top:n.top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x}),ch=n=>[{x:n.left,y:n.top},{x:n.right,y:n.top},{x:n.left,y:n.bottom},{x:n.right,y:n.bottom}],n1={top:0,right:0,bottom:0,left:0},r1=(n,r)=>r?fo(n,r.scroll.diff.displacement):n,s1=(n,r,o)=>o&&o.increasedBy?{...n,[r.end]:n[r.end]+o.increasedBy[r.line]}:n,o1=(n,r)=>r&&r.shouldClipSubject?t1(r.pageMarginBox,n):dn(n);var os=({page:n,withPlaceholder:r,axis:o,frame:i})=>{const a=r1(n.marginBox,i),u=s1(a,o,r),f=o1(u,i);return{page:n,withPlaceholder:r,active:f}},Xc=(n,r)=>{n.frame||ie();const o=n.frame,i=$t(r,o.scroll.initial),a=as(i),u={...o,scroll:{initial:o.scroll.initial,current:r,diff:{value:i,displacement:a},max:o.scroll.max}},f=os({page:n.subject.page,withPlaceholder:n.subject.withPlaceholder,axis:n.axis,frame:u});return{...n,frame:u,subject:f}};function lt(n,r=sm){let o=null;function i(...a){if(o&&o.lastThis===this&&r(a,o.lastArgs))return o.lastResult;const u=n.apply(this,a);return o={lastResult:u,lastArgs:a,lastThis:this},u}return i.clear=function(){o=null},i}const im=lt(n=>n.reduce((r,o)=>(r[o.descriptor.id]=o,r),{})),lm=lt(n=>n.reduce((r,o)=>(r[o.descriptor.id]=o,r),{})),qi=lt(n=>Object.values(n)),i1=lt(n=>Object.values(n));var cs=lt((n,r)=>i1(r).filter(i=>n===i.descriptor.droppableId).sort((i,a)=>i.descriptor.index-a.descriptor.index));function Jc(n){return n.at&&n.at.type==="REORDER"?n.at.destination:null}function Ki(n){return n.at&&n.at.type==="COMBINE"?n.at.combine:null}var Yi=lt((n,r)=>r.filter(o=>o.descriptor.id!==n.descriptor.id)),l1=({isMovingForward:n,draggable:r,destination:o,insideDestination:i,previousImpact:a})=>{if(!o.isCombineEnabled||!Jc(a))return null;function f(N){const j={type:"COMBINE",combine:{draggableId:N,droppableId:o.descriptor.id}};return{...a,at:j}}const p=a.displaced.all,m=p.length?p[0]:null;if(n)return m?f(m):null;const g=Yi(r,i);if(!m){if(!g.length)return null;const N=g[g.length-1];return f(N.descriptor.id)}const y=g.findIndex(N=>N.descriptor.id===m);y===-1&&ie();const v=y-1;if(v<0)return null;const x=g[v];return f(x.descriptor.id)},us=(n,r)=>n.descriptor.droppableId===r.descriptor.id;const am={point:at,value:0},oo={invisible:{},visible:{},all:[]},a1={displaced:oo,displacedBy:am,at:null};var Xt=(n,r)=>o=>n<=o&&o<=r,cm=n=>{const r=Xt(n.top,n.bottom),o=Xt(n.left,n.right);return i=>{if(r(i.top)&&r(i.bottom)&&o(i.left)&&o(i.right))return!0;const u=r(i.top)||r(i.bottom),f=o(i.left)||o(i.right);if(u&&f)return!0;const m=i.top<n.top&&i.bottom>n.bottom,g=i.left<n.left&&i.right>n.right;return m&&g?!0:m&&f||g&&u}},c1=n=>{const r=Xt(n.top,n.bottom),o=Xt(n.left,n.right);return i=>r(i.top)&&r(i.bottom)&&o(i.left)&&o(i.right)};const eu={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},um={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var u1=n=>r=>{const o=Xt(r.top,r.bottom),i=Xt(r.left,r.right);return a=>n===eu?o(a.top)&&o(a.bottom):i(a.left)&&i(a.right)};const d1=(n,r)=>{const o=r.frame?r.frame.scroll.diff.displacement:at;return fo(n,o)},f1=(n,r,o)=>r.subject.active?o(r.subject.active)(n):!1,p1=(n,r,o)=>o(r)(n),tu=({target:n,destination:r,viewport:o,withDroppableDisplacement:i,isVisibleThroughFrameFn:a})=>{const u=i?d1(n,r):n;return f1(u,r,a)&&p1(u,o,a)},h1=n=>tu({...n,isVisibleThroughFrameFn:cm}),dm=n=>tu({...n,isVisibleThroughFrameFn:c1}),m1=n=>tu({...n,isVisibleThroughFrameFn:u1(n.destination.axis)}),g1=(n,r,o)=>{if(typeof o=="boolean")return o;if(!r)return!0;const{invisible:i,visible:a}=r;if(i[n])return!1;const u=a[n];return u?u.shouldAnimate:!0};function v1(n,r){const o=n.page.marginBox,i={top:r.point.y,right:0,bottom:0,left:r.point.x};return dn(Qc(o,i))}function io({afterDragging:n,destination:r,displacedBy:o,viewport:i,forceShouldAnimate:a,last:u}){return n.reduce(function(p,m){const g=v1(m,o),y=m.descriptor.id;if(p.all.push(y),!h1({target:g,destination:r,viewport:i,withDroppableDisplacement:!0}))return p.invisible[m.descriptor.id]=!0,p;const x=g1(y,u,a),N={draggableId:y,shouldAnimate:x};return p.visible[y]=N,p},{all:[],visible:{},invisible:{}})}function x1(n,r){if(!n.length)return 0;const o=n[n.length-1].descriptor.index;return r.inHomeList?o:o+1}function uh({insideDestination:n,inHomeList:r,displacedBy:o,destination:i}){const a=x1(n,{inHomeList:r});return{displaced:oo,displacedBy:o,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:a}}}}function Fi({draggable:n,insideDestination:r,destination:o,viewport:i,displacedBy:a,last:u,index:f,forceShouldAnimate:p}){const m=us(n,o);if(f==null)return uh({insideDestination:r,inHomeList:m,displacedBy:a,destination:o});const g=r.find(j=>j.descriptor.index===f);if(!g)return uh({insideDestination:r,inHomeList:m,displacedBy:a,destination:o});const y=Yi(n,r),v=r.indexOf(g),x=y.slice(v);return{displaced:io({afterDragging:x,destination:o,displacedBy:a,last:u,viewport:i.frame,forceShouldAnimate:p}),displacedBy:a,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:f}}}}function lr(n,r){return!!r.effected[n]}var y1=({isMovingForward:n,destination:r,draggables:o,combine:i,afterCritical:a})=>{if(!r.isCombineEnabled)return null;const u=i.draggableId,p=o[u].descriptor.index;return lr(u,a)?n?p:p-1:n?p+1:p},b1=({isMovingForward:n,isInHomeList:r,insideDestination:o,location:i})=>{if(!o.length)return null;const a=i.index,u=n?a+1:a-1,f=o[0].descriptor.index,p=o[o.length-1].descriptor.index,m=r?p:p+1;return u<f||u>m?null:u},w1=({isMovingForward:n,isInHomeList:r,draggable:o,draggables:i,destination:a,insideDestination:u,previousImpact:f,viewport:p,afterCritical:m})=>{const g=f.at;if(g||ie(),g.type==="REORDER"){const v=b1({isMovingForward:n,isInHomeList:r,location:g.destination,insideDestination:u});return v==null?null:Fi({draggable:o,insideDestination:u,destination:a,viewport:p,last:f.displaced,displacedBy:f.displacedBy,index:v})}const y=y1({isMovingForward:n,destination:a,displaced:f.displaced,draggables:i,combine:g.combine,afterCritical:m});return y==null?null:Fi({draggable:o,insideDestination:u,destination:a,viewport:p,last:f.displaced,displacedBy:f.displacedBy,index:y})},N1=({displaced:n,afterCritical:r,combineWith:o,displacedBy:i})=>{const a=!!(n.visible[o]||n.invisible[o]);return lr(o,r)?a?at:as(i.point):a?i.point:at},S1=({afterCritical:n,impact:r,draggables:o})=>{const i=Ki(r);i||ie();const a=i.draggableId,u=o[a].page.borderBox.center,f=N1({displaced:r.displaced,afterCritical:n,combineWith:a,displacedBy:r.displacedBy});return ht(u,f)};const fm=(n,r)=>r.margin[n.start]+r.borderBox[n.size]/2,C1=(n,r)=>r.margin[n.end]+r.borderBox[n.size]/2,nu=(n,r,o)=>r[n.crossAxisStart]+o.margin[n.crossAxisStart]+o.borderBox[n.crossAxisSize]/2,dh=({axis:n,moveRelativeTo:r,isMoving:o})=>Rr(n.line,r.marginBox[n.end]+fm(n,o),nu(n,r.marginBox,o)),fh=({axis:n,moveRelativeTo:r,isMoving:o})=>Rr(n.line,r.marginBox[n.start]-C1(n,o),nu(n,r.marginBox,o)),j1=({axis:n,moveInto:r,isMoving:o})=>Rr(n.line,r.contentBox[n.start]+fm(n,o),nu(n,r.contentBox,o));var E1=({impact:n,draggable:r,draggables:o,droppable:i,afterCritical:a})=>{const u=cs(i.descriptor.id,o),f=r.page,p=i.axis;if(!u.length)return j1({axis:p,moveInto:i.page,isMoving:f});const{displaced:m,displacedBy:g}=n,y=m.all[0];if(y){const x=o[y];if(lr(y,a))return fh({axis:p,moveRelativeTo:x.page,isMoving:f});const N=_i(x.page,g.point);return fh({axis:p,moveRelativeTo:N,isMoving:f})}const v=u[u.length-1];if(v.descriptor.id===r.descriptor.id)return f.borderBox.center;if(lr(v.descriptor.id,a)){const x=_i(v.page,as(a.displacedBy.point));return dh({axis:p,moveRelativeTo:x,isMoving:f})}return dh({axis:p,moveRelativeTo:v.page,isMoving:f})},Pc=(n,r)=>{const o=n.frame;return o?ht(r,o.scroll.diff.displacement):r};const k1=({impact:n,draggable:r,droppable:o,draggables:i,afterCritical:a})=>{const u=r.page.borderBox.center,f=n.at;return!o||!f?u:f.type==="REORDER"?E1({impact:n,draggable:r,draggables:i,droppable:o,afterCritical:a}):S1({impact:n,draggables:i,afterCritical:a})};var Qi=n=>{const r=k1(n),o=n.droppable;return o?Pc(o,r):r},pm=(n,r)=>{const o=$t(r,n.scroll.initial),i=as(o);return{frame:dn({top:r.y,bottom:r.y+n.frame.height,left:r.x,right:r.x+n.frame.width}),scroll:{initial:n.scroll.initial,max:n.scroll.max,current:r,diff:{value:o,displacement:i}}}};function ph(n,r){return n.map(o=>r[o])}function P1(n,r){for(let o=0;o<r.length;o++){const i=r[o].visible[n];if(i)return i}return null}var R1=({impact:n,viewport:r,destination:o,draggables:i,maxScrollChange:a})=>{const u=pm(r,ht(r.scroll.current,a)),f=o.frame?Xc(o,ht(o.frame.scroll.current,a)):o,p=n.displaced,m=io({afterDragging:ph(p.all,i),destination:o,displacedBy:n.displacedBy,viewport:u.frame,last:p,forceShouldAnimate:!1}),g=io({afterDragging:ph(p.all,i),destination:f,displacedBy:n.displacedBy,viewport:r.frame,last:p,forceShouldAnimate:!1}),y={},v={},x=[p,m,g];return p.all.forEach(j=>{const E=P1(j,x);if(E){v[j]=E;return}y[j]=!0}),{...n,displaced:{all:p.all,invisible:y,visible:v}}},D1=(n,r)=>ht(n.scroll.diff.displacement,r),ru=({pageBorderBoxCenter:n,draggable:r,viewport:o})=>{const i=D1(o,n),a=$t(i,r.page.borderBox.center);return ht(r.client.borderBox.center,a)},hm=({draggable:n,destination:r,newPageBorderBoxCenter:o,viewport:i,withDroppableDisplacement:a,onlyOnMainAxis:u=!1})=>{const f=$t(o,n.page.borderBox.center),m={target:fo(n.page.borderBox,f),destination:r,withDroppableDisplacement:a,viewport:i};return u?m1(m):dm(m)},I1=({isMovingForward:n,draggable:r,destination:o,draggables:i,previousImpact:a,viewport:u,previousPageBorderBoxCenter:f,previousClientSelection:p,afterCritical:m})=>{if(!o.isEnabled)return null;const g=cs(o.descriptor.id,i),y=us(r,o),v=l1({isMovingForward:n,draggable:r,destination:o,insideDestination:g,previousImpact:a})||w1({isMovingForward:n,isInHomeList:y,draggable:r,draggables:i,destination:o,insideDestination:g,previousImpact:a,viewport:u,afterCritical:m});if(!v)return null;const x=Qi({impact:v,draggable:r,droppable:o,draggables:i,afterCritical:m});if(hm({draggable:r,destination:o,newPageBorderBoxCenter:x,viewport:u.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:ru({pageBorderBoxCenter:x,draggable:r,viewport:u}),impact:v,scrollJumpRequest:null};const j=$t(x,f),E=R1({impact:v,viewport:u,destination:o,draggables:i,maxScrollChange:j});return{clientSelection:p,impact:E,scrollJumpRequest:j}};const Ct=n=>{const r=n.subject.active;return r||ie(),r};var A1=({isMovingForward:n,pageBorderBoxCenter:r,source:o,droppables:i,viewport:a})=>{const u=o.subject.active;if(!u)return null;const f=o.axis,p=Xt(u[f.start],u[f.end]),m=qi(i).filter(y=>y!==o).filter(y=>y.isEnabled).filter(y=>!!y.subject.active).filter(y=>cm(a.frame)(Ct(y))).filter(y=>{const v=Ct(y);return n?u[f.crossAxisEnd]<v[f.crossAxisEnd]:v[f.crossAxisStart]<u[f.crossAxisStart]}).filter(y=>{const v=Ct(y),x=Xt(v[f.start],v[f.end]);return p(v[f.start])||p(v[f.end])||x(u[f.start])||x(u[f.end])}).sort((y,v)=>{const x=Ct(y)[f.crossAxisStart],N=Ct(v)[f.crossAxisStart];return n?x-N:N-x}).filter((y,v,x)=>Ct(y)[f.crossAxisStart]===Ct(x[0])[f.crossAxisStart]);if(!m.length)return null;if(m.length===1)return m[0];const g=m.filter(y=>Xt(Ct(y)[f.start],Ct(y)[f.end])(r[f.line]));return g.length===1?g[0]:g.length>1?g.sort((y,v)=>Ct(y)[f.start]-Ct(v)[f.start])[0]:m.sort((y,v)=>{const x=ah(r,ch(Ct(y))),N=ah(r,ch(Ct(v)));return x!==N?x-N:Ct(y)[f.start]-Ct(v)[f.start]})[0]};const hh=(n,r)=>{const o=n.page.borderBox.center;return lr(n.descriptor.id,r)?$t(o,r.displacedBy.point):o},_1=(n,r)=>{const o=n.page.borderBox;return lr(n.descriptor.id,r)?fo(o,as(r.displacedBy.point)):o};var O1=({pageBorderBoxCenter:n,viewport:r,destination:o,insideDestination:i,afterCritical:a})=>i.filter(f=>dm({target:_1(f,a),destination:o,viewport:r.frame,withDroppableDisplacement:!0})).sort((f,p)=>{const m=so(n,Pc(o,hh(f,a))),g=so(n,Pc(o,hh(p,a)));return m<g?-1:g<m?1:f.descriptor.index-p.descriptor.index})[0]||null,po=lt(function(r,o){const i=o[r.line];return{value:i,point:Rr(r.line,i)}});const T1=(n,r,o)=>{const i=n.axis;if(n.descriptor.mode==="virtual")return Rr(i.line,r[i.line]);const a=n.subject.page.contentBox[i.size],m=cs(n.descriptor.id,o).reduce((g,y)=>g+y.client.marginBox[i.size],0)+r[i.line]-a;return m<=0?null:Rr(i.line,m)},mm=(n,r)=>({...n,scroll:{...n.scroll,max:r}}),gm=(n,r,o)=>{const i=n.frame;us(r,n)&&ie(),n.subject.withPlaceholder&&ie();const a=po(n.axis,r.displaceBy).point,u=T1(n,a,o),f={placeholderSize:a,increasedBy:u,oldFrameMaxScroll:n.frame?n.frame.scroll.max:null};if(!i){const y=os({page:n.subject.page,withPlaceholder:f,axis:n.axis,frame:n.frame});return{...n,subject:y}}const p=u?ht(i.scroll.max,u):i.scroll.max,m=mm(i,p),g=os({page:n.subject.page,withPlaceholder:f,axis:n.axis,frame:m});return{...n,subject:g,frame:m}},M1=n=>{const r=n.subject.withPlaceholder;r||ie();const o=n.frame;if(!o){const f=os({page:n.subject.page,axis:n.axis,frame:null,withPlaceholder:null});return{...n,subject:f}}const i=r.oldFrameMaxScroll;i||ie();const a=mm(o,i),u=os({page:n.subject.page,axis:n.axis,frame:a,withPlaceholder:null});return{...n,subject:u,frame:a}};var L1=({previousPageBorderBoxCenter:n,moveRelativeTo:r,insideDestination:o,draggable:i,draggables:a,destination:u,viewport:f,afterCritical:p})=>{if(!r){if(o.length)return null;const v={displaced:oo,displacedBy:am,at:{type:"REORDER",destination:{droppableId:u.descriptor.id,index:0}}},x=Qi({impact:v,draggable:i,droppable:u,draggables:a,afterCritical:p}),N=us(i,u)?u:gm(u,i,a);return hm({draggable:i,destination:N,newPageBorderBoxCenter:x,viewport:f.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?v:null}const m=n[u.axis.line]<=r.page.borderBox.center[u.axis.line],g=(()=>{const v=r.descriptor.index;return r.descriptor.id===i.descriptor.id||m?v:v+1})(),y=po(u.axis,i.displaceBy);return Fi({draggable:i,insideDestination:o,destination:u,viewport:f,displacedBy:y,last:oo,index:g})},F1=({isMovingForward:n,previousPageBorderBoxCenter:r,draggable:o,isOver:i,draggables:a,droppables:u,viewport:f,afterCritical:p})=>{const m=A1({isMovingForward:n,pageBorderBoxCenter:r,source:i,droppables:u,viewport:f});if(!m)return null;const g=cs(m.descriptor.id,a),y=O1({pageBorderBoxCenter:r,viewport:f,destination:m,insideDestination:g,afterCritical:p}),v=L1({previousPageBorderBoxCenter:r,destination:m,draggable:o,draggables:a,moveRelativeTo:y,insideDestination:g,viewport:f,afterCritical:p});if(!v)return null;const x=Qi({impact:v,draggable:o,droppable:m,draggables:a,afterCritical:p});return{clientSelection:ru({pageBorderBoxCenter:x,draggable:o,viewport:f}),impact:v,scrollJumpRequest:null}},zt=n=>{const r=n.at;return r?r.type==="REORDER"?r.destination.droppableId:r.combine.droppableId:null};const B1=(n,r)=>{const o=zt(n);return o?r[o]:null};var $1=({state:n,type:r})=>{const o=B1(n.impact,n.dimensions.droppables),i=!!o,a=n.dimensions.droppables[n.critical.droppable.id],u=o||a,f=u.axis.direction,p=f==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||f==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(p&&!i)return null;const m=r==="MOVE_DOWN"||r==="MOVE_RIGHT",g=n.dimensions.draggables[n.critical.draggable.id],y=n.current.page.borderBoxCenter,{draggables:v,droppables:x}=n.dimensions;return p?I1({isMovingForward:m,previousPageBorderBoxCenter:y,draggable:g,destination:u,draggables:v,viewport:n.viewport,previousClientSelection:n.current.client.selection,previousImpact:n.impact,afterCritical:n.afterCritical}):F1({isMovingForward:m,previousPageBorderBoxCenter:y,draggable:g,isOver:u,draggables:v,droppables:x,viewport:n.viewport,afterCritical:n.afterCritical})};function kr(n){return n.phase==="DRAGGING"||n.phase==="COLLECTING"}function vm(n){const r=Xt(n.top,n.bottom),o=Xt(n.left,n.right);return function(a){return r(a.y)&&o(a.x)}}function z1(n,r){return n.left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top}function U1({pageBorderBox:n,draggable:r,candidates:o}){const i=r.page.borderBox.center,a=o.map(u=>{const f=u.axis,p=Rr(u.axis.line,n.center[f.line],u.page.borderBox.center[f.crossAxisLine]);return{id:u.descriptor.id,distance:so(i,p)}}).sort((u,f)=>f.distance-u.distance);return a[0]?a[0].id:null}function G1({pageBorderBox:n,draggable:r,droppables:o}){const i=qi(o).filter(a=>{if(!a.isEnabled)return!1;const u=a.subject.active;if(!u||!z1(n,u))return!1;if(vm(u)(n.center))return!0;const f=a.axis,p=u.center[f.crossAxisLine],m=n[f.crossAxisStart],g=n[f.crossAxisEnd],y=Xt(u[f.crossAxisStart],u[f.crossAxisEnd]),v=y(m),x=y(g);return!v&&!x?!0:v?m<p:g>p});return i.length?i.length===1?i[0].descriptor.id:U1({pageBorderBox:n,draggable:r,candidates:i}):null}const xm=(n,r)=>dn(fo(n,r));var W1=(n,r)=>{const o=n.frame;return o?xm(r,o.scroll.diff.value):r};function ym({displaced:n,id:r}){return!!(n.visible[r]||n.invisible[r])}function V1({draggable:n,closest:r,inHomeList:o}){return r?o&&r.descriptor.index>n.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var H1=({pageBorderBoxWithDroppableScroll:n,draggable:r,destination:o,insideDestination:i,last:a,viewport:u,afterCritical:f})=>{const p=o.axis,m=po(o.axis,r.displaceBy),g=m.value,y=n[p.start],v=n[p.end],N=Yi(r,i).find(E=>{const k=E.descriptor.id,V=E.page.borderBox.center[p.line],z=lr(k,f),T=ym({displaced:a,id:k});return z?T?v<=V:y<V-g:T?v<=V+g:y<V})||null,j=V1({draggable:r,closest:N,inHomeList:us(r,o)});return Fi({draggable:r,insideDestination:i,destination:o,viewport:u,last:a,displacedBy:m,index:j})};const q1=4;var K1=({draggable:n,pageBorderBoxWithDroppableScroll:r,previousImpact:o,destination:i,insideDestination:a,afterCritical:u})=>{if(!i.isCombineEnabled)return null;const f=i.axis,p=po(i.axis,n.displaceBy),m=p.value,g=r[f.start],y=r[f.end],x=Yi(n,a).find(j=>{const E=j.descriptor.id,k=j.page.borderBox,z=k[f.size]/q1,T=lr(E,u),L=ym({displaced:o.displaced,id:E});return T?L?y>k[f.start]+z&&y<k[f.end]-z:g>k[f.start]-m+z&&g<k[f.end]-m-z:L?y>k[f.start]+m+z&&y<k[f.end]+m-z:g>k[f.start]+z&&g<k[f.end]-z});return x?{displacedBy:p,displaced:o.displaced,at:{type:"COMBINE",combine:{draggableId:x.descriptor.id,droppableId:i.descriptor.id}}}:null},bm=({pageOffset:n,draggable:r,draggables:o,droppables:i,previousImpact:a,viewport:u,afterCritical:f})=>{const p=xm(r.page.borderBox,n),m=G1({pageBorderBox:p,draggable:r,droppables:i});if(!m)return a1;const g=i[m],y=cs(g.descriptor.id,o),v=W1(g,p);return K1({pageBorderBoxWithDroppableScroll:v,draggable:r,previousImpact:a,destination:g,insideDestination:y,afterCritical:f})||H1({pageBorderBoxWithDroppableScroll:v,draggable:r,destination:g,insideDestination:y,last:a.displaced,viewport:u,afterCritical:f})},su=(n,r)=>({...n,[r.descriptor.id]:r});const Y1=({previousImpact:n,impact:r,droppables:o})=>{const i=zt(n),a=zt(r);if(!i||i===a)return o;const u=o[i];if(!u.subject.withPlaceholder)return o;const f=M1(u);return su(o,f)};var Q1=({draggable:n,draggables:r,droppables:o,previousImpact:i,impact:a})=>{const u=Y1({previousImpact:i,impact:a,droppables:o}),f=zt(a);if(!f)return u;const p=o[f];if(us(n,p)||p.subject.withPlaceholder)return u;const m=gm(p,n,r);return su(u,m)},Zs=({state:n,clientSelection:r,dimensions:o,viewport:i,impact:a,scrollJumpRequest:u})=>{const f=i||n.viewport,p=o||n.dimensions,m=r||n.current.client.selection,g=$t(m,n.initial.client.selection),y={offset:g,selection:m,borderBoxCenter:ht(n.initial.client.borderBoxCenter,g)},v={selection:ht(y.selection,f.scroll.current),borderBoxCenter:ht(y.borderBoxCenter,f.scroll.current),offset:ht(y.offset,f.scroll.diff.value)},x={client:y,page:v};if(n.phase==="COLLECTING")return{...n,dimensions:p,viewport:f,current:x};const N=p.draggables[n.critical.draggable.id],j=a||bm({pageOffset:v.offset,draggable:N,draggables:p.draggables,droppables:p.droppables,previousImpact:n.impact,viewport:f,afterCritical:n.afterCritical}),E=Q1({draggable:N,impact:j,previousImpact:n.impact,draggables:p.draggables,droppables:p.droppables});return{...n,current:x,dimensions:{draggables:p.draggables,droppables:E},impact:j,viewport:f,scrollJumpRequest:u||null,forceShouldAnimate:u?!1:null}};function Z1(n,r){return n.map(o=>r[o])}var wm=({impact:n,viewport:r,draggables:o,destination:i,forceShouldAnimate:a})=>{const u=n.displaced,f=Z1(u.all,o),p=io({afterDragging:f,destination:i,displacedBy:n.displacedBy,viewport:r.frame,forceShouldAnimate:a,last:u});return{...n,displaced:p}},Nm=({impact:n,draggable:r,droppable:o,draggables:i,viewport:a,afterCritical:u})=>{const f=Qi({impact:n,draggable:r,draggables:i,droppable:o,afterCritical:u});return ru({pageBorderBoxCenter:f,draggable:r,viewport:a})},Sm=({state:n,dimensions:r,viewport:o})=>{n.movementMode!=="SNAP"&&ie();const i=n.impact,a=o||n.viewport,u=r||n.dimensions,{draggables:f,droppables:p}=u,m=f[n.critical.draggable.id],g=zt(i);g||ie();const y=p[g],v=wm({impact:i,viewport:a,destination:y,draggables:f}),x=Nm({impact:v,draggable:m,droppable:y,draggables:f,viewport:a,afterCritical:n.afterCritical});return Zs({impact:v,clientSelection:x,state:n,dimensions:u,viewport:a})},X1=n=>({index:n.index,droppableId:n.droppableId}),Cm=({draggable:n,home:r,draggables:o,viewport:i})=>{const a=po(r.axis,n.displaceBy),u=cs(r.descriptor.id,o),f=u.indexOf(n);f===-1&&ie();const p=u.slice(f+1),m=p.reduce((x,N)=>(x[N.descriptor.id]=!0,x),{}),g={inVirtualList:r.descriptor.mode==="virtual",displacedBy:a,effected:m};return{impact:{displaced:io({afterDragging:p,destination:r,displacedBy:a,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:a,at:{type:"REORDER",destination:X1(n.descriptor)}},afterCritical:g}},J1=(n,r)=>({draggables:n.draggables,droppables:su(n.droppables,r)}),ew=({draggable:n,offset:r,initialWindowScroll:o})=>{const i=_i(n.client,r),a=Oi(i,o);return{...n,placeholder:{...n.placeholder,client:i},client:i,page:a}},tw=n=>{const r=n.frame;return r||ie(),r},nw=({additions:n,updatedDroppables:r,viewport:o})=>{const i=o.scroll.diff.value;return n.map(a=>{const u=a.descriptor.droppableId,f=r[u],m=tw(f).scroll.diff.value,g=ht(i,m);return ew({draggable:a,offset:g,initialWindowScroll:o.scroll.initial})})},rw=({state:n,published:r})=>{const o=r.modified.map(V=>{const z=n.dimensions.droppables[V.droppableId];return Xc(z,V.scroll)}),i={...n.dimensions.droppables,...im(o)},a=lm(nw({additions:r.additions,updatedDroppables:i,viewport:n.viewport})),u={...n.dimensions.draggables,...a};r.removals.forEach(V=>{delete u[V]});const f={droppables:i,draggables:u},p=zt(n.impact),m=p?f.droppables[p]:null,g=f.draggables[n.critical.draggable.id],y=f.droppables[n.critical.droppable.id],{impact:v,afterCritical:x}=Cm({draggable:g,home:y,draggables:u,viewport:n.viewport}),N=m&&m.isCombineEnabled?n.impact:v,j=bm({pageOffset:n.current.page.offset,draggable:f.draggables[n.critical.draggable.id],draggables:f.draggables,droppables:f.droppables,previousImpact:N,viewport:n.viewport,afterCritical:x}),E={...n,phase:"DRAGGING",impact:j,onLiftImpact:v,dimensions:f,afterCritical:x,forceShouldAnimate:!1};return n.phase==="COLLECTING"?E:{...E,phase:"DROP_PENDING",reason:n.reason,isWaiting:!1}};const Rc=n=>n.movementMode==="SNAP",dc=(n,r,o)=>{const i=J1(n.dimensions,r);return!Rc(n)||o?Zs({state:n,dimensions:i}):Sm({state:n,dimensions:i})};function fc(n){return n.isDragging&&n.movementMode==="SNAP"?{...n,scrollJumpRequest:null}:n}const mh={phase:"IDLE",completed:null,shouldFlush:!1};var sw=(n=mh,r)=>{if(r.type==="FLUSH")return{...mh,shouldFlush:!0};if(r.type==="INITIAL_PUBLISH"){n.phase!=="IDLE"&&ie();const{critical:o,clientSelection:i,viewport:a,dimensions:u,movementMode:f}=r.payload,p=u.draggables[o.draggable.id],m=u.droppables[o.droppable.id],g={selection:i,borderBoxCenter:p.client.borderBox.center,offset:at},y={client:g,page:{selection:ht(g.selection,a.scroll.initial),borderBoxCenter:ht(g.selection,a.scroll.initial),offset:ht(g.selection,a.scroll.diff.value)}},v=qi(u.droppables).every(E=>!E.isFixedOnPage),{impact:x,afterCritical:N}=Cm({draggable:p,home:m,draggables:u.draggables,viewport:a});return{phase:"DRAGGING",isDragging:!0,critical:o,movementMode:f,dimensions:u,initial:y,current:y,isWindowScrollAllowed:v,impact:x,afterCritical:N,onLiftImpact:x,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null}}if(r.type==="COLLECTION_STARTING")return n.phase==="COLLECTING"||n.phase==="DROP_PENDING"?n:(n.phase!=="DRAGGING"&&ie(),{...n,phase:"COLLECTING"});if(r.type==="PUBLISH_WHILE_DRAGGING")return n.phase==="COLLECTING"||n.phase==="DROP_PENDING"||ie(),rw({state:n,published:r.payload});if(r.type==="MOVE"){if(n.phase==="DROP_PENDING")return n;kr(n)||ie();const{client:o}=r.payload;return ir(o,n.current.client.selection)?n:Zs({state:n,clientSelection:o,impact:Rc(n)?n.impact:null})}if(r.type==="UPDATE_DROPPABLE_SCROLL"){if(n.phase==="DROP_PENDING"||n.phase==="COLLECTING")return fc(n);kr(n)||ie();const{id:o,newScroll:i}=r.payload,a=n.dimensions.droppables[o];if(!a)return n;const u=Xc(a,i);return dc(n,u,!1)}if(r.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(n.phase==="DROP_PENDING")return n;kr(n)||ie();const{id:o,isEnabled:i}=r.payload,a=n.dimensions.droppables[o];a||ie(),a.isEnabled===i&&ie();const u={...a,isEnabled:i};return dc(n,u,!0)}if(r.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(n.phase==="DROP_PENDING")return n;kr(n)||ie();const{id:o,isCombineEnabled:i}=r.payload,a=n.dimensions.droppables[o];a||ie(),a.isCombineEnabled===i&&ie();const u={...a,isCombineEnabled:i};return dc(n,u,!0)}if(r.type==="MOVE_BY_WINDOW_SCROLL"){if(n.phase==="DROP_PENDING"||n.phase==="DROP_ANIMATING")return n;kr(n)||ie(),n.isWindowScrollAllowed||ie();const o=r.payload.newScroll;if(ir(n.viewport.scroll.current,o))return fc(n);const i=pm(n.viewport,o);return Rc(n)?Sm({state:n,viewport:i}):Zs({state:n,viewport:i})}if(r.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!kr(n))return n;const o=r.payload.maxScroll;if(ir(o,n.viewport.scroll.max))return n;const i={...n.viewport,scroll:{...n.viewport.scroll,max:o}};return{...n,viewport:i}}if(r.type==="MOVE_UP"||r.type==="MOVE_DOWN"||r.type==="MOVE_LEFT"||r.type==="MOVE_RIGHT"){if(n.phase==="COLLECTING"||n.phase==="DROP_PENDING")return n;n.phase!=="DRAGGING"&&ie();const o=$1({state:n,type:r.type});return o?Zs({state:n,impact:o.impact,clientSelection:o.clientSelection,scrollJumpRequest:o.scrollJumpRequest}):n}if(r.type==="DROP_PENDING"){const o=r.payload.reason;return n.phase!=="COLLECTING"&&ie(),{...n,phase:"DROP_PENDING",isWaiting:!0,reason:o}}if(r.type==="DROP_ANIMATE"){const{completed:o,dropDuration:i,newHomeClientOffset:a}=r.payload;return n.phase==="DRAGGING"||n.phase==="DROP_PENDING"||ie(),{phase:"DROP_ANIMATING",completed:o,dropDuration:i,newHomeClientOffset:a,dimensions:n.dimensions}}if(r.type==="DROP_COMPLETE"){const{completed:o}=r.payload;return{phase:"IDLE",completed:o,shouldFlush:!1}}return n};function Fe(n,r){return n instanceof Object&&"type"in n&&n.type===r}const ow=n=>({type:"BEFORE_INITIAL_CAPTURE",payload:n}),iw=n=>({type:"LIFT",payload:n}),lw=n=>({type:"INITIAL_PUBLISH",payload:n}),aw=n=>({type:"PUBLISH_WHILE_DRAGGING",payload:n}),cw=()=>({type:"COLLECTION_STARTING",payload:null}),uw=n=>({type:"UPDATE_DROPPABLE_SCROLL",payload:n}),dw=n=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:n}),fw=n=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:n}),jm=n=>({type:"MOVE",payload:n}),pw=n=>({type:"MOVE_BY_WINDOW_SCROLL",payload:n}),hw=n=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:n}),mw=()=>({type:"MOVE_UP",payload:null}),gw=()=>({type:"MOVE_DOWN",payload:null}),vw=()=>({type:"MOVE_RIGHT",payload:null}),xw=()=>({type:"MOVE_LEFT",payload:null}),ou=()=>({type:"FLUSH",payload:null}),yw=n=>({type:"DROP_ANIMATE",payload:n}),iu=n=>({type:"DROP_COMPLETE",payload:n}),Em=n=>({type:"DROP",payload:n}),bw=n=>({type:"DROP_PENDING",payload:n}),km=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var ww=n=>({getState:r,dispatch:o})=>i=>a=>{if(!Fe(a,"LIFT")){i(a);return}const{id:u,clientSelection:f,movementMode:p}=a.payload,m=r();m.phase==="DROP_ANIMATING"&&o(iu({completed:m.completed})),r().phase!=="IDLE"&&ie(),o(ou()),o(ow({draggableId:u,movementMode:p}));const y={draggableId:u,scrollOptions:{shouldPublishImmediately:p==="SNAP"}},{critical:v,dimensions:x,viewport:N}=n.startPublishing(y);o(lw({critical:v,dimensions:x,clientSelection:f,movementMode:p,viewport:N}))},Nw=n=>()=>r=>o=>{Fe(o,"INITIAL_PUBLISH")&&n.dragging(),Fe(o,"DROP_ANIMATE")&&n.dropping(o.payload.completed.result.reason),(Fe(o,"FLUSH")||Fe(o,"DROP_COMPLETE"))&&n.resting(),r(o)};const lu={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},lo={opacity:{drop:0,combining:.7},scale:{drop:.75}},Pm={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Er=`${Pm.outOfTheWay}s ${lu.outOfTheWay}`,Xs={fluid:`opacity ${Er}`,snap:`transform ${Er}, opacity ${Er}`,drop:n=>{const r=`${n}s ${lu.drop}`;return`transform ${r}, opacity ${r}`},outOfTheWay:`transform ${Er}`,placeholder:`height ${Er}, width ${Er}, margin ${Er}`},gh=n=>ir(n,at)?void 0:`translate(${n.x}px, ${n.y}px)`,Dc={moveTo:gh,drop:(n,r)=>{const o=gh(n);if(o)return r?`${o} scale(${lo.scale.drop})`:o}},{minDropTime:Ic,maxDropTime:Rm}=Pm,Sw=Rm-Ic,vh=1500,Cw=.6;var jw=({current:n,destination:r,reason:o})=>{const i=so(n,r);if(i<=0)return Ic;if(i>=vh)return Rm;const a=i/vh,u=Ic+Sw*a,f=o==="CANCEL"?u*Cw:u;return Number(f.toFixed(2))},Ew=({impact:n,draggable:r,dimensions:o,viewport:i,afterCritical:a})=>{const{draggables:u,droppables:f}=o,p=zt(n),m=p?f[p]:null,g=f[r.descriptor.droppableId],y=Nm({impact:n,draggable:r,draggables:u,afterCritical:a,droppable:m||g,viewport:i});return $t(y,r.client.borderBox.center)},kw=({draggables:n,reason:r,lastImpact:o,home:i,viewport:a,onLiftImpact:u})=>!o.at||r!=="DROP"?{impact:wm({draggables:n,impact:u,destination:i,viewport:a,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:o.at.type==="REORDER"?{impact:o,didDropInsideDroppable:!0}:{impact:{...o,displaced:oo},didDropInsideDroppable:!0};const Pw=({getState:n,dispatch:r})=>o=>i=>{if(!Fe(i,"DROP")){o(i);return}const a=n(),u=i.payload.reason;if(a.phase==="COLLECTING"){r(bw({reason:u}));return}if(a.phase==="IDLE")return;a.phase==="DROP_PENDING"&&a.isWaiting&&ie(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||ie();const p=a.critical,m=a.dimensions,g=m.draggables[a.critical.draggable.id],{impact:y,didDropInsideDroppable:v}=kw({reason:u,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),x=v?Jc(y):null,N=v?Ki(y):null,j={index:p.draggable.index,droppableId:p.droppable.id},E={draggableId:g.descriptor.id,type:g.descriptor.type,source:j,reason:u,mode:a.movementMode,destination:x,combine:N},k=Ew({impact:y,draggable:g,dimensions:m,viewport:a.viewport,afterCritical:a.afterCritical}),V={critical:a.critical,afterCritical:a.afterCritical,result:E,impact:y};if(!(!ir(a.current.client.offset,k)||!!E.combine)){r(iu({completed:V}));return}const T=jw({current:a.current.client.offset,destination:k,reason:u});r(yw({newHomeClientOffset:k,dropDuration:T,completed:V}))};var Dm=()=>({x:window.pageXOffset,y:window.pageYOffset});function Rw(n){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:r=>{r.target!==window&&r.target!==window.document||n()}}}function Dw({onWindowScroll:n}){function r(){n(Dm())}const o=ro(r),i=Rw(o);let a=or;function u(){return a!==or}function f(){u()&&ie(),a=Zt(window,[i])}function p(){u()||ie(),o.cancel(),a(),a=or}return{start:f,stop:p,isActive:u}}const Iw=n=>Fe(n,"DROP_COMPLETE")||Fe(n,"DROP_ANIMATE")||Fe(n,"FLUSH"),Aw=n=>{const r=Dw({onWindowScroll:o=>{n.dispatch(pw({newScroll:o}))}});return o=>i=>{!r.isActive()&&Fe(i,"INITIAL_PUBLISH")&&r.start(),r.isActive()&&Iw(i)&&r.stop(),o(i)}};var _w=n=>{let r=!1,o=!1;const i=setTimeout(()=>{o=!0}),a=u=>{r||o||(r=!0,n(u),clearTimeout(i))};return a.wasCalled=()=>r,a},Ow=()=>{const n=[],r=a=>{const u=n.findIndex(p=>p.timerId===a);u===-1&&ie();const[f]=n.splice(u,1);f.callback()};return{add:a=>{const u=setTimeout(()=>r(u)),f={timerId:u,callback:a};n.push(f)},flush:()=>{if(!n.length)return;const a=[...n];n.length=0,a.forEach(u=>{clearTimeout(u.timerId),u.callback()})}}};const Tw=(n,r)=>n==null&&r==null?!0:n==null||r==null?!1:n.droppableId===r.droppableId&&n.index===r.index,Mw=(n,r)=>n==null&&r==null?!0:n==null||r==null?!1:n.draggableId===r.draggableId&&n.droppableId===r.droppableId,Lw=(n,r)=>{if(n===r)return!0;const o=n.draggable.id===r.draggable.id&&n.draggable.droppableId===r.draggable.droppableId&&n.draggable.type===r.draggable.type&&n.draggable.index===r.draggable.index,i=n.droppable.id===r.droppable.id&&n.droppable.type===r.droppable.type;return o&&i},Ks=(n,r)=>{r()},ji=(n,r)=>({draggableId:n.draggable.id,type:n.droppable.type,source:{droppableId:n.droppable.id,index:n.draggable.index},mode:r});function pc(n,r,o,i){if(!n){o(i(r));return}const a=_w(o);n(r,{announce:a}),a.wasCalled()||o(i(r))}var Fw=(n,r)=>{const o=Ow();let i=null;const a=(v,x)=>{i&&ie(),Ks("onBeforeCapture",()=>{const N=n().onBeforeCapture;N&&N({draggableId:v,mode:x})})},u=(v,x)=>{i&&ie(),Ks("onBeforeDragStart",()=>{const N=n().onBeforeDragStart;N&&N(ji(v,x))})},f=(v,x)=>{i&&ie();const N=ji(v,x);i={mode:x,lastCritical:v,lastLocation:N.source,lastCombine:null},o.add(()=>{Ks("onDragStart",()=>pc(n().onDragStart,N,r,Ri.onDragStart))})},p=(v,x)=>{const N=Jc(x),j=Ki(x);i||ie();const E=!Lw(v,i.lastCritical);E&&(i.lastCritical=v);const k=!Tw(i.lastLocation,N);k&&(i.lastLocation=N);const V=!Mw(i.lastCombine,j);if(V&&(i.lastCombine=j),!E&&!k&&!V)return;const z={...ji(v,i.mode),combine:j,destination:N};o.add(()=>{Ks("onDragUpdate",()=>pc(n().onDragUpdate,z,r,Ri.onDragUpdate))})},m=()=>{i||ie(),o.flush()},g=v=>{i||ie(),i=null,Ks("onDragEnd",()=>pc(n().onDragEnd,v,r,Ri.onDragEnd))};return{beforeCapture:a,beforeStart:u,start:f,update:p,flush:m,drop:g,abort:()=>{if(!i)return;const v={...ji(i.lastCritical,i.mode),combine:null,destination:null,reason:"CANCEL"};g(v)}}},Bw=(n,r)=>{const o=Fw(n,r);return i=>a=>u=>{if(Fe(u,"BEFORE_INITIAL_CAPTURE")){o.beforeCapture(u.payload.draggableId,u.payload.movementMode);return}if(Fe(u,"INITIAL_PUBLISH")){const p=u.payload.critical;o.beforeStart(p,u.payload.movementMode),a(u),o.start(p,u.payload.movementMode);return}if(Fe(u,"DROP_COMPLETE")){const p=u.payload.completed.result;o.flush(),a(u),o.drop(p);return}if(a(u),Fe(u,"FLUSH")){o.abort();return}const f=i.getState();f.phase==="DRAGGING"&&o.update(f.critical,f.impact)}};const $w=n=>r=>o=>{if(!Fe(o,"DROP_ANIMATION_FINISHED")){r(o);return}const i=n.getState();i.phase!=="DROP_ANIMATING"&&ie(),n.dispatch(iu({completed:i.completed}))},zw=n=>{let r=null,o=null;function i(){o&&(cancelAnimationFrame(o),o=null),r&&(r(),r=null)}return a=>u=>{if((Fe(u,"FLUSH")||Fe(u,"DROP_COMPLETE")||Fe(u,"DROP_ANIMATION_FINISHED"))&&i(),a(u),!Fe(u,"DROP_ANIMATE"))return;const f={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){n.getState().phase==="DROP_ANIMATING"&&n.dispatch(km())}};o=requestAnimationFrame(()=>{o=null,r=Zt(window,[f])})}};var Uw=n=>()=>r=>o=>{(Fe(o,"DROP_COMPLETE")||Fe(o,"FLUSH")||Fe(o,"DROP_ANIMATE"))&&n.stopPublishing(),r(o)},Gw=n=>{let r=!1;return()=>o=>i=>{if(Fe(i,"INITIAL_PUBLISH")){r=!0,n.tryRecordFocus(i.payload.critical.draggable.id),o(i),n.tryRestoreFocusRecorded();return}if(o(i),!!r){if(Fe(i,"FLUSH")){r=!1,n.tryRestoreFocusRecorded();return}if(Fe(i,"DROP_COMPLETE")){r=!1;const a=i.payload.completed.result;a.combine&&n.tryShiftRecord(a.draggableId,a.combine.draggableId),n.tryRestoreFocusRecorded()}}}};const Ww=n=>Fe(n,"DROP_COMPLETE")||Fe(n,"DROP_ANIMATE")||Fe(n,"FLUSH");var Vw=n=>r=>o=>i=>{if(Ww(i)){n.stop(),o(i);return}if(Fe(i,"INITIAL_PUBLISH")){o(i);const a=r.getState();a.phase!=="DRAGGING"&&ie(),n.start(a);return}o(i),n.scroll(r.getState())};const Hw=n=>r=>o=>{if(r(o),!Fe(o,"PUBLISH_WHILE_DRAGGING"))return;const i=n.getState();i.phase==="DROP_PENDING"&&(i.isWaiting||n.dispatch(Em({reason:i.reason})))},qw=Hh;var Kw=({dimensionMarshal:n,focusMarshal:r,styleMarshal:o,getResponders:i,announce:a,autoScroller:u})=>Vh(sw,qw(Vy(Nw(o),Uw(n),ww(n),Pw,$w,zw,Hw,Vw(u),Aw,Gw(r),Bw(i,a))));const hc=()=>({additions:{},removals:{},modified:{}});function Yw({registry:n,callbacks:r}){let o=hc(),i=null;const a=()=>{i||(r.collectionStarting(),i=requestAnimationFrame(()=>{i=null;const{additions:m,removals:g,modified:y}=o,v=Object.keys(m).map(j=>n.draggable.getById(j).getDimension(at)).sort((j,E)=>j.descriptor.index-E.descriptor.index),x=Object.keys(y).map(j=>{const k=n.droppable.getById(j).callbacks.getScrollWhileDragging();return{droppableId:j,scroll:k}}),N={additions:v,removals:Object.keys(g),modified:x};o=hc(),r.publish(N)}))};return{add:m=>{const g=m.descriptor.id;o.additions[g]=m,o.modified[m.descriptor.droppableId]=!0,o.removals[g]&&delete o.removals[g],a()},remove:m=>{const g=m.descriptor;o.removals[g.id]=!0,o.modified[g.droppableId]=!0,o.additions[g.id]&&delete o.additions[g.id],a()},stop:()=>{i&&(cancelAnimationFrame(i),i=null,o=hc())}}}var Im=({scrollHeight:n,scrollWidth:r,height:o,width:i})=>{const a=$t({x:r,y:n},{x:i,y:o});return{x:Math.max(0,a.x),y:Math.max(0,a.y)}},Am=()=>{const n=document.documentElement;return n||ie(),n},_m=()=>{const n=Am();return Im({scrollHeight:n.scrollHeight,scrollWidth:n.scrollWidth,width:n.clientWidth,height:n.clientHeight})},Qw=()=>{const n=Dm(),r=_m(),o=n.y,i=n.x,a=Am(),u=a.clientWidth,f=a.clientHeight,p=i+u,m=o+f;return{frame:dn({top:o,left:i,right:p,bottom:m}),scroll:{initial:n,current:n,max:r,diff:{value:at,displacement:at}}}},Zw=({critical:n,scrollOptions:r,registry:o})=>{const i=Qw(),a=i.scroll.current,u=n.droppable,f=o.droppable.getAllByType(u.type).map(y=>y.callbacks.getDimensionAndWatchScroll(a,r)),p=o.draggable.getAllByType(n.draggable.type).map(y=>y.getDimension(a));return{dimensions:{draggables:lm(p),droppables:im(f)},critical:n,viewport:i}};function xh(n,r,o){return!(o.descriptor.id===r.id||o.descriptor.type!==r.type||n.droppable.getById(o.descriptor.droppableId).descriptor.mode!=="virtual")}var Xw=(n,r)=>{let o=null;const i=Yw({callbacks:{publish:r.publishWhileDragging,collectionStarting:r.collectionStarting},registry:n}),a=(x,N)=>{n.droppable.exists(x)||ie(),o&&r.updateDroppableIsEnabled({id:x,isEnabled:N})},u=(x,N)=>{o&&(n.droppable.exists(x)||ie(),r.updateDroppableIsCombineEnabled({id:x,isCombineEnabled:N}))},f=(x,N)=>{o&&(n.droppable.exists(x)||ie(),r.updateDroppableScroll({id:x,newScroll:N}))},p=(x,N)=>{o&&n.droppable.getById(x).callbacks.scroll(N)},m=()=>{if(!o)return;i.stop();const x=o.critical.droppable;n.droppable.getAllByType(x.type).forEach(N=>N.callbacks.dragStopped()),o.unsubscribe(),o=null},g=x=>{o||ie();const N=o.critical.draggable;x.type==="ADDITION"&&xh(n,N,x.value)&&i.add(x.value),x.type==="REMOVAL"&&xh(n,N,x.value)&&i.remove(x.value)};return{updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:u,scrollDroppable:p,updateDroppableScroll:f,startPublishing:x=>{o&&ie();const N=n.draggable.getById(x.draggableId),j=n.droppable.getById(N.descriptor.droppableId),E={draggable:N.descriptor,droppable:j.descriptor},k=n.subscribe(g);return o={critical:E,unsubscribe:k},Zw({critical:E,registry:n,scrollOptions:x.scrollOptions})},stopPublishing:m}},Om=(n,r)=>n.phase==="IDLE"?!0:n.phase!=="DROP_ANIMATING"||n.completed.result.draggableId===r?!1:n.completed.result.reason==="DROP",Jw=n=>{window.scrollBy(n.x,n.y)};const eN=lt(n=>qi(n).filter(r=>!(!r.isEnabled||!r.frame))),tN=(n,r)=>eN(r).find(i=>(i.frame||ie(),vm(i.frame.pageMarginBox)(n)))||null;var nN=({center:n,destination:r,droppables:o})=>{if(r){const a=o[r];return a.frame?a:null}return tN(n,o)};const ao={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:n=>n**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var rN=(n,r,o=()=>ao)=>{const i=o(),a=n[r.size]*i.startFromPercentage,u=n[r.size]*i.maxScrollAtPercentage;return{startScrollingFrom:a,maxScrollValueAt:u}},Tm=({startOfRange:n,endOfRange:r,current:o})=>{const i=r-n;return i===0?0:(o-n)/i},au=1,sN=(n,r,o=()=>ao)=>{const i=o();if(n>r.startScrollingFrom)return 0;if(n<=r.maxScrollValueAt)return i.maxPixelScroll;if(n===r.startScrollingFrom)return au;const u=1-Tm({startOfRange:r.maxScrollValueAt,endOfRange:r.startScrollingFrom,current:n}),f=i.maxPixelScroll*i.ease(u);return Math.ceil(f)},oN=(n,r,o)=>{const i=o(),a=i.durationDampening.accelerateAt,u=i.durationDampening.stopDampeningAt,f=r,p=u,g=Date.now()-f;if(g>=u)return n;if(g<a)return au;const y=Tm({startOfRange:a,endOfRange:p,current:g}),v=n*i.ease(y);return Math.ceil(v)},yh=({distanceToEdge:n,thresholds:r,dragStartTime:o,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const u=sN(n,r,a);return u===0?0:i?Math.max(oN(u,o,a),au):u},bh=({container:n,distanceToEdges:r,dragStartTime:o,axis:i,shouldUseTimeDampening:a,getAutoScrollerOptions:u})=>{const f=rN(n,i,u);return r[i.end]<r[i.start]?yh({distanceToEdge:r[i.end],thresholds:f,dragStartTime:o,shouldUseTimeDampening:a,getAutoScrollerOptions:u}):-1*yh({distanceToEdge:r[i.start],thresholds:f,dragStartTime:o,shouldUseTimeDampening:a,getAutoScrollerOptions:u})},iN=({container:n,subject:r,proposedScroll:o})=>{const i=r.height>n.height,a=r.width>n.width;return!a&&!i?o:a&&i?null:{x:a?0:o.x,y:i?0:o.y}};const lN=om(n=>n===0?0:n);var Mm=({dragStartTime:n,container:r,subject:o,center:i,shouldUseTimeDampening:a,getAutoScrollerOptions:u})=>{const f={top:i.y-r.top,right:r.right-i.x,bottom:r.bottom-i.y,left:i.x-r.left},p=bh({container:r,distanceToEdges:f,dragStartTime:n,axis:eu,shouldUseTimeDampening:a,getAutoScrollerOptions:u}),m=bh({container:r,distanceToEdges:f,dragStartTime:n,axis:um,shouldUseTimeDampening:a,getAutoScrollerOptions:u}),g=lN({x:m,y:p});if(ir(g,at))return null;const y=iN({container:r,subject:o,proposedScroll:g});return y?ir(y,at)?null:y:null};const aN=om(n=>n===0?0:n>0?1:-1),cu=(()=>{const n=(r,o)=>r<0?r:r>o?r-o:0;return({current:r,max:o,change:i})=>{const a=ht(r,i),u={x:n(a.x,o.x),y:n(a.y,o.y)};return ir(u,at)?null:u}})(),Lm=({max:n,current:r,change:o})=>{const i={x:Math.max(r.x,n.x),y:Math.max(r.y,n.y)},a=aN(o),u=cu({max:i,current:r,change:a});return!u||a.x!==0&&u.x===0||a.y!==0&&u.y===0},uu=(n,r)=>Lm({current:n.scroll.current,max:n.scroll.max,change:r}),cN=(n,r)=>{if(!uu(n,r))return null;const o=n.scroll.max,i=n.scroll.current;return cu({current:i,max:o,change:r})},du=(n,r)=>{const o=n.frame;return o?Lm({current:o.scroll.current,max:o.scroll.max,change:r}):!1},uN=(n,r)=>{const o=n.frame;return!o||!du(n,r)?null:cu({current:o.scroll.current,max:o.scroll.max,change:r})};var dN=({viewport:n,subject:r,center:o,dragStartTime:i,shouldUseTimeDampening:a,getAutoScrollerOptions:u})=>{const f=Mm({dragStartTime:i,container:n.frame,subject:r,center:o,shouldUseTimeDampening:a,getAutoScrollerOptions:u});return f&&uu(n,f)?f:null},fN=({droppable:n,subject:r,center:o,dragStartTime:i,shouldUseTimeDampening:a,getAutoScrollerOptions:u})=>{const f=n.frame;if(!f)return null;const p=Mm({dragStartTime:i,container:f.pageMarginBox,subject:r,center:o,shouldUseTimeDampening:a,getAutoScrollerOptions:u});return p&&du(n,p)?p:null},wh=({state:n,dragStartTime:r,shouldUseTimeDampening:o,scrollWindow:i,scrollDroppable:a,getAutoScrollerOptions:u})=>{const f=n.current.page.borderBoxCenter,m=n.dimensions.draggables[n.critical.draggable.id].page.marginBox;if(n.isWindowScrollAllowed){const v=n.viewport,x=dN({dragStartTime:r,viewport:v,subject:m,center:f,shouldUseTimeDampening:o,getAutoScrollerOptions:u});if(x){i(x);return}}const g=nN({center:f,destination:zt(n.impact),droppables:n.dimensions.droppables});if(!g)return;const y=fN({dragStartTime:r,droppable:g,subject:m,center:f,shouldUseTimeDampening:o,getAutoScrollerOptions:u});y&&a(g.descriptor.id,y)},pN=({scrollWindow:n,scrollDroppable:r,getAutoScrollerOptions:o=()=>ao})=>{const i=ro(n),a=ro(r);let u=null;const f=g=>{u||ie();const{shouldUseTimeDampening:y,dragStartTime:v}=u;wh({state:g,scrollWindow:i,scrollDroppable:a,dragStartTime:v,shouldUseTimeDampening:y,getAutoScrollerOptions:o})};return{start:g=>{u&&ie();const y=Date.now();let v=!1;const x=()=>{v=!0};wh({state:g,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:x,scrollDroppable:x,getAutoScrollerOptions:o}),u={dragStartTime:y,shouldUseTimeDampening:v},v&&f(g)},stop:()=>{u&&(i.cancel(),a.cancel(),u=null)},scroll:f}},hN=({move:n,scrollDroppable:r,scrollWindow:o})=>{const i=(p,m)=>{const g=ht(p.current.client.selection,m);n({client:g})},a=(p,m)=>{if(!du(p,m))return m;const g=uN(p,m);if(!g)return r(p.descriptor.id,m),null;const y=$t(m,g);return r(p.descriptor.id,y),$t(m,y)},u=(p,m,g)=>{if(!p||!uu(m,g))return g;const y=cN(m,g);if(!y)return o(g),null;const v=$t(g,y);return o(v),$t(g,v)};return p=>{const m=p.scrollJumpRequest;if(!m)return;const g=zt(p.impact);g||ie();const y=a(p.dimensions.droppables[g],m);if(!y)return;const v=p.viewport,x=u(p.isWindowScrollAllowed,v,y);x&&i(p,x)}},mN=({scrollDroppable:n,scrollWindow:r,move:o,getAutoScrollerOptions:i})=>{const a=pN({scrollWindow:r,scrollDroppable:n,getAutoScrollerOptions:i}),u=hN({move:o,scrollWindow:r,scrollDroppable:n});return{scroll:m=>{if(!(i().disabled||m.phase!=="DRAGGING")){if(m.movementMode==="FLUID"){a.scroll(m);return}m.scrollJumpRequest&&u(m)}},start:a.start,stop:a.stop}};const is="data-rfd",ls=(()=>{const n=`${is}-drag-handle`;return{base:n,draggableId:`${n}-draggable-id`,contextId:`${n}-context-id`}})(),Ac=(()=>{const n=`${is}-draggable`;return{base:n,contextId:`${n}-context-id`,id:`${n}-id`}})(),gN=(()=>{const n=`${is}-droppable`;return{base:n,contextId:`${n}-context-id`,id:`${n}-id`}})(),Nh={contextId:`${is}-scroll-container-context-id`},vN=n=>r=>`[${r}="${n}"]`,Ys=(n,r)=>n.map(o=>{const i=o.styles[r];return i?`${o.selector} { ${i} }`:""}).join(" "),xN="pointer-events: none;";var yN=n=>{const r=vN(n),o=(()=>{const p=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:r(ls.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:p,dragging:xN,dropAnimating:p}}})(),i=(()=>{const p=`
      transition: ${Xs.outOfTheWay};
    `;return{selector:r(Ac.contextId),styles:{dragging:p,dropAnimating:p,userCancel:p}}})(),a={selector:r(gN.contextId),styles:{always:"overflow-anchor: none;"}},f=[i,o,a,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Ys(f,"always"),resting:Ys(f,"resting"),dragging:Ys(f,"dragging"),dropAnimating:Ys(f,"dropAnimating"),userCancel:Ys(f,"userCancel")}};const Ut=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?w.useLayoutEffect:w.useEffect,mc=()=>{const n=document.querySelector("head");return n||ie(),n},Sh=n=>{const r=document.createElement("style");return n&&r.setAttribute("nonce",n),r.type="text/css",r};function bN(n,r){const o=Oe(()=>yN(n),[n]),i=w.useRef(null),a=w.useRef(null),u=we(lt(v=>{const x=a.current;x||ie(),x.textContent=v}),[]),f=we(v=>{const x=i.current;x||ie(),x.textContent=v},[]);Ut(()=>{!i.current&&!a.current||ie();const v=Sh(r),x=Sh(r);return i.current=v,a.current=x,v.setAttribute(`${is}-always`,n),x.setAttribute(`${is}-dynamic`,n),mc().appendChild(v),mc().appendChild(x),f(o.always),u(o.resting),()=>{const N=j=>{const E=j.current;E||ie(),mc().removeChild(E),j.current=null};N(i),N(a)}},[r,f,u,o.always,o.resting,n]);const p=we(()=>u(o.dragging),[u,o.dragging]),m=we(v=>{if(v==="DROP"){u(o.dropAnimating);return}u(o.userCancel)},[u,o.dropAnimating,o.userCancel]),g=we(()=>{a.current&&u(o.resting)},[u,o.resting]);return Oe(()=>({dragging:p,dropping:m,resting:g}),[p,m,g])}function Fm(n,r){return Array.from(n.querySelectorAll(r))}var Bm=n=>n&&n.ownerDocument&&n.ownerDocument.defaultView?n.ownerDocument.defaultView:window;function Zi(n){return n instanceof Bm(n).HTMLElement}function wN(n,r){const o=`[${ls.contextId}="${n}"]`,i=Fm(document,o);if(!i.length)return null;const a=i.find(u=>u.getAttribute(ls.draggableId)===r);return!a||!Zi(a)?null:a}function NN(n){const r=w.useRef({}),o=w.useRef(null),i=w.useRef(null),a=w.useRef(!1),u=we(function(x,N){const j={id:x,focus:N};return r.current[x]=j,function(){const k=r.current;k[x]!==j&&delete k[x]}},[]),f=we(function(x){const N=wN(n,x);N&&N!==document.activeElement&&N.focus()},[n]),p=we(function(x,N){o.current===x&&(o.current=N)},[]),m=we(function(){i.current||a.current&&(i.current=requestAnimationFrame(()=>{i.current=null;const x=o.current;x&&f(x)}))},[f]),g=we(function(x){o.current=null;const N=document.activeElement;N&&N.getAttribute(ls.draggableId)===x&&(o.current=x)},[]);return Ut(()=>(a.current=!0,function(){a.current=!1;const x=i.current;x&&cancelAnimationFrame(x)}),[]),Oe(()=>({register:u,tryRecordFocus:g,tryRestoreFocusRecorded:m,tryShiftRecord:p}),[u,g,m,p])}function SN(){const n={draggables:{},droppables:{}},r=[];function o(v){return r.push(v),function(){const N=r.indexOf(v);N!==-1&&r.splice(N,1)}}function i(v){r.length&&r.forEach(x=>x(v))}function a(v){return n.draggables[v]||null}function u(v){const x=a(v);return x||ie(),x}const f={register:v=>{n.draggables[v.descriptor.id]=v,i({type:"ADDITION",value:v})},update:(v,x)=>{const N=n.draggables[x.descriptor.id];N&&N.uniqueId===v.uniqueId&&(delete n.draggables[x.descriptor.id],n.draggables[v.descriptor.id]=v)},unregister:v=>{const x=v.descriptor.id,N=a(x);N&&v.uniqueId===N.uniqueId&&(delete n.draggables[x],n.droppables[v.descriptor.droppableId]&&i({type:"REMOVAL",value:v}))},getById:u,findById:a,exists:v=>!!a(v),getAllByType:v=>Object.values(n.draggables).filter(x=>x.descriptor.type===v)};function p(v){return n.droppables[v]||null}function m(v){const x=p(v);return x||ie(),x}const g={register:v=>{n.droppables[v.descriptor.id]=v},unregister:v=>{const x=p(v.descriptor.id);x&&v.uniqueId===x.uniqueId&&delete n.droppables[v.descriptor.id]},getById:m,findById:p,exists:v=>!!p(v),getAllByType:v=>Object.values(n.droppables).filter(x=>x.descriptor.type===v)};function y(){n.draggables={},n.droppables={},r.length=0}return{draggable:f,droppable:g,subscribe:o,clean:y}}function CN(){const n=Oe(SN,[]);return w.useEffect(()=>function(){n.clean()},[n]),n}var fu=Re.createContext(null),Bi=()=>{const n=document.body;return n||ie(),n};const jN={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},EN=n=>`rfd-announcement-${n}`;function kN(n){const r=Oe(()=>EN(n),[n]),o=w.useRef(null);return w.useEffect(function(){const u=document.createElement("div");return o.current=u,u.id=r,u.setAttribute("aria-live","assertive"),u.setAttribute("aria-atomic","true"),Ti(u.style,jN),Bi().appendChild(u),function(){setTimeout(function(){const m=Bi();m.contains(u)&&m.removeChild(u),u===o.current&&(o.current=null)})}},[r]),we(a=>{const u=o.current;if(u){u.textContent=a;return}},[])}const PN={separator:"::"};function pu(n,r=PN){const o=Re.useId();return Oe(()=>`${n}${r.separator}${o}`,[r.separator,n,o])}function RN({contextId:n,uniqueId:r}){return`rfd-hidden-text-${n}-${r}`}function DN({contextId:n,text:r}){const o=pu("hidden-text",{separator:"-"}),i=Oe(()=>RN({contextId:n,uniqueId:o}),[o,n]);return w.useEffect(function(){const u=document.createElement("div");return u.id=i,u.textContent=r,u.style.display="none",Bi().appendChild(u),function(){const p=Bi();p.contains(u)&&p.removeChild(u)}},[i,r]),i}var Xi=Re.createContext(null);function $m(n){const r=w.useRef(n);return w.useEffect(()=>{r.current=n}),r}function IN(){let n=null;function r(){return!!n}function o(f){return f===n}function i(f){n&&ie();const p={abandon:f};return n=p,p}function a(){n||ie(),n=null}function u(){n&&(n.abandon(),a())}return{isClaimed:r,isActive:o,claim:i,release:a,tryAbandon:u}}function co(n){return n.phase==="IDLE"||n.phase==="DROP_ANIMATING"?!1:n.isDragging}const AN=9,_N=13,hu=27,zm=32,ON=33,TN=34,MN=35,LN=36,FN=37,BN=38,$N=39,zN=40,UN={[_N]:!0,[AN]:!0};var Um=n=>{UN[n.keyCode]&&n.preventDefault()};const Ji=(()=>{const n="visibilitychange";return typeof document>"u"?n:[n,`ms${n}`,`webkit${n}`,`moz${n}`,`o${n}`].find(i=>`on${i}`in document)||n})(),Gm=0,Ch=5;function GN(n,r){return Math.abs(r.x-n.x)>=Ch||Math.abs(r.y-n.y)>=Ch}const jh={type:"IDLE"};function WN({cancel:n,completed:r,getPhase:o,setPhase:i}){return[{eventName:"mousemove",fn:a=>{const{button:u,clientX:f,clientY:p}=a;if(u!==Gm)return;const m={x:f,y:p},g=o();if(g.type==="DRAGGING"){a.preventDefault(),g.actions.move(m);return}g.type!=="PENDING"&&ie();const y=g.point;if(!GN(y,m))return;a.preventDefault();const v=g.actions.fluidLift(m);i({type:"DRAGGING",actions:v})}},{eventName:"mouseup",fn:a=>{const u=o();if(u.type!=="DRAGGING"){n();return}a.preventDefault(),u.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:a=>{o().type==="DRAGGING"&&a.preventDefault(),n()}},{eventName:"keydown",fn:a=>{if(o().type==="PENDING"){n();return}if(a.keyCode===hu){a.preventDefault(),n();return}Um(a)}},{eventName:"resize",fn:n},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{o().type==="PENDING"&&n()}},{eventName:"webkitmouseforcedown",fn:a=>{const u=o();if(u.type==="IDLE"&&ie(),u.actions.shouldRespectForcePress()){n();return}a.preventDefault()}},{eventName:Ji,fn:n}]}function VN(n){const r=w.useRef(jh),o=w.useRef(or),i=Oe(()=>({eventName:"mousedown",fn:function(v){if(v.defaultPrevented||v.button!==Gm||v.ctrlKey||v.metaKey||v.shiftKey||v.altKey)return;const x=n.findClosestDraggableId(v);if(!x)return;const N=n.tryGetLock(x,f,{sourceEvent:v});if(!N)return;v.preventDefault();const j={x:v.clientX,y:v.clientY};o.current(),g(N,j)}}),[n]),a=Oe(()=>({eventName:"webkitmouseforcewillbegin",fn:y=>{if(y.defaultPrevented)return;const v=n.findClosestDraggableId(y);if(!v)return;const x=n.findOptionsForDraggable(v);x&&(x.shouldRespectForcePress||n.canGetLock(v)&&y.preventDefault())}}),[n]),u=we(function(){const v={passive:!1,capture:!0};o.current=Zt(window,[a,i],v)},[a,i]),f=we(()=>{r.current.type!=="IDLE"&&(r.current=jh,o.current(),u())},[u]),p=we(()=>{const y=r.current;f(),y.type==="DRAGGING"&&y.actions.cancel({shouldBlockNextClick:!0}),y.type==="PENDING"&&y.actions.abort()},[f]),m=we(function(){const v={capture:!0,passive:!1},x=WN({cancel:p,completed:f,getPhase:()=>r.current,setPhase:N=>{r.current=N}});o.current=Zt(window,x,v)},[p,f]),g=we(function(v,x){r.current.type!=="IDLE"&&ie(),r.current={type:"PENDING",point:x,actions:v},m()},[m]);Ut(function(){return u(),function(){o.current()}},[u])}function HN(){}const qN={[TN]:!0,[ON]:!0,[LN]:!0,[MN]:!0};function KN(n,r){function o(){r(),n.cancel()}function i(){r(),n.drop()}return[{eventName:"keydown",fn:a=>{if(a.keyCode===hu){a.preventDefault(),o();return}if(a.keyCode===zm){a.preventDefault(),i();return}if(a.keyCode===zN){a.preventDefault(),n.moveDown();return}if(a.keyCode===BN){a.preventDefault(),n.moveUp();return}if(a.keyCode===$N){a.preventDefault(),n.moveRight();return}if(a.keyCode===FN){a.preventDefault(),n.moveLeft();return}if(qN[a.keyCode]){a.preventDefault();return}Um(a)}},{eventName:"mousedown",fn:o},{eventName:"mouseup",fn:o},{eventName:"click",fn:o},{eventName:"touchstart",fn:o},{eventName:"resize",fn:o},{eventName:"wheel",fn:o,options:{passive:!0}},{eventName:Ji,fn:o}]}function YN(n){const r=w.useRef(HN),o=Oe(()=>({eventName:"keydown",fn:function(u){if(u.defaultPrevented||u.keyCode!==zm)return;const f=n.findClosestDraggableId(u);if(!f)return;const p=n.tryGetLock(f,y,{sourceEvent:u});if(!p)return;u.preventDefault();let m=!0;const g=p.snapLift();r.current();function y(){m||ie(),m=!1,r.current(),i()}r.current=Zt(window,KN(g,y),{capture:!0,passive:!1})}}),[n]),i=we(function(){const u={passive:!1,capture:!0};r.current=Zt(window,[o],u)},[o]);Ut(function(){return i(),function(){r.current()}},[i])}const gc={type:"IDLE"},QN=120,ZN=.15;function XN({cancel:n,getPhase:r}){return[{eventName:"orientationchange",fn:n},{eventName:"resize",fn:n},{eventName:"contextmenu",fn:o=>{o.preventDefault()}},{eventName:"keydown",fn:o=>{if(r().type!=="DRAGGING"){n();return}o.keyCode===hu&&o.preventDefault(),n()}},{eventName:Ji,fn:n}]}function JN({cancel:n,completed:r,getPhase:o}){return[{eventName:"touchmove",options:{capture:!1},fn:i=>{const a=o();if(a.type!=="DRAGGING"){n();return}a.hasMoved=!0;const{clientX:u,clientY:f}=i.touches[0],p={x:u,y:f};i.preventDefault(),a.actions.move(p)}},{eventName:"touchend",fn:i=>{const a=o();if(a.type!=="DRAGGING"){n();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:i=>{if(o().type!=="DRAGGING"){n();return}i.preventDefault(),n()}},{eventName:"touchforcechange",fn:i=>{const a=o();a.type==="IDLE"&&ie();const u=i.touches[0];if(!u||!(u.force>=ZN))return;const p=a.actions.shouldRespectForcePress();if(a.type==="PENDING"){p&&n();return}if(p){if(a.hasMoved){i.preventDefault();return}n();return}i.preventDefault()}},{eventName:Ji,fn:n}]}function e2(n){const r=w.useRef(gc),o=w.useRef(or),i=we(function(){return r.current},[]),a=we(function(N){r.current=N},[]),u=Oe(()=>({eventName:"touchstart",fn:function(N){if(N.defaultPrevented)return;const j=n.findClosestDraggableId(N);if(!j)return;const E=n.tryGetLock(j,p,{sourceEvent:N});if(!E)return;const k=N.touches[0],{clientX:V,clientY:z}=k,T={x:V,y:z};o.current(),v(E,T)}}),[n]),f=we(function(){const N={capture:!0,passive:!1};o.current=Zt(window,[u],N)},[u]),p=we(()=>{const x=r.current;x.type!=="IDLE"&&(x.type==="PENDING"&&clearTimeout(x.longPressTimerId),a(gc),o.current(),f())},[f,a]),m=we(()=>{const x=r.current;p(),x.type==="DRAGGING"&&x.actions.cancel({shouldBlockNextClick:!0}),x.type==="PENDING"&&x.actions.abort()},[p]),g=we(function(){const N={capture:!0,passive:!1},j={cancel:m,completed:p,getPhase:i},E=Zt(window,JN(j),N),k=Zt(window,XN(j),N);o.current=function(){E(),k()}},[m,i,p]),y=we(function(){const N=i();N.type!=="PENDING"&&ie();const j=N.actions.fluidLift(N.point);a({type:"DRAGGING",actions:j,hasMoved:!1})},[i,a]),v=we(function(N,j){i().type!=="IDLE"&&ie();const E=setTimeout(y,QN);a({type:"PENDING",point:j,actions:N,longPressTimerId:E}),g()},[g,i,a,y]);Ut(function(){return f(),function(){o.current();const j=i();j.type==="PENDING"&&(clearTimeout(j.longPressTimerId),a(gc))}},[i,f,a]),Ut(function(){return Zt(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const t2=["input","button","textarea","select","option","optgroup","video","audio"];function Wm(n,r){if(r==null)return!1;if(t2.includes(r.tagName.toLowerCase()))return!0;const i=r.getAttribute("contenteditable");return i==="true"||i===""?!0:r===n?!1:Wm(n,r.parentElement)}function n2(n,r){const o=r.target;return Zi(o)?Wm(n,o):!1}var r2=n=>dn(n.getBoundingClientRect()).center;function s2(n){return n instanceof Bm(n).Element}const o2=(()=>{const n="matches";return typeof document>"u"?n:[n,"msMatchesSelector","webkitMatchesSelector"].find(i=>i in Element.prototype)||n})();function Vm(n,r){return n==null?null:n[o2](r)?n:Vm(n.parentElement,r)}function i2(n,r){return n.closest?n.closest(r):Vm(n,r)}function l2(n){return`[${ls.contextId}="${n}"]`}function a2(n,r){const o=r.target;if(!s2(o))return null;const i=l2(n),a=i2(o,i);return!a||!Zi(a)?null:a}function c2(n,r){const o=a2(n,r);return o?o.getAttribute(ls.draggableId):null}function u2(n,r){const o=`[${Ac.contextId}="${n}"]`,a=Fm(document,o).find(u=>u.getAttribute(Ac.id)===r);return!a||!Zi(a)?null:a}function d2(n){n.preventDefault()}function Ei({expected:n,phase:r,isLockActive:o,shouldWarn:i}){return!(!o()||n!==r)}function Hm({lockAPI:n,store:r,registry:o,draggableId:i}){if(n.isClaimed())return!1;const a=o.draggable.findById(i);return!(!a||!a.options.isEnabled||!Om(r.getState(),i))}function f2({lockAPI:n,contextId:r,store:o,registry:i,draggableId:a,forceSensorStop:u,sourceEvent:f}){if(!Hm({lockAPI:n,store:o,registry:i,draggableId:a}))return null;const m=i.draggable.getById(a),g=u2(r,m.descriptor.id);if(!g||f&&!m.options.canDragInteractiveElements&&n2(g,f))return null;const y=n.claim(u||or);let v="PRE_DRAG";function x(){return m.options.shouldRespectForcePress}function N(){return n.isActive(y)}function j(O,F){Ei({expected:O,phase:v,isLockActive:N,shouldWarn:!0})&&o.dispatch(F())}const E=j.bind(null,"DRAGGING");function k(O){function F(){n.release(),v="COMPLETED"}v!=="PRE_DRAG"&&(F(),ie()),o.dispatch(iw(O.liftActionArgs)),v="DRAGGING";function $(A,Z={shouldBlockNextClick:!1}){if(O.cleanup(),Z.shouldBlockNextClick){const H=Zt(window,[{eventName:"click",fn:d2,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(H)}F(),o.dispatch(Em({reason:A}))}return{isActive:()=>Ei({expected:"DRAGGING",phase:v,isLockActive:N,shouldWarn:!1}),shouldRespectForcePress:x,drop:A=>$("DROP",A),cancel:A=>$("CANCEL",A),...O.actions}}function V(O){const F=ro(A=>{E(()=>jm({client:A}))});return{...k({liftActionArgs:{id:a,clientSelection:O,movementMode:"FLUID"},cleanup:()=>F.cancel(),actions:{move:F}}),move:F}}function z(){const O={moveUp:()=>E(mw),moveRight:()=>E(vw),moveDown:()=>E(gw),moveLeft:()=>E(xw)};return k({liftActionArgs:{id:a,clientSelection:r2(g),movementMode:"SNAP"},cleanup:or,actions:O})}function T(){Ei({expected:"PRE_DRAG",phase:v,isLockActive:N,shouldWarn:!0})&&n.release()}return{isActive:()=>Ei({expected:"PRE_DRAG",phase:v,isLockActive:N,shouldWarn:!1}),shouldRespectForcePress:x,fluidLift:V,snapLift:z,abort:T}}const p2=[VN,YN,e2];function h2({contextId:n,store:r,registry:o,customSensors:i,enableDefaultSensors:a}){const u=[...a?p2:[],...i||[]],f=w.useState(()=>IN())[0],p=we(function(k,V){co(k)&&!co(V)&&f.tryAbandon()},[f]);Ut(function(){let k=r.getState();return r.subscribe(()=>{const z=r.getState();p(k,z),k=z})},[f,r,p]),Ut(()=>f.tryAbandon,[f.tryAbandon]);const m=we(E=>Hm({lockAPI:f,registry:o,store:r,draggableId:E}),[f,o,r]),g=we((E,k,V)=>f2({lockAPI:f,registry:o,contextId:n,store:r,draggableId:E,forceSensorStop:k||null,sourceEvent:V&&V.sourceEvent?V.sourceEvent:null}),[n,f,o,r]),y=we(E=>c2(n,E),[n]),v=we(E=>{const k=o.draggable.findById(E);return k?k.options:null},[o.draggable]),x=we(function(){f.isClaimed()&&(f.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(ou()))},[f,r]),N=we(()=>f.isClaimed(),[f]),j=Oe(()=>({canGetLock:m,tryGetLock:g,findClosestDraggableId:y,findOptionsForDraggable:v,tryReleaseLock:x,isLockClaimed:N}),[m,g,y,v,x,N]);for(let E=0;E<u.length;E++)u[E](j)}const m2=n=>({onBeforeCapture:r=>{const o=()=>{n.onBeforeCapture&&n.onBeforeCapture(r)};Hi.flushSync(o)},onBeforeDragStart:n.onBeforeDragStart,onDragStart:n.onDragStart,onDragEnd:n.onDragEnd,onDragUpdate:n.onDragUpdate}),g2=n=>({...ao,...n.autoScrollerOptions,durationDampening:{...ao.durationDampening,...n.autoScrollerOptions}});function Qs(n){return n.current||ie(),n.current}function v2(n){const{contextId:r,setCallbacks:o,sensors:i,nonce:a,dragHandleUsageInstructions:u}=n,f=w.useRef(null),p=$m(n),m=we(()=>m2(p.current),[p]),g=we(()=>g2(p.current),[p]),y=kN(r),v=DN({contextId:r,text:u}),x=bN(r,a),N=we(H=>{Qs(f).dispatch(H)},[]),j=Oe(()=>Zp({publishWhileDragging:aw,updateDroppableScroll:uw,updateDroppableIsEnabled:dw,updateDroppableIsCombineEnabled:fw,collectionStarting:cw},N),[N]),E=CN(),k=Oe(()=>Xw(E,j),[E,j]),V=Oe(()=>mN({scrollWindow:Jw,scrollDroppable:k.scrollDroppable,getAutoScrollerOptions:g,...Zp({move:jm},N)}),[k.scrollDroppable,N,g]),z=NN(r),T=Oe(()=>Kw({announce:y,autoScroller:V,dimensionMarshal:k,focusMarshal:z,getResponders:m,styleMarshal:x}),[y,V,k,z,m,x]);f.current=T;const L=we(()=>{const H=Qs(f);H.getState().phase!=="IDLE"&&H.dispatch(ou())},[]),O=we(()=>{const H=Qs(f).getState();return H.phase==="DROP_ANIMATING"?!0:H.phase==="IDLE"?!1:H.isDragging},[]),F=Oe(()=>({isDragging:O,tryAbort:L}),[O,L]);o(F);const $=we(H=>Om(Qs(f).getState(),H),[]),A=we(()=>kr(Qs(f).getState()),[]),Z=Oe(()=>({marshal:k,focus:z,contextId:r,canLift:$,isMovementAllowed:A,dragHandleUsageInstructionsId:v,registry:E}),[r,k,v,z,$,A,E]);return h2({contextId:r,store:T,registry:E,customSensors:i||null,enableDefaultSensors:n.enableDefaultSensors!==!1}),w.useEffect(()=>L,[L]),Re.createElement(Xi.Provider,{value:Z},Re.createElement(Ub,{context:fu,store:T},n.children))}function x2(){return Re.useId()}function y2(n){const r=x2(),o=n.dragHandleUsageInstructions||Ri.dragHandleUsageInstructions;return Re.createElement(Yb,null,i=>Re.createElement(v2,{nonce:n.nonce,contextId:r,setCallbacks:i,dragHandleUsageInstructions:o,enableDefaultSensors:n.enableDefaultSensors,sensors:n.sensors,onBeforeCapture:n.onBeforeCapture,onBeforeDragStart:n.onBeforeDragStart,onDragStart:n.onDragStart,onDragUpdate:n.onDragUpdate,onDragEnd:n.onDragEnd,autoScrollerOptions:n.autoScrollerOptions},n.children))}const Eh={dragging:5e3,dropAnimating:4500},b2=(n,r)=>r?Xs.drop(r.duration):n?Xs.snap:Xs.fluid,w2=(n,r)=>{if(n)return r?lo.opacity.drop:lo.opacity.combining},N2=n=>n.forceShouldAnimate!=null?n.forceShouldAnimate:n.mode==="SNAP";function S2(n){const o=n.dimension.client,{offset:i,combineWith:a,dropping:u}=n,f=!!a,p=N2(n),m=!!u,g=m?Dc.drop(i,f):Dc.moveTo(i);return{position:"fixed",top:o.marginBox.top,left:o.marginBox.left,boxSizing:"border-box",width:o.borderBox.width,height:o.borderBox.height,transition:b2(p,u),transform:g,opacity:w2(f,m),zIndex:m?Eh.dropAnimating:Eh.dragging,pointerEvents:"none"}}function C2(n){return{transform:Dc.moveTo(n.offset),transition:n.shouldAnimateDisplacement?void 0:"none"}}function j2(n){return n.type==="DRAGGING"?S2(n):C2(n)}function E2(n,r,o=at){const i=window.getComputedStyle(r),a=r.getBoundingClientRect(),u=Jh(a,i),f=Oi(u,o),p={client:u,tagName:r.tagName.toLowerCase(),display:i.display},m={x:u.marginBox.width,y:u.marginBox.height};return{descriptor:n,placeholder:p,displaceBy:m,client:u,page:f}}function k2(n){const r=pu("draggable"),{descriptor:o,registry:i,getDraggableRef:a,canDragInteractiveElements:u,shouldRespectForcePress:f,isEnabled:p}=n,m=Oe(()=>({canDragInteractiveElements:u,shouldRespectForcePress:f,isEnabled:p}),[u,p,f]),g=we(N=>{const j=a();return j||ie(),E2(o,j,N)},[o,a]),y=Oe(()=>({uniqueId:r,descriptor:o,options:m,getDimension:g}),[o,g,m,r]),v=w.useRef(y),x=w.useRef(!0);Ut(()=>(i.draggable.register(v.current),()=>i.draggable.unregister(v.current)),[i.draggable]),Ut(()=>{if(x.current){x.current=!1;return}const N=v.current;v.current=y,i.draggable.update(y,N)},[y,i.draggable])}var mu=Re.createContext(null);function $i(n){const r=w.useContext(n);return r||ie(),r}function P2(n){n.preventDefault()}const R2=n=>{const r=w.useRef(null),o=we((F=null)=>{r.current=F},[]),i=we(()=>r.current,[]),{contextId:a,dragHandleUsageInstructionsId:u,registry:f}=$i(Xi),{type:p,droppableId:m}=$i(mu),g=Oe(()=>({id:n.draggableId,index:n.index,type:p,droppableId:m}),[n.draggableId,n.index,p,m]),{children:y,draggableId:v,isEnabled:x,shouldRespectForcePress:N,canDragInteractiveElements:j,isClone:E,mapped:k,dropAnimationFinished:V}=n;if(!E){const F=Oe(()=>({descriptor:g,registry:f,getDraggableRef:i,canDragInteractiveElements:j,shouldRespectForcePress:N,isEnabled:x}),[g,f,i,j,N,x]);k2(F)}const z=Oe(()=>x?{tabIndex:0,role:"button","aria-describedby":u,"data-rfd-drag-handle-draggable-id":v,"data-rfd-drag-handle-context-id":a,draggable:!1,onDragStart:P2}:null,[a,u,v,x]),T=we(F=>{k.type==="DRAGGING"&&k.dropping&&F.propertyName==="transform"&&Hi.flushSync(V)},[V,k]),L=Oe(()=>{const F=j2(k),$=k.type==="DRAGGING"&&k.dropping?T:void 0;return{innerRef:o,draggableProps:{"data-rfd-draggable-context-id":a,"data-rfd-draggable-id":v,style:F,onTransitionEnd:$},dragHandleProps:z}},[a,z,v,k,T,o]),O=Oe(()=>({draggableId:g.id,type:g.type,source:{index:g.index,droppableId:g.droppableId}}),[g.droppableId,g.id,g.index,g.type]);return Re.createElement(Re.Fragment,null,y(L,k.snapshot,O))};var qm=(n,r)=>n===r,Km=n=>{const{combine:r,destination:o}=n;return o?o.droppableId:r?r.droppableId:null};const D2=n=>n.combine?n.combine.draggableId:null,I2=n=>n.at&&n.at.type==="COMBINE"?n.at.combine.draggableId:null;function A2(){const n=lt((a,u)=>({x:a,y:u})),r=lt((a,u,f=null,p=null,m=null)=>({isDragging:!0,isClone:u,isDropAnimating:!!m,dropAnimation:m,mode:a,draggingOver:f,combineWith:p,combineTargetFor:null})),o=lt((a,u,f,p,m=null,g=null,y=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:m,combineWith:g,mode:u,offset:a,dimension:f,forceShouldAnimate:y,snapshot:r(u,p,m,g,null)}}));return(a,u)=>{if(co(a)){if(a.critical.draggable.id!==u.draggableId)return null;const f=a.current.client.offset,p=a.dimensions.draggables[u.draggableId],m=zt(a.impact),g=I2(a.impact),y=a.forceShouldAnimate;return o(n(f.x,f.y),a.movementMode,p,u.isClone,m,g,y)}if(a.phase==="DROP_ANIMATING"){const f=a.completed;if(f.result.draggableId!==u.draggableId)return null;const p=u.isClone,m=a.dimensions.draggables[u.draggableId],g=f.result,y=g.mode,v=Km(g),x=D2(g),j={duration:a.dropDuration,curve:lu.drop,moveTo:a.newHomeClientOffset,opacity:x?lo.opacity.drop:null,scale:x?lo.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:m,dropping:j,draggingOver:v,combineWith:x,mode:y,forceShouldAnimate:null,snapshot:r(y,p,v,x,j)}}}return null}}function Ym(n=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:n,combineWith:null}}const _2={mapped:{type:"SECONDARY",offset:at,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Ym(null)}};function O2(){const n=lt((f,p)=>({x:f,y:p})),r=lt(Ym),o=lt((f,p=null,m)=>({mapped:{type:"SECONDARY",offset:f,combineTargetFor:p,shouldAnimateDisplacement:m,snapshot:r(p)}})),i=f=>f?o(at,f,!0):null,a=(f,p,m,g)=>{const y=m.displaced.visible[f],v=!!(g.inVirtualList&&g.effected[f]),x=Ki(m),N=x&&x.draggableId===f?p:null;if(!y){if(!v)return i(N);if(m.displaced.invisible[f])return null;const k=as(g.displacedBy.point),V=n(k.x,k.y);return o(V,N,!0)}if(v)return i(N);const j=m.displacedBy.point,E=n(j.x,j.y);return o(E,N,y.shouldAnimate)};return(f,p)=>{if(co(f))return f.critical.draggable.id===p.draggableId?null:a(p.draggableId,f.critical.draggable.id,f.impact,f.afterCritical);if(f.phase==="DROP_ANIMATING"){const m=f.completed;return m.result.draggableId===p.draggableId?null:a(p.draggableId,m.result.draggableId,m.impact,m.afterCritical)}return null}}const T2=()=>{const n=A2(),r=O2();return(i,a)=>n(i,a)||r(i,a)||_2},M2={dropAnimationFinished:km},L2=Xh(T2,M2,null,{context:fu,areStatePropsEqual:qm})(R2);function Qm(n){return $i(mu).isUsingCloneFor===n.draggableId&&!n.isClone?null:Re.createElement(L2,n)}function F2(n){const r=typeof n.isDragDisabled=="boolean"?!n.isDragDisabled:!0,o=!!n.disableInteractiveElementBlocking,i=!!n.shouldRespectForcePress;return Re.createElement(Qm,Ti({},n,{isClone:!1,isEnabled:r,canDragInteractiveElements:o,shouldRespectForcePress:i}))}const Zm=n=>r=>n===r,B2=Zm("scroll"),$2=Zm("auto"),kh=(n,r)=>r(n.overflowX)||r(n.overflowY),z2=n=>{const r=window.getComputedStyle(n),o={overflowX:r.overflowX,overflowY:r.overflowY};return kh(o,B2)||kh(o,$2)},U2=()=>!1,Xm=n=>n==null?null:n===document.body?U2()?n:null:n===document.documentElement?null:z2(n)?n:Xm(n.parentElement);var _c=n=>({x:n.scrollLeft,y:n.scrollTop});const Jm=n=>n?window.getComputedStyle(n).position==="fixed"?!0:Jm(n.parentElement):!1;var G2=n=>{const r=Xm(n),o=Jm(n);return{closestScrollable:r,isFixedOnPage:o}},W2=({descriptor:n,isEnabled:r,isCombineEnabled:o,isFixedOnPage:i,direction:a,client:u,page:f,closest:p})=>{const m=(()=>{if(!p)return null;const{scrollSize:x,client:N}=p,j=Im({scrollHeight:x.scrollHeight,scrollWidth:x.scrollWidth,height:N.paddingBox.height,width:N.paddingBox.width});return{pageMarginBox:p.page.marginBox,frameClient:N,scrollSize:x,shouldClipSubject:p.shouldClipSubject,scroll:{initial:p.scroll,current:p.scroll,max:j,diff:{value:at,displacement:at}}}})(),g=a==="vertical"?eu:um,y=os({page:f,withPlaceholder:null,axis:g,frame:m});return{descriptor:n,isCombineEnabled:o,isFixedOnPage:i,axis:g,isEnabled:r,client:u,page:f,frame:m,subject:y}};const V2=(n,r)=>{const o=em(n);if(!r||n!==r)return o;const i=o.paddingBox.top-r.scrollTop,a=o.paddingBox.left-r.scrollLeft,u=i+r.scrollHeight,f=a+r.scrollWidth,m=Qc({top:i,right:f,bottom:u,left:a},o.border);return Zc({borderBox:m,margin:o.margin,border:o.border,padding:o.padding})};var H2=({ref:n,descriptor:r,env:o,windowScroll:i,direction:a,isDropDisabled:u,isCombineEnabled:f,shouldClipSubject:p})=>{const m=o.closestScrollable,g=V2(n,m),y=Oi(g,i),v=(()=>{if(!m)return null;const N=em(m),j={scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth};return{client:N,page:Oi(N,i),scroll:_c(m),scrollSize:j,shouldClipSubject:p}})();return W2({descriptor:r,isEnabled:!u,isCombineEnabled:f,isFixedOnPage:o.isFixedOnPage,direction:a,client:g,page:y,closest:v})};const q2={passive:!1},K2={passive:!0};var Ph=n=>n.shouldPublishImmediately?q2:K2;const ki=n=>n&&n.env.closestScrollable||null;function Y2(n){const r=w.useRef(null),o=$i(Xi),i=pu("droppable"),{registry:a,marshal:u}=o,f=$m(n),p=Oe(()=>({id:n.droppableId,type:n.type,mode:n.mode}),[n.droppableId,n.mode,n.type]),m=w.useRef(p),g=Oe(()=>lt((L,O)=>{r.current||ie();const F={x:L,y:O};u.updateDroppableScroll(p.id,F)}),[p.id,u]),y=we(()=>{const L=r.current;return!L||!L.env.closestScrollable?at:_c(L.env.closestScrollable)},[]),v=we(()=>{const L=y();g(L.x,L.y)},[y,g]),x=Oe(()=>ro(v),[v]),N=we(()=>{const L=r.current,O=ki(L);if(L&&O||ie(),L.scrollOptions.shouldPublishImmediately){v();return}x()},[x,v]),j=we((L,O)=>{r.current&&ie();const F=f.current,$=F.getDroppableRef();$||ie();const A=G2($),Z={ref:$,descriptor:p,env:A,scrollOptions:O};r.current=Z;const H=H2({ref:$,descriptor:p,env:A,windowScroll:L,direction:F.direction,isDropDisabled:F.isDropDisabled,isCombineEnabled:F.isCombineEnabled,shouldClipSubject:!F.ignoreContainerClipping}),de=A.closestScrollable;return de&&(de.setAttribute(Nh.contextId,o.contextId),de.addEventListener("scroll",N,Ph(Z.scrollOptions))),H},[o.contextId,p,N,f]),E=we(()=>{const L=r.current,O=ki(L);return L&&O||ie(),_c(O)},[]),k=we(()=>{const L=r.current;L||ie();const O=ki(L);r.current=null,O&&(x.cancel(),O.removeAttribute(Nh.contextId),O.removeEventListener("scroll",N,Ph(L.scrollOptions)))},[N,x]),V=we(L=>{const O=r.current;O||ie();const F=ki(O);F||ie(),F.scrollTop+=L.y,F.scrollLeft+=L.x},[]),z=Oe(()=>({getDimensionAndWatchScroll:j,getScrollWhileDragging:E,dragStopped:k,scroll:V}),[k,j,E,V]),T=Oe(()=>({uniqueId:i,descriptor:p,callbacks:z}),[z,p,i]);Ut(()=>(m.current=T.descriptor,a.droppable.register(T),()=>{r.current&&k(),a.droppable.unregister(T)}),[z,p,k,T,u,a.droppable]),Ut(()=>{r.current&&u.updateDroppableIsEnabled(m.current.id,!n.isDropDisabled)},[n.isDropDisabled,u]),Ut(()=>{r.current&&u.updateDroppableIsCombineEnabled(m.current.id,n.isCombineEnabled)},[n.isCombineEnabled,u])}function vc(){}const Rh={width:0,height:0,margin:n1},Q2=({isAnimatingOpenOnMount:n,placeholder:r,animate:o})=>n||o==="close"?Rh:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin},Z2=({isAnimatingOpenOnMount:n,placeholder:r,animate:o})=>{const i=Q2({isAnimatingOpenOnMount:n,placeholder:r,animate:o});return{display:r.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:o!=="none"?Xs.placeholder:null}},X2=n=>{const r=w.useRef(null),o=we(()=>{r.current&&(clearTimeout(r.current),r.current=null)},[]),{animate:i,onTransitionEnd:a,onClose:u,contextId:f}=n,[p,m]=w.useState(n.animate==="open");w.useEffect(()=>p?i!=="open"?(o(),m(!1),vc):r.current?vc:(r.current=setTimeout(()=>{r.current=null,m(!1)}),o):vc,[i,p,o]);const g=we(v=>{v.propertyName==="height"&&(a(),i==="close"&&u())},[i,u,a]),y=Z2({isAnimatingOpenOnMount:p,animate:n.animate,placeholder:n.placeholder});return Re.createElement(n.placeholder.tagName,{style:y,"data-rfd-placeholder-context-id":f,onTransitionEnd:g,ref:n.innerRef})};var J2=Re.memo(X2);class eS extends Re.PureComponent{constructor(...r){super(...r),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(r,o){return r.shouldAnimate?r.on?{isVisible:!0,data:r.on,animate:"open"}:o.isVisible?{isVisible:!0,data:o.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!r.on,data:r.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const r={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(r)}}const tS=n=>{const r=w.useContext(Xi);r||ie();const{contextId:o,isMovementAllowed:i}=r,a=w.useRef(null),u=w.useRef(null),{children:f,droppableId:p,type:m,mode:g,direction:y,ignoreContainerClipping:v,isDropDisabled:x,isCombineEnabled:N,snapshot:j,useClone:E,updateViewportMaxScroll:k,getContainerForClone:V}=n,z=we(()=>a.current,[]),T=we((de=null)=>{a.current=de},[]);we(()=>u.current,[]);const L=we((de=null)=>{u.current=de},[]),O=we(()=>{i()&&k({maxScroll:_m()})},[i,k]);Y2({droppableId:p,type:m,mode:g,direction:y,isDropDisabled:x,isCombineEnabled:N,ignoreContainerClipping:v,getDroppableRef:z});const F=Oe(()=>Re.createElement(eS,{on:n.placeholder,shouldAnimate:n.shouldAnimatePlaceholder},({onClose:de,data:W,animate:G})=>Re.createElement(J2,{placeholder:W,onClose:de,innerRef:L,animate:G,contextId:o,onTransitionEnd:O})),[o,O,n.placeholder,n.shouldAnimatePlaceholder,L]),$=Oe(()=>({innerRef:T,placeholder:F,droppableProps:{"data-rfd-droppable-id":p,"data-rfd-droppable-context-id":o}}),[o,p,F,T]),A=E?E.dragging.draggableId:null,Z=Oe(()=>({droppableId:p,type:m,isUsingCloneFor:A}),[p,A,m]);function H(){if(!E)return null;const{dragging:de,render:W}=E,G=Re.createElement(Qm,{draggableId:de.draggableId,index:de.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(ae,pe)=>W(ae,pe,de));return Jx.createPortal(G,V())}return Re.createElement(mu.Provider,{value:Z},f($,j),H())};function nS(){return document.body||ie(),document.body}const Dh={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:nS},eg=n=>{let r={...n},o;for(o in Dh)n[o]===void 0&&(r={...r,[o]:Dh[o]});return r},xc=(n,r)=>n===r.droppable.type,Ih=(n,r)=>r.draggables[n.draggable.id],rS=()=>{const n={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r={...n,shouldAnimatePlaceholder:!1},o=lt(u=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}})),i=lt((u,f,p,m,g,y)=>{const v=g.descriptor.id;if(g.descriptor.droppableId===u){const j=y?{render:y,dragging:o(g.descriptor)}:null,E={isDraggingOver:p,draggingOverWith:p?v:null,draggingFromThisWith:v,isUsingPlaceholder:!0};return{placeholder:g.placeholder,shouldAnimatePlaceholder:!1,snapshot:E,useClone:j}}if(!f)return r;if(!m)return n;const N={isDraggingOver:p,draggingOverWith:v,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:g.placeholder,shouldAnimatePlaceholder:!0,snapshot:N,useClone:null}});return(u,f)=>{const p=eg(f),m=p.droppableId,g=p.type,y=!p.isDropDisabled,v=p.renderClone;if(co(u)){const x=u.critical;if(!xc(g,x))return r;const N=Ih(x,u.dimensions),j=zt(u.impact)===m;return i(m,y,j,j,N,v)}if(u.phase==="DROP_ANIMATING"){const x=u.completed;if(!xc(g,x.critical))return r;const N=Ih(x.critical,u.dimensions);return i(m,y,Km(x.result)===m,zt(x.impact)===m,N,v)}if(u.phase==="IDLE"&&u.completed&&!u.shouldFlush){const x=u.completed;if(!xc(g,x.critical))return r;const N=zt(x.impact)===m,j=!!(x.impact.at&&x.impact.at.type==="COMBINE"),E=x.critical.droppable.id===m;return N?j?n:r:E?n:r}return r}},sS={updateViewportMaxScroll:hw},oS=Xh(rS,sS,(n,r,o)=>({...eg(o),...n,...r}),{context:fu,areStatePropsEqual:qm})(tS),yn=n=>n.split(",").map(r=>r.trim()),sr=n=>n.join(", "),Oc=n=>n.trim()?/^[a-gA-G][#b]?(\d+)?$/.test(n.trim()):!0,Ah=n=>{if(!n.trim())return n;const r=n.trim();if(!Oc(r))return r;const o=r.match(/^([a-gA-G])([#b]?)(\d*)$/);if(o){const[,i,a,u]=o;return i.toUpperCase()+a.toLowerCase()+u}return r},iS=({chords:n,onUpdateChord:r,onFetchOriginalChord:o,onChordClick:i})=>{const[a,u]=w.useState(null),[f,p]=w.useState(null),[m,g]=w.useState(""),[y,v]=w.useState(""),[x,N]=w.useState(""),j=async W=>{const G=W.name.replace(/\/[A-G][#b]?\d*/,"");if(n){const ae=n.find(pe=>pe.chordName===G);if(ae?.chordNotes)return ae.chordNotes}if(W.originalKey&&W.originalMode&&o)try{const ae=await o(G,W.originalKey,W.originalMode);if(ae)return ae}catch(ae){console.warn("Failed to fetch original chord:",ae)}return W.originalNotes||null},E=W=>{if(!m.trim()||!y)return!1;const G=W.replace(/\d+/,""),ae=m.trim().replace(/\d+/,"");return G===ae?!yn(y).some(fe=>fe.replace(/\d+/,"")===ae):!1},k=async(W,G)=>{u(W),p({...G});try{const pe=await j(G);v(pe||G.notes)}catch(pe){console.warn("Failed to load original chord, using current notes:",pe),v(G.originalNotes||G.notes)}const ae=G.name.match(/\/([A-G][#b]?\d*)/);g(ae?ae[1]:"")},V=()=>{if(a!==null&&f&&r){if(x)return;let W=f.name.replace(/\/[A-G][#b]?\d*/,""),G=f.notes;if(m.trim()){W+=`/${m.trim()}`;const pe=yn(G),q=m.trim();if(pe.some(U=>{const J=U.replace(/\d+/,""),K=q.replace(/\d+/,"");return J===K})){const U=pe.filter(K=>{const R=K.replace(/\d+/,""),C=q.replace(/\d+/,"");return R!==C}),J=[q,...U];G=sr(J)}else{const U=[q,...pe];G=sr(U)}}const ae={...f,name:W,notes:G,originalNotes:f.originalNotes||y};r(a,ae)}z()},z=()=>{u(null),p(null),g(""),v(""),N("")},T=async W=>{if(!f||W===0)return;const G=yn(f.notes);W===1&&E(G[0])||([G[W],G[W-1]]=[G[W-1],G[W]],p({...f,notes:sr(G)}),await $(G))},L=async W=>{if(!f)return;const G=yn(f.notes);W!==G.length-1&&(W===0&&E(G[0])||([G[W],G[W+1]]=[G[W+1],G[W]],p({...f,notes:sr(G)}),await $(G)))},O=async()=>{if(g(""),f)try{const G=await j(f)||f.originalNotes||y;p({...f,notes:G})}catch(W){console.warn("Failed to revert to original chord:",W);const G=f.originalNotes||y;p({...f,notes:G})}},F=async W=>{if(f)try{const ae=await j(f)||f.originalNotes||y;if(!ae)return;if(!W.trim()){p({...f,notes:ae});return}const pe=yn(ae),q=W.trim(),fe=pe.some(J=>{const K=J.replace(/\d+/,""),R=q.replace(/\d+/,"");return K===R});let U;if(fe){const J=pe.filter(R=>{const C=R.replace(/\d+/,""),X=q.replace(/\d+/,"");return C!==X}),K=pe.find(R=>{const C=R.replace(/\d+/,""),X=q.replace(/\d+/,"");return C===X});U=K?[K,...J]:[q,...J]}else U=[q,...pe];p({...f,notes:sr(U)})}catch(G){console.warn("Failed to update chord with slash note:",G);const ae=f.originalNotes||y;if(!ae)return;if(!W.trim()){p({...f,notes:ae});return}const pe=yn(ae),fe=[W.trim(),...pe];p({...f,notes:sr(fe)})}},$=async W=>{if(!(!f||W.length===0))try{const ae=await j(f)||f.originalNotes||y;if(!ae)return;const pe=yn(ae),q=W[0],fe=pe[0];g(q!==fe?q:"")}catch(G){console.warn("Failed to detect slash note from order:",G);const ae=f.originalNotes||y;if(!ae)return;const pe=yn(ae),q=W[0],fe=pe[0];g(q!==fe?q:"")}};return{editingChordIndex:a,editingChord:f,slashNote:m,originalChordNotes:y,slashNoteError:x,handleEditChord:k,handleSaveEdit:V,handleCancelEdit:z,moveNoteUp:T,moveNoteDown:L,removeSlashNote:O,handleSlashNoteChange:async W=>{const G=W.trim();if(!G){N(""),g(""),await F("");return}if(!Oc(G)){N("Invalid note. Use A-G with optional # or b (e.g., C, F#, Bb, D4)"),g(W);return}N("");const ae=Ah(G);g(ae),await F(ae)},handleDragEnd:async W=>{if(!W.destination||!f||W.source.index===W.destination.index)return;const G=yn(f.notes);if(W.source.index===0&&E(G[0])||W.destination.index===0&&E(G[0]))return;const[ae]=G.splice(W.source.index,1);G.splice(W.destination.index,0,ae),p({...f,notes:sr(G)}),await $(G)},handlePreviewChord:()=>{f&&i(f.notes,-1)},isSlashNote:W=>{if(!m.trim())return!1;const G=W.replace(/\d+/,""),ae=m.trim().replace(/\d+/,"");return G===ae},isManualSlashNote:E,parseNotes:yn,notesToString:sr,formatNoteName:Ah,isValidNoteName:Oc}},lS=4,aS=8,cS=({activeMidiNotes:n})=>{const r=Re.useRef(null),[o,i]=Re.useState(400),a=Re.useMemo(()=>o<400?Math.max(300,o-20):o<768?Math.min(500,o-40):Math.min(600,o-60),[o]);Re.useEffect(()=>{const g=()=>{r.current&&i(r.current.offsetWidth)};g();const y=new ResizeObserver(()=>{g()});return r.current&&y.observe(r.current),()=>{y.disconnect()}},[]),Re.useEffect(()=>{const g=document.createElement("style");return g.textContent=`
            /* Disable all pointer events on piano keys to prevent hover/click interference */
            .ReactPiano__Key {
                pointer-events: none !important;
            }
            
            /* Ultra-specific CSS to override react-piano styles */
            div[class*="ReactPiano"] .ReactPiano__Key--active,
            div[class*="ReactPiano"] .ReactPiano__Key--active.ReactPiano__Key--natural,
            div[class*="ReactPiano"] .ReactPiano__Key--active.ReactPiano__Key--accidental,
            .ReactPiano__Key--active[class*="ReactPiano__Key"],
            .ReactPiano__Key--active[class*="ReactPiano__Key"]:hover,
            .ReactPiano__Key--active[class*="ReactPiano__Key"]:active,
            .ReactPiano__Key--active[class*="ReactPiano__Key"]:focus {
                background: #3b82f6 !important;
                background-color: #3b82f6 !important;
                background-image: none !important;
                color: white !important;
                border-color: #2563eb !important;
                border-top-color: #2563eb !important;
                border-left-color: #2563eb !important;
                border-right-color: #2563eb !important;
                border-bottom-color: #2563eb !important;
                box-shadow: none !important;
                transition: none !important;
            }
            
            /* Force natural (white) keys to stay blue */
            div[class*="ReactPiano"] .ReactPiano__Key--active.ReactPiano__Key--natural,
            .ReactPiano__Key--active.ReactPiano__Key--natural[class*="ReactPiano__Key"],
            .ReactPiano__Key--active.ReactPiano__Key--natural[class*="ReactPiano__Key"]:hover,
            .ReactPiano__Key--active.ReactPiano__Key--natural[class*="ReactPiano__Key"]:active,
            .ReactPiano__Key--active.ReactPiano__Key--natural[class*="ReactPiano__Key"]:focus {
                background: linear-gradient(to bottom, #3b82f6 0%, #2563eb 100%) !important;
                background-color: #3b82f6 !important;
                color: white !important;
                border-top: 1px solid #2563eb !important;
                border-left: 1px solid #2563eb !important;
                border-right: 1px solid #2563eb !important;
                border-bottom: 1px solid #1e40af !important;
                box-shadow: 
                    inset 0 0 0 1px rgba(37, 99, 235, 0.3),
                    inset 0 -3px 6px rgba(0,0,0,0.1) !important;
            }
            
            /* Force accidental (black) keys to stay blue */
            div[class*="ReactPiano"] .ReactPiano__Key--active.ReactPiano__Key--accidental,
            .ReactPiano__Key--active.ReactPiano__Key--accidental[class*="ReactPiano__Key"],
            .ReactPiano__Key--active.ReactPiano__Key--accidental[class*="ReactPiano__Key"]:hover,
            .ReactPiano__Key--active.ReactPiano__Key--accidental[class*="ReactPiano__Key"]:active,
            .ReactPiano__Key--active.ReactPiano__Key--accidental[class*="ReactPiano__Key"]:focus {
                background: linear-gradient(to bottom, #1d4ed8 0%, #1e40af 100%) !important;
                background-color: #1d4ed8 !important;
                color: white !important;
                border: 1px solid #1e40af !important;
                box-shadow: 
                    inset 0 0 0 1px rgba(30, 64, 175, 0.4),
                    inset 0 -2px 4px rgba(0,0,0,0.2) !important;
            }
            
            /* Override any CSS animations or transitions */
            .ReactPiano__Key--active * {
                transition: none !important;
                animation: none !important;
            }
            
            /* Nuclear option - override any inline styles that might be applied */
            .ReactPiano__Key--active[style] {
                background: #3b82f6 !important;
                background-color: #3b82f6 !important;
            }
            
            .ReactPiano__Key--active.ReactPiano__Key--natural[style] {
                background: linear-gradient(to bottom, #3b82f6 0%, #2563eb 100%) !important;
            }
            
            .ReactPiano__Key--active.ReactPiano__Key--accidental[style] {
                background: linear-gradient(to bottom, #1d4ed8 0%, #1e40af 100%) !important;
            }
        `,document.head.appendChild(g),()=>{document.head.removeChild(g)}},[]);const u=4,f=7,p=yt.fromNote(`c${u}`),m=yt.fromNote(`c${f}`);return c.jsx("div",{ref:r,className:"w-full",children:c.jsx(zc,{noteRange:{first:p,last:m},playNote:()=>{},stopNote:()=>{},disabled:!1,width:a,activeNotes:n,className:"mx-auto"})})},uS=({editingChordIndex:n,editingChord:r,totalChords:o,chords:i,onUpdateChord:a,onFetchOriginalChord:u,onChordClick:f,onClose:p,onNavigateToChord:m})=>{const{editingChord:g,slashNote:y,slashNoteError:v,handleEditChord:x,handleSaveEdit:N,handleCancelEdit:j,moveNoteUp:E,moveNoteDown:k,removeSlashNote:V,handleSlashNoteChange:z,handleDragEnd:T,handlePreviewChord:L,isSlashNote:O,isManualSlashNote:F,parseNotes:$}=iS({chords:i,onUpdateChord:a,onFetchOriginalChord:u,onChordClick:f});Re.useEffect(()=>{x(n,r)},[n,r]);const A=()=>{N(),p()},Z=()=>{j(),p()},H=()=>{n>0&&m&&m(n-1)},de=()=>{n<o-1&&m&&m(n+1)},W=Re.useMemo(()=>{if(!g?.notes)return[];try{return Nc(lS,aS,g.notes).map(({note:fe,octave:U})=>{try{return yt.fromNote(`${fe}${U}`)}catch(J){return console.warn(`Failed to parse note: ${fe}${U}`,J),null}}).filter(Boolean)}catch(q){return console.warn("Failed to parse chord notes:",q),[]}},[g?.notes]);if(!g)return null;const G=$(g.notes),ae=n>0,pe=n<o-1;return c.jsxs("div",{className:"fixed inset-0 bg-[#1a1e24] bg-opacity-95 backdrop-blur-sm z-50 flex flex-col",children:[c.jsxs("div",{className:"flex-shrink-0 max-w-4xl mx-auto px-4 py-4 w-full",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[c.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-white truncate",children:["Edit: ",g.name.replace(/\/[A-G][#b]?\d*/,"")]}),c.jsxs("span",{className:"px-2 py-1 text-xs bg-slate-700 text-slate-300 rounded font-mono flex-shrink-0",children:[n+1," / ",o]})]}),c.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[c.jsxs(un,{onClick:A,variant:"primary",size:"sm",disabled:!!v,className:pt("bg-green-600 hover:bg-green-700",v&&"opacity-50 cursor-not-allowed"),title:v?"Fix slash note error before saving":"Save changes",children:[c.jsx(mx,{className:"w-4 h-4 sm:mr-1"}),c.jsx("span",{className:"hidden sm:inline",children:"Save"})]}),c.jsxs(un,{onClick:Z,variant:"secondary",size:"sm",children:[c.jsx("span",{className:"hidden sm:inline",children:"Cancel"}),c.jsx("span",{className:"sm:hidden",children:""})]})]})]}),c.jsx("div",{className:"flex items-center",children:m&&c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(un,{onClick:H,variant:"secondary",size:"sm",disabled:!ae,title:"Previous chord",className:"px-2",children:c.jsx(xx,{className:"w-4 h-4"})}),c.jsx(un,{onClick:de,variant:"secondary",size:"sm",disabled:!pe,title:"Next chord",className:"px-2",children:c.jsx(Mh,{className:"w-4 h-4"})})]})}),c.jsxs("div",{className:"p-3 bg-[#2a2f38] rounded-lg border border-gray-600 mb-4 mt-4",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Slash Note (Bass Note)"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"text",value:y,onChange:q=>z(q.target.value),onBlur:q=>z(q.target.value),onKeyDown:q=>{q.key==="Enter"&&z(q.currentTarget.value)},placeholder:"e.g., C4, F#, Bb3",className:pt("flex-1 px-3 py-2 bg-[#1a1e24] border rounded text-white placeholder-gray-400 focus:outline-none transition-colors text-sm",v?"border-red-500 focus:border-red-400":"border-gray-600 focus:border-blue-500")}),y.trim()&&!v&&c.jsx("button",{onClick:V,className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded transition-colors",title:"Remove slash note",children:c.jsx(Sc,{className:"w-4 h-4"})})]}),v?c.jsxs("p",{className:"text-xs text-red-400 mt-1 flex items-center space-x-1",children:[c.jsx(Sc,{className:"w-3 h-3 flex-shrink-0"}),c.jsx("span",{children:v})]}):c.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Add bass note (e.g., Cmaj7/E)"}),G.length>0&&F(G[0])&&!v&&c.jsx("div",{className:"mt-2 p-2 bg-amber-500/10 border border-amber-500/30 rounded text-xs text-amber-300",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Cp,{className:"w-3 h-3"}),c.jsx("span",{children:"Slash note locked in first position"})]})})]}),c.jsx("div",{className:"bg-[#2a2f38] rounded-lg border border-gray-600 p-3 mb-4",children:c.jsx("div",{className:"bg-[#1a1e24] rounded p-2 flex justify-center overflow-x-auto",children:c.jsx(cS,{activeMidiNotes:W})})})]}),c.jsx("div",{className:"flex-1 max-w-4xl mx-auto px-4 w-full overflow-hidden flex flex-col -mt-4",children:c.jsxs("div",{className:"bg-[#2a2f38] rounded-lg border border-gray-600 p-4 flex-1 flex flex-col min-h-0",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs(un,{onClick:L,variant:"secondary",size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",title:"Preview chord",children:[c.jsx(Lh,{className:"w-4 h-4 sm:mr-1"}),c.jsx("span",{className:"hidden sm:inline",children:"Preview"})]}),c.jsxs("div",{className:"flex-1 text-center mx-4",children:[c.jsx("h3",{className:"text-lg font-medium text-white leading-tight",children:"Chord Notes"}),c.jsx("p",{className:"text-xs text-gray-400 leading-tight",children:"Drag to reorder"})]}),c.jsx("div",{className:"w-16 sm:w-20"})," "]}),c.jsx("div",{className:"flex-1 min-h-0",children:c.jsx(y2,{onDragEnd:T,children:c.jsx(oS,{droppableId:"notes-list",children:(q,fe)=>c.jsxs("div",{...q.droppableProps,ref:q.innerRef,className:pt("space-y-3 transition-colors duration-200 overflow-y-auto h-full",{"bg-blue-500/5 rounded-lg p-2":fe.isDraggingOver}),children:[G.map((U,J)=>{const K=O(U),C=F(U)&&J===0;return c.jsx(F2,{draggableId:`${U}-${J}`,index:J,isDragDisabled:C,children:(X,se)=>c.jsxs("div",{ref:X.innerRef,...X.draggableProps,...X.dragHandleProps,className:pt("flex items-center space-x-3 p-3 rounded border transition-all duration-200",{"shadow-lg shadow-blue-500/20 border-blue-500 transform scale-105":se.isDragging,"cursor-grab":!se.isDragging&&!C,"cursor-grabbing":se.isDragging,"cursor-not-allowed":C,"bg-amber-500/10 border-amber-500/50":K&&!se.isDragging,"hover:border-amber-400/70":K&&!se.isDragging,"bg-amber-600/15 border-amber-600/60":C&&!se.isDragging,"bg-[#1a1e24] border-gray-600":!K&&!C&&!se.isDragging,"hover:border-gray-500":!K&&!C&&!se.isDragging}),style:X.draggableProps.style,children:[c.jsxs("div",{className:"flex-1 text-left",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("span",{className:"text-white font-mono text-lg font-semibold",children:U}),c.jsxs("div",{className:"flex items-center space-x-2",children:[K&&c.jsx("span",{className:"px-2 py-1 text-xs bg-amber-500/20 text-amber-300 rounded border border-amber-500/30 font-medium",children:"SLASH"}),C&&c.jsxs("span",{className:"px-2 py-1 text-xs bg-amber-600/20 text-amber-200 rounded border border-amber-600/30 font-medium flex items-center space-x-1",children:[c.jsx(Cp,{className:"w-3 h-3"}),c.jsx("span",{children:"LOCKED"})]})]})]}),c.jsxs("div",{className:"text-xs text-slate-400 font-medium",children:["Note ",J+1]})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("span",{className:"text-xs text-slate-400 mr-2",children:"Order:"}),c.jsx("button",{onClick:Q=>{Q.stopPropagation(),E(J)},disabled:J===0||C||J===1&&F(G[0]),className:"p-1 text-slate-300 hover:text-white hover:bg-[#4a5262] rounded transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:C?"Cannot move locked slash note":J===1&&F(G[0])?"Cannot move past locked slash note":"Move up",children:c.jsx(eo,{className:"w-4 h-4"})}),c.jsx("button",{onClick:Q=>{Q.stopPropagation(),k(J)},disabled:J===G.length-1||C,className:"p-1 text-slate-300 hover:text-white hover:bg-[#4a5262] rounded transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:C?"Cannot move locked slash note":"Move down",children:c.jsx(Pr,{className:"w-4 h-4"})})]})]})},`${U}-${J}`)}),q.placeholder]})})})})]})}),c.jsx("div",{className:"flex-shrink-0 h-4"})]})},dS=({addedChords:n,activeChordIndex:r,highlightedChordIndex:o,isDeleteMode:i,isLiveMode:a,globalPatternState:u,chords:f,onChordClick:p,onClearAll:m,onToggleDeleteMode:g,onToggleLiveMode:y,onTogglePlayback:v,onUpdateChord:x,onFetchOriginalChord:N})=>{const[j,E]=w.useState(!1),[k,V]=w.useState(null);if(n.length===0)return null;const z=F=>{V(F)},T=()=>{V(null)},L=F=>{F>=0&&F<n.length&&V(F)},O=a?"fixed inset-0 bg-[#1a1e24] bg-opacity-95 backdrop-blur-sm z-50 flex flex-col":"fixed bottom-0 left-0 right-0 bg-[#2a2f38] border-t border-gray-600 shadow-2xl z-50";if(k!==null){const F=n[k];if(F)return c.jsx(uS,{editingChordIndex:k,editingChord:F,totalChords:n.length,chords:f,onUpdateChord:x,onFetchOriginalChord:N,onChordClick:p,onClose:T,onNavigateToChord:L})}return c.jsxs("div",{className:O,children:[c.jsxs("div",{className:`${a?"flex-shrink-0":""} max-w-7xl mx-auto px-4 ${a?"py-4":"pt-2"} w-full`,children:[c.jsxs("div",{className:`flex items-center justify-between ${a?"mb-3":"mb-2"}`,children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[!a&&c.jsx(un,{onClick:v,variant:"icon",size:"icon",className:"",active:u.isPlaying,title:u.isPlaying?"Stop":"Play",children:u.isPlaying?c.jsx(to,{className:"w-4 h-4"}):c.jsx(Lh,{className:"w-4 h-4"})}),a&&c.jsx(un,{onClick:v,variant:"play-stop",size:"sm",active:u.isPlaying,className:"shadow-lg",children:u.isPlaying?c.jsxs(c.Fragment,{children:[c.jsx(to,{className:"w-4 h-4"}),"Stop"]}):c.jsxs(c.Fragment,{children:[c.jsx(no,{className:"w-4 h-4"}),"Play"]})})]}),c.jsxs("div",{className:"text-center sm:w-full sm:text-left sm:mx-4",children:[c.jsx("div",{className:"hidden sm:block text-xs font-bold text-slate-300 uppercase tracking-wider",children:"chords"}),c.jsx("div",{className:"block sm:hidden text-xs text-slate-300 uppercase tracking-wider",children:"chords"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:y,className:pt("w-[7em] h-8 flex items-center space-x-2 px-3 py-1.5 text-xs border rounded transition-all duration-200",a?"text-slate-200 bg-[#4a5262] border-gray-600 hover:bg-[#525a6b]":"text-slate-300 hover:text-slate-200 bg-[#4a5262] hover:bg-[#525a6b] border-gray-600"),children:a?c.jsxs(c.Fragment,{children:[c.jsx(dx,{className:"h-3 w-3"}),c.jsx("span",{children:"Collapse"})]}):c.jsxs(c.Fragment,{children:[c.jsx(px,{className:"h-3 w-3"}),c.jsx("span",{children:"Expand"})]})}),!a&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>{a&&y(),m()},className:"w-[5em] h-8 flex items-center justify-center px-3 py-1.5 text-xs text-slate-300 hover:text-slate-200 bg-[#4a5262] hover:bg-[#525a6b] border border-gray-600 rounded transition-all duration-200",children:"Clear"}),c.jsxs("button",{onClick:g,className:pt("w-[7em] h-8 flex items-center space-x-2 px-3 py-1.5 text-xs border rounded transition-all duration-200",i?"text-white bg-red-600 border-red-500 hover:bg-red-700":"text-slate-300 hover:text-slate-200 bg-[#4a5262] hover:bg-[#525a6b] border-gray-600"),children:[c.jsx(kp,{className:"h-3 w-3"}),c.jsx("span",{children:i?"Done":"Delete"})]})]})]})]}),a&&c.jsxs("div",{className:"text-center text-slate-400 text-sm mb-4",children:[c.jsxs("div",{children:["Use 1-",Math.min(n.length,9)," or click chords"]}),c.jsxs("div",{className:"text-xs mt-2",children:[c.jsx("span",{className:"inline-block w-3 h-3 bg-blue-500 rounded-full mr-2"}),"Active Chord"]})]})]}),c.jsx("div",{className:`flex-1 max-w-7xl mx-auto w-full ${a?"px-4 pb-8 overflow-y-auto":"px-2 pb-2"}`,children:c.jsxs("div",{className:a?"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 auto-rows-max":"flex space-x-2 overflow-x-auto pb-1 chord-sequence-scroll -mx-2 px-2",children:[n.map((F,$)=>{const A=$===r,Z=$===o;return c.jsxs(ny,{onClick:()=>j?z($):p(F.notes,$),variant:i?"danger":j?"secondary":"primary",active:A&&!i&&!j,"aria-label":`Pattern: ${F.pattern.join("-")}`,className:pt("relative",{"py-8 px-6 text-lg min-h-[120px] flex flex-col items-center justify-center":a,"flex-shrink-0 py-4 px-2 text-sm min-w-[85px] bottom-nav-button chord-button space-x-1 mt-1 min-h-[60px] flex flex-col items-center justify-center":!a,transform:Z,"shadow-xl":a,"border-blue-500 hover:border-blue-400":j}),children:[i&&c.jsx(Sc,{className:`absolute top-1 right-1 h-4 w-4 text-white bg-red-500 rounded-full shadow-sm ${a?"h-6 w-6":""}`}),j&&c.jsx(Sp,{className:`absolute top-1 right-1 h-4 w-4 text-white bg-blue-500 rounded-full shadow-sm p-0.5 ${a?"h-6 w-6":""}`}),c.jsx("div",{className:`text-cyan-200 font-bold ${a?"text-xl mb-2":"text-xs mb-1"}`,children:$+1}),c.jsx("div",{className:`leading-tight ${a?"text-base text-center text-white ":"text-xs"}`,children:F.name}),a&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs text-slate-300 mt-4 text-center",children:F.notes.replace(/,/g,"  ")}),c.jsx("div",{className:"text-xs text-slate-300 mt-1 text-center font-mono",children:F.pattern.join("-")})]})]},$)}),c.jsx("div",{className:pt("flex items-center justify-center",{"py-8 px-6 min-h-[120px]":a,"flex-shrink-0 py-4 px-2 min-w-[85px] min-h-[60px] mt-1":!a}),children:c.jsx("button",{onClick:()=>E(!j),className:pt("flex items-center justify-center rounded-lg border-2 border-dashed transition-all duration-200 hover:scale-105",{"w-16 h-16":a,"w-12 h-12":!a},j?"border-blue-500 text-blue-400 bg-blue-500/10 hover:bg-blue-500/20":"border-gray-500 text-gray-400 hover:border-gray-400 hover:text-gray-300 hover:bg-gray-500/10"),title:j?"Exit edit mode":"Edit chords",children:c.jsx(Sp,{className:`${a?"w-8 h-8":"w-6 h-6"} ${j?"animate-spin":""}`})})})]})}),a&&c.jsx("div",{className:"flex-shrink-0 bg-[#2a2f38] border-t border-gray-600 px-4 py-3",children:c.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[c.jsxs("div",{className:"text-xs text-slate-400 font-medium",children:[n.length," chord",n.length!==1?"s":""," loaded",j&&c.jsx("span",{className:"ml-2 text-blue-400",children:" Edit Mode: Click chords to edit"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:m,className:"w-[5em] h-8 flex items-center justify-center px-3 py-1.5 text-xs text-slate-300 hover:text-slate-200 bg-[#4a5262] hover:bg-[#525a6b] border border-gray-600 rounded transition-all duration-200",children:"Clear"}),c.jsxs("button",{onClick:g,className:pt("w-[7em] h-8 flex items-center space-x-2 px-3 py-1.5 text-xs border rounded transition-all duration-200",i?"text-white bg-red-600 border-red-500 hover:bg-red-700":"text-slate-300 hover:text-slate-200 bg-[#4a5262] hover:bg-[#525a6b] border-gray-600"),children:[c.jsx(kp,{className:"h-3 w-3"}),c.jsx("span",{children:i?"Done":"Delete"})]})]})]})})]})},fS=({currentKey:n,mode:r,modes:o,isPlayingScale:i,pianoSettings:a,availableInstruments:u,setKey:f,setMode:p,toggleScalePlayback:m,setPianoInstrument:g,setCutOffPreviousNotes:y,setEq:v,setOctaveOffset:x,setReverbLevel:N,setNoteDuration:j,setVolume:E,setChorusLevel:k,setDelayLevel:V})=>{const[z,T]=w.useState(!1),L=O=>{const F=O.replaceAll(" ","_");g(F)};return c.jsx("div",{className:"w-full max-w-7xl mx-auto px-2 sm:mt-4 mt-0 mb-2",children:c.jsxs("div",{className:"bg-[#3d434f] border border-gray-600 rounded-lg overflow-hidden",children:[c.jsx("div",{className:"px-4 py-3 border-b border-gray-600",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-sm font-bold text-slate-300 uppercase tracking-wider",children:"Controls"}),c.jsx("button",{onClick:()=>T(!z),className:"w-[7em] h-8 flex items-center space-x-2 px-3 py-1.5 text-xs text-slate-300 hover:text-slate-200 bg-[#4a5262] hover:bg-[#525a6b] border border-gray-600 rounded transition-all duration-200",children:z?c.jsxs(c.Fragment,{children:[c.jsx(eo,{className:"w-3 h-3"}),c.jsx("span",{children:"Settings"})]}):c.jsxs(c.Fragment,{children:[c.jsx(Pr,{className:"w-3 h-3"}),c.jsx("span",{children:"Settings"})]})})]})}),c.jsx("div",{className:"p-6 py-4 bg-[#444b59]",children:c.jsxs("div",{className:"flex flex-col xl:flex-row xl:items-center xl:justify-center gap-6",children:[c.jsxs("div",{className:"hidden xl:flex items-center bg-[#3d434f]/30 border border-gray-600/30 rounded-lg px-6 py-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-sm text-slate-300 font-medium whitespace-nowrap",children:"Key:"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(cn,{value:n,className:"w-[5rem]",buttonClassName:"px-3 py-1.5 text-center font-medium text-xs h-10 flex items-center justify-center",menuClassName:"min-w-[5rem]",onChange:f,showSearch:!1,options:["C","C#","D","Eb","E","F","F#","G","G#","A","A#","B"]}),c.jsx(un,{onClick:m,variant:"play-stop",size:"icon",className:"!w-8 !h-8 flex items-center justify-center ml-1",active:i,title:i?"Stop scale":"Play scale",children:i?c.jsx(to,{className:"w-6 h-6"}):c.jsx(no,{className:"w-6 h-6"})})]})]}),c.jsx("div",{className:"w-px h-8 bg-gray-600/50 mx-8"}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-sm text-slate-300 font-medium whitespace-nowrap",children:"Mode:"}),o&&c.jsx(cn,{value:r,className:"w-[11rem]",buttonClassName:"px-3 py-1.5 text-left font-medium text-xs h-10 flex items-center",menuClassName:"min-w-[11rem]",onChange:p,showSearch:!0,options:o})]}),c.jsx("div",{className:"w-px h-8 bg-gray-600/50 mx-8"}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-sm text-slate-300 font-medium whitespace-nowrap",children:"Voice:"}),c.jsx(cn,{value:a.instrumentName.replaceAll("_"," "),className:"w-[14rem]",buttonClassName:"px-3 py-1.5 text-left font-medium text-xs h-10 flex items-center",menuClassName:"min-w-[11rem]",onChange:L,showSearch:!0,options:u.map(O=>O.replaceAll("_"," "))})]})]}),c.jsxs("div",{className:"xl:hidden space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-sm text-slate-300 font-medium whitespace-nowrap w-16 flex items-center",children:"Key:"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(cn,{value:n,className:"w-[6em]",buttonClassName:"px-3 py-1.5 text-center font-medium text-xs h-10 flex items-center justify-center",menuClassName:"min-w-[6rem]",onChange:f,showSearch:!1,options:["C","C#","D","Eb","E","F","F#","G","G#","A","A#","B"]}),c.jsx(un,{onClick:m,variant:"play-stop",size:"icon",className:"!w-8 !h-8 flex items-center justify-center ml-1",active:i,title:i?"Stop scale":"Play scale",children:i?c.jsx(to,{className:"w-6 h-6"}):c.jsx(no,{className:"w-6 h-6"})})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-sm text-slate-300 font-medium whitespace-nowrap w-16 flex items-center",children:"Mode:"}),o&&c.jsx(cn,{value:r,className:"w-[14rem]",buttonClassName:"px-3 py-1.5 text-left font-medium text-xs h-10 flex items-center",menuClassName:"min-w-[14rem]",onChange:p,showSearch:!0,options:o})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-sm text-slate-300 font-medium whitespace-nowrap w-16 flex items-center",children:"Voice:"}),c.jsx(cn,{value:a.instrumentName.replaceAll("_"," "),className:"w-[14rem]",buttonClassName:"px-3 py-1.5 text-left font-medium text-xs h-10 flex items-center",menuClassName:"min-w-[11rem]",onChange:L,showSearch:!0,options:u.map(O=>O.replaceAll("_"," "))})]})]})]})}),c.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${z?" opacity-100":"max-h-0 opacity-0"}`,children:c.jsxs("div",{className:"border-t border-gray-600 bg-[#3d434f]",children:[c.jsx("div",{className:"px-4 py-3 border-b border-gray-600",children:c.jsx("h3",{className:"text-left text-sm font-medium text-slate-200 uppercase tracking-wider",children:"Piano Settings"})}),c.jsx("div",{className:"p-6 bg-[#444b59]",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-x-8",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Volume",c.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",Math.round(a.volume*100),"%)"]})]}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:"range",min:"0",max:"1.0",step:"0.05",value:a.volume,onChange:O=>E(parseFloat(O.target.value)),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:"Octave Shift"}),c.jsxs("div",{className:"flex items-center justify-between bg-[#3d434f] border border-gray-600 rounded-md p-1.5",children:[c.jsx("button",{onClick:()=>x(Math.max(-3,a.octaveOffset-1)),className:"w-6 h-6 flex items-center justify-center text-slate-300 hover:text-slate-200 hover:bg-[#4a5262] rounded transition-colors",disabled:a.octaveOffset<=-3,children:""}),c.jsx("span",{className:"font-mono text-xs text-slate-200 px-2",children:a.octaveOffset===0?"Normal":`${a.octaveOffset>0?"+":""}${a.octaveOffset} octave${Math.abs(a.octaveOffset)>1?"s":""}`}),c.jsx("button",{onClick:()=>x(Math.min(3,a.octaveOffset+1)),className:"w-6 h-6 flex items-center justify-center text-slate-300 hover:text-slate-200 hover:bg-[#4a5262] rounded transition-colors",disabled:a.octaveOffset>=3,children:"+"})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Reverb",c.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",Math.round(a.reverbLevel*100),"%)"]})]}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:"range",min:"0",max:"1.0",step:"0.05",value:a.reverbLevel,onChange:O=>N(parseFloat(O.target.value)),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Note Duration",c.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",Math.round(a.noteDuration*100),"%)"]})]}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:"range",min:"0.1",max:"1.0",step:"0.05",value:a.noteDuration,onChange:O=>j(parseFloat(O.target.value)),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})})]}),c.jsx("div",{children:c.jsxs("label",{className:"flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",className:"w-3.5 h-3.5 text-blue-600 bg-[#3d434f] border-gray-600 rounded focus:ring-blue-500 focus:ring-1",checked:a.cutOffPreviousNotes,onChange:O=>y(O.target.checked)}),c.jsx("span",{className:"ml-2 text-xs text-slate-300 uppercase tracking-wide",children:"Cut off previous notes"})]})})]}),c.jsxs("div",{className:"space-y-4 mt-6 lg:mt-0",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:"Equalizer"}),c.jsx("div",{className:"space-y-3",children:[{label:"Bass",key:"bass"},{label:"Mid",key:"mid"},{label:"Treble",key:"treble"}].map(({label:O,key:F})=>c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wide",children:O}),c.jsxs("span",{className:"text-xs text-slate-400 font-mono",children:[a.eq[F]>0?"+":"",a.eq[F].toFixed(1),"dB"]})]}),c.jsx("input",{type:"range",name:F,min:"-24",max:"24",step:"0.5",value:a.eq[F],onChange:$=>{const A={...a.eq,[F]:parseFloat($.target.value)};v(A)},className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})]},F))})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Chorus",c.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",Math.round(a.chorusLevel*100),"%)"]})]}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:"range",min:"0",max:"1.0",step:"0.05",value:a.chorusLevel,onChange:O=>k(parseFloat(O.target.value)),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Delay",c.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",Math.round(a.delayLevel*100),"%)"]})]}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:"range",min:"0",max:"1.0",step:"0.05",value:a.delayLevel,onChange:O=>V(parseFloat(O.target.value)),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})})]})]})]})]})})]})})]})})},pS=({isOpen:n,onClose:r})=>c.jsx(qc,{isOpen:n,onClose:r,title:"About",className:"max-w-2xl max-h-[85vh]",fixedHeader:!0,children:c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{className:"bg-[#2a2f38] rounded-lg border border-gray-600 overflow-hidden",children:[c.jsx("div",{className:"bg-[#444b59] px-4 py-3 border-b border-gray-600",children:c.jsx("h4",{className:"text-sm font-semibold text-white uppercase tracking-wide",children:"Overview"})}),c.jsxs("div",{className:"p-4 text-sm leading-relaxed space-y-3 text-slate-300 text-left",children:[c.jsx("p",{children:"Modal Chord Buildr is a music theory app that allows you to explore and experiment with chords, modes, and scales in real-time. Build chord progressions, create rhythmic sequences, and hear how different musical elements work together."}),c.jsx("p",{children:"The application features a virtual piano, pattern sequencer, chord explorer, and comprehensive controls for crafting musical sequences. Whether you're learning music theory, composing, or just experimenting with sounds, Modal Chord Buildr provides an intuitive interface for musical exploration."})]})]}),c.jsxs("div",{className:"bg-[#2a2f38] rounded-lg border border-gray-600 overflow-hidden",children:[c.jsx("div",{className:"bg-[#444b59] px-4 py-3 border-b border-gray-600",children:c.jsx("h4",{className:"text-sm font-semibold text-white uppercase tracking-wide",children:"Key Features"})}),c.jsx("div",{className:"p-4",children:c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded-md hover:bg-[#3d434f]/50 transition-colors",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),c.jsx("span",{className:"text-sm text-slate-300 text-left",children:"Interactive piano with multiple instruments and audio effects"})]}),c.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded-md hover:bg-[#3d434f]/50 transition-colors",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),c.jsx("span",{className:"text-sm text-slate-300 text-left",children:"Pattern sequencer with customizable rhythmic patterns"})]}),c.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded-md hover:bg-[#3d434f]/50 transition-colors",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),c.jsx("span",{className:"text-sm text-slate-300 text-left",children:"Extensive chord explorer with mode-based chord generation"})]}),c.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded-md hover:bg-[#3d434f]/50 transition-colors",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),c.jsx("span",{className:"text-sm text-slate-300 text-left",children:"Real-time visualization of scale notes and chord relationships"})]}),c.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded-md hover:bg-[#3d434f]/50 transition-colors",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),c.jsx("span",{className:"text-sm text-slate-300 text-left",children:"Live mode for performance and improvisation"})]})]})})]}),c.jsxs("div",{className:"bg-[#2a2f38] rounded-lg border border-gray-600 overflow-hidden",children:[c.jsx("div",{className:"bg-[#444b59] px-4 py-3 border-b border-gray-600",children:c.jsx("h4",{className:"text-sm font-semibold text-white uppercase tracking-wide",children:"Links"})}),c.jsxs("div",{className:"p-4 space-y-3",children:[c.jsxs("a",{href:"https://github.com/jekrch/chord-analyzr",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-3 rounded-lg bg-[#3d434f]/50 hover:bg-[#4a5262]/70 transition-all duration-200 group",children:[c.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-700 group-hover:bg-gray-600 transition-colors",children:c.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M10 0C4.477 0 0 4.484 0 10.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0110 4.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.203 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.942.359.31.678.921.678 1.856 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0020 10.017C20 4.484 15.522 0 10 0z",clipRule:"evenodd"})})}),c.jsxs("div",{className:"flex-1 text-left",children:[c.jsx("div",{className:"text-sm font-medium text-white group-hover:text-blue-200 transition-colors",children:"GitHub Repository"}),c.jsx("div",{className:"text-xs text-slate-400",children:"View source code and documentation"})]})]}),c.jsxs("a",{href:"https://jacobkrch.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-3 rounded-lg bg-[#3d434f]/50 hover:bg-[#4a5262]/70 transition-all duration-200 group",children:[c.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-blue-600 group-hover:bg-blue-500 transition-colors",children:c.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})}),c.jsx("div",{className:"flex-1 text-left",children:c.jsx("div",{className:"text-sm font-medium text-white group-hover:text-blue-200 transition-colors",children:"jacobkrch.com"})})]})]})]}),c.jsx("div",{className:"pt-4 border-t border-gray-600/50",children:c.jsx("p",{className:"text-xs text-slate-400 text-left",children:" 2025 Jacob Krch. All rights reserved."})})]})}),On=({title:n,children:r,defaultOpen:o=!1})=>{const[i,a]=w.useState(o);return c.jsxs("div",{className:"bg-[#2a2f38] rounded-lg border border-gray-600 overflow-hidden mb-4",children:[c.jsxs("button",{onClick:()=>a(!i),className:"w-full flex items-center justify-between p-4 text-left bg-[#444b59] border-b border-gray-600 hover:bg-[#4a5262] transition-all duration-200",children:[c.jsx("h4",{className:"text-sm font-semibold text-white uppercase tracking-wide",children:n}),i?c.jsx(Pr,{className:"w-4 h-4 text-slate-300 flex-shrink-0"}):c.jsx(Mh,{className:"w-4 h-4 text-slate-300 flex-shrink-0"})]}),i&&c.jsx("div",{className:"p-4 text-slate-300",children:r})]})},hS=({isOpen:n,onClose:r})=>c.jsx(qc,{isOpen:n,onClose:r,title:"Help & Guide",className:"max-w-4xl max-h-[85vh]",fixedHeader:!0,children:c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsx(On,{title:"Quick Start",defaultOpen:!0,children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-start space-x-4 p-3 rounded-lg bg-[#3d434f]/30 hover:bg-[#3d434f]/50 transition-colors",children:[c.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-blue-600 text-white text-sm font-bold flex-shrink-0",children:"1"}),c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"text-sm font-semibold text-white mb-1",children:"Choose a Key & Mode"}),c.jsx("div",{className:"text-sm text-slate-300",children:"Use the Controls section to select your musical key and mode (like C Ionian, D# Lydian, etc.)"})]})]}),c.jsxs("div",{className:"flex items-start space-x-4 p-3 rounded-lg bg-[#3d434f]/30 hover:bg-[#3d434f]/50 transition-colors",children:[c.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-blue-600 text-white text-sm font-bold flex-shrink-0",children:"2"}),c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"text-sm font-semibold text-white mb-1",children:"Explore Chords"}),c.jsx("div",{className:"text-sm text-slate-300",children:"Browse the Chord Explorer below to discover chords that fit your chosen key/mode"})]})]}),c.jsxs("div",{className:"flex items-start space-x-4 p-3 rounded-lg bg-[#3d434f]/30 hover:bg-[#3d434f]/50 transition-colors",children:[c.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-blue-600 text-white text-sm font-bold flex-shrink-0",children:"3"}),c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"text-sm font-semibold text-white mb-1",children:"Build Sequences"}),c.jsx("div",{className:"text-sm text-slate-300",children:"Click the + button on chords to add them to your sequence"})]})]}),c.jsxs("div",{className:"flex items-start space-x-4 p-3 rounded-lg bg-[#3d434f]/30 hover:bg-[#3d434f]/50 transition-colors",children:[c.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-blue-600 text-white text-sm font-bold flex-shrink-0",children:"4"}),c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"text-sm font-semibold text-white mb-1",children:"Create Patterns"}),c.jsx("div",{className:"text-sm text-slate-300",children:"Use the Sequencer to create rhythmic patterns for your chords"})]})]}),c.jsxs("div",{className:"flex items-start space-x-4 p-3 rounded-lg bg-[#3d434f]/30 hover:bg-[#3d434f]/50 transition-colors",children:[c.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-blue-600 text-white text-sm font-bold flex-shrink-0",children:"5"}),c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"text-sm font-semibold text-white mb-1",children:"Play & Perform"}),c.jsx("div",{className:"text-sm text-slate-300",children:"Hit Play to hear your creation, or use Live Mode for real-time performance"})]})]})]})}),c.jsx(On,{title:"Keyboard Shortcuts",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsx("h5",{className:"text-white font-semibold text-sm border-b border-gray-600 pb-2 text-left",children:"Playback Control"}),c.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md bg-[#3d434f]/30",children:[c.jsx("span",{className:"text-sm text-left",children:"Play/Pause sequencer"}),c.jsx("kbd",{className:"px-2 py-1 bg-gray-700 rounded text-xs font-mono",children:"Space"})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("h5",{className:"text-white font-semibold text-sm border-b border-gray-600 pb-2 text-left",children:"Navigation"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md bg-[#3d434f]/30",children:[c.jsx("span",{className:"text-sm text-left",children:"Expand chord buttons"}),c.jsx("kbd",{className:"px-2 py-1 bg-gray-700 rounded text-xs font-mono",children:"L"})]}),c.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md bg-[#3d434f]/30",children:[c.jsx("span",{className:"text-sm text-left",children:"Select chord from sequence"}),c.jsx("kbd",{className:"px-2 py-1 bg-gray-700 rounded text-xs font-mono",children:"1-9"})]})]})]})]})}),c.jsx(On,{title:"Piano & Audio Controls",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[c.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Piano Interaction"}),c.jsx("p",{className:"text-sm text-left",children:"Click piano keys to play individual notes. The piano highlights scale notes and chord tones based on your current selection."})]}),c.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[c.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Audio Settings"}),c.jsx("p",{className:"text-sm mb-3 text-left",children:"Access comprehensive audio controls through the Settings panel in the Controls section:"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-start space-x-2 text-sm",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),c.jsxs("div",{className:"text-left",children:[c.jsx("strong",{className:"text-white",children:"Voice:"})," ",c.jsx("span",{className:"text-slate-300",children:"Choose from multiple instrument sounds"})]})]}),c.jsxs("div",{className:"flex items-start space-x-2 text-sm",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),c.jsxs("div",{className:"text-left",children:[c.jsx("strong",{className:"text-white",children:"Volume & Octave:"})," ",c.jsx("span",{className:"text-slate-300",children:"Adjust overall volume and pitch range"})]})]}),c.jsxs("div",{className:"flex items-start space-x-2 text-sm",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),c.jsxs("div",{className:"text-left",children:[c.jsx("strong",{className:"text-white",children:"Effects:"})," ",c.jsx("span",{className:"text-slate-300",children:"Add reverb, chorus, and delay"})]})]}),c.jsxs("div",{className:"flex items-start space-x-2 text-sm",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),c.jsxs("div",{className:"text-left",children:[c.jsx("strong",{className:"text-white",children:"Equalizer:"})," ",c.jsx("span",{className:"text-slate-300",children:"Shape the sound with bass, mid, and treble controls"})]})]}),c.jsxs("div",{className:"flex items-start space-x-2 text-sm",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),c.jsxs("div",{className:"text-left",children:[c.jsx("strong",{className:"text-white",children:"Note Duration:"})," ",c.jsx("span",{className:"text-slate-300",children:"Control how long notes ring out"})]})]})]})]})]})}),c.jsx(On,{title:"Pattern Sequencer",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[c.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Understanding Patterns"}),c.jsx("p",{className:"text-sm mb-3 text-left",children:"Patterns control which chord tones play at different time steps. Each step can be:"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-md bg-[#2a2f38]",children:[c.jsx("code",{className:"px-2 py-1 bg-gray-700 rounded text-xs font-mono text-white min-w-[4rem] text-center",children:""}),c.jsx("span",{className:"text-sm text-slate-300 text-left",children:"Rest/silence"})]}),c.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-md bg-[#2a2f38]",children:[c.jsx("code",{className:"px-2 py-1 bg-gray-700 rounded text-xs font-mono text-white min-w-[4rem] text-center",children:"1, 2, 3..."}),c.jsx("span",{className:"text-sm text-slate-300 text-left",children:"Play the 1st, 2nd, 3rd... note of the chord"})]}),c.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-md bg-[#2a2f38]",children:[c.jsx("code",{className:"px-2 py-1 bg-gray-700 rounded text-xs font-mono text-white min-w-[4rem] text-center",children:"1, 2..."}),c.jsx("span",{className:"text-sm text-slate-300 text-left",children:"Play the note one octave higher"})]})]})]}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:c.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[c.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Pattern Controls"}),c.jsxs("div",{className:"space-y-2 text-sm text-left",children:[c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Add/Remove Steps:"})," Use the +/- buttons to change pattern length"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Pattern Presets:"})," Choose from pre-built patterns or create your own"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Timing:"})," Adjust BPM, subdivision, and swing feel"]})]})]})})]})}),c.jsx(On,{title:"Chord Explorer & Sequences",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[c.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Finding Chords"}),c.jsx("p",{className:"text-sm mb-3 text-left",children:"The Chord Explorer shows all chords that fit your selected key and mode. You can:"}),c.jsxs("div",{className:"space-y-2 text-sm text-left",children:[c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Filter by root note"})," to find specific chord types"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Search"})," for chord names or note combinations"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Click to preview"})," any chord"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Click "})," to see the individual notes in a chord"]})]})]}),c.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[c.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Building Sequences"}),c.jsxs("p",{className:"text-sm mb-3 text-left",children:["Add chords to your sequence using the ",c.jsx("span",{className:"text-green-400 font-bold",children:"+"})," button. Your chord sequence appears at the bottom where you can:"]}),c.jsxs("div",{className:"space-y-2 text-sm text-left",children:[c.jsx("div",{children:"Click any chord to play it immediately"}),c.jsx("div",{children:"Use numbers 1-9 to jump between chords"}),c.jsx("div",{children:"Toggle Delete mode to remove unwanted chords"}),c.jsx("div",{children:"Clear all chords to start fresh"}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-blue-400",children:"Click the gear icon"})," to enter Edit mode and modify chords"]})]})]})]})}),c.jsx(On,{title:"Chord Editing",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[c.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Edit Mode"}),c.jsxs("p",{className:"text-sm mb-3 text-left",children:["Click the ",c.jsx("span",{className:"text-blue-400 font-bold",children:"gear icon"})," next to your chord sequence to enter Edit Mode. In this mode, you can:"]}),c.jsxs("div",{className:"space-y-2 text-sm text-left",children:[c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Click any chord"})," to open the chord editor"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Modify chord voicings"})," by reordering notes"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Add slash chords"})," to change the bass note"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Preview changes"})," before saving them"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[c.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Slash Chords"}),c.jsx("p",{className:"text-sm mb-3 text-left",children:"Create slash chords (like C/E) by specifying a bass note:"}),c.jsxs("div",{className:"space-y-2 text-sm text-left",children:[c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Bass Note Field:"})," Enter a note name (e.g., E, Gb3, C4)"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Automatic Voicing:"})," The bass note moves to the lowest position"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Chord Name:"})," Updates to show the slash notation (C/E)"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Remove Bass:"})," Clear the field to return to original chord"]})]})]}),c.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[c.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Note Reordering"}),c.jsx("p",{className:"text-sm mb-3 text-left",children:"Change the order of chord notes for different voicings:"}),c.jsxs("div",{className:"space-y-2 text-sm text-left",children:[c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Drag & Drop:"})," Drag notes to reorder them"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Arrow Buttons:"})," Use up/down arrows to move notes"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Auto-Detection:"})," Slash note updates automatically when you change the bass"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Visual Feedback:"})," Slash notes are highlighted in amber"]})]})]})]}),c.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[c.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Editor Controls"}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2 text-sm text-left",children:[c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Preview:"})," Click the play button to hear your changes"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Save:"})," Green checkmark to confirm edits"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Cancel:"})," Discard changes and close editor"]})]}),c.jsxs("div",{className:"space-y-2 text-sm text-left",children:[c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Original Notes:"})," Editor preserves original chord voicing"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Real-time Updates:"})," Changes reflect immediately in the editor"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Full-screen:"})," Editor takes over the entire interface for focused editing"]})]})]})]})]})}),c.jsx(On,{title:"Live Mode",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[c.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Performance Mode"}),c.jsx("p",{className:"text-sm mb-3 text-left",children:"Live Mode expands your chord sequence into a full-screen performance interface perfect for:"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded-md bg-[#2a2f38]",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),c.jsxs("div",{className:"text-sm text-left",children:[c.jsx("strong",{className:"text-white",children:"Live performance:"})," ",c.jsx("span",{className:"text-slate-300",children:"Large, touch-friendly chord buttons"})]})]}),c.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded-md bg-[#2a2f38]",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),c.jsxs("div",{className:"text-sm text-left",children:[c.jsx("strong",{className:"text-white",children:"Practice sessions:"})," ",c.jsx("span",{className:"text-slate-300",children:"Easy chord switching with visual feedback"})]})]}),c.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded-md bg-[#2a2f38]",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),c.jsxs("div",{className:"text-sm text-left",children:[c.jsx("strong",{className:"text-white",children:"Composition:"})," ",c.jsx("span",{className:"text-slate-300",children:"Hear chord progressions in real-time"})]})]})]})]}),c.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[c.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Using Live Mode"}),c.jsxs("div",{className:"space-y-2 text-sm text-left",children:[c.jsx("div",{children:'Click "Expand" in the chord sequence to enter Live Mode'}),c.jsx("div",{children:"Use keyboard numbers 1-9 or click/tap chord buttons"}),c.jsx("div",{children:"The sequencer continues playing your patterns"}),c.jsx("div",{children:"Active chord is highlighted in blue"})]})]})]})}),c.jsxs(On,{title:"Interface Tips",children:[c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[c.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Navigation"}),c.jsxs("div",{className:"space-y-2 text-sm text-left",children:[c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Sequencer Header:"})," Click to show/hide the pattern editor"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Settings Panels:"})," Most sections have expandable settings"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Status Indicators:"})," Top bar shows current key, mode, and playback status"]})]})]})}),c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[c.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Visual Feedback"}),c.jsxs("div",{className:"space-y-2 text-sm text-left",children:[c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Piano Keys:"})," Scale notes are highlighted in blue"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Chord Tones:"})," Active chord notes show in brighter colors"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Step Indicator:"})," Shows current position in the pattern"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Animations:"})," Visual feedback for chord changes and playback"]})]})]})})]}),c.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30 mt-4",children:[c.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Responsive Design"}),c.jsx("p",{className:"text-sm text-left",children:"The interface adapts to different screen sizes. On mobile devices, some controls are simplified and touch-optimized for better usability."})]})]}),c.jsx(On,{title:"Troubleshooting",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[c.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Audio Issues"}),c.jsxs("div",{className:"space-y-2 text-sm text-left",children:[c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"No sound:"})," Check device volume and ensure audio isn't muted"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"iOS devices:"})," Tap any button first to initialize audio"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Distorted audio:"})," Lower the volume setting in piano controls"]})]})]}),c.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[c.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Performance"}),c.jsxs("div",{className:"space-y-2 text-sm text-left",children:[c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Lag or glitches:"})," Close other browser tabs using audio"]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-white",children:"Mobile performance:"})," Use lower reverb/effect settings for better performance"]})]})]})]})}),c.jsx("div",{className:"mt-8 pt-6 border-t border-gray-600/50",children:c.jsx("p",{className:"text-xs text-slate-400 text-left",children:"Need more help? Check the GitHub repository for detailed documentation and examples."})})]})}),mS=({globalPatternState:n,isLiveMode:r,keySignature:o,mode:i})=>{const[a,u]=w.useState(!1),[f,p]=w.useState(!1),[m,g]=w.useState(!1),y=w.useRef(null),v=w.useRef(null);w.useEffect(()=>{const N=j=>{y.current&&v.current&&!y.current.contains(j.target)&&!v.current.contains(j.target)&&g(!1)};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]);const x=N=>{N(),g(!1)};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"bg-[#3d434f] border-b border-gray-600",children:c.jsx("div",{className:"relative",children:c.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"relative flex items-center mt-2",children:[c.jsx("div",{className:"relative w-12 h-12",children:c.jsxs("svg",{viewBox:"0 0 48 48",className:"w-12 h-12",children:[c.jsx("polygon",{points:"24,2 38,12 38,28 24,38 10,28 10,12",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-slate-300"}),c.jsx("circle",{cx:"18",cy:"20",r:"2",fill:"currentColor",className:"text-slate-400"}),c.jsx("circle",{cx:"30",cy:"20",r:"2",fill:"currentColor",className:"text-slate-400"}),c.jsx("circle",{cx:"24",cy:"28",r:"2",fill:"currentColor",className:"text-slate-400"}),c.jsx("line",{x1:"18",y1:"20",x2:"24",y2:"28",stroke:"currentColor",strokeWidth:"1.5",className:"text-slate-400"}),c.jsx("line",{x1:"30",y1:"20",x2:"24",y2:"28",stroke:"currentColor",strokeWidth:"1.5",className:"text-slate-400"}),c.jsx("line",{x1:"18",y1:"20",x2:"30",y2:"20",stroke:"currentColor",strokeWidth:"1.5",className:"text-slate-400"})]})}),c.jsx("div",{className:"absolute -top-1 -right-0 w-2 h-2 border border-slate-400 transform rotate-39"})]}),c.jsx("div",{className:"flex items-center space-x-3",children:c.jsxs("div",{className:"flex flex-col items-start",children:[c.jsx("h1",{className:"text-xl font-bold text-blue-500 tracking-tight leading-none",children:"modal"}),c.jsxs("div",{className:"flex items-center space-x-0.5",children:[c.jsx("span",{className:"text-xs text-slate-400 font-medium uppercase tracking-widest",children:"chord"}),c.jsx("div",{className:"w-1 h-1 bg-slate-400"}),c.jsx("span",{className:"text-xs text-slate-400 font-medium uppercase tracking-widest",children:"buildr"})]})]})})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"hidden sm:flex items-center space-x-2 text-sm",children:[c.jsx("div",{className:"px-2 py-0.5 bg-[#444b59] border border-gray-600 rounded text-slate-300 font-mono",children:o}),c.jsx("div",{className:"w-px h-4 bg-slate-600"}),c.jsx("div",{className:"px-2 py-1 bg-[#444b59] border border-gray-600 rounded text-slate-300 text-xs font-mono",children:i})]}),c.jsxs("div",{className:"relative",children:[c.jsx("button",{ref:v,onClick:()=>g(!m),className:"w-9 h-9 flex items-center justify-center text-slate-400 hover:text-slate-200 hover:bg-[#4a5262] rounded-lg transition-all duration-200 border border-transparent hover:border-gray-600",title:"Menu",children:c.jsx(Sx,{className:"w-5 h-5"})}),m&&c.jsx("div",{ref:y,className:"absolute right-0 mt-2 w-64 bg-[#3d434f] border border-gray-600 rounded-lg shadow-xl z-50 overflow-hidden",children:c.jsxs("div",{className:"py-2",children:[c.jsxs("button",{onClick:()=>x(()=>u(!0)),className:"w-full px-4 py-2.5 text-left flex items-center space-x-3 text-slate-400 hover:text-slate-200 hover:bg-[#4a5262] transition-all duration-150",children:[c.jsx(jx,{className:"w-4 h-4 flex-shrink-0"}),c.jsx("span",{className:"text-sm font-medium",children:"About"})]}),c.jsxs("button",{onClick:()=>x(()=>p(!0)),className:"w-full px-4 py-2.5 text-left flex items-center space-x-3 text-slate-400 hover:text-slate-200 hover:bg-[#4a5262] transition-all duration-150",children:[c.jsx(Fh,{className:"w-4 h-4 flex-shrink-0"}),c.jsx("span",{className:"text-sm font-medium",children:"Help"})]})]})})]})]})]})})}),c.jsx(pS,{isOpen:a,onClose:()=>u(!1)}),c.jsx(hS,{isOpen:f,onClose:()=>p(!1)})]})};function gS(){const{chords:n,key:r,mode:o,modes:i,activeNotes:a,activeChordIndex:u,highlightedChordIndex:f,addedChords:p,loadingChords:m,isDeleteMode:g,isPlayingScale:y,isLiveMode:v,globalPatternState:x,currentlyActivePattern:N,temporaryChord:j,normalizedScaleNotes:E,pianoSettings:k,availableInstruments:V,setKey:z,setMode:T,setIsDeleteMode:L,setIsLiveMode:O,setAvailableInstruments:F,handleChordClick:$,addChordClick:A,updateChord:Z,clearAllChords:H,updateChordPattern:de,toggleScalePlayback:W,handlePatternChange:G,handleTogglePlayback:ae,getCurrentPattern:pe,handleFetchOriginalChord:q,setPianoInstrument:fe,setCutOffPreviousNotes:U,setEq:J,setOctaveOffset:K,setReverbLevel:R,setNoteDuration:C,setVolume:X,setChorusLevel:se,setDelayLevel:Q}=cx(),ce=w.useRef(null),xe=w.useRef(!1),ue=async()=>{if(!xe.current)try{await ce.current?.play(),xe.current=!0,document.removeEventListener("touchstart",ue),document.removeEventListener("mousedown",ue),document.removeEventListener("click",ue)}catch(le){console.error("failed to initialize audio:",le)}};return w.useEffect(()=>(document.addEventListener("touchstart",ue),document.addEventListener("mousedown",ue),document.addEventListener("click",ue),()=>{document.removeEventListener("touchstart",ue),document.removeEventListener("mousedown",ue),document.removeEventListener("click",ue)}),[]),c.jsxs("div",{className:"select-none text-center bg-[#282c34] min-h-screen",children:[c.jsx("audio",{ref:ce,preload:"auto",children:c.jsx("source",{src:"/silence.mp3",type:"audio/mp3"})}),c.jsx(mS,{globalPatternState:x,isLiveMode:v,keySignature:r,mode:o}),c.jsxs("div",{className:`mt-2 flex flex-col items-center justify-start text-[calc(10px+2vmin)] text-white p-4 space-y-6 pb-24 ${v?"pointer-events-none opacity-30":""}`,children:[c.jsx("div",{className:"w-full max-w-7xl",children:c.jsx(By,{activeNotes:a,normalizedScaleNotes:E,globalPatternState:x,onPatternStateChange:G,activeChordIndex:u,addedChords:p,currentlyActivePattern:N,pianoSettings:k,availableInstruments:V,onInstrumentChange:fe,onCutOffPreviousNotesChange:U,onEqChange:J,onOctaveOffsetChange:K,onReverbLevelChange:R,onNoteDurationChange:C,onVolumeChange:X,onChorusLevelChange:se,onDelayLevelChange:Q,onAvailableInstrumentsChange:F,hideConfigControls:!0})}),c.jsx(fS,{currentKey:r,mode:o,modes:i,isPlayingScale:y,pianoSettings:k,availableInstruments:V,setKey:z,setMode:T,toggleScalePlayback:W,setPianoInstrument:fe,setCutOffPreviousNotes:U,setEq:J,setOctaveOffset:K,setReverbLevel:R,setNoteDuration:C,setVolume:X,setChorusLevel:se,setDelayLevel:Q}),c.jsx(zy,{activeNotes:a,normalizedScaleNotes:E,addedChords:p,activeChordIndex:u,onPatternChange:G,onUpdateChordPattern:de,globalPatternState:x,currentlyActivePattern:N,getCurrentPattern:pe}),x.isPlaying&&c.jsx("div",{className:"w-full px-2 mx-auto items-center",children:c.jsx("div",{className:"px-6 py-3 bg-green-900 bg-opacity-50 rounded-lg border border-green-700 w-full max-w-7xl mx-auto",children:c.jsxs("div",{className:"text-sm text-green-300 flex items-center justify-center space-x-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse mr-2"}),c.jsx("span",{className:"font-medium",children:"Sequencer Active"})]}),c.jsxs("div",{className:"text-xs opacity-80",children:["Pattern: ",pe().join("-")," |",x.bpm," BPM | Step ",x.currentStep%pe().length+1,"/",pe().length,j&&c.jsxs("span",{className:"ml-2 text-yellow-300",children:[" ",j.name," (table chord)"]}),!j&&u!==null&&c.jsxs("span",{className:"ml-2 text-purple-300",children:[" ",p[u]?.name," (selected chord)"]}),!j&&u===null&&c.jsx("span",{className:"ml-2 text-cyan-300",children:" Global pattern"})]})]})})}),c.jsx("div",{className:"w-full max-w-7xl mb-20 mt-2",children:c.jsx(zx,{chords:n?.filter(le=>!!le.chordName&&!!le.chordNoteNames),loading:m,onChordClick:$,addChordClick:A})})]}),c.jsx(dS,{addedChords:p,activeChordIndex:u,highlightedChordIndex:f,isDeleteMode:g,isLiveMode:v,globalPatternState:x,onChordClick:$,onClearAll:H,onToggleDeleteMode:()=>L(!g),onToggleLiveMode:()=>O(!v),onTogglePlayback:ae,onUpdateChord:Z,onFetchOriginalChord:q})]})}rv.createRoot(document.getElementById("root")).render(c.jsx(Re.StrictMode,{children:c.jsx(gS,{})}));
