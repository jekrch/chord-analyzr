(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function o(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=o(a);fetch(a.href,l)}})();var ea=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ar(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Qx(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var r=t.default;if(typeof r=="function"){var o=function s(){var a=!1;try{a=this instanceof s}catch{}return a?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};o.prototype=r.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var a=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(o,s,a.get?a:{enumerable:!0,get:function(){return t[s]}})}),o}var Sc={exports:{}},xs={},Ec={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lh;function Xx(){if(lh)return Ie;lh=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),g=Symbol.iterator;function y(A){return A===null||typeof A!="object"?null:(A=g&&A[g]||A["@@iterator"],typeof A=="function"?A:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,D={};function E(A,C,F){this.props=A,this.context=C,this.refs=D,this.updater=F||N}E.prototype.isReactComponent={},E.prototype.setState=function(A,C){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,C,"setState")},E.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function $(){}$.prototype=E.prototype;function V(A,C,F){this.props=A,this.context=C,this.refs=D,this.updater=F||N}var B=V.prototype=new $;B.constructor=V,S(B,E.prototype),B.isPureReactComponent=!0;var H=Array.isArray,M=Object.prototype.hasOwnProperty,z={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function L(A,C,F){var X,q={},re=null,we=null;if(C!=null)for(X in C.ref!==void 0&&(we=C.ref),C.key!==void 0&&(re=""+C.key),C)M.call(C,X)&&!R.hasOwnProperty(X)&&(q[X]=C[X]);var ue=arguments.length-2;if(ue===1)q.children=F;else if(1<ue){for(var pe=Array(ue),me=0;me<ue;me++)pe[me]=arguments[me+2];q.children=pe}if(A&&A.defaultProps)for(X in ue=A.defaultProps,ue)q[X]===void 0&&(q[X]=ue[X]);return{$$typeof:t,type:A,key:re,ref:we,props:q,_owner:z.current}}function J(A,C){return{$$typeof:t,type:A.type,key:C,ref:A.ref,props:A.props,_owner:A._owner}}function ne(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function ae(A){var C={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(F){return C[F]})}var k=/\/+/g;function O(A,C){return typeof A=="object"&&A!==null&&A.key!=null?ae(""+A.key):C.toString(36)}function G(A,C,F,X,q){var re=typeof A;(re==="undefined"||re==="boolean")&&(A=null);var we=!1;if(A===null)we=!0;else switch(re){case"string":case"number":we=!0;break;case"object":switch(A.$$typeof){case t:case r:we=!0}}if(we)return we=A,q=q(we),A=X===""?"."+O(we,0):X,H(q)?(F="",A!=null&&(F=A.replace(k,"$&/")+"/"),G(q,C,F,"",function(me){return me})):q!=null&&(ne(q)&&(q=J(q,F+(!q.key||we&&we.key===q.key?"":(""+q.key).replace(k,"$&/")+"/")+A)),C.push(q)),1;if(we=0,X=X===""?".":X+":",H(A))for(var ue=0;ue<A.length;ue++){re=A[ue];var pe=X+O(re,ue);we+=G(re,C,F,pe,q)}else if(pe=y(A),typeof pe=="function")for(A=pe.call(A),ue=0;!(re=A.next()).done;)re=re.value,pe=X+O(re,ue++),we+=G(re,C,F,pe,q);else if(re==="object")throw C=String(A),Error("Objects are not valid as a React child (found: "+(C==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":C)+"). If you meant to render a collection of children, use an array instead.");return we}function oe(A,C,F){if(A==null)return A;var X=[],q=0;return G(A,X,"","",function(re){return C.call(F,re,q++)}),X}function ee(A){if(A._status===-1){var C=A._result;C=C(),C.then(function(F){(A._status===0||A._status===-1)&&(A._status=1,A._result=F)},function(F){(A._status===0||A._status===-1)&&(A._status=2,A._result=F)}),A._status===-1&&(A._status=0,A._result=C)}if(A._status===1)return A._result.default;throw A._result}var le={current:null},Y={transition:null},Z={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:Y,ReactCurrentOwner:z};function Q(){throw Error("act(...) is not supported in production builds of React.")}return Ie.Children={map:oe,forEach:function(A,C,F){oe(A,function(){C.apply(this,arguments)},F)},count:function(A){var C=0;return oe(A,function(){C++}),C},toArray:function(A){return oe(A,function(C){return C})||[]},only:function(A){if(!ne(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Ie.Component=E,Ie.Fragment=o,Ie.Profiler=a,Ie.PureComponent=V,Ie.StrictMode=s,Ie.Suspense=p,Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,Ie.act=Q,Ie.cloneElement=function(A,C,F){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var X=S({},A.props),q=A.key,re=A.ref,we=A._owner;if(C!=null){if(C.ref!==void 0&&(re=C.ref,we=z.current),C.key!==void 0&&(q=""+C.key),A.type&&A.type.defaultProps)var ue=A.type.defaultProps;for(pe in C)M.call(C,pe)&&!R.hasOwnProperty(pe)&&(X[pe]=C[pe]===void 0&&ue!==void 0?ue[pe]:C[pe])}var pe=arguments.length-2;if(pe===1)X.children=F;else if(1<pe){ue=Array(pe);for(var me=0;me<pe;me++)ue[me]=arguments[me+2];X.children=ue}return{$$typeof:t,type:A.type,key:q,ref:re,props:X,_owner:we}},Ie.createContext=function(A){return A={$$typeof:d,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:l,_context:A},A.Consumer=A},Ie.createElement=L,Ie.createFactory=function(A){var C=L.bind(null,A);return C.type=A,C},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(A){return{$$typeof:f,render:A}},Ie.isValidElement=ne,Ie.lazy=function(A){return{$$typeof:x,_payload:{_status:-1,_result:A},_init:ee}},Ie.memo=function(A,C){return{$$typeof:m,type:A,compare:C===void 0?null:C}},Ie.startTransition=function(A){var C=Y.transition;Y.transition={};try{A()}finally{Y.transition=C}},Ie.unstable_act=Q,Ie.useCallback=function(A,C){return le.current.useCallback(A,C)},Ie.useContext=function(A){return le.current.useContext(A)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(A){return le.current.useDeferredValue(A)},Ie.useEffect=function(A,C){return le.current.useEffect(A,C)},Ie.useId=function(){return le.current.useId()},Ie.useImperativeHandle=function(A,C,F){return le.current.useImperativeHandle(A,C,F)},Ie.useInsertionEffect=function(A,C){return le.current.useInsertionEffect(A,C)},Ie.useLayoutEffect=function(A,C){return le.current.useLayoutEffect(A,C)},Ie.useMemo=function(A,C){return le.current.useMemo(A,C)},Ie.useReducer=function(A,C,F){return le.current.useReducer(A,C,F)},Ie.useRef=function(A){return le.current.useRef(A)},Ie.useState=function(A){return le.current.useState(A)},Ie.useSyncExternalStore=function(A,C,F){return le.current.useSyncExternalStore(A,C,F)},Ie.useTransition=function(){return le.current.useTransition()},Ie.version="18.3.1",Ie}var ch;function Aa(){return ch||(ch=1,Ec.exports=Xx()),Ec.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uh;function Zx(){if(uh)return xs;uh=1;var t=Aa(),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function d(f,p,m){var x,g={},y=null,N=null;m!==void 0&&(y=""+m),p.key!==void 0&&(y=""+p.key),p.ref!==void 0&&(N=p.ref);for(x in p)s.call(p,x)&&!l.hasOwnProperty(x)&&(g[x]=p[x]);if(f&&f.defaultProps)for(x in p=f.defaultProps,p)g[x]===void 0&&(g[x]=p[x]);return{$$typeof:r,type:f,key:y,ref:N,props:g,_owner:a.current}}return xs.Fragment=o,xs.jsx=d,xs.jsxs=d,xs}var dh;function Jx(){return dh||(dh=1,Sc.exports=Zx()),Sc.exports}var u=Jx(),b=Aa();const Ne=Ar(b);var ta={},Dc={exports:{}},Vt={},jc={exports:{}},Ac={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fh;function ey(){return fh||(fh=1,function(t){function r(Y,Z){var Q=Y.length;Y.push(Z);e:for(;0<Q;){var A=Q-1>>>1,C=Y[A];if(0<a(C,Z))Y[A]=Z,Y[Q]=C,Q=A;else break e}}function o(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var Z=Y[0],Q=Y.pop();if(Q!==Z){Y[0]=Q;e:for(var A=0,C=Y.length,F=C>>>1;A<F;){var X=2*(A+1)-1,q=Y[X],re=X+1,we=Y[re];if(0>a(q,Q))re<C&&0>a(we,q)?(Y[A]=we,Y[re]=Q,A=re):(Y[A]=q,Y[X]=Q,A=X);else if(re<C&&0>a(we,Q))Y[A]=we,Y[re]=Q,A=re;else break e}}return Z}function a(Y,Z){var Q=Y.sortIndex-Z.sortIndex;return Q!==0?Q:Y.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var d=Date,f=d.now();t.unstable_now=function(){return d.now()-f}}var p=[],m=[],x=1,g=null,y=3,N=!1,S=!1,D=!1,E=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(Y){for(var Z=o(m);Z!==null;){if(Z.callback===null)s(m);else if(Z.startTime<=Y)s(m),Z.sortIndex=Z.expirationTime,r(p,Z);else break;Z=o(m)}}function H(Y){if(D=!1,B(Y),!S)if(o(p)!==null)S=!0,ee(M);else{var Z=o(m);Z!==null&&le(H,Z.startTime-Y)}}function M(Y,Z){S=!1,D&&(D=!1,$(L),L=-1),N=!0;var Q=y;try{for(B(Z),g=o(p);g!==null&&(!(g.expirationTime>Z)||Y&&!ae());){var A=g.callback;if(typeof A=="function"){g.callback=null,y=g.priorityLevel;var C=A(g.expirationTime<=Z);Z=t.unstable_now(),typeof C=="function"?g.callback=C:g===o(p)&&s(p),B(Z)}else s(p);g=o(p)}if(g!==null)var F=!0;else{var X=o(m);X!==null&&le(H,X.startTime-Z),F=!1}return F}finally{g=null,y=Q,N=!1}}var z=!1,R=null,L=-1,J=5,ne=-1;function ae(){return!(t.unstable_now()-ne<J)}function k(){if(R!==null){var Y=t.unstable_now();ne=Y;var Z=!0;try{Z=R(!0,Y)}finally{Z?O():(z=!1,R=null)}}else z=!1}var O;if(typeof V=="function")O=function(){V(k)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,oe=G.port2;G.port1.onmessage=k,O=function(){oe.postMessage(null)}}else O=function(){E(k,0)};function ee(Y){R=Y,z||(z=!0,O())}function le(Y,Z){L=E(function(){Y(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){S||N||(S=!0,ee(M))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return o(p)},t.unstable_next=function(Y){switch(y){case 1:case 2:case 3:var Z=3;break;default:Z=y}var Q=y;y=Z;try{return Y()}finally{y=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,Z){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var Q=y;y=Y;try{return Z()}finally{y=Q}},t.unstable_scheduleCallback=function(Y,Z,Q){var A=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?A+Q:A):Q=A,Y){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=Q+C,Y={id:x++,callback:Z,priorityLevel:Y,startTime:Q,expirationTime:C,sortIndex:-1},Q>A?(Y.sortIndex=Q,r(m,Y),o(p)===null&&Y===o(m)&&(D?($(L),L=-1):D=!0,le(H,Q-A))):(Y.sortIndex=C,r(p,Y),S||N||(S=!0,ee(M))),Y},t.unstable_shouldYield=ae,t.unstable_wrapCallback=function(Y){var Z=y;return function(){var Q=y;y=Z;try{return Y.apply(this,arguments)}finally{y=Q}}}}(Ac)),Ac}var ph;function ty(){return ph||(ph=1,jc.exports=ey()),jc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hh;function ny(){if(hh)return Vt;hh=1;var t=Aa(),r=ty();function o(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,n){d(e,n),d(e+"Capture",n)}function d(e,n){for(a[e]=n,e=0;e<n.length;e++)s.add(n[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},g={};function y(e){return p.call(g,e)?!0:p.call(x,e)?!1:m.test(e)?g[e]=!0:(x[e]=!0,!1)}function N(e,n,i,c){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return c?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function S(e,n,i,c){if(n===null||typeof n>"u"||N(e,n,i,c))return!0;if(c)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function D(e,n,i,c,h,v,w){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=i,this.propertyName=e,this.type=n,this.sanitizeURL=v,this.removeEmptyString=w}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){E[e]=new D(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];E[n]=new D(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){E[e]=new D(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){E[e]=new D(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){E[e]=new D(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){E[e]=new D(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){E[e]=new D(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){E[e]=new D(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){E[e]=new D(e,5,!1,e.toLowerCase(),null,!1,!1)});var $=/[\-:]([a-z])/g;function V(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace($,V);E[n]=new D(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace($,V);E[n]=new D(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace($,V);E[n]=new D(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){E[e]=new D(e,1,!1,e.toLowerCase(),null,!1,!1)}),E.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){E[e]=new D(e,1,!1,e.toLowerCase(),null,!0,!0)});function B(e,n,i,c){var h=E.hasOwnProperty(n)?E[n]:null;(h!==null?h.type!==0:c||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(S(n,i,h,c)&&(i=null),c||h===null?y(n)&&(i===null?e.removeAttribute(n):e.setAttribute(n,""+i)):h.mustUseProperty?e[h.propertyName]=i===null?h.type===3?!1:"":i:(n=h.attributeName,c=h.attributeNamespace,i===null?e.removeAttribute(n):(h=h.type,i=h===3||h===4&&i===!0?"":""+i,c?e.setAttributeNS(c,n,i):e.setAttribute(n,i))))}var H=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),z=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),ae=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),Y=Symbol.iterator;function Z(e){return e===null||typeof e!="object"?null:(e=Y&&e[Y]||e["@@iterator"],typeof e=="function"?e:null)}var Q=Object.assign,A;function C(e){if(A===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);A=n&&n[1]||""}return`
`+A+e}var F=!1;function X(e,n){if(!e||F)return"";F=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(K){var c=K}Reflect.construct(e,[],n)}else{try{n.call()}catch(K){c=K}e.call(n.prototype)}else{try{throw Error()}catch(K){c=K}e()}}catch(K){if(K&&c&&typeof K.stack=="string"){for(var h=K.stack.split(`
`),v=c.stack.split(`
`),w=h.length-1,j=v.length-1;1<=w&&0<=j&&h[w]!==v[j];)j--;for(;1<=w&&0<=j;w--,j--)if(h[w]!==v[j]){if(w!==1||j!==1)do if(w--,j--,0>j||h[w]!==v[j]){var P=`
`+h[w].replace(" at new "," at ");return e.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",e.displayName)),P}while(1<=w&&0<=j);break}}}finally{F=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?C(e):""}function q(e){switch(e.tag){case 5:return C(e.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 2:case 15:return e=X(e.type,!1),e;case 11:return e=X(e.type.render,!1),e;case 1:return e=X(e.type,!0),e;default:return""}}function re(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case z:return"Portal";case J:return"Profiler";case L:return"StrictMode";case O:return"Suspense";case G:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ae:return(e.displayName||"Context")+".Consumer";case ne:return(e._context.displayName||"Context")+".Provider";case k:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case oe:return n=e.displayName||null,n!==null?n:re(e.type)||"Memo";case ee:n=e._payload,e=e._init;try{return re(e(n))}catch{}}return null}function we(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return re(n);case 8:return n===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function ue(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pe(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function me(e){var n=pe(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),c=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var h=i.get,v=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(w){c=""+w,v.call(this,w)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Te(e){e._valueTracker||(e._valueTracker=me(e))}function ve(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),c="";return e&&(c=pe(e)?e.checked?"true":"false":e.value),e=c,e!==i?(n.setValue(e),!0):!1}function Pe(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Me(e,n){var i=n.checked;return Q({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function ke(e,n){var i=n.defaultValue==null?"":n.defaultValue,c=n.checked!=null?n.checked:n.defaultChecked;i=ue(n.value!=null?n.value:i),e._wrapperState={initialChecked:c,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Ge(e,n){n=n.checked,n!=null&&B(e,"checked",n,!1)}function bt(e,n){Ge(e,n);var i=ue(n.value),c=n.type;if(i!=null)c==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(c==="submit"||c==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?nn(e,n.type,i):n.hasOwnProperty("defaultValue")&&nn(e,n.type,ue(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function tn(e,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var c=n.type;if(!(c!=="submit"&&c!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,i||n===e.value||(e.value=n),e.defaultValue=n}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function nn(e,n,i){(n!=="number"||Pe(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var lt=Array.isArray;function wt(e,n,i,c){if(e=e.options,n){n={};for(var h=0;h<i.length;h++)n["$"+i[h]]=!0;for(i=0;i<e.length;i++)h=n.hasOwnProperty("$"+e[i].value),e[i].selected!==h&&(e[i].selected=h),h&&c&&(e[i].defaultSelected=!0)}else{for(i=""+ue(i),n=null,h=0;h<e.length;h++){if(e[h].value===i){e[h].selected=!0,c&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function jn(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(o(91));return Q({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pr(e,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(o(92));if(lt(i)){if(1<i.length)throw Error(o(93));i=i[0]}n=i}n==null&&(n=""),i=n}e._wrapperState={initialValue:ue(i)}}function Rr(e,n){var i=ue(n.value),c=ue(n.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),n.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),c!=null&&(e.defaultValue=""+c)}function Zr(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Fn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gt(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Fn(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ut,An=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,c,h){MSApp.execUnsafeLocalFunction(function(){return e(n,i,c,h)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Ut=Ut||document.createElement("div"),Ut.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Ut.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Pn(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Nt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jr=["Webkit","ms","Moz","O"];Object.keys(Nt).forEach(function(e){Jr.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Nt[n]=Nt[e]})});function eo(e,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||Nt.hasOwnProperty(e)&&Nt[e]?(""+n).trim():n+"px"}function to(e,n){e=e.style;for(var i in n)if(n.hasOwnProperty(i)){var c=i.indexOf("--")===0,h=eo(i,n[i],c);i==="float"&&(i="cssFloat"),c?e.setProperty(i,h):e[i]=h}}var kr=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function er(e,n){if(n){if(kr[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(o(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(o(61))}if(n.style!=null&&typeof n.style!="object")throw Error(o(62))}}function $n(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zn=null;function Ir(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var tr=null,Rn=null,_=null;function te(e){if(e=rs(e)){if(typeof tr!="function")throw Error(o(280));var n=e.stateNode;n&&(n=mi(n),tr(e.stateNode,e.type,n))}}function he(e){Rn?_?_.push(e):_=[e]:Rn=e}function Re(){if(Rn){var e=Rn,n=_;if(_=Rn=null,te(e),n)for(e=0;e<n.length;e++)te(n[e])}}function Be(e,n){return e(n)}function $e(){}var Qe=!1;function Rt(e,n,i){if(Qe)return e(n,i);Qe=!0;try{return Be(e,n,i)}finally{Qe=!1,(Rn!==null||_!==null)&&($e(),Re())}}function He(e,n){var i=e.stateNode;if(i===null)return null;var c=mi(i);if(c===null)return null;i=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(o(231,n,typeof i));return i}var Ot=!1;if(f)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){Ot=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{Ot=!1}function Ct(e,n,i,c,h,v,w,j,P){var K=Array.prototype.slice.call(arguments,3);try{n.apply(i,K)}catch(ie){this.onError(ie)}}var _t=!1,kn=null,Wt=!1,Vn=null,Bo={onError:function(e){_t=!0,kn=e}};function o0(e,n,i,c,h,v,w,j,P){_t=!1,kn=null,Ct.apply(Bo,arguments)}function s0(e,n,i,c,h,v,w,j,P){if(o0.apply(this,arguments),_t){if(_t){var K=kn;_t=!1,kn=null}else throw Error(o(198));Wt||(Wt=!0,Vn=K)}}function Tr(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function Rd(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function kd(e){if(Tr(e)!==e)throw Error(o(188))}function i0(e){var n=e.alternate;if(!n){if(n=Tr(e),n===null)throw Error(o(188));return n!==e?null:e}for(var i=e,c=n;;){var h=i.return;if(h===null)break;var v=h.alternate;if(v===null){if(c=h.return,c!==null){i=c;continue}break}if(h.child===v.child){for(v=h.child;v;){if(v===i)return kd(h),e;if(v===c)return kd(h),n;v=v.sibling}throw Error(o(188))}if(i.return!==c.return)i=h,c=v;else{for(var w=!1,j=h.child;j;){if(j===i){w=!0,i=h,c=v;break}if(j===c){w=!0,c=h,i=v;break}j=j.sibling}if(!w){for(j=v.child;j;){if(j===i){w=!0,i=v,c=h;break}if(j===c){w=!0,c=v,i=h;break}j=j.sibling}if(!w)throw Error(o(189))}}if(i.alternate!==c)throw Error(o(190))}if(i.tag!==3)throw Error(o(188));return i.stateNode.current===i?e:n}function Id(e){return e=i0(e),e!==null?Td(e):null}function Td(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Td(e);if(n!==null)return n;e=e.sibling}return null}var Md=r.unstable_scheduleCallback,Od=r.unstable_cancelCallback,a0=r.unstable_shouldYield,l0=r.unstable_requestPaint,tt=r.unstable_now,c0=r.unstable_getCurrentPriorityLevel,Ga=r.unstable_ImmediatePriority,_d=r.unstable_UserBlockingPriority,Ys=r.unstable_NormalPriority,u0=r.unstable_LowPriority,Ld=r.unstable_IdlePriority,Qs=null,In=null;function d0(e){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(Qs,e,void 0,(e.current.flags&128)===128)}catch{}}var mn=Math.clz32?Math.clz32:h0,f0=Math.log,p0=Math.LN2;function h0(e){return e>>>=0,e===0?32:31-(f0(e)/p0|0)|0}var Xs=64,Zs=4194304;function Fo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Js(e,n){var i=e.pendingLanes;if(i===0)return 0;var c=0,h=e.suspendedLanes,v=e.pingedLanes,w=i&268435455;if(w!==0){var j=w&~h;j!==0?c=Fo(j):(v&=w,v!==0&&(c=Fo(v)))}else w=i&~h,w!==0?c=Fo(w):v!==0&&(c=Fo(v));if(c===0)return 0;if(n!==0&&n!==c&&(n&h)===0&&(h=c&-c,v=n&-n,h>=v||h===16&&(v&4194240)!==0))return n;if((c&4)!==0&&(c|=i&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=c;0<n;)i=31-mn(n),h=1<<i,c|=e[i],n&=~h;return c}function m0(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function g0(e,n){for(var i=e.suspendedLanes,c=e.pingedLanes,h=e.expirationTimes,v=e.pendingLanes;0<v;){var w=31-mn(v),j=1<<w,P=h[w];P===-1?((j&i)===0||(j&c)!==0)&&(h[w]=m0(j,n)):P<=n&&(e.expiredLanes|=j),v&=~j}}function Ua(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Bd(){var e=Xs;return Xs<<=1,(Xs&4194240)===0&&(Xs=64),e}function Wa(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function $o(e,n,i){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-mn(n),e[n]=i}function v0(e,n){var i=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var c=e.eventTimes;for(e=e.expirationTimes;0<i;){var h=31-mn(i),v=1<<h;n[h]=0,c[h]=-1,e[h]=-1,i&=~v}}function qa(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var c=31-mn(i),h=1<<c;h&n|e[c]&n&&(e[c]|=n),i&=~h}}var Ve=0;function Fd(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var $d,Ka,zd,Vd,Hd,Ya=!1,ei=[],nr=null,rr=null,or=null,zo=new Map,Vo=new Map,sr=[],x0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gd(e,n){switch(e){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":zo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vo.delete(n.pointerId)}}function Ho(e,n,i,c,h,v){return e===null||e.nativeEvent!==v?(e={blockedOn:n,domEventName:i,eventSystemFlags:c,nativeEvent:v,targetContainers:[h]},n!==null&&(n=rs(n),n!==null&&Ka(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function y0(e,n,i,c,h){switch(n){case"focusin":return nr=Ho(nr,e,n,i,c,h),!0;case"dragenter":return rr=Ho(rr,e,n,i,c,h),!0;case"mouseover":return or=Ho(or,e,n,i,c,h),!0;case"pointerover":var v=h.pointerId;return zo.set(v,Ho(zo.get(v)||null,e,n,i,c,h)),!0;case"gotpointercapture":return v=h.pointerId,Vo.set(v,Ho(Vo.get(v)||null,e,n,i,c,h)),!0}return!1}function Ud(e){var n=Mr(e.target);if(n!==null){var i=Tr(n);if(i!==null){if(n=i.tag,n===13){if(n=Rd(i),n!==null){e.blockedOn=n,Hd(e.priority,function(){zd(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ti(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=Xa(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var c=new i.constructor(i.type,i);zn=c,i.target.dispatchEvent(c),zn=null}else return n=rs(i),n!==null&&Ka(n),e.blockedOn=i,!1;n.shift()}return!0}function Wd(e,n,i){ti(e)&&i.delete(n)}function b0(){Ya=!1,nr!==null&&ti(nr)&&(nr=null),rr!==null&&ti(rr)&&(rr=null),or!==null&&ti(or)&&(or=null),zo.forEach(Wd),Vo.forEach(Wd)}function Go(e,n){e.blockedOn===n&&(e.blockedOn=null,Ya||(Ya=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,b0)))}function Uo(e){function n(h){return Go(h,e)}if(0<ei.length){Go(ei[0],e);for(var i=1;i<ei.length;i++){var c=ei[i];c.blockedOn===e&&(c.blockedOn=null)}}for(nr!==null&&Go(nr,e),rr!==null&&Go(rr,e),or!==null&&Go(or,e),zo.forEach(n),Vo.forEach(n),i=0;i<sr.length;i++)c=sr[i],c.blockedOn===e&&(c.blockedOn=null);for(;0<sr.length&&(i=sr[0],i.blockedOn===null);)Ud(i),i.blockedOn===null&&sr.shift()}var no=H.ReactCurrentBatchConfig,ni=!0;function w0(e,n,i,c){var h=Ve,v=no.transition;no.transition=null;try{Ve=1,Qa(e,n,i,c)}finally{Ve=h,no.transition=v}}function N0(e,n,i,c){var h=Ve,v=no.transition;no.transition=null;try{Ve=4,Qa(e,n,i,c)}finally{Ve=h,no.transition=v}}function Qa(e,n,i,c){if(ni){var h=Xa(e,n,i,c);if(h===null)hl(e,n,c,ri,i),Gd(e,c);else if(y0(h,e,n,i,c))c.stopPropagation();else if(Gd(e,c),n&4&&-1<x0.indexOf(e)){for(;h!==null;){var v=rs(h);if(v!==null&&$d(v),v=Xa(e,n,i,c),v===null&&hl(e,n,c,ri,i),v===h)break;h=v}h!==null&&c.stopPropagation()}else hl(e,n,c,null,i)}}var ri=null;function Xa(e,n,i,c){if(ri=null,e=Ir(c),e=Mr(e),e!==null)if(n=Tr(e),n===null)e=null;else if(i=n.tag,i===13){if(e=Rd(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return ri=e,null}function qd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(c0()){case Ga:return 1;case _d:return 4;case Ys:case u0:return 16;case Ld:return 536870912;default:return 16}default:return 16}}var ir=null,Za=null,oi=null;function Kd(){if(oi)return oi;var e,n=Za,i=n.length,c,h="value"in ir?ir.value:ir.textContent,v=h.length;for(e=0;e<i&&n[e]===h[e];e++);var w=i-e;for(c=1;c<=w&&n[i-c]===h[v-c];c++);return oi=h.slice(e,1<c?1-c:void 0)}function si(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ii(){return!0}function Yd(){return!1}function qt(e){function n(i,c,h,v,w){this._reactName=i,this._targetInst=h,this.type=c,this.nativeEvent=v,this.target=w,this.currentTarget=null;for(var j in e)e.hasOwnProperty(j)&&(i=e[j],this[j]=i?i(v):v[j]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ii:Yd,this.isPropagationStopped=Yd,this}return Q(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),n}var ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ja=qt(ro),Wo=Q({},ro,{view:0,detail:0}),C0=qt(Wo),el,tl,qo,ai=Q({},Wo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qo&&(qo&&e.type==="mousemove"?(el=e.screenX-qo.screenX,tl=e.screenY-qo.screenY):tl=el=0,qo=e),el)},movementY:function(e){return"movementY"in e?e.movementY:tl}}),Qd=qt(ai),S0=Q({},ai,{dataTransfer:0}),E0=qt(S0),D0=Q({},Wo,{relatedTarget:0}),nl=qt(D0),j0=Q({},ro,{animationName:0,elapsedTime:0,pseudoElement:0}),A0=qt(j0),P0=Q({},ro,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),R0=qt(P0),k0=Q({},ro,{data:0}),Xd=qt(k0),I0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},T0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},M0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O0(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=M0[e])?!!n[e]:!1}function rl(){return O0}var _0=Q({},Wo,{key:function(e){if(e.key){var n=I0[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=si(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?T0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rl,charCode:function(e){return e.type==="keypress"?si(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?si(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),L0=qt(_0),B0=Q({},ai,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zd=qt(B0),F0=Q({},Wo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rl}),$0=qt(F0),z0=Q({},ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),V0=qt(z0),H0=Q({},ai,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),G0=qt(H0),U0=[9,13,27,32],ol=f&&"CompositionEvent"in window,Ko=null;f&&"documentMode"in document&&(Ko=document.documentMode);var W0=f&&"TextEvent"in window&&!Ko,Jd=f&&(!ol||Ko&&8<Ko&&11>=Ko),ef=" ",tf=!1;function nf(e,n){switch(e){case"keyup":return U0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oo=!1;function q0(e,n){switch(e){case"compositionend":return rf(n);case"keypress":return n.which!==32?null:(tf=!0,ef);case"textInput":return e=n.data,e===ef&&tf?null:e;default:return null}}function K0(e,n){if(oo)return e==="compositionend"||!ol&&nf(e,n)?(e=Kd(),oi=Za=ir=null,oo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Jd&&n.locale!=="ko"?null:n.data;default:return null}}var Y0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function of(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Y0[e.type]:n==="textarea"}function sf(e,n,i,c){he(c),n=fi(n,"onChange"),0<n.length&&(i=new Ja("onChange","change",null,i,c),e.push({event:i,listeners:n}))}var Yo=null,Qo=null;function Q0(e){Sf(e,0)}function li(e){var n=co(e);if(ve(n))return e}function X0(e,n){if(e==="change")return n}var af=!1;if(f){var sl;if(f){var il="oninput"in document;if(!il){var lf=document.createElement("div");lf.setAttribute("oninput","return;"),il=typeof lf.oninput=="function"}sl=il}else sl=!1;af=sl&&(!document.documentMode||9<document.documentMode)}function cf(){Yo&&(Yo.detachEvent("onpropertychange",uf),Qo=Yo=null)}function uf(e){if(e.propertyName==="value"&&li(Qo)){var n=[];sf(n,Qo,e,Ir(e)),Rt(Q0,n)}}function Z0(e,n,i){e==="focusin"?(cf(),Yo=n,Qo=i,Yo.attachEvent("onpropertychange",uf)):e==="focusout"&&cf()}function J0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return li(Qo)}function ex(e,n){if(e==="click")return li(n)}function tx(e,n){if(e==="input"||e==="change")return li(n)}function nx(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var gn=typeof Object.is=="function"?Object.is:nx;function Xo(e,n){if(gn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),c=Object.keys(n);if(i.length!==c.length)return!1;for(c=0;c<i.length;c++){var h=i[c];if(!p.call(n,h)||!gn(e[h],n[h]))return!1}return!0}function df(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ff(e,n){var i=df(e);e=0;for(var c;i;){if(i.nodeType===3){if(c=e+i.textContent.length,e<=n&&c>=n)return{node:i,offset:n-e};e=c}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=df(i)}}function pf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?pf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function hf(){for(var e=window,n=Pe();n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=Pe(e.document)}return n}function al(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function rx(e){var n=hf(),i=e.focusedElem,c=e.selectionRange;if(n!==i&&i&&i.ownerDocument&&pf(i.ownerDocument.documentElement,i)){if(c!==null&&al(i)){if(n=c.start,e=c.end,e===void 0&&(e=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(e,i.value.length);else if(e=(n=i.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var h=i.textContent.length,v=Math.min(c.start,h);c=c.end===void 0?v:Math.min(c.end,h),!e.extend&&v>c&&(h=c,c=v,v=h),h=ff(i,v);var w=ff(i,c);h&&w&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==w.node||e.focusOffset!==w.offset)&&(n=n.createRange(),n.setStart(h.node,h.offset),e.removeAllRanges(),v>c?(e.addRange(n),e.extend(w.node,w.offset)):(n.setEnd(w.node,w.offset),e.addRange(n)))}}for(n=[],e=i;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)e=n[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ox=f&&"documentMode"in document&&11>=document.documentMode,so=null,ll=null,Zo=null,cl=!1;function mf(e,n,i){var c=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;cl||so==null||so!==Pe(c)||(c=so,"selectionStart"in c&&al(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Zo&&Xo(Zo,c)||(Zo=c,c=fi(ll,"onSelect"),0<c.length&&(n=new Ja("onSelect","select",null,n,i),e.push({event:n,listeners:c}),n.target=so)))}function ci(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var io={animationend:ci("Animation","AnimationEnd"),animationiteration:ci("Animation","AnimationIteration"),animationstart:ci("Animation","AnimationStart"),transitionend:ci("Transition","TransitionEnd")},ul={},gf={};f&&(gf=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function ui(e){if(ul[e])return ul[e];if(!io[e])return e;var n=io[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in gf)return ul[e]=n[i];return e}var vf=ui("animationend"),xf=ui("animationiteration"),yf=ui("animationstart"),bf=ui("transitionend"),wf=new Map,Nf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ar(e,n){wf.set(e,n),l(n,[e])}for(var dl=0;dl<Nf.length;dl++){var fl=Nf[dl],sx=fl.toLowerCase(),ix=fl[0].toUpperCase()+fl.slice(1);ar(sx,"on"+ix)}ar(vf,"onAnimationEnd"),ar(xf,"onAnimationIteration"),ar(yf,"onAnimationStart"),ar("dblclick","onDoubleClick"),ar("focusin","onFocus"),ar("focusout","onBlur"),ar(bf,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ax=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jo));function Cf(e,n,i){var c=e.type||"unknown-event";e.currentTarget=i,s0(c,n,void 0,e),e.currentTarget=null}function Sf(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var c=e[i],h=c.event;c=c.listeners;e:{var v=void 0;if(n)for(var w=c.length-1;0<=w;w--){var j=c[w],P=j.instance,K=j.currentTarget;if(j=j.listener,P!==v&&h.isPropagationStopped())break e;Cf(h,j,K),v=P}else for(w=0;w<c.length;w++){if(j=c[w],P=j.instance,K=j.currentTarget,j=j.listener,P!==v&&h.isPropagationStopped())break e;Cf(h,j,K),v=P}}}if(Wt)throw e=Vn,Wt=!1,Vn=null,e}function We(e,n){var i=n[bl];i===void 0&&(i=n[bl]=new Set);var c=e+"__bubble";i.has(c)||(Ef(n,e,2,!1),i.add(c))}function pl(e,n,i){var c=0;n&&(c|=4),Ef(i,e,c,n)}var di="_reactListening"+Math.random().toString(36).slice(2);function es(e){if(!e[di]){e[di]=!0,s.forEach(function(i){i!=="selectionchange"&&(ax.has(i)||pl(i,!1,e),pl(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[di]||(n[di]=!0,pl("selectionchange",!1,n))}}function Ef(e,n,i,c){switch(qd(n)){case 1:var h=w0;break;case 4:h=N0;break;default:h=Qa}i=h.bind(null,n,i,e),h=void 0,!Ot||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),c?h!==void 0?e.addEventListener(n,i,{capture:!0,passive:h}):e.addEventListener(n,i,!0):h!==void 0?e.addEventListener(n,i,{passive:h}):e.addEventListener(n,i,!1)}function hl(e,n,i,c,h){var v=c;if((n&1)===0&&(n&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var j=c.stateNode.containerInfo;if(j===h||j.nodeType===8&&j.parentNode===h)break;if(w===4)for(w=c.return;w!==null;){var P=w.tag;if((P===3||P===4)&&(P=w.stateNode.containerInfo,P===h||P.nodeType===8&&P.parentNode===h))return;w=w.return}for(;j!==null;){if(w=Mr(j),w===null)return;if(P=w.tag,P===5||P===6){c=v=w;continue e}j=j.parentNode}}c=c.return}Rt(function(){var K=v,ie=Ir(i),ce=[];e:{var se=wf.get(e);if(se!==void 0){var ge=Ja,ye=e;switch(e){case"keypress":if(si(i)===0)break e;case"keydown":case"keyup":ge=L0;break;case"focusin":ye="focus",ge=nl;break;case"focusout":ye="blur",ge=nl;break;case"beforeblur":case"afterblur":ge=nl;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Qd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=E0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=$0;break;case vf:case xf:case yf:ge=A0;break;case bf:ge=V0;break;case"scroll":ge=C0;break;case"wheel":ge=G0;break;case"copy":case"cut":case"paste":ge=R0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=Zd}var be=(n&4)!==0,nt=!be&&e==="scroll",U=be?se!==null?se+"Capture":null:se;be=[];for(var I=K,W;I!==null;){W=I;var de=W.stateNode;if(W.tag===5&&de!==null&&(W=de,U!==null&&(de=He(I,U),de!=null&&be.push(ts(I,de,W)))),nt)break;I=I.return}0<be.length&&(se=new ge(se,ye,null,i,ie),ce.push({event:se,listeners:be}))}}if((n&7)===0){e:{if(se=e==="mouseover"||e==="pointerover",ge=e==="mouseout"||e==="pointerout",se&&i!==zn&&(ye=i.relatedTarget||i.fromElement)&&(Mr(ye)||ye[Hn]))break e;if((ge||se)&&(se=ie.window===ie?ie:(se=ie.ownerDocument)?se.defaultView||se.parentWindow:window,ge?(ye=i.relatedTarget||i.toElement,ge=K,ye=ye?Mr(ye):null,ye!==null&&(nt=Tr(ye),ye!==nt||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(ge=null,ye=K),ge!==ye)){if(be=Qd,de="onMouseLeave",U="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(be=Zd,de="onPointerLeave",U="onPointerEnter",I="pointer"),nt=ge==null?se:co(ge),W=ye==null?se:co(ye),se=new be(de,I+"leave",ge,i,ie),se.target=nt,se.relatedTarget=W,de=null,Mr(ie)===K&&(be=new be(U,I+"enter",ye,i,ie),be.target=W,be.relatedTarget=nt,de=be),nt=de,ge&&ye)t:{for(be=ge,U=ye,I=0,W=be;W;W=ao(W))I++;for(W=0,de=U;de;de=ao(de))W++;for(;0<I-W;)be=ao(be),I--;for(;0<W-I;)U=ao(U),W--;for(;I--;){if(be===U||U!==null&&be===U.alternate)break t;be=ao(be),U=ao(U)}be=null}else be=null;ge!==null&&Df(ce,se,ge,be,!1),ye!==null&&nt!==null&&Df(ce,nt,ye,be,!0)}}e:{if(se=K?co(K):window,ge=se.nodeName&&se.nodeName.toLowerCase(),ge==="select"||ge==="input"&&se.type==="file")var Ce=X0;else if(of(se))if(af)Ce=tx;else{Ce=J0;var De=Z0}else(ge=se.nodeName)&&ge.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(Ce=ex);if(Ce&&(Ce=Ce(e,K))){sf(ce,Ce,i,ie);break e}De&&De(e,se,K),e==="focusout"&&(De=se._wrapperState)&&De.controlled&&se.type==="number"&&nn(se,"number",se.value)}switch(De=K?co(K):window,e){case"focusin":(of(De)||De.contentEditable==="true")&&(so=De,ll=K,Zo=null);break;case"focusout":Zo=ll=so=null;break;case"mousedown":cl=!0;break;case"contextmenu":case"mouseup":case"dragend":cl=!1,mf(ce,i,ie);break;case"selectionchange":if(ox)break;case"keydown":case"keyup":mf(ce,i,ie)}var je;if(ol)e:{switch(e){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else oo?nf(e,i)&&(Ae="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Ae="onCompositionStart");Ae&&(Jd&&i.locale!=="ko"&&(oo||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&oo&&(je=Kd()):(ir=ie,Za="value"in ir?ir.value:ir.textContent,oo=!0)),De=fi(K,Ae),0<De.length&&(Ae=new Xd(Ae,e,null,i,ie),ce.push({event:Ae,listeners:De}),je?Ae.data=je:(je=rf(i),je!==null&&(Ae.data=je)))),(je=W0?q0(e,i):K0(e,i))&&(K=fi(K,"onBeforeInput"),0<K.length&&(ie=new Xd("onBeforeInput","beforeinput",null,i,ie),ce.push({event:ie,listeners:K}),ie.data=je))}Sf(ce,n)})}function ts(e,n,i){return{instance:e,listener:n,currentTarget:i}}function fi(e,n){for(var i=n+"Capture",c=[];e!==null;){var h=e,v=h.stateNode;h.tag===5&&v!==null&&(h=v,v=He(e,i),v!=null&&c.unshift(ts(e,v,h)),v=He(e,n),v!=null&&c.push(ts(e,v,h))),e=e.return}return c}function ao(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Df(e,n,i,c,h){for(var v=n._reactName,w=[];i!==null&&i!==c;){var j=i,P=j.alternate,K=j.stateNode;if(P!==null&&P===c)break;j.tag===5&&K!==null&&(j=K,h?(P=He(i,v),P!=null&&w.unshift(ts(i,P,j))):h||(P=He(i,v),P!=null&&w.push(ts(i,P,j)))),i=i.return}w.length!==0&&e.push({event:n,listeners:w})}var lx=/\r\n?/g,cx=/\u0000|\uFFFD/g;function jf(e){return(typeof e=="string"?e:""+e).replace(lx,`
`).replace(cx,"")}function pi(e,n,i){if(n=jf(n),jf(e)!==n&&i)throw Error(o(425))}function hi(){}var ml=null,gl=null;function vl(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var xl=typeof setTimeout=="function"?setTimeout:void 0,ux=typeof clearTimeout=="function"?clearTimeout:void 0,Af=typeof Promise=="function"?Promise:void 0,dx=typeof queueMicrotask=="function"?queueMicrotask:typeof Af<"u"?function(e){return Af.resolve(null).then(e).catch(fx)}:xl;function fx(e){setTimeout(function(){throw e})}function yl(e,n){var i=n,c=0;do{var h=i.nextSibling;if(e.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(c===0){e.removeChild(h),Uo(n);return}c--}else i!=="$"&&i!=="$?"&&i!=="$!"||c++;i=h}while(i);Uo(n)}function lr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Pf(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}var lo=Math.random().toString(36).slice(2),Tn="__reactFiber$"+lo,ns="__reactProps$"+lo,Hn="__reactContainer$"+lo,bl="__reactEvents$"+lo,px="__reactListeners$"+lo,hx="__reactHandles$"+lo;function Mr(e){var n=e[Tn];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Hn]||i[Tn]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=Pf(e);e!==null;){if(i=e[Tn])return i;e=Pf(e)}return n}e=i,i=e.parentNode}return null}function rs(e){return e=e[Tn]||e[Hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function co(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function mi(e){return e[ns]||null}var wl=[],uo=-1;function cr(e){return{current:e}}function qe(e){0>uo||(e.current=wl[uo],wl[uo]=null,uo--)}function Ue(e,n){uo++,wl[uo]=e.current,e.current=n}var ur={},St=cr(ur),Lt=cr(!1),Or=ur;function fo(e,n){var i=e.type.contextTypes;if(!i)return ur;var c=e.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===n)return c.__reactInternalMemoizedMaskedChildContext;var h={},v;for(v in i)h[v]=n[v];return c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=h),h}function Bt(e){return e=e.childContextTypes,e!=null}function gi(){qe(Lt),qe(St)}function Rf(e,n,i){if(St.current!==ur)throw Error(o(168));Ue(St,n),Ue(Lt,i)}function kf(e,n,i){var c=e.stateNode;if(n=n.childContextTypes,typeof c.getChildContext!="function")return i;c=c.getChildContext();for(var h in c)if(!(h in n))throw Error(o(108,we(e)||"Unknown",h));return Q({},i,c)}function vi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ur,Or=St.current,Ue(St,e),Ue(Lt,Lt.current),!0}function If(e,n,i){var c=e.stateNode;if(!c)throw Error(o(169));i?(e=kf(e,n,Or),c.__reactInternalMemoizedMergedChildContext=e,qe(Lt),qe(St),Ue(St,e)):qe(Lt),Ue(Lt,i)}var Gn=null,xi=!1,Nl=!1;function Tf(e){Gn===null?Gn=[e]:Gn.push(e)}function mx(e){xi=!0,Tf(e)}function dr(){if(!Nl&&Gn!==null){Nl=!0;var e=0,n=Ve;try{var i=Gn;for(Ve=1;e<i.length;e++){var c=i[e];do c=c(!0);while(c!==null)}Gn=null,xi=!1}catch(h){throw Gn!==null&&(Gn=Gn.slice(e+1)),Md(Ga,dr),h}finally{Ve=n,Nl=!1}}return null}var po=[],ho=0,yi=null,bi=0,rn=[],on=0,_r=null,Un=1,Wn="";function Lr(e,n){po[ho++]=bi,po[ho++]=yi,yi=e,bi=n}function Mf(e,n,i){rn[on++]=Un,rn[on++]=Wn,rn[on++]=_r,_r=e;var c=Un;e=Wn;var h=32-mn(c)-1;c&=~(1<<h),i+=1;var v=32-mn(n)+h;if(30<v){var w=h-h%5;v=(c&(1<<w)-1).toString(32),c>>=w,h-=w,Un=1<<32-mn(n)+h|i<<h|c,Wn=v+e}else Un=1<<v|i<<h|c,Wn=e}function Cl(e){e.return!==null&&(Lr(e,1),Mf(e,1,0))}function Sl(e){for(;e===yi;)yi=po[--ho],po[ho]=null,bi=po[--ho],po[ho]=null;for(;e===_r;)_r=rn[--on],rn[on]=null,Wn=rn[--on],rn[on]=null,Un=rn[--on],rn[on]=null}var Kt=null,Yt=null,Ke=!1,vn=null;function Of(e,n){var i=cn(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=e,n=e.deletions,n===null?(e.deletions=[i],e.flags|=16):n.push(i)}function _f(e,n){switch(e.tag){case 5:var i=e.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Kt=e,Yt=lr(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Kt=e,Yt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=_r!==null?{id:Un,overflow:Wn}:null,e.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=cn(18,null,null,0),i.stateNode=n,i.return=e,e.child=i,Kt=e,Yt=null,!0):!1;default:return!1}}function El(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Dl(e){if(Ke){var n=Yt;if(n){var i=n;if(!_f(e,n)){if(El(e))throw Error(o(418));n=lr(i.nextSibling);var c=Kt;n&&_f(e,n)?Of(c,i):(e.flags=e.flags&-4097|2,Ke=!1,Kt=e)}}else{if(El(e))throw Error(o(418));e.flags=e.flags&-4097|2,Ke=!1,Kt=e}}}function Lf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Kt=e}function wi(e){if(e!==Kt)return!1;if(!Ke)return Lf(e),Ke=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!vl(e.type,e.memoizedProps)),n&&(n=Yt)){if(El(e))throw Bf(),Error(o(418));for(;n;)Of(e,n),n=lr(n.nextSibling)}if(Lf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(n===0){Yt=lr(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}e=e.nextSibling}Yt=null}}else Yt=Kt?lr(e.stateNode.nextSibling):null;return!0}function Bf(){for(var e=Yt;e;)e=lr(e.nextSibling)}function mo(){Yt=Kt=null,Ke=!1}function jl(e){vn===null?vn=[e]:vn.push(e)}var gx=H.ReactCurrentBatchConfig;function os(e,n,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(o(309));var c=i.stateNode}if(!c)throw Error(o(147,e));var h=c,v=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===v?n.ref:(n=function(w){var j=h.refs;w===null?delete j[v]:j[v]=w},n._stringRef=v,n)}if(typeof e!="string")throw Error(o(284));if(!i._owner)throw Error(o(290,e))}return e}function Ni(e,n){throw e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Ff(e){var n=e._init;return n(e._payload)}function $f(e){function n(U,I){if(e){var W=U.deletions;W===null?(U.deletions=[I],U.flags|=16):W.push(I)}}function i(U,I){if(!e)return null;for(;I!==null;)n(U,I),I=I.sibling;return null}function c(U,I){for(U=new Map;I!==null;)I.key!==null?U.set(I.key,I):U.set(I.index,I),I=I.sibling;return U}function h(U,I){return U=yr(U,I),U.index=0,U.sibling=null,U}function v(U,I,W){return U.index=W,e?(W=U.alternate,W!==null?(W=W.index,W<I?(U.flags|=2,I):W):(U.flags|=2,I)):(U.flags|=1048576,I)}function w(U){return e&&U.alternate===null&&(U.flags|=2),U}function j(U,I,W,de){return I===null||I.tag!==6?(I=xc(W,U.mode,de),I.return=U,I):(I=h(I,W),I.return=U,I)}function P(U,I,W,de){var Ce=W.type;return Ce===R?ie(U,I,W.props.children,de,W.key):I!==null&&(I.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===ee&&Ff(Ce)===I.type)?(de=h(I,W.props),de.ref=os(U,I,W),de.return=U,de):(de=Wi(W.type,W.key,W.props,null,U.mode,de),de.ref=os(U,I,W),de.return=U,de)}function K(U,I,W,de){return I===null||I.tag!==4||I.stateNode.containerInfo!==W.containerInfo||I.stateNode.implementation!==W.implementation?(I=yc(W,U.mode,de),I.return=U,I):(I=h(I,W.children||[]),I.return=U,I)}function ie(U,I,W,de,Ce){return I===null||I.tag!==7?(I=Ur(W,U.mode,de,Ce),I.return=U,I):(I=h(I,W),I.return=U,I)}function ce(U,I,W){if(typeof I=="string"&&I!==""||typeof I=="number")return I=xc(""+I,U.mode,W),I.return=U,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case M:return W=Wi(I.type,I.key,I.props,null,U.mode,W),W.ref=os(U,null,I),W.return=U,W;case z:return I=yc(I,U.mode,W),I.return=U,I;case ee:var de=I._init;return ce(U,de(I._payload),W)}if(lt(I)||Z(I))return I=Ur(I,U.mode,W,null),I.return=U,I;Ni(U,I)}return null}function se(U,I,W,de){var Ce=I!==null?I.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return Ce!==null?null:j(U,I,""+W,de);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case M:return W.key===Ce?P(U,I,W,de):null;case z:return W.key===Ce?K(U,I,W,de):null;case ee:return Ce=W._init,se(U,I,Ce(W._payload),de)}if(lt(W)||Z(W))return Ce!==null?null:ie(U,I,W,de,null);Ni(U,W)}return null}function ge(U,I,W,de,Ce){if(typeof de=="string"&&de!==""||typeof de=="number")return U=U.get(W)||null,j(I,U,""+de,Ce);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case M:return U=U.get(de.key===null?W:de.key)||null,P(I,U,de,Ce);case z:return U=U.get(de.key===null?W:de.key)||null,K(I,U,de,Ce);case ee:var De=de._init;return ge(U,I,W,De(de._payload),Ce)}if(lt(de)||Z(de))return U=U.get(W)||null,ie(I,U,de,Ce,null);Ni(I,de)}return null}function ye(U,I,W,de){for(var Ce=null,De=null,je=I,Ae=I=0,dt=null;je!==null&&Ae<W.length;Ae++){je.index>Ae?(dt=je,je=null):dt=je.sibling;var Fe=se(U,je,W[Ae],de);if(Fe===null){je===null&&(je=dt);break}e&&je&&Fe.alternate===null&&n(U,je),I=v(Fe,I,Ae),De===null?Ce=Fe:De.sibling=Fe,De=Fe,je=dt}if(Ae===W.length)return i(U,je),Ke&&Lr(U,Ae),Ce;if(je===null){for(;Ae<W.length;Ae++)je=ce(U,W[Ae],de),je!==null&&(I=v(je,I,Ae),De===null?Ce=je:De.sibling=je,De=je);return Ke&&Lr(U,Ae),Ce}for(je=c(U,je);Ae<W.length;Ae++)dt=ge(je,U,Ae,W[Ae],de),dt!==null&&(e&&dt.alternate!==null&&je.delete(dt.key===null?Ae:dt.key),I=v(dt,I,Ae),De===null?Ce=dt:De.sibling=dt,De=dt);return e&&je.forEach(function(br){return n(U,br)}),Ke&&Lr(U,Ae),Ce}function be(U,I,W,de){var Ce=Z(W);if(typeof Ce!="function")throw Error(o(150));if(W=Ce.call(W),W==null)throw Error(o(151));for(var De=Ce=null,je=I,Ae=I=0,dt=null,Fe=W.next();je!==null&&!Fe.done;Ae++,Fe=W.next()){je.index>Ae?(dt=je,je=null):dt=je.sibling;var br=se(U,je,Fe.value,de);if(br===null){je===null&&(je=dt);break}e&&je&&br.alternate===null&&n(U,je),I=v(br,I,Ae),De===null?Ce=br:De.sibling=br,De=br,je=dt}if(Fe.done)return i(U,je),Ke&&Lr(U,Ae),Ce;if(je===null){for(;!Fe.done;Ae++,Fe=W.next())Fe=ce(U,Fe.value,de),Fe!==null&&(I=v(Fe,I,Ae),De===null?Ce=Fe:De.sibling=Fe,De=Fe);return Ke&&Lr(U,Ae),Ce}for(je=c(U,je);!Fe.done;Ae++,Fe=W.next())Fe=ge(je,U,Ae,Fe.value,de),Fe!==null&&(e&&Fe.alternate!==null&&je.delete(Fe.key===null?Ae:Fe.key),I=v(Fe,I,Ae),De===null?Ce=Fe:De.sibling=Fe,De=Fe);return e&&je.forEach(function(Yx){return n(U,Yx)}),Ke&&Lr(U,Ae),Ce}function nt(U,I,W,de){if(typeof W=="object"&&W!==null&&W.type===R&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case M:e:{for(var Ce=W.key,De=I;De!==null;){if(De.key===Ce){if(Ce=W.type,Ce===R){if(De.tag===7){i(U,De.sibling),I=h(De,W.props.children),I.return=U,U=I;break e}}else if(De.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===ee&&Ff(Ce)===De.type){i(U,De.sibling),I=h(De,W.props),I.ref=os(U,De,W),I.return=U,U=I;break e}i(U,De);break}else n(U,De);De=De.sibling}W.type===R?(I=Ur(W.props.children,U.mode,de,W.key),I.return=U,U=I):(de=Wi(W.type,W.key,W.props,null,U.mode,de),de.ref=os(U,I,W),de.return=U,U=de)}return w(U);case z:e:{for(De=W.key;I!==null;){if(I.key===De)if(I.tag===4&&I.stateNode.containerInfo===W.containerInfo&&I.stateNode.implementation===W.implementation){i(U,I.sibling),I=h(I,W.children||[]),I.return=U,U=I;break e}else{i(U,I);break}else n(U,I);I=I.sibling}I=yc(W,U.mode,de),I.return=U,U=I}return w(U);case ee:return De=W._init,nt(U,I,De(W._payload),de)}if(lt(W))return ye(U,I,W,de);if(Z(W))return be(U,I,W,de);Ni(U,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,I!==null&&I.tag===6?(i(U,I.sibling),I=h(I,W),I.return=U,U=I):(i(U,I),I=xc(W,U.mode,de),I.return=U,U=I),w(U)):i(U,I)}return nt}var go=$f(!0),zf=$f(!1),Ci=cr(null),Si=null,vo=null,Al=null;function Pl(){Al=vo=Si=null}function Rl(e){var n=Ci.current;qe(Ci),e._currentValue=n}function kl(e,n,i){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===i)break;e=e.return}}function xo(e,n){Si=e,Al=vo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(Ft=!0),e.firstContext=null)}function sn(e){var n=e._currentValue;if(Al!==e)if(e={context:e,memoizedValue:n,next:null},vo===null){if(Si===null)throw Error(o(308));vo=e,Si.dependencies={lanes:0,firstContext:e}}else vo=vo.next=e;return n}var Br=null;function Il(e){Br===null?Br=[e]:Br.push(e)}function Vf(e,n,i,c){var h=n.interleaved;return h===null?(i.next=i,Il(n)):(i.next=h.next,h.next=i),n.interleaved=i,qn(e,c)}function qn(e,n){e.lanes|=n;var i=e.alternate;for(i!==null&&(i.lanes|=n),i=e,e=e.return;e!==null;)e.childLanes|=n,i=e.alternate,i!==null&&(i.childLanes|=n),i=e,e=e.return;return i.tag===3?i.stateNode:null}var fr=!1;function Tl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function pr(e,n,i){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Le&2)!==0){var h=c.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),c.pending=n,qn(e,i)}return h=c.interleaved,h===null?(n.next=n,Il(c)):(n.next=h.next,h.next=n),c.interleaved=n,qn(e,i)}function Ei(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var c=n.lanes;c&=e.pendingLanes,i|=c,n.lanes=i,qa(e,i)}}function Gf(e,n){var i=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,i===c)){var h=null,v=null;if(i=i.firstBaseUpdate,i!==null){do{var w={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};v===null?h=v=w:v=v.next=w,i=i.next}while(i!==null);v===null?h=v=n:v=v.next=n}else h=v=n;i={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:v,shared:c.shared,effects:c.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}function Di(e,n,i,c){var h=e.updateQueue;fr=!1;var v=h.firstBaseUpdate,w=h.lastBaseUpdate,j=h.shared.pending;if(j!==null){h.shared.pending=null;var P=j,K=P.next;P.next=null,w===null?v=K:w.next=K,w=P;var ie=e.alternate;ie!==null&&(ie=ie.updateQueue,j=ie.lastBaseUpdate,j!==w&&(j===null?ie.firstBaseUpdate=K:j.next=K,ie.lastBaseUpdate=P))}if(v!==null){var ce=h.baseState;w=0,ie=K=P=null,j=v;do{var se=j.lane,ge=j.eventTime;if((c&se)===se){ie!==null&&(ie=ie.next={eventTime:ge,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var ye=e,be=j;switch(se=n,ge=i,be.tag){case 1:if(ye=be.payload,typeof ye=="function"){ce=ye.call(ge,ce,se);break e}ce=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=be.payload,se=typeof ye=="function"?ye.call(ge,ce,se):ye,se==null)break e;ce=Q({},ce,se);break e;case 2:fr=!0}}j.callback!==null&&j.lane!==0&&(e.flags|=64,se=h.effects,se===null?h.effects=[j]:se.push(j))}else ge={eventTime:ge,lane:se,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ie===null?(K=ie=ge,P=ce):ie=ie.next=ge,w|=se;if(j=j.next,j===null){if(j=h.shared.pending,j===null)break;se=j,j=se.next,se.next=null,h.lastBaseUpdate=se,h.shared.pending=null}}while(!0);if(ie===null&&(P=ce),h.baseState=P,h.firstBaseUpdate=K,h.lastBaseUpdate=ie,n=h.shared.interleaved,n!==null){h=n;do w|=h.lane,h=h.next;while(h!==n)}else v===null&&(h.shared.lanes=0);zr|=w,e.lanes=w,e.memoizedState=ce}}function Uf(e,n,i){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var c=e[n],h=c.callback;if(h!==null){if(c.callback=null,c=i,typeof h!="function")throw Error(o(191,h));h.call(c)}}}var ss={},Mn=cr(ss),is=cr(ss),as=cr(ss);function Fr(e){if(e===ss)throw Error(o(174));return e}function Ml(e,n){switch(Ue(as,n),Ue(is,e),Ue(Mn,ss),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Gt(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Gt(n,e)}qe(Mn),Ue(Mn,n)}function yo(){qe(Mn),qe(is),qe(as)}function Wf(e){Fr(as.current);var n=Fr(Mn.current),i=Gt(n,e.type);n!==i&&(Ue(is,e),Ue(Mn,i))}function Ol(e){is.current===e&&(qe(Mn),qe(is))}var Ze=cr(0);function ji(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var _l=[];function Ll(){for(var e=0;e<_l.length;e++)_l[e]._workInProgressVersionPrimary=null;_l.length=0}var Ai=H.ReactCurrentDispatcher,Bl=H.ReactCurrentBatchConfig,$r=0,Je=null,ot=null,ct=null,Pi=!1,ls=!1,cs=0,vx=0;function Et(){throw Error(o(321))}function Fl(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!gn(e[i],n[i]))return!1;return!0}function $l(e,n,i,c,h,v){if($r=v,Je=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Ai.current=e===null||e.memoizedState===null?wx:Nx,e=i(c,h),ls){v=0;do{if(ls=!1,cs=0,25<=v)throw Error(o(301));v+=1,ct=ot=null,n.updateQueue=null,Ai.current=Cx,e=i(c,h)}while(ls)}if(Ai.current=Ii,n=ot!==null&&ot.next!==null,$r=0,ct=ot=Je=null,Pi=!1,n)throw Error(o(300));return e}function zl(){var e=cs!==0;return cs=0,e}function On(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Je.memoizedState=ct=e:ct=ct.next=e,ct}function an(){if(ot===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=ot.next;var n=ct===null?Je.memoizedState:ct.next;if(n!==null)ct=n,ot=e;else{if(e===null)throw Error(o(310));ot=e,e={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},ct===null?Je.memoizedState=ct=e:ct=ct.next=e}return ct}function us(e,n){return typeof n=="function"?n(e):n}function Vl(e){var n=an(),i=n.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var c=ot,h=c.baseQueue,v=i.pending;if(v!==null){if(h!==null){var w=h.next;h.next=v.next,v.next=w}c.baseQueue=h=v,i.pending=null}if(h!==null){v=h.next,c=c.baseState;var j=w=null,P=null,K=v;do{var ie=K.lane;if(($r&ie)===ie)P!==null&&(P=P.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),c=K.hasEagerState?K.eagerState:e(c,K.action);else{var ce={lane:ie,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};P===null?(j=P=ce,w=c):P=P.next=ce,Je.lanes|=ie,zr|=ie}K=K.next}while(K!==null&&K!==v);P===null?w=c:P.next=j,gn(c,n.memoizedState)||(Ft=!0),n.memoizedState=c,n.baseState=w,n.baseQueue=P,i.lastRenderedState=c}if(e=i.interleaved,e!==null){h=e;do v=h.lane,Je.lanes|=v,zr|=v,h=h.next;while(h!==e)}else h===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function Hl(e){var n=an(),i=n.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var c=i.dispatch,h=i.pending,v=n.memoizedState;if(h!==null){i.pending=null;var w=h=h.next;do v=e(v,w.action),w=w.next;while(w!==h);gn(v,n.memoizedState)||(Ft=!0),n.memoizedState=v,n.baseQueue===null&&(n.baseState=v),i.lastRenderedState=v}return[v,c]}function qf(){}function Kf(e,n){var i=Je,c=an(),h=n(),v=!gn(c.memoizedState,h);if(v&&(c.memoizedState=h,Ft=!0),c=c.queue,Gl(Xf.bind(null,i,c,e),[e]),c.getSnapshot!==n||v||ct!==null&&ct.memoizedState.tag&1){if(i.flags|=2048,ds(9,Qf.bind(null,i,c,h,n),void 0,null),ut===null)throw Error(o(349));($r&30)!==0||Yf(i,n,h)}return h}function Yf(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=Je.updateQueue,n===null?(n={lastEffect:null,stores:null},Je.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function Qf(e,n,i,c){n.value=i,n.getSnapshot=c,Zf(n)&&Jf(e)}function Xf(e,n,i){return i(function(){Zf(n)&&Jf(e)})}function Zf(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!gn(e,i)}catch{return!0}}function Jf(e){var n=qn(e,1);n!==null&&wn(n,e,1,-1)}function ep(e){var n=On();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:e},n.queue=e,e=e.dispatch=bx.bind(null,Je,e),[n.memoizedState,e]}function ds(e,n,i,c){return e={tag:e,create:n,destroy:i,deps:c,next:null},n=Je.updateQueue,n===null?(n={lastEffect:null,stores:null},Je.updateQueue=n,n.lastEffect=e.next=e):(i=n.lastEffect,i===null?n.lastEffect=e.next=e:(c=i.next,i.next=e,e.next=c,n.lastEffect=e)),e}function tp(){return an().memoizedState}function Ri(e,n,i,c){var h=On();Je.flags|=e,h.memoizedState=ds(1|n,i,void 0,c===void 0?null:c)}function ki(e,n,i,c){var h=an();c=c===void 0?null:c;var v=void 0;if(ot!==null){var w=ot.memoizedState;if(v=w.destroy,c!==null&&Fl(c,w.deps)){h.memoizedState=ds(n,i,v,c);return}}Je.flags|=e,h.memoizedState=ds(1|n,i,v,c)}function np(e,n){return Ri(8390656,8,e,n)}function Gl(e,n){return ki(2048,8,e,n)}function rp(e,n){return ki(4,2,e,n)}function op(e,n){return ki(4,4,e,n)}function sp(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ip(e,n,i){return i=i!=null?i.concat([e]):null,ki(4,4,sp.bind(null,n,e),i)}function Ul(){}function ap(e,n){var i=an();n=n===void 0?null:n;var c=i.memoizedState;return c!==null&&n!==null&&Fl(n,c[1])?c[0]:(i.memoizedState=[e,n],e)}function lp(e,n){var i=an();n=n===void 0?null:n;var c=i.memoizedState;return c!==null&&n!==null&&Fl(n,c[1])?c[0]:(e=e(),i.memoizedState=[e,n],e)}function cp(e,n,i){return($r&21)===0?(e.baseState&&(e.baseState=!1,Ft=!0),e.memoizedState=i):(gn(i,n)||(i=Bd(),Je.lanes|=i,zr|=i,e.baseState=!0),n)}function xx(e,n){var i=Ve;Ve=i!==0&&4>i?i:4,e(!0);var c=Bl.transition;Bl.transition={};try{e(!1),n()}finally{Ve=i,Bl.transition=c}}function up(){return an().memoizedState}function yx(e,n,i){var c=vr(e);if(i={lane:c,action:i,hasEagerState:!1,eagerState:null,next:null},dp(e))fp(n,i);else if(i=Vf(e,n,i,c),i!==null){var h=It();wn(i,e,c,h),pp(i,n,c)}}function bx(e,n,i){var c=vr(e),h={lane:c,action:i,hasEagerState:!1,eagerState:null,next:null};if(dp(e))fp(n,h);else{var v=e.alternate;if(e.lanes===0&&(v===null||v.lanes===0)&&(v=n.lastRenderedReducer,v!==null))try{var w=n.lastRenderedState,j=v(w,i);if(h.hasEagerState=!0,h.eagerState=j,gn(j,w)){var P=n.interleaved;P===null?(h.next=h,Il(n)):(h.next=P.next,P.next=h),n.interleaved=h;return}}catch{}finally{}i=Vf(e,n,h,c),i!==null&&(h=It(),wn(i,e,c,h),pp(i,n,c))}}function dp(e){var n=e.alternate;return e===Je||n!==null&&n===Je}function fp(e,n){ls=Pi=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function pp(e,n,i){if((i&4194240)!==0){var c=n.lanes;c&=e.pendingLanes,i|=c,n.lanes=i,qa(e,i)}}var Ii={readContext:sn,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},wx={readContext:sn,useCallback:function(e,n){return On().memoizedState=[e,n===void 0?null:n],e},useContext:sn,useEffect:np,useImperativeHandle:function(e,n,i){return i=i!=null?i.concat([e]):null,Ri(4194308,4,sp.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Ri(4194308,4,e,n)},useInsertionEffect:function(e,n){return Ri(4,2,e,n)},useMemo:function(e,n){var i=On();return n=n===void 0?null:n,e=e(),i.memoizedState=[e,n],e},useReducer:function(e,n,i){var c=On();return n=i!==void 0?i(n):n,c.memoizedState=c.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},c.queue=e,e=e.dispatch=yx.bind(null,Je,e),[c.memoizedState,e]},useRef:function(e){var n=On();return e={current:e},n.memoizedState=e},useState:ep,useDebugValue:Ul,useDeferredValue:function(e){return On().memoizedState=e},useTransition:function(){var e=ep(!1),n=e[0];return e=xx.bind(null,e[1]),On().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,i){var c=Je,h=On();if(Ke){if(i===void 0)throw Error(o(407));i=i()}else{if(i=n(),ut===null)throw Error(o(349));($r&30)!==0||Yf(c,n,i)}h.memoizedState=i;var v={value:i,getSnapshot:n};return h.queue=v,np(Xf.bind(null,c,v,e),[e]),c.flags|=2048,ds(9,Qf.bind(null,c,v,i,n),void 0,null),i},useId:function(){var e=On(),n=ut.identifierPrefix;if(Ke){var i=Wn,c=Un;i=(c&~(1<<32-mn(c)-1)).toString(32)+i,n=":"+n+"R"+i,i=cs++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=vx++,n=":"+n+"r"+i.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Nx={readContext:sn,useCallback:ap,useContext:sn,useEffect:Gl,useImperativeHandle:ip,useInsertionEffect:rp,useLayoutEffect:op,useMemo:lp,useReducer:Vl,useRef:tp,useState:function(){return Vl(us)},useDebugValue:Ul,useDeferredValue:function(e){var n=an();return cp(n,ot.memoizedState,e)},useTransition:function(){var e=Vl(us)[0],n=an().memoizedState;return[e,n]},useMutableSource:qf,useSyncExternalStore:Kf,useId:up,unstable_isNewReconciler:!1},Cx={readContext:sn,useCallback:ap,useContext:sn,useEffect:Gl,useImperativeHandle:ip,useInsertionEffect:rp,useLayoutEffect:op,useMemo:lp,useReducer:Hl,useRef:tp,useState:function(){return Hl(us)},useDebugValue:Ul,useDeferredValue:function(e){var n=an();return ot===null?n.memoizedState=e:cp(n,ot.memoizedState,e)},useTransition:function(){var e=Hl(us)[0],n=an().memoizedState;return[e,n]},useMutableSource:qf,useSyncExternalStore:Kf,useId:up,unstable_isNewReconciler:!1};function xn(e,n){if(e&&e.defaultProps){n=Q({},n),e=e.defaultProps;for(var i in e)n[i]===void 0&&(n[i]=e[i]);return n}return n}function Wl(e,n,i,c){n=e.memoizedState,i=i(c,n),i=i==null?n:Q({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ti={isMounted:function(e){return(e=e._reactInternals)?Tr(e)===e:!1},enqueueSetState:function(e,n,i){e=e._reactInternals;var c=It(),h=vr(e),v=Kn(c,h);v.payload=n,i!=null&&(v.callback=i),n=pr(e,v,h),n!==null&&(wn(n,e,h,c),Ei(n,e,h))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var c=It(),h=vr(e),v=Kn(c,h);v.tag=1,v.payload=n,i!=null&&(v.callback=i),n=pr(e,v,h),n!==null&&(wn(n,e,h,c),Ei(n,e,h))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=It(),c=vr(e),h=Kn(i,c);h.tag=2,n!=null&&(h.callback=n),n=pr(e,h,c),n!==null&&(wn(n,e,c,i),Ei(n,e,c))}};function hp(e,n,i,c,h,v,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,v,w):n.prototype&&n.prototype.isPureReactComponent?!Xo(i,c)||!Xo(h,v):!0}function mp(e,n,i){var c=!1,h=ur,v=n.contextType;return typeof v=="object"&&v!==null?v=sn(v):(h=Bt(n)?Or:St.current,c=n.contextTypes,v=(c=c!=null)?fo(e,h):ur),n=new n(i,v),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Ti,e.stateNode=n,n._reactInternals=e,c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=v),n}function gp(e,n,i,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,c),n.state!==e&&Ti.enqueueReplaceState(n,n.state,null)}function ql(e,n,i,c){var h=e.stateNode;h.props=i,h.state=e.memoizedState,h.refs={},Tl(e);var v=n.contextType;typeof v=="object"&&v!==null?h.context=sn(v):(v=Bt(n)?Or:St.current,h.context=fo(e,v)),h.state=e.memoizedState,v=n.getDerivedStateFromProps,typeof v=="function"&&(Wl(e,n,v,i),h.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(n=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),n!==h.state&&Ti.enqueueReplaceState(h,h.state,null),Di(e,i,h,c),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function bo(e,n){try{var i="",c=n;do i+=q(c),c=c.return;while(c);var h=i}catch(v){h=`
Error generating stack: `+v.message+`
`+v.stack}return{value:e,source:n,stack:h,digest:null}}function Kl(e,n,i){return{value:e,source:null,stack:i??null,digest:n??null}}function Yl(e,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var Sx=typeof WeakMap=="function"?WeakMap:Map;function vp(e,n,i){i=Kn(-1,i),i.tag=3,i.payload={element:null};var c=n.value;return i.callback=function(){$i||($i=!0,uc=c),Yl(e,n)},i}function xp(e,n,i){i=Kn(-1,i),i.tag=3;var c=e.type.getDerivedStateFromError;if(typeof c=="function"){var h=n.value;i.payload=function(){return c(h)},i.callback=function(){Yl(e,n)}}var v=e.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(i.callback=function(){Yl(e,n),typeof c!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var w=n.stack;this.componentDidCatch(n.value,{componentStack:w!==null?w:""})}),i}function yp(e,n,i){var c=e.pingCache;if(c===null){c=e.pingCache=new Sx;var h=new Set;c.set(n,h)}else h=c.get(n),h===void 0&&(h=new Set,c.set(n,h));h.has(i)||(h.add(i),e=Bx.bind(null,e,n,i),n.then(e,e))}function bp(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function wp(e,n,i,c,h){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=Kn(-1,1),n.tag=2,pr(i,n,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=h,e)}var Ex=H.ReactCurrentOwner,Ft=!1;function kt(e,n,i,c){n.child=e===null?zf(n,null,i,c):go(n,e.child,i,c)}function Np(e,n,i,c,h){i=i.render;var v=n.ref;return xo(n,h),c=$l(e,n,i,c,v,h),i=zl(),e!==null&&!Ft?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,Yn(e,n,h)):(Ke&&i&&Cl(n),n.flags|=1,kt(e,n,c,h),n.child)}function Cp(e,n,i,c,h){if(e===null){var v=i.type;return typeof v=="function"&&!vc(v)&&v.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=v,Sp(e,n,v,c,h)):(e=Wi(i.type,null,c,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(v=e.child,(e.lanes&h)===0){var w=v.memoizedProps;if(i=i.compare,i=i!==null?i:Xo,i(w,c)&&e.ref===n.ref)return Yn(e,n,h)}return n.flags|=1,e=yr(v,c),e.ref=n.ref,e.return=n,n.child=e}function Sp(e,n,i,c,h){if(e!==null){var v=e.memoizedProps;if(Xo(v,c)&&e.ref===n.ref)if(Ft=!1,n.pendingProps=c=v,(e.lanes&h)!==0)(e.flags&131072)!==0&&(Ft=!0);else return n.lanes=e.lanes,Yn(e,n,h)}return Ql(e,n,i,c,h)}function Ep(e,n,i){var c=n.pendingProps,h=c.children,v=e!==null?e.memoizedState:null;if(c.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(No,Qt),Qt|=i;else{if((i&1073741824)===0)return e=v!==null?v.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Ue(No,Qt),Qt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=v!==null?v.baseLanes:i,Ue(No,Qt),Qt|=c}else v!==null?(c=v.baseLanes|i,n.memoizedState=null):c=i,Ue(No,Qt),Qt|=c;return kt(e,n,h,i),n.child}function Dp(e,n){var i=n.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function Ql(e,n,i,c,h){var v=Bt(i)?Or:St.current;return v=fo(n,v),xo(n,h),i=$l(e,n,i,c,v,h),c=zl(),e!==null&&!Ft?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,Yn(e,n,h)):(Ke&&c&&Cl(n),n.flags|=1,kt(e,n,i,h),n.child)}function jp(e,n,i,c,h){if(Bt(i)){var v=!0;vi(n)}else v=!1;if(xo(n,h),n.stateNode===null)Oi(e,n),mp(n,i,c),ql(n,i,c,h),c=!0;else if(e===null){var w=n.stateNode,j=n.memoizedProps;w.props=j;var P=w.context,K=i.contextType;typeof K=="object"&&K!==null?K=sn(K):(K=Bt(i)?Or:St.current,K=fo(n,K));var ie=i.getDerivedStateFromProps,ce=typeof ie=="function"||typeof w.getSnapshotBeforeUpdate=="function";ce||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(j!==c||P!==K)&&gp(n,w,c,K),fr=!1;var se=n.memoizedState;w.state=se,Di(n,c,w,h),P=n.memoizedState,j!==c||se!==P||Lt.current||fr?(typeof ie=="function"&&(Wl(n,i,ie,c),P=n.memoizedState),(j=fr||hp(n,i,j,c,se,P,K))?(ce||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(n.flags|=4194308)):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=P),w.props=c,w.state=P,w.context=K,c=j):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{w=n.stateNode,Hf(e,n),j=n.memoizedProps,K=n.type===n.elementType?j:xn(n.type,j),w.props=K,ce=n.pendingProps,se=w.context,P=i.contextType,typeof P=="object"&&P!==null?P=sn(P):(P=Bt(i)?Or:St.current,P=fo(n,P));var ge=i.getDerivedStateFromProps;(ie=typeof ge=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(j!==ce||se!==P)&&gp(n,w,c,P),fr=!1,se=n.memoizedState,w.state=se,Di(n,c,w,h);var ye=n.memoizedState;j!==ce||se!==ye||Lt.current||fr?(typeof ge=="function"&&(Wl(n,i,ge,c),ye=n.memoizedState),(K=fr||hp(n,i,K,c,se,ye,P)||!1)?(ie||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,ye,P),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,ye,P)),typeof w.componentDidUpdate=="function"&&(n.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof w.componentDidUpdate!="function"||j===e.memoizedProps&&se===e.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&se===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=ye),w.props=c,w.state=ye,w.context=P,c=K):(typeof w.componentDidUpdate!="function"||j===e.memoizedProps&&se===e.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&se===e.memoizedState||(n.flags|=1024),c=!1)}return Xl(e,n,i,c,v,h)}function Xl(e,n,i,c,h,v){Dp(e,n);var w=(n.flags&128)!==0;if(!c&&!w)return h&&If(n,i,!1),Yn(e,n,v);c=n.stateNode,Ex.current=n;var j=w&&typeof i.getDerivedStateFromError!="function"?null:c.render();return n.flags|=1,e!==null&&w?(n.child=go(n,e.child,null,v),n.child=go(n,null,j,v)):kt(e,n,j,v),n.memoizedState=c.state,h&&If(n,i,!0),n.child}function Ap(e){var n=e.stateNode;n.pendingContext?Rf(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Rf(e,n.context,!1),Ml(e,n.containerInfo)}function Pp(e,n,i,c,h){return mo(),jl(h),n.flags|=256,kt(e,n,i,c),n.child}var Zl={dehydrated:null,treeContext:null,retryLane:0};function Jl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rp(e,n,i){var c=n.pendingProps,h=Ze.current,v=!1,w=(n.flags&128)!==0,j;if((j=w)||(j=e!==null&&e.memoizedState===null?!1:(h&2)!==0),j?(v=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),Ue(Ze,h&1),e===null)return Dl(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(w=c.children,e=c.fallback,v?(c=n.mode,v=n.child,w={mode:"hidden",children:w},(c&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=w):v=qi(w,c,0,null),e=Ur(e,c,i,null),v.return=n,e.return=n,v.sibling=e,n.child=v,n.child.memoizedState=Jl(i),n.memoizedState=Zl,e):ec(n,w));if(h=e.memoizedState,h!==null&&(j=h.dehydrated,j!==null))return Dx(e,n,w,c,j,h,i);if(v){v=c.fallback,w=n.mode,h=e.child,j=h.sibling;var P={mode:"hidden",children:c.children};return(w&1)===0&&n.child!==h?(c=n.child,c.childLanes=0,c.pendingProps=P,n.deletions=null):(c=yr(h,P),c.subtreeFlags=h.subtreeFlags&14680064),j!==null?v=yr(j,v):(v=Ur(v,w,i,null),v.flags|=2),v.return=n,c.return=n,c.sibling=v,n.child=c,c=v,v=n.child,w=e.child.memoizedState,w=w===null?Jl(i):{baseLanes:w.baseLanes|i,cachePool:null,transitions:w.transitions},v.memoizedState=w,v.childLanes=e.childLanes&~i,n.memoizedState=Zl,c}return v=e.child,e=v.sibling,c=yr(v,{mode:"visible",children:c.children}),(n.mode&1)===0&&(c.lanes=i),c.return=n,c.sibling=null,e!==null&&(i=n.deletions,i===null?(n.deletions=[e],n.flags|=16):i.push(e)),n.child=c,n.memoizedState=null,c}function ec(e,n){return n=qi({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Mi(e,n,i,c){return c!==null&&jl(c),go(n,e.child,null,i),e=ec(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Dx(e,n,i,c,h,v,w){if(i)return n.flags&256?(n.flags&=-257,c=Kl(Error(o(422))),Mi(e,n,w,c)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(v=c.fallback,h=n.mode,c=qi({mode:"visible",children:c.children},h,0,null),v=Ur(v,h,w,null),v.flags|=2,c.return=n,v.return=n,c.sibling=v,n.child=c,(n.mode&1)!==0&&go(n,e.child,null,w),n.child.memoizedState=Jl(w),n.memoizedState=Zl,v);if((n.mode&1)===0)return Mi(e,n,w,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var j=c.dgst;return c=j,v=Error(o(419)),c=Kl(v,c,void 0),Mi(e,n,w,c)}if(j=(w&e.childLanes)!==0,Ft||j){if(c=ut,c!==null){switch(w&-w){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(c.suspendedLanes|w))!==0?0:h,h!==0&&h!==v.retryLane&&(v.retryLane=h,qn(e,h),wn(c,e,h,-1))}return gc(),c=Kl(Error(o(421))),Mi(e,n,w,c)}return h.data==="$?"?(n.flags|=128,n.child=e.child,n=Fx.bind(null,e),h._reactRetry=n,null):(e=v.treeContext,Yt=lr(h.nextSibling),Kt=n,Ke=!0,vn=null,e!==null&&(rn[on++]=Un,rn[on++]=Wn,rn[on++]=_r,Un=e.id,Wn=e.overflow,_r=n),n=ec(n,c.children),n.flags|=4096,n)}function kp(e,n,i){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),kl(e.return,n,i)}function tc(e,n,i,c,h){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:i,tailMode:h}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=c,v.tail=i,v.tailMode=h)}function Ip(e,n,i){var c=n.pendingProps,h=c.revealOrder,v=c.tail;if(kt(e,n,c.children,i),c=Ze.current,(c&2)!==0)c=c&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kp(e,i,n);else if(e.tag===19)kp(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}if(Ue(Ze,c),(n.mode&1)===0)n.memoizedState=null;else switch(h){case"forwards":for(i=n.child,h=null;i!==null;)e=i.alternate,e!==null&&ji(e)===null&&(h=i),i=i.sibling;i=h,i===null?(h=n.child,n.child=null):(h=i.sibling,i.sibling=null),tc(n,!1,h,i,v);break;case"backwards":for(i=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&ji(e)===null){n.child=h;break}e=h.sibling,h.sibling=i,i=h,h=e}tc(n,!0,i,null,v);break;case"together":tc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Oi(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Yn(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),zr|=n.lanes,(i&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,i=yr(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=yr(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function jx(e,n,i){switch(n.tag){case 3:Ap(n),mo();break;case 5:Wf(n);break;case 1:Bt(n.type)&&vi(n);break;case 4:Ml(n,n.stateNode.containerInfo);break;case 10:var c=n.type._context,h=n.memoizedProps.value;Ue(Ci,c._currentValue),c._currentValue=h;break;case 13:if(c=n.memoizedState,c!==null)return c.dehydrated!==null?(Ue(Ze,Ze.current&1),n.flags|=128,null):(i&n.child.childLanes)!==0?Rp(e,n,i):(Ue(Ze,Ze.current&1),e=Yn(e,n,i),e!==null?e.sibling:null);Ue(Ze,Ze.current&1);break;case 19:if(c=(i&n.childLanes)!==0,(e.flags&128)!==0){if(c)return Ip(e,n,i);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ue(Ze,Ze.current),c)break;return null;case 22:case 23:return n.lanes=0,Ep(e,n,i)}return Yn(e,n,i)}var Tp,nc,Mp,Op;Tp=function(e,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},nc=function(){},Mp=function(e,n,i,c){var h=e.memoizedProps;if(h!==c){e=n.stateNode,Fr(Mn.current);var v=null;switch(i){case"input":h=Me(e,h),c=Me(e,c),v=[];break;case"select":h=Q({},h,{value:void 0}),c=Q({},c,{value:void 0}),v=[];break;case"textarea":h=jn(e,h),c=jn(e,c),v=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(e.onclick=hi)}er(i,c);var w;i=null;for(K in h)if(!c.hasOwnProperty(K)&&h.hasOwnProperty(K)&&h[K]!=null)if(K==="style"){var j=h[K];for(w in j)j.hasOwnProperty(w)&&(i||(i={}),i[w]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(a.hasOwnProperty(K)?v||(v=[]):(v=v||[]).push(K,null));for(K in c){var P=c[K];if(j=h?.[K],c.hasOwnProperty(K)&&P!==j&&(P!=null||j!=null))if(K==="style")if(j){for(w in j)!j.hasOwnProperty(w)||P&&P.hasOwnProperty(w)||(i||(i={}),i[w]="");for(w in P)P.hasOwnProperty(w)&&j[w]!==P[w]&&(i||(i={}),i[w]=P[w])}else i||(v||(v=[]),v.push(K,i)),i=P;else K==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,j=j?j.__html:void 0,P!=null&&j!==P&&(v=v||[]).push(K,P)):K==="children"?typeof P!="string"&&typeof P!="number"||(v=v||[]).push(K,""+P):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(a.hasOwnProperty(K)?(P!=null&&K==="onScroll"&&We("scroll",e),v||j===P||(v=[])):(v=v||[]).push(K,P))}i&&(v=v||[]).push("style",i);var K=v;(n.updateQueue=K)&&(n.flags|=4)}},Op=function(e,n,i,c){i!==c&&(n.flags|=4)};function fs(e,n){if(!Ke)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Dt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,c=0;if(n)for(var h=e.child;h!==null;)i|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)i|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=c,e.childLanes=i,n}function Ax(e,n,i){var c=n.pendingProps;switch(Sl(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(n),null;case 1:return Bt(n.type)&&gi(),Dt(n),null;case 3:return c=n.stateNode,yo(),qe(Lt),qe(St),Ll(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(e===null||e.child===null)&&(wi(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,vn!==null&&(pc(vn),vn=null))),nc(e,n),Dt(n),null;case 5:Ol(n);var h=Fr(as.current);if(i=n.type,e!==null&&n.stateNode!=null)Mp(e,n,i,c,h),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!c){if(n.stateNode===null)throw Error(o(166));return Dt(n),null}if(e=Fr(Mn.current),wi(n)){c=n.stateNode,i=n.type;var v=n.memoizedProps;switch(c[Tn]=n,c[ns]=v,e=(n.mode&1)!==0,i){case"dialog":We("cancel",c),We("close",c);break;case"iframe":case"object":case"embed":We("load",c);break;case"video":case"audio":for(h=0;h<Jo.length;h++)We(Jo[h],c);break;case"source":We("error",c);break;case"img":case"image":case"link":We("error",c),We("load",c);break;case"details":We("toggle",c);break;case"input":ke(c,v),We("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!v.multiple},We("invalid",c);break;case"textarea":Pr(c,v),We("invalid",c)}er(i,v),h=null;for(var w in v)if(v.hasOwnProperty(w)){var j=v[w];w==="children"?typeof j=="string"?c.textContent!==j&&(v.suppressHydrationWarning!==!0&&pi(c.textContent,j,e),h=["children",j]):typeof j=="number"&&c.textContent!==""+j&&(v.suppressHydrationWarning!==!0&&pi(c.textContent,j,e),h=["children",""+j]):a.hasOwnProperty(w)&&j!=null&&w==="onScroll"&&We("scroll",c)}switch(i){case"input":Te(c),tn(c,v,!0);break;case"textarea":Te(c),Zr(c);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(c.onclick=hi)}c=h,n.updateQueue=c,c!==null&&(n.flags|=4)}else{w=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Fn(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=w.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof c.is=="string"?e=w.createElement(i,{is:c.is}):(e=w.createElement(i),i==="select"&&(w=e,c.multiple?w.multiple=!0:c.size&&(w.size=c.size))):e=w.createElementNS(e,i),e[Tn]=n,e[ns]=c,Tp(e,n,!1,!1),n.stateNode=e;e:{switch(w=$n(i,c),i){case"dialog":We("cancel",e),We("close",e),h=c;break;case"iframe":case"object":case"embed":We("load",e),h=c;break;case"video":case"audio":for(h=0;h<Jo.length;h++)We(Jo[h],e);h=c;break;case"source":We("error",e),h=c;break;case"img":case"image":case"link":We("error",e),We("load",e),h=c;break;case"details":We("toggle",e),h=c;break;case"input":ke(e,c),h=Me(e,c),We("invalid",e);break;case"option":h=c;break;case"select":e._wrapperState={wasMultiple:!!c.multiple},h=Q({},c,{value:void 0}),We("invalid",e);break;case"textarea":Pr(e,c),h=jn(e,c),We("invalid",e);break;default:h=c}er(i,h),j=h;for(v in j)if(j.hasOwnProperty(v)){var P=j[v];v==="style"?to(e,P):v==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&An(e,P)):v==="children"?typeof P=="string"?(i!=="textarea"||P!=="")&&Pn(e,P):typeof P=="number"&&Pn(e,""+P):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(a.hasOwnProperty(v)?P!=null&&v==="onScroll"&&We("scroll",e):P!=null&&B(e,v,P,w))}switch(i){case"input":Te(e),tn(e,c,!1);break;case"textarea":Te(e),Zr(e);break;case"option":c.value!=null&&e.setAttribute("value",""+ue(c.value));break;case"select":e.multiple=!!c.multiple,v=c.value,v!=null?wt(e,!!c.multiple,v,!1):c.defaultValue!=null&&wt(e,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=hi)}switch(i){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Dt(n),null;case 6:if(e&&n.stateNode!=null)Op(e,n,e.memoizedProps,c);else{if(typeof c!="string"&&n.stateNode===null)throw Error(o(166));if(i=Fr(as.current),Fr(Mn.current),wi(n)){if(c=n.stateNode,i=n.memoizedProps,c[Tn]=n,(v=c.nodeValue!==i)&&(e=Kt,e!==null))switch(e.tag){case 3:pi(c.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pi(c.nodeValue,i,(e.mode&1)!==0)}v&&(n.flags|=4)}else c=(i.nodeType===9?i:i.ownerDocument).createTextNode(c),c[Tn]=n,n.stateNode=c}return Dt(n),null;case 13:if(qe(Ze),c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ke&&Yt!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Bf(),mo(),n.flags|=98560,v=!1;else if(v=wi(n),c!==null&&c.dehydrated!==null){if(e===null){if(!v)throw Error(o(318));if(v=n.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(o(317));v[Tn]=n}else mo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Dt(n),v=!1}else vn!==null&&(pc(vn),vn=null),v=!0;if(!v)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=i,n):(c=c!==null,c!==(e!==null&&e.memoizedState!==null)&&c&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(Ze.current&1)!==0?st===0&&(st=3):gc())),n.updateQueue!==null&&(n.flags|=4),Dt(n),null);case 4:return yo(),nc(e,n),e===null&&es(n.stateNode.containerInfo),Dt(n),null;case 10:return Rl(n.type._context),Dt(n),null;case 17:return Bt(n.type)&&gi(),Dt(n),null;case 19:if(qe(Ze),v=n.memoizedState,v===null)return Dt(n),null;if(c=(n.flags&128)!==0,w=v.rendering,w===null)if(c)fs(v,!1);else{if(st!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(w=ji(e),w!==null){for(n.flags|=128,fs(v,!1),c=w.updateQueue,c!==null&&(n.updateQueue=c,n.flags|=4),n.subtreeFlags=0,c=i,i=n.child;i!==null;)v=i,e=c,v.flags&=14680066,w=v.alternate,w===null?(v.childLanes=0,v.lanes=e,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=w.childLanes,v.lanes=w.lanes,v.child=w.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=w.memoizedProps,v.memoizedState=w.memoizedState,v.updateQueue=w.updateQueue,v.type=w.type,e=w.dependencies,v.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Ue(Ze,Ze.current&1|2),n.child}e=e.sibling}v.tail!==null&&tt()>Co&&(n.flags|=128,c=!0,fs(v,!1),n.lanes=4194304)}else{if(!c)if(e=ji(w),e!==null){if(n.flags|=128,c=!0,i=e.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),fs(v,!0),v.tail===null&&v.tailMode==="hidden"&&!w.alternate&&!Ke)return Dt(n),null}else 2*tt()-v.renderingStartTime>Co&&i!==1073741824&&(n.flags|=128,c=!0,fs(v,!1),n.lanes=4194304);v.isBackwards?(w.sibling=n.child,n.child=w):(i=v.last,i!==null?i.sibling=w:n.child=w,v.last=w)}return v.tail!==null?(n=v.tail,v.rendering=n,v.tail=n.sibling,v.renderingStartTime=tt(),n.sibling=null,i=Ze.current,Ue(Ze,c?i&1|2:i&1),n):(Dt(n),null);case 22:case 23:return mc(),c=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==c&&(n.flags|=8192),c&&(n.mode&1)!==0?(Qt&1073741824)!==0&&(Dt(n),n.subtreeFlags&6&&(n.flags|=8192)):Dt(n),null;case 24:return null;case 25:return null}throw Error(o(156,n.tag))}function Px(e,n){switch(Sl(n),n.tag){case 1:return Bt(n.type)&&gi(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return yo(),qe(Lt),qe(St),Ll(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return Ol(n),null;case 13:if(qe(Ze),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));mo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return qe(Ze),null;case 4:return yo(),null;case 10:return Rl(n.type._context),null;case 22:case 23:return mc(),null;case 24:return null;default:return null}}var _i=!1,jt=!1,Rx=typeof WeakSet=="function"?WeakSet:Set,xe=null;function wo(e,n){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(c){et(e,n,c)}else i.current=null}function rc(e,n,i){try{i()}catch(c){et(e,n,c)}}var _p=!1;function kx(e,n){if(ml=ni,e=hf(),al(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var c=i.getSelection&&i.getSelection();if(c&&c.rangeCount!==0){i=c.anchorNode;var h=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{i.nodeType,v.nodeType}catch{i=null;break e}var w=0,j=-1,P=-1,K=0,ie=0,ce=e,se=null;t:for(;;){for(var ge;ce!==i||h!==0&&ce.nodeType!==3||(j=w+h),ce!==v||c!==0&&ce.nodeType!==3||(P=w+c),ce.nodeType===3&&(w+=ce.nodeValue.length),(ge=ce.firstChild)!==null;)se=ce,ce=ge;for(;;){if(ce===e)break t;if(se===i&&++K===h&&(j=w),se===v&&++ie===c&&(P=w),(ge=ce.nextSibling)!==null)break;ce=se,se=ce.parentNode}ce=ge}i=j===-1||P===-1?null:{start:j,end:P}}else i=null}i=i||{start:0,end:0}}else i=null;for(gl={focusedElem:e,selectionRange:i},ni=!1,xe=n;xe!==null;)if(n=xe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,xe=e;else for(;xe!==null;){n=xe;try{var ye=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var be=ye.memoizedProps,nt=ye.memoizedState,U=n.stateNode,I=U.getSnapshotBeforeUpdate(n.elementType===n.type?be:xn(n.type,be),nt);U.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var W=n.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(de){et(n,n.return,de)}if(e=n.sibling,e!==null){e.return=n.return,xe=e;break}xe=n.return}return ye=_p,_p=!1,ye}function ps(e,n,i){var c=n.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&e)===e){var v=h.destroy;h.destroy=void 0,v!==void 0&&rc(n,i,v)}h=h.next}while(h!==c)}}function Li(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var c=i.create;i.destroy=c()}i=i.next}while(i!==n)}}function oc(e){var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof n=="function"?n(e):n.current=e}}function Lp(e){var n=e.alternate;n!==null&&(e.alternate=null,Lp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Tn],delete n[ns],delete n[bl],delete n[px],delete n[hx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bp(e){return e.tag===5||e.tag===3||e.tag===4}function Fp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sc(e,n,i){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(e,i)):(n=i,n.appendChild(e)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=hi));else if(c!==4&&(e=e.child,e!==null))for(sc(e,n,i),e=e.sibling;e!==null;)sc(e,n,i),e=e.sibling}function ic(e,n,i){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(c!==4&&(e=e.child,e!==null))for(ic(e,n,i),e=e.sibling;e!==null;)ic(e,n,i),e=e.sibling}var gt=null,yn=!1;function hr(e,n,i){for(i=i.child;i!==null;)$p(e,n,i),i=i.sibling}function $p(e,n,i){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(Qs,i)}catch{}switch(i.tag){case 5:jt||wo(i,n);case 6:var c=gt,h=yn;gt=null,hr(e,n,i),gt=c,yn=h,gt!==null&&(yn?(e=gt,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):gt.removeChild(i.stateNode));break;case 18:gt!==null&&(yn?(e=gt,i=i.stateNode,e.nodeType===8?yl(e.parentNode,i):e.nodeType===1&&yl(e,i),Uo(e)):yl(gt,i.stateNode));break;case 4:c=gt,h=yn,gt=i.stateNode.containerInfo,yn=!0,hr(e,n,i),gt=c,yn=h;break;case 0:case 11:case 14:case 15:if(!jt&&(c=i.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var v=h,w=v.destroy;v=v.tag,w!==void 0&&((v&2)!==0||(v&4)!==0)&&rc(i,n,w),h=h.next}while(h!==c)}hr(e,n,i);break;case 1:if(!jt&&(wo(i,n),c=i.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=i.memoizedProps,c.state=i.memoizedState,c.componentWillUnmount()}catch(j){et(i,n,j)}hr(e,n,i);break;case 21:hr(e,n,i);break;case 22:i.mode&1?(jt=(c=jt)||i.memoizedState!==null,hr(e,n,i),jt=c):hr(e,n,i);break;default:hr(e,n,i)}}function zp(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Rx),n.forEach(function(c){var h=$x.bind(null,e,c);i.has(c)||(i.add(c),c.then(h,h))})}}function bn(e,n){var i=n.deletions;if(i!==null)for(var c=0;c<i.length;c++){var h=i[c];try{var v=e,w=n,j=w;e:for(;j!==null;){switch(j.tag){case 5:gt=j.stateNode,yn=!1;break e;case 3:gt=j.stateNode.containerInfo,yn=!0;break e;case 4:gt=j.stateNode.containerInfo,yn=!0;break e}j=j.return}if(gt===null)throw Error(o(160));$p(v,w,h),gt=null,yn=!1;var P=h.alternate;P!==null&&(P.return=null),h.return=null}catch(K){et(h,n,K)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Vp(n,e),n=n.sibling}function Vp(e,n){var i=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bn(n,e),_n(e),c&4){try{ps(3,e,e.return),Li(3,e)}catch(be){et(e,e.return,be)}try{ps(5,e,e.return)}catch(be){et(e,e.return,be)}}break;case 1:bn(n,e),_n(e),c&512&&i!==null&&wo(i,i.return);break;case 5:if(bn(n,e),_n(e),c&512&&i!==null&&wo(i,i.return),e.flags&32){var h=e.stateNode;try{Pn(h,"")}catch(be){et(e,e.return,be)}}if(c&4&&(h=e.stateNode,h!=null)){var v=e.memoizedProps,w=i!==null?i.memoizedProps:v,j=e.type,P=e.updateQueue;if(e.updateQueue=null,P!==null)try{j==="input"&&v.type==="radio"&&v.name!=null&&Ge(h,v),$n(j,w);var K=$n(j,v);for(w=0;w<P.length;w+=2){var ie=P[w],ce=P[w+1];ie==="style"?to(h,ce):ie==="dangerouslySetInnerHTML"?An(h,ce):ie==="children"?Pn(h,ce):B(h,ie,ce,K)}switch(j){case"input":bt(h,v);break;case"textarea":Rr(h,v);break;case"select":var se=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!v.multiple;var ge=v.value;ge!=null?wt(h,!!v.multiple,ge,!1):se!==!!v.multiple&&(v.defaultValue!=null?wt(h,!!v.multiple,v.defaultValue,!0):wt(h,!!v.multiple,v.multiple?[]:"",!1))}h[ns]=v}catch(be){et(e,e.return,be)}}break;case 6:if(bn(n,e),_n(e),c&4){if(e.stateNode===null)throw Error(o(162));h=e.stateNode,v=e.memoizedProps;try{h.nodeValue=v}catch(be){et(e,e.return,be)}}break;case 3:if(bn(n,e),_n(e),c&4&&i!==null&&i.memoizedState.isDehydrated)try{Uo(n.containerInfo)}catch(be){et(e,e.return,be)}break;case 4:bn(n,e),_n(e);break;case 13:bn(n,e),_n(e),h=e.child,h.flags&8192&&(v=h.memoizedState!==null,h.stateNode.isHidden=v,!v||h.alternate!==null&&h.alternate.memoizedState!==null||(cc=tt())),c&4&&zp(e);break;case 22:if(ie=i!==null&&i.memoizedState!==null,e.mode&1?(jt=(K=jt)||ie,bn(n,e),jt=K):bn(n,e),_n(e),c&8192){if(K=e.memoizedState!==null,(e.stateNode.isHidden=K)&&!ie&&(e.mode&1)!==0)for(xe=e,ie=e.child;ie!==null;){for(ce=xe=ie;xe!==null;){switch(se=xe,ge=se.child,se.tag){case 0:case 11:case 14:case 15:ps(4,se,se.return);break;case 1:wo(se,se.return);var ye=se.stateNode;if(typeof ye.componentWillUnmount=="function"){c=se,i=se.return;try{n=c,ye.props=n.memoizedProps,ye.state=n.memoizedState,ye.componentWillUnmount()}catch(be){et(c,i,be)}}break;case 5:wo(se,se.return);break;case 22:if(se.memoizedState!==null){Up(ce);continue}}ge!==null?(ge.return=se,xe=ge):Up(ce)}ie=ie.sibling}e:for(ie=null,ce=e;;){if(ce.tag===5){if(ie===null){ie=ce;try{h=ce.stateNode,K?(v=h.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(j=ce.stateNode,P=ce.memoizedProps.style,w=P!=null&&P.hasOwnProperty("display")?P.display:null,j.style.display=eo("display",w))}catch(be){et(e,e.return,be)}}}else if(ce.tag===6){if(ie===null)try{ce.stateNode.nodeValue=K?"":ce.memoizedProps}catch(be){et(e,e.return,be)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===e)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===e)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===e)break e;ie===ce&&(ie=null),ce=ce.return}ie===ce&&(ie=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:bn(n,e),_n(e),c&4&&zp(e);break;case 21:break;default:bn(n,e),_n(e)}}function _n(e){var n=e.flags;if(n&2){try{e:{for(var i=e.return;i!==null;){if(Bp(i)){var c=i;break e}i=i.return}throw Error(o(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(Pn(h,""),c.flags&=-33);var v=Fp(e);ic(e,v,h);break;case 3:case 4:var w=c.stateNode.containerInfo,j=Fp(e);sc(e,j,w);break;default:throw Error(o(161))}}catch(P){et(e,e.return,P)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ix(e,n,i){xe=e,Hp(e)}function Hp(e,n,i){for(var c=(e.mode&1)!==0;xe!==null;){var h=xe,v=h.child;if(h.tag===22&&c){var w=h.memoizedState!==null||_i;if(!w){var j=h.alternate,P=j!==null&&j.memoizedState!==null||jt;j=_i;var K=jt;if(_i=w,(jt=P)&&!K)for(xe=h;xe!==null;)w=xe,P=w.child,w.tag===22&&w.memoizedState!==null?Wp(h):P!==null?(P.return=w,xe=P):Wp(h);for(;v!==null;)xe=v,Hp(v),v=v.sibling;xe=h,_i=j,jt=K}Gp(e)}else(h.subtreeFlags&8772)!==0&&v!==null?(v.return=h,xe=v):Gp(e)}}function Gp(e){for(;xe!==null;){var n=xe;if((n.flags&8772)!==0){var i=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:jt||Li(5,n);break;case 1:var c=n.stateNode;if(n.flags&4&&!jt)if(i===null)c.componentDidMount();else{var h=n.elementType===n.type?i.memoizedProps:xn(n.type,i.memoizedProps);c.componentDidUpdate(h,i.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var v=n.updateQueue;v!==null&&Uf(n,v,c);break;case 3:var w=n.updateQueue;if(w!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}Uf(n,w,i)}break;case 5:var j=n.stateNode;if(i===null&&n.flags&4){i=j;var P=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&i.focus();break;case"img":P.src&&(i.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var K=n.alternate;if(K!==null){var ie=K.memoizedState;if(ie!==null){var ce=ie.dehydrated;ce!==null&&Uo(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}jt||n.flags&512&&oc(n)}catch(se){et(n,n.return,se)}}if(n===e){xe=null;break}if(i=n.sibling,i!==null){i.return=n.return,xe=i;break}xe=n.return}}function Up(e){for(;xe!==null;){var n=xe;if(n===e){xe=null;break}var i=n.sibling;if(i!==null){i.return=n.return,xe=i;break}xe=n.return}}function Wp(e){for(;xe!==null;){var n=xe;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{Li(4,n)}catch(P){et(n,i,P)}break;case 1:var c=n.stateNode;if(typeof c.componentDidMount=="function"){var h=n.return;try{c.componentDidMount()}catch(P){et(n,h,P)}}var v=n.return;try{oc(n)}catch(P){et(n,v,P)}break;case 5:var w=n.return;try{oc(n)}catch(P){et(n,w,P)}}}catch(P){et(n,n.return,P)}if(n===e){xe=null;break}var j=n.sibling;if(j!==null){j.return=n.return,xe=j;break}xe=n.return}}var Tx=Math.ceil,Bi=H.ReactCurrentDispatcher,ac=H.ReactCurrentOwner,ln=H.ReactCurrentBatchConfig,Le=0,ut=null,rt=null,vt=0,Qt=0,No=cr(0),st=0,hs=null,zr=0,Fi=0,lc=0,ms=null,$t=null,cc=0,Co=1/0,Qn=null,$i=!1,uc=null,mr=null,zi=!1,gr=null,Vi=0,gs=0,dc=null,Hi=-1,Gi=0;function It(){return(Le&6)!==0?tt():Hi!==-1?Hi:Hi=tt()}function vr(e){return(e.mode&1)===0?1:(Le&2)!==0&&vt!==0?vt&-vt:gx.transition!==null?(Gi===0&&(Gi=Bd()),Gi):(e=Ve,e!==0||(e=window.event,e=e===void 0?16:qd(e.type)),e)}function wn(e,n,i,c){if(50<gs)throw gs=0,dc=null,Error(o(185));$o(e,i,c),((Le&2)===0||e!==ut)&&(e===ut&&((Le&2)===0&&(Fi|=i),st===4&&xr(e,vt)),zt(e,c),i===1&&Le===0&&(n.mode&1)===0&&(Co=tt()+500,xi&&dr()))}function zt(e,n){var i=e.callbackNode;g0(e,n);var c=Js(e,e===ut?vt:0);if(c===0)i!==null&&Od(i),e.callbackNode=null,e.callbackPriority=0;else if(n=c&-c,e.callbackPriority!==n){if(i!=null&&Od(i),n===1)e.tag===0?mx(Kp.bind(null,e)):Tf(Kp.bind(null,e)),dx(function(){(Le&6)===0&&dr()}),i=null;else{switch(Fd(c)){case 1:i=Ga;break;case 4:i=_d;break;case 16:i=Ys;break;case 536870912:i=Ld;break;default:i=Ys}i=nh(i,qp.bind(null,e))}e.callbackPriority=n,e.callbackNode=i}}function qp(e,n){if(Hi=-1,Gi=0,(Le&6)!==0)throw Error(o(327));var i=e.callbackNode;if(So()&&e.callbackNode!==i)return null;var c=Js(e,e===ut?vt:0);if(c===0)return null;if((c&30)!==0||(c&e.expiredLanes)!==0||n)n=Ui(e,c);else{n=c;var h=Le;Le|=2;var v=Qp();(ut!==e||vt!==n)&&(Qn=null,Co=tt()+500,Hr(e,n));do try{_x();break}catch(j){Yp(e,j)}while(!0);Pl(),Bi.current=v,Le=h,rt!==null?n=0:(ut=null,vt=0,n=st)}if(n!==0){if(n===2&&(h=Ua(e),h!==0&&(c=h,n=fc(e,h))),n===1)throw i=hs,Hr(e,0),xr(e,c),zt(e,tt()),i;if(n===6)xr(e,c);else{if(h=e.current.alternate,(c&30)===0&&!Mx(h)&&(n=Ui(e,c),n===2&&(v=Ua(e),v!==0&&(c=v,n=fc(e,v))),n===1))throw i=hs,Hr(e,0),xr(e,c),zt(e,tt()),i;switch(e.finishedWork=h,e.finishedLanes=c,n){case 0:case 1:throw Error(o(345));case 2:Gr(e,$t,Qn);break;case 3:if(xr(e,c),(c&130023424)===c&&(n=cc+500-tt(),10<n)){if(Js(e,0)!==0)break;if(h=e.suspendedLanes,(h&c)!==c){It(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=xl(Gr.bind(null,e,$t,Qn),n);break}Gr(e,$t,Qn);break;case 4:if(xr(e,c),(c&4194240)===c)break;for(n=e.eventTimes,h=-1;0<c;){var w=31-mn(c);v=1<<w,w=n[w],w>h&&(h=w),c&=~v}if(c=h,c=tt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Tx(c/1960))-c,10<c){e.timeoutHandle=xl(Gr.bind(null,e,$t,Qn),c);break}Gr(e,$t,Qn);break;case 5:Gr(e,$t,Qn);break;default:throw Error(o(329))}}}return zt(e,tt()),e.callbackNode===i?qp.bind(null,e):null}function fc(e,n){var i=ms;return e.current.memoizedState.isDehydrated&&(Hr(e,n).flags|=256),e=Ui(e,n),e!==2&&(n=$t,$t=i,n!==null&&pc(n)),e}function pc(e){$t===null?$t=e:$t.push.apply($t,e)}function Mx(e){for(var n=e;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var c=0;c<i.length;c++){var h=i[c],v=h.getSnapshot;h=h.value;try{if(!gn(v(),h))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function xr(e,n){for(n&=~lc,n&=~Fi,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var i=31-mn(n),c=1<<i;e[i]=-1,n&=~c}}function Kp(e){if((Le&6)!==0)throw Error(o(327));So();var n=Js(e,0);if((n&1)===0)return zt(e,tt()),null;var i=Ui(e,n);if(e.tag!==0&&i===2){var c=Ua(e);c!==0&&(n=c,i=fc(e,c))}if(i===1)throw i=hs,Hr(e,0),xr(e,n),zt(e,tt()),i;if(i===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Gr(e,$t,Qn),zt(e,tt()),null}function hc(e,n){var i=Le;Le|=1;try{return e(n)}finally{Le=i,Le===0&&(Co=tt()+500,xi&&dr())}}function Vr(e){gr!==null&&gr.tag===0&&(Le&6)===0&&So();var n=Le;Le|=1;var i=ln.transition,c=Ve;try{if(ln.transition=null,Ve=1,e)return e()}finally{Ve=c,ln.transition=i,Le=n,(Le&6)===0&&dr()}}function mc(){Qt=No.current,qe(No)}function Hr(e,n){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,ux(i)),rt!==null)for(i=rt.return;i!==null;){var c=i;switch(Sl(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&gi();break;case 3:yo(),qe(Lt),qe(St),Ll();break;case 5:Ol(c);break;case 4:yo();break;case 13:qe(Ze);break;case 19:qe(Ze);break;case 10:Rl(c.type._context);break;case 22:case 23:mc()}i=i.return}if(ut=e,rt=e=yr(e.current,null),vt=Qt=n,st=0,hs=null,lc=Fi=zr=0,$t=ms=null,Br!==null){for(n=0;n<Br.length;n++)if(i=Br[n],c=i.interleaved,c!==null){i.interleaved=null;var h=c.next,v=i.pending;if(v!==null){var w=v.next;v.next=h,c.next=w}i.pending=c}Br=null}return e}function Yp(e,n){do{var i=rt;try{if(Pl(),Ai.current=Ii,Pi){for(var c=Je.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}Pi=!1}if($r=0,ct=ot=Je=null,ls=!1,cs=0,ac.current=null,i===null||i.return===null){st=1,hs=n,rt=null;break}e:{var v=e,w=i.return,j=i,P=n;if(n=vt,j.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var K=P,ie=j,ce=ie.tag;if((ie.mode&1)===0&&(ce===0||ce===11||ce===15)){var se=ie.alternate;se?(ie.updateQueue=se.updateQueue,ie.memoizedState=se.memoizedState,ie.lanes=se.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var ge=bp(w);if(ge!==null){ge.flags&=-257,wp(ge,w,j,v,n),ge.mode&1&&yp(v,K,n),n=ge,P=K;var ye=n.updateQueue;if(ye===null){var be=new Set;be.add(P),n.updateQueue=be}else ye.add(P);break e}else{if((n&1)===0){yp(v,K,n),gc();break e}P=Error(o(426))}}else if(Ke&&j.mode&1){var nt=bp(w);if(nt!==null){(nt.flags&65536)===0&&(nt.flags|=256),wp(nt,w,j,v,n),jl(bo(P,j));break e}}v=P=bo(P,j),st!==4&&(st=2),ms===null?ms=[v]:ms.push(v),v=w;do{switch(v.tag){case 3:v.flags|=65536,n&=-n,v.lanes|=n;var U=vp(v,P,n);Gf(v,U);break e;case 1:j=P;var I=v.type,W=v.stateNode;if((v.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(mr===null||!mr.has(W)))){v.flags|=65536,n&=-n,v.lanes|=n;var de=xp(v,j,n);Gf(v,de);break e}}v=v.return}while(v!==null)}Zp(i)}catch(Ce){n=Ce,rt===i&&i!==null&&(rt=i=i.return);continue}break}while(!0)}function Qp(){var e=Bi.current;return Bi.current=Ii,e===null?Ii:e}function gc(){(st===0||st===3||st===2)&&(st=4),ut===null||(zr&268435455)===0&&(Fi&268435455)===0||xr(ut,vt)}function Ui(e,n){var i=Le;Le|=2;var c=Qp();(ut!==e||vt!==n)&&(Qn=null,Hr(e,n));do try{Ox();break}catch(h){Yp(e,h)}while(!0);if(Pl(),Le=i,Bi.current=c,rt!==null)throw Error(o(261));return ut=null,vt=0,st}function Ox(){for(;rt!==null;)Xp(rt)}function _x(){for(;rt!==null&&!a0();)Xp(rt)}function Xp(e){var n=th(e.alternate,e,Qt);e.memoizedProps=e.pendingProps,n===null?Zp(e):rt=n,ac.current=null}function Zp(e){var n=e;do{var i=n.alternate;if(e=n.return,(n.flags&32768)===0){if(i=Ax(i,n,Qt),i!==null){rt=i;return}}else{if(i=Px(i,n),i!==null){i.flags&=32767,rt=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{st=6,rt=null;return}}if(n=n.sibling,n!==null){rt=n;return}rt=n=e}while(n!==null);st===0&&(st=5)}function Gr(e,n,i){var c=Ve,h=ln.transition;try{ln.transition=null,Ve=1,Lx(e,n,i,c)}finally{ln.transition=h,Ve=c}return null}function Lx(e,n,i,c){do So();while(gr!==null);if((Le&6)!==0)throw Error(o(327));i=e.finishedWork;var h=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var v=i.lanes|i.childLanes;if(v0(e,v),e===ut&&(rt=ut=null,vt=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||zi||(zi=!0,nh(Ys,function(){return So(),null})),v=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||v){v=ln.transition,ln.transition=null;var w=Ve;Ve=1;var j=Le;Le|=4,ac.current=null,kx(e,i),Vp(i,e),rx(gl),ni=!!ml,gl=ml=null,e.current=i,Ix(i),l0(),Le=j,Ve=w,ln.transition=v}else e.current=i;if(zi&&(zi=!1,gr=e,Vi=h),v=e.pendingLanes,v===0&&(mr=null),d0(i.stateNode),zt(e,tt()),n!==null)for(c=e.onRecoverableError,i=0;i<n.length;i++)h=n[i],c(h.value,{componentStack:h.stack,digest:h.digest});if($i)throw $i=!1,e=uc,uc=null,e;return(Vi&1)!==0&&e.tag!==0&&So(),v=e.pendingLanes,(v&1)!==0?e===dc?gs++:(gs=0,dc=e):gs=0,dr(),null}function So(){if(gr!==null){var e=Fd(Vi),n=ln.transition,i=Ve;try{if(ln.transition=null,Ve=16>e?16:e,gr===null)var c=!1;else{if(e=gr,gr=null,Vi=0,(Le&6)!==0)throw Error(o(331));var h=Le;for(Le|=4,xe=e.current;xe!==null;){var v=xe,w=v.child;if((xe.flags&16)!==0){var j=v.deletions;if(j!==null){for(var P=0;P<j.length;P++){var K=j[P];for(xe=K;xe!==null;){var ie=xe;switch(ie.tag){case 0:case 11:case 15:ps(8,ie,v)}var ce=ie.child;if(ce!==null)ce.return=ie,xe=ce;else for(;xe!==null;){ie=xe;var se=ie.sibling,ge=ie.return;if(Lp(ie),ie===K){xe=null;break}if(se!==null){se.return=ge,xe=se;break}xe=ge}}}var ye=v.alternate;if(ye!==null){var be=ye.child;if(be!==null){ye.child=null;do{var nt=be.sibling;be.sibling=null,be=nt}while(be!==null)}}xe=v}}if((v.subtreeFlags&2064)!==0&&w!==null)w.return=v,xe=w;else e:for(;xe!==null;){if(v=xe,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:ps(9,v,v.return)}var U=v.sibling;if(U!==null){U.return=v.return,xe=U;break e}xe=v.return}}var I=e.current;for(xe=I;xe!==null;){w=xe;var W=w.child;if((w.subtreeFlags&2064)!==0&&W!==null)W.return=w,xe=W;else e:for(w=I;xe!==null;){if(j=xe,(j.flags&2048)!==0)try{switch(j.tag){case 0:case 11:case 15:Li(9,j)}}catch(Ce){et(j,j.return,Ce)}if(j===w){xe=null;break e}var de=j.sibling;if(de!==null){de.return=j.return,xe=de;break e}xe=j.return}}if(Le=h,dr(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(Qs,e)}catch{}c=!0}return c}finally{Ve=i,ln.transition=n}}return!1}function Jp(e,n,i){n=bo(i,n),n=vp(e,n,1),e=pr(e,n,1),n=It(),e!==null&&($o(e,1,n),zt(e,n))}function et(e,n,i){if(e.tag===3)Jp(e,e,i);else for(;n!==null;){if(n.tag===3){Jp(n,e,i);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(mr===null||!mr.has(c))){e=bo(i,e),e=xp(n,e,1),n=pr(n,e,1),e=It(),n!==null&&($o(n,1,e),zt(n,e));break}}n=n.return}}function Bx(e,n,i){var c=e.pingCache;c!==null&&c.delete(n),n=It(),e.pingedLanes|=e.suspendedLanes&i,ut===e&&(vt&i)===i&&(st===4||st===3&&(vt&130023424)===vt&&500>tt()-cc?Hr(e,0):lc|=i),zt(e,n)}function eh(e,n){n===0&&((e.mode&1)===0?n=1:(n=Zs,Zs<<=1,(Zs&130023424)===0&&(Zs=4194304)));var i=It();e=qn(e,n),e!==null&&($o(e,n,i),zt(e,i))}function Fx(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),eh(e,i)}function $x(e,n){var i=0;switch(e.tag){case 13:var c=e.stateNode,h=e.memoizedState;h!==null&&(i=h.retryLane);break;case 19:c=e.stateNode;break;default:throw Error(o(314))}c!==null&&c.delete(n),eh(e,i)}var th;th=function(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps||Lt.current)Ft=!0;else{if((e.lanes&i)===0&&(n.flags&128)===0)return Ft=!1,jx(e,n,i);Ft=(e.flags&131072)!==0}else Ft=!1,Ke&&(n.flags&1048576)!==0&&Mf(n,bi,n.index);switch(n.lanes=0,n.tag){case 2:var c=n.type;Oi(e,n),e=n.pendingProps;var h=fo(n,St.current);xo(n,i),h=$l(null,n,c,e,h,i);var v=zl();return n.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Bt(c)?(v=!0,vi(n)):v=!1,n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Tl(n),h.updater=Ti,n.stateNode=h,h._reactInternals=n,ql(n,c,e,i),n=Xl(null,n,c,!0,v,i)):(n.tag=0,Ke&&v&&Cl(n),kt(null,n,h,i),n=n.child),n;case 16:c=n.elementType;e:{switch(Oi(e,n),e=n.pendingProps,h=c._init,c=h(c._payload),n.type=c,h=n.tag=Vx(c),e=xn(c,e),h){case 0:n=Ql(null,n,c,e,i);break e;case 1:n=jp(null,n,c,e,i);break e;case 11:n=Np(null,n,c,e,i);break e;case 14:n=Cp(null,n,c,xn(c.type,e),i);break e}throw Error(o(306,c,""))}return n;case 0:return c=n.type,h=n.pendingProps,h=n.elementType===c?h:xn(c,h),Ql(e,n,c,h,i);case 1:return c=n.type,h=n.pendingProps,h=n.elementType===c?h:xn(c,h),jp(e,n,c,h,i);case 3:e:{if(Ap(n),e===null)throw Error(o(387));c=n.pendingProps,v=n.memoizedState,h=v.element,Hf(e,n),Di(n,c,null,i);var w=n.memoizedState;if(c=w.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},n.updateQueue.baseState=v,n.memoizedState=v,n.flags&256){h=bo(Error(o(423)),n),n=Pp(e,n,c,i,h);break e}else if(c!==h){h=bo(Error(o(424)),n),n=Pp(e,n,c,i,h);break e}else for(Yt=lr(n.stateNode.containerInfo.firstChild),Kt=n,Ke=!0,vn=null,i=zf(n,null,c,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(mo(),c===h){n=Yn(e,n,i);break e}kt(e,n,c,i)}n=n.child}return n;case 5:return Wf(n),e===null&&Dl(n),c=n.type,h=n.pendingProps,v=e!==null?e.memoizedProps:null,w=h.children,vl(c,h)?w=null:v!==null&&vl(c,v)&&(n.flags|=32),Dp(e,n),kt(e,n,w,i),n.child;case 6:return e===null&&Dl(n),null;case 13:return Rp(e,n,i);case 4:return Ml(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=go(n,null,c,i):kt(e,n,c,i),n.child;case 11:return c=n.type,h=n.pendingProps,h=n.elementType===c?h:xn(c,h),Np(e,n,c,h,i);case 7:return kt(e,n,n.pendingProps,i),n.child;case 8:return kt(e,n,n.pendingProps.children,i),n.child;case 12:return kt(e,n,n.pendingProps.children,i),n.child;case 10:e:{if(c=n.type._context,h=n.pendingProps,v=n.memoizedProps,w=h.value,Ue(Ci,c._currentValue),c._currentValue=w,v!==null)if(gn(v.value,w)){if(v.children===h.children&&!Lt.current){n=Yn(e,n,i);break e}}else for(v=n.child,v!==null&&(v.return=n);v!==null;){var j=v.dependencies;if(j!==null){w=v.child;for(var P=j.firstContext;P!==null;){if(P.context===c){if(v.tag===1){P=Kn(-1,i&-i),P.tag=2;var K=v.updateQueue;if(K!==null){K=K.shared;var ie=K.pending;ie===null?P.next=P:(P.next=ie.next,ie.next=P),K.pending=P}}v.lanes|=i,P=v.alternate,P!==null&&(P.lanes|=i),kl(v.return,i,n),j.lanes|=i;break}P=P.next}}else if(v.tag===10)w=v.type===n.type?null:v.child;else if(v.tag===18){if(w=v.return,w===null)throw Error(o(341));w.lanes|=i,j=w.alternate,j!==null&&(j.lanes|=i),kl(w,i,n),w=v.sibling}else w=v.child;if(w!==null)w.return=v;else for(w=v;w!==null;){if(w===n){w=null;break}if(v=w.sibling,v!==null){v.return=w.return,w=v;break}w=w.return}v=w}kt(e,n,h.children,i),n=n.child}return n;case 9:return h=n.type,c=n.pendingProps.children,xo(n,i),h=sn(h),c=c(h),n.flags|=1,kt(e,n,c,i),n.child;case 14:return c=n.type,h=xn(c,n.pendingProps),h=xn(c.type,h),Cp(e,n,c,h,i);case 15:return Sp(e,n,n.type,n.pendingProps,i);case 17:return c=n.type,h=n.pendingProps,h=n.elementType===c?h:xn(c,h),Oi(e,n),n.tag=1,Bt(c)?(e=!0,vi(n)):e=!1,xo(n,i),mp(n,c,h),ql(n,c,h,i),Xl(null,n,c,!0,e,i);case 19:return Ip(e,n,i);case 22:return Ep(e,n,i)}throw Error(o(156,n.tag))};function nh(e,n){return Md(e,n)}function zx(e,n,i,c){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,n,i,c){return new zx(e,n,i,c)}function vc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vx(e){if(typeof e=="function")return vc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===k)return 11;if(e===oe)return 14}return 2}function yr(e,n){var i=e.alternate;return i===null?(i=cn(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Wi(e,n,i,c,h,v){var w=2;if(c=e,typeof e=="function")vc(e)&&(w=1);else if(typeof e=="string")w=5;else e:switch(e){case R:return Ur(i.children,h,v,n);case L:w=8,h|=8;break;case J:return e=cn(12,i,n,h|2),e.elementType=J,e.lanes=v,e;case O:return e=cn(13,i,n,h),e.elementType=O,e.lanes=v,e;case G:return e=cn(19,i,n,h),e.elementType=G,e.lanes=v,e;case le:return qi(i,h,v,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ne:w=10;break e;case ae:w=9;break e;case k:w=11;break e;case oe:w=14;break e;case ee:w=16,c=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return n=cn(w,i,n,h),n.elementType=e,n.type=c,n.lanes=v,n}function Ur(e,n,i,c){return e=cn(7,e,c,n),e.lanes=i,e}function qi(e,n,i,c){return e=cn(22,e,c,n),e.elementType=le,e.lanes=i,e.stateNode={isHidden:!1},e}function xc(e,n,i){return e=cn(6,e,null,n),e.lanes=i,e}function yc(e,n,i){return n=cn(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Hx(e,n,i,c,h){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wa(0),this.expirationTimes=Wa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wa(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function bc(e,n,i,c,h,v,w,j,P){return e=new Hx(e,n,i,j,P),n===1?(n=1,v===!0&&(n|=8)):n=0,v=cn(3,null,null,n),e.current=v,v.stateNode=e,v.memoizedState={element:c,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tl(v),e}function Gx(e,n,i){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:c==null?null:""+c,children:e,containerInfo:n,implementation:i}}function rh(e){if(!e)return ur;e=e._reactInternals;e:{if(Tr(e)!==e||e.tag!==1)throw Error(o(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Bt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(o(171))}if(e.tag===1){var i=e.type;if(Bt(i))return kf(e,i,n)}return n}function oh(e,n,i,c,h,v,w,j,P){return e=bc(i,c,!0,e,h,v,w,j,P),e.context=rh(null),i=e.current,c=It(),h=vr(i),v=Kn(c,h),v.callback=n??null,pr(i,v,h),e.current.lanes=h,$o(e,h,c),zt(e,c),e}function Ki(e,n,i,c){var h=n.current,v=It(),w=vr(h);return i=rh(i),n.context===null?n.context=i:n.pendingContext=i,n=Kn(v,w),n.payload={element:e},c=c===void 0?null:c,c!==null&&(n.callback=c),e=pr(h,n,w),e!==null&&(wn(e,h,w,v),Ei(e,h,w)),w}function Yi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function wc(e,n){sh(e,n),(e=e.alternate)&&sh(e,n)}function Ux(){return null}var ih=typeof reportError=="function"?reportError:function(e){console.error(e)};function Nc(e){this._internalRoot=e}Qi.prototype.render=Nc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));Ki(e,n,null,null)},Qi.prototype.unmount=Nc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Vr(function(){Ki(null,e,null,null)}),n[Hn]=null}};function Qi(e){this._internalRoot=e}Qi.prototype.unstable_scheduleHydration=function(e){if(e){var n=Vd();e={blockedOn:null,target:e,priority:n};for(var i=0;i<sr.length&&n!==0&&n<sr[i].priority;i++);sr.splice(i,0,e),i===0&&Ud(e)}};function Cc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ah(){}function Wx(e,n,i,c,h){if(h){if(typeof c=="function"){var v=c;c=function(){var K=Yi(w);v.call(K)}}var w=oh(n,c,e,0,null,!1,!1,"",ah);return e._reactRootContainer=w,e[Hn]=w.current,es(e.nodeType===8?e.parentNode:e),Vr(),w}for(;h=e.lastChild;)e.removeChild(h);if(typeof c=="function"){var j=c;c=function(){var K=Yi(P);j.call(K)}}var P=bc(e,0,!1,null,null,!1,!1,"",ah);return e._reactRootContainer=P,e[Hn]=P.current,es(e.nodeType===8?e.parentNode:e),Vr(function(){Ki(n,P,i,c)}),P}function Zi(e,n,i,c,h){var v=i._reactRootContainer;if(v){var w=v;if(typeof h=="function"){var j=h;h=function(){var P=Yi(w);j.call(P)}}Ki(n,w,e,h)}else w=Wx(i,n,e,h,c);return Yi(w)}$d=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var i=Fo(n.pendingLanes);i!==0&&(qa(n,i|1),zt(n,tt()),(Le&6)===0&&(Co=tt()+500,dr()))}break;case 13:Vr(function(){var c=qn(e,1);if(c!==null){var h=It();wn(c,e,1,h)}}),wc(e,1)}},Ka=function(e){if(e.tag===13){var n=qn(e,134217728);if(n!==null){var i=It();wn(n,e,134217728,i)}wc(e,134217728)}},zd=function(e){if(e.tag===13){var n=vr(e),i=qn(e,n);if(i!==null){var c=It();wn(i,e,n,c)}wc(e,n)}},Vd=function(){return Ve},Hd=function(e,n){var i=Ve;try{return Ve=e,n()}finally{Ve=i}},tr=function(e,n,i){switch(n){case"input":if(bt(e,i),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var c=i[n];if(c!==e&&c.form===e.form){var h=mi(c);if(!h)throw Error(o(90));ve(c),bt(c,h)}}}break;case"textarea":Rr(e,i);break;case"select":n=i.value,n!=null&&wt(e,!!i.multiple,n,!1)}},Be=hc,$e=Vr;var qx={usingClientEntryPoint:!1,Events:[rs,co,mi,he,Re,hc]},vs={findFiberByHostInstance:Mr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kx={bundleType:vs.bundleType,version:vs.version,rendererPackageName:vs.rendererPackageName,rendererConfig:vs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Id(e),e===null?null:e.stateNode},findFiberByHostInstance:vs.findFiberByHostInstance||Ux,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ji=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ji.isDisabled&&Ji.supportsFiber)try{Qs=Ji.inject(Kx),In=Ji}catch{}}return Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qx,Vt.createPortal=function(e,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cc(n))throw Error(o(200));return Gx(e,n,null,i)},Vt.createRoot=function(e,n){if(!Cc(e))throw Error(o(299));var i=!1,c="",h=ih;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),n=bc(e,1,!1,null,null,i,!1,c,h),e[Hn]=n.current,es(e.nodeType===8?e.parentNode:e),new Nc(n)},Vt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=Id(n),e=e===null?null:e.stateNode,e},Vt.flushSync=function(e){return Vr(e)},Vt.hydrate=function(e,n,i){if(!Xi(n))throw Error(o(200));return Zi(null,e,n,!0,i)},Vt.hydrateRoot=function(e,n,i){if(!Cc(e))throw Error(o(405));var c=i!=null&&i.hydratedSources||null,h=!1,v="",w=ih;if(i!=null&&(i.unstable_strictMode===!0&&(h=!0),i.identifierPrefix!==void 0&&(v=i.identifierPrefix),i.onRecoverableError!==void 0&&(w=i.onRecoverableError)),n=oh(n,null,e,1,i??null,h,!1,v,w),e[Hn]=n.current,es(e),c)for(e=0;e<c.length;e++)i=c[e],h=i._getVersion,h=h(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,h]:n.mutableSourceEagerHydrationData.push(i,h);return new Qi(n)},Vt.render=function(e,n,i){if(!Xi(n))throw Error(o(200));return Zi(null,e,n,!1,i)},Vt.unmountComponentAtNode=function(e){if(!Xi(e))throw Error(o(40));return e._reactRootContainer?(Vr(function(){Zi(null,null,e,!1,function(){e._reactRootContainer=null,e[Hn]=null})}),!0):!1},Vt.unstable_batchedUpdates=hc,Vt.unstable_renderSubtreeIntoContainer=function(e,n,i,c){if(!Xi(i))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return Zi(e,n,i,!1,c)},Vt.version="18.3.1-next-f1338f8080-20240426",Vt}var mh;function sg(){if(mh)return Dc.exports;mh=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),Dc.exports=ny(),Dc.exports}var gh;function ry(){if(gh)return ta;gh=1;var t=sg();return ta.createRoot=t.createRoot,ta.hydrateRoot=t.hydrateRoot,ta}var oy=ry();const sy=Ar(oy);var Pc,vh;function iy(){if(vh)return Pc;vh=1,Pc=t;function t(r,o,s){if(r!=null&&typeof r!="number")throw new Error("start must be a number or null");if(o!=null&&typeof o!="number")throw new Error("stop must be a number or null");if(s!=null&&typeof s!="number")throw new Error("step must be a number or null");o==null&&(o=r||0,r=0),s==null&&(s=o>r?1:-1);for(var a=[],l=r<o;l?r<o:r>o;r+=s)a.push(r);return a}return Pc}var ay=iy();const Lu=Ar(ay);var Rc={exports:{}},kc,xh;function ly(){if(xh)return kc;xh=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return kc=t,kc}var Ic,yh;function cy(){if(yh)return Ic;yh=1;var t=ly();function r(){}function o(){}return o.resetWarningCache=r,Ic=function(){function s(d,f,p,m,x,g){if(g!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}s.isRequired=s;function a(){return s}var l={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:a,element:s,elementType:s,instanceOf:a,node:s,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:o,resetWarningCache:r};return l.PropTypes=l,l},Ic}var bh;function uy(){return bh||(bh=1,Rc.exports=cy()()),Rc.exports}var dy=uy();const Ee=Ar(dy);var Tc={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var wh;function fy(){return wh||(wh=1,function(t){(function(){var r={}.hasOwnProperty;function o(){for(var l="",d=0;d<arguments.length;d++){var f=arguments[d];f&&(l=a(l,s(f)))}return l}function s(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return o.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var d="";for(var f in l)r.call(l,f)&&l[f]&&(d=a(d,f));return d}function a(l,d){return d?l?l+" "+d:l+d:l}t.exports?(o.default=o,t.exports=o):window.classNames=o})()}(Tc)),Tc.exports}var py=fy();const At=Ar(py);var Mc,Nh;function hy(){if(Nh)return Mc;Nh=1;var t=200,r="__lodash_hash_undefined__",o=9007199254740991,s="[object Arguments]",a="[object Function]",l="[object GeneratorFunction]",d=/[\\^$.*+?()[\]{}|]/g,f=/^\[object .+?Constructor\]$/,p=typeof ea=="object"&&ea&&ea.Object===Object&&ea,m=typeof self=="object"&&self&&self.Object===Object&&self,x=p||m||Function("return this")();function g(_,te,he){switch(he.length){case 0:return _.call(te);case 1:return _.call(te,he[0]);case 2:return _.call(te,he[0],he[1]);case 3:return _.call(te,he[0],he[1],he[2])}return _.apply(te,he)}function y(_,te){var he=_?_.length:0;return!!he&&D(_,te,0)>-1}function N(_,te){for(var he=-1,Re=te.length,Be=_.length;++he<Re;)_[Be+he]=te[he];return _}function S(_,te,he,Re){for(var Be=_.length,$e=he+-1;++$e<Be;)if(te(_[$e],$e,_))return $e;return-1}function D(_,te,he){if(te!==te)return S(_,E,he);for(var Re=he-1,Be=_.length;++Re<Be;)if(_[Re]===te)return Re;return-1}function E(_){return _!==_}function $(_,te){return _.has(te)}function V(_,te){return _?.[te]}function B(_){var te=!1;if(_!=null&&typeof _.toString!="function")try{te=!!(_+"")}catch{}return te}var H=Array.prototype,M=Function.prototype,z=Object.prototype,R=x["__core-js_shared__"],L=function(){var _=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||"");return _?"Symbol(src)_1."+_:""}(),J=M.toString,ne=z.hasOwnProperty,ae=z.toString,k=RegExp("^"+J.call(ne).replace(d,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),O=x.Symbol,G=z.propertyIsEnumerable,oe=H.splice,ee=O?O.isConcatSpreadable:void 0,le=Math.max,Y=Gt(x,"Map"),Z=Gt(Object,"create");function Q(_){var te=-1,he=_?_.length:0;for(this.clear();++te<he;){var Re=_[te];this.set(Re[0],Re[1])}}function A(){this.__data__=Z?Z(null):{}}function C(_){return this.has(_)&&delete this.__data__[_]}function F(_){var te=this.__data__;if(Z){var he=te[_];return he===r?void 0:he}return ne.call(te,_)?te[_]:void 0}function X(_){var te=this.__data__;return Z?te[_]!==void 0:ne.call(te,_)}function q(_,te){var he=this.__data__;return he[_]=Z&&te===void 0?r:te,this}Q.prototype.clear=A,Q.prototype.delete=C,Q.prototype.get=F,Q.prototype.has=X,Q.prototype.set=q;function re(_){var te=-1,he=_?_.length:0;for(this.clear();++te<he;){var Re=_[te];this.set(Re[0],Re[1])}}function we(){this.__data__=[]}function ue(_){var te=this.__data__,he=wt(te,_);if(he<0)return!1;var Re=te.length-1;return he==Re?te.pop():oe.call(te,he,1),!0}function pe(_){var te=this.__data__,he=wt(te,_);return he<0?void 0:te[he][1]}function me(_){return wt(this.__data__,_)>-1}function Te(_,te){var he=this.__data__,Re=wt(he,_);return Re<0?he.push([_,te]):he[Re][1]=te,this}re.prototype.clear=we,re.prototype.delete=ue,re.prototype.get=pe,re.prototype.has=me,re.prototype.set=Te;function ve(_){var te=-1,he=_?_.length:0;for(this.clear();++te<he;){var Re=_[te];this.set(Re[0],Re[1])}}function Pe(){this.__data__={hash:new Q,map:new(Y||re),string:new Q}}function Me(_){return Fn(this,_).delete(_)}function ke(_){return Fn(this,_).get(_)}function Ge(_){return Fn(this,_).has(_)}function bt(_,te){return Fn(this,_).set(_,te),this}ve.prototype.clear=Pe,ve.prototype.delete=Me,ve.prototype.get=ke,ve.prototype.has=Ge,ve.prototype.set=bt;function tn(_){var te=-1,he=_?_.length:0;for(this.__data__=new ve;++te<he;)this.add(_[te])}function nn(_){return this.__data__.set(_,r),this}function lt(_){return this.__data__.has(_)}tn.prototype.add=tn.prototype.push=nn,tn.prototype.has=lt;function wt(_,te){for(var he=_.length;he--;)if(eo(_[he][0],te))return he;return-1}function jn(_,te,he,Re){var Be=-1,$e=y,Qe=!0,Rt=_.length,He=[],Ot=te.length;if(!Rt)return He;te.length>=t&&($e=$,Qe=!1,te=new tn(te));e:for(;++Be<Rt;){var Xe=_[Be],Ct=Xe;if(Xe=Xe!==0?Xe:0,Qe&&Ct===Ct){for(var _t=Ot;_t--;)if(te[_t]===Ct)continue e;He.push(Xe)}else $e(te,Ct,Re)||He.push(Xe)}return He}function Pr(_,te,he,Re,Be){var $e=-1,Qe=_.length;for(he||(he=Ut),Be||(Be=[]);++$e<Qe;){var Rt=_[$e];he(Rt)&&N(Be,Rt)}return Be}function Rr(_){if(!tr(_)||Pn(_))return!1;var te=zn(_)||B(_)?k:f;return te.test(Nt(_))}function Zr(_,te){return te=le(te===void 0?_.length-1:te,0),function(){for(var he=arguments,Re=-1,Be=le(he.length-te,0),$e=Array(Be);++Re<Be;)$e[Re]=he[te+Re];Re=-1;for(var Qe=Array(te+1);++Re<te;)Qe[Re]=he[Re];return Qe[te]=$e,g(_,this,Qe)}}function Fn(_,te){var he=_.__data__;return An(te)?he[typeof te=="string"?"string":"hash"]:he.map}function Gt(_,te){var he=V(_,te);return Rr(he)?he:void 0}function Ut(_){return kr(_)||to(_)||!!(ee&&_&&_[ee])}function An(_){var te=typeof _;return te=="string"||te=="number"||te=="symbol"||te=="boolean"?_!=="__proto__":_===null}function Pn(_){return!!L&&L in _}function Nt(_){if(_!=null){try{return J.call(_)}catch{}try{return _+""}catch{}}return""}var Jr=Zr(function(_,te){return $n(_)?jn(_,Pr(te,1,$n)):[]});function eo(_,te){return _===te||_!==_&&te!==te}function to(_){return $n(_)&&ne.call(_,"callee")&&(!G.call(_,"callee")||ae.call(_)==s)}var kr=Array.isArray;function er(_){return _!=null&&Ir(_.length)&&!zn(_)}function $n(_){return Rn(_)&&er(_)}function zn(_){var te=tr(_)?ae.call(_):"";return te==a||te==l}function Ir(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=o}function tr(_){var te=typeof _;return!!_&&(te=="object"||te=="function")}function Rn(_){return!!_&&typeof _=="object"}return Mc=Jr,Mc}var my=hy();const Ch=Ar(my);function Pa(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function gy(t,r){for(var o=0;o<r.length;o++){var s=r[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function Ra(t,r,o){return r&&gy(t.prototype,r),t}function Ye(t,r,o){return r in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,t}function gu(){return gu=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},gu.apply(this,arguments)}function ka(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),r&&vu(t,r)}function Do(t){return Do=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},Do(t)}function vu(t,r){return vu=Object.setPrototypeOf||function(s,a){return s.__proto__=a,s},vu(t,r)}function vy(t,r){if(t==null)return{};var o={},s=Object.keys(t),a,l;for(l=0;l<s.length;l++)a=s[l],!(r.indexOf(a)>=0)&&(o[a]=t[a]);return o}function xy(t,r){if(t==null)return{};var o=vy(t,r),s,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)s=l[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(o[s]=t[s])}return o}function ft(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ia(t,r){return r&&(typeof r=="object"||typeof r=="function")?r:ft(t)}function yy(t,r){return by(t)||wy(t,r)||Ny()}function by(t){if(Array.isArray(t))return t}function wy(t,r){var o=[],s=!0,a=!1,l=void 0;try{for(var d=t[Symbol.iterator](),f;!(s=(f=d.next()).done)&&(o.push(f.value),!(r&&o.length===r));s=!0);}catch(p){a=!0,l=p}finally{try{!s&&d.return!=null&&d.return()}finally{if(a)throw l}}return o}function Ny(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var Cy=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],Sy=["Db","Eb","Gb","Ab","Bb"],Ey={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},ua=12,Bu=ua,Fu=127,Dy=/([a-g])([#b]?)(\d+)/,xu=12;function jy(t){if(!t)throw Error("Invalid note argument");var r=Dy.exec(t.toLowerCase());if(!r)throw Error("Invalid note argument");var o=yy(r,4),s=o[1],a=o[2],l=o[3],d="".concat(s.toUpperCase()).concat(a),f=Ey[d];if(f==null)throw Error("Invalid note argument");return ua+f+xu*parseInt(l,10)}function Ay(t){var r=(t-ua)%xu,o=Math.floor((t-ua)/xu),s=Cy[r];return{note:"".concat(s).concat(o),pitchName:s,octave:o,midiNumber:t,isAccidental:Sy.includes(s)}}function Py(){return Lu(Bu,Fu+1).reduce(function(t,r){return t[r]=Ay(r),t},{})}var Ry=Py();function ig(t){var r=Ry[t];if(!r)throw Error("Invalid MIDI number");return r}var ky=Lu(Bu,Fu+1).filter(function(t){return!ig(t).isAccidental}),Pt={fromNote:jy,getAttributes:ig,MIN_MIDI_NUMBER:Bu,MAX_MIDI_NUMBER:Fu,NATURAL_MIDI_NUMBERS:ky},$u=function(t){ka(r,t);function r(){var o,s;Pa(this,r);for(var a=arguments.length,l=new Array(a),d=0;d<a;d++)l[d]=arguments[d];return s=Ia(this,(o=Do(r)).call.apply(o,[this].concat(l))),Ye(ft(s),"onPlayNoteInput",function(){s.props.onPlayNoteInput(s.props.midiNumber)}),Ye(ft(s),"onStopNoteInput",function(){s.props.onStopNoteInput(s.props.midiNumber)}),s}return Ra(r,[{key:"getAbsoluteKeyPosition",value:function(s){var a=7,l=Pt.getAttributes(s),d=l.octave,f=l.pitchName,p=this.props.pitchPositions[f],m=a*d;return p+m}},{key:"getRelativeKeyPosition",value:function(s){return this.getAbsoluteKeyPosition(s)-this.getAbsoluteKeyPosition(this.props.noteRange.first)}},{key:"render",value:function(){var s=this.props,a=s.naturalKeyWidth,l=s.accidentalWidthRatio,d=s.midiNumber,f=s.gliss,p=s.useTouchEvents,m=s.accidental,x=s.active,g=s.disabled,y=s.children;return Ne.createElement("div",{className:At("ReactPiano__Key",{"ReactPiano__Key--accidental":m,"ReactPiano__Key--natural":!m,"ReactPiano__Key--disabled":g,"ReactPiano__Key--active":x}),style:{left:Sh(this.getRelativeKeyPosition(d)*a),width:Sh(m?l*a:a)},onMouseDown:p?null:this.onPlayNoteInput,onMouseUp:p?null:this.onStopNoteInput,onMouseEnter:f?this.onPlayNoteInput:null,onMouseLeave:this.onStopNoteInput,onTouchStart:p?this.onPlayNoteInput:null,onTouchCancel:p?this.onStopNoteInput:null,onTouchEnd:p?this.onStopNoteInput:null},Ne.createElement("div",{className:"ReactPiano__NoteLabelContainer"},y))}}]),r}(Ne.Component);Ye($u,"propTypes",{midiNumber:Ee.number.isRequired,naturalKeyWidth:Ee.number.isRequired,gliss:Ee.bool.isRequired,useTouchEvents:Ee.bool.isRequired,accidental:Ee.bool.isRequired,active:Ee.bool.isRequired,disabled:Ee.bool.isRequired,onPlayNoteInput:Ee.func.isRequired,onStopNoteInput:Ee.func.isRequired,accidentalWidthRatio:Ee.number.isRequired,pitchPositions:Ee.object.isRequired,children:Ee.node});Ye($u,"defaultProps",{accidentalWidthRatio:.65,pitchPositions:{C:0,Db:.55,D:1,Eb:1.8,E:2,F:3,Gb:3.5,G:4,Ab:4.7,A:5,Bb:5.85,B:6}});function Sh(t){return"".concat(t*100,"%")}var zu=function(t){ka(r,t);function r(){return Pa(this,r),Ia(this,Do(r).apply(this,arguments))}return Ra(r,[{key:"getMidiNumbers",value:function(){return Lu(this.props.noteRange.first,this.props.noteRange.last+1)}},{key:"getNaturalKeyCount",value:function(){return this.getMidiNumbers().filter(function(s){var a=Pt.getAttributes(s),l=a.isAccidental;return!l}).length}},{key:"getNaturalKeyWidth",value:function(){return 1/this.getNaturalKeyCount()}},{key:"getWidth",value:function(){return this.props.width?this.props.width:"100%"}},{key:"getHeight",value:function(){if(!this.props.width)return"100%";var s=this.props.width*this.getNaturalKeyWidth();return"".concat(s/this.props.keyWidthToHeight,"px")}},{key:"render",value:function(){var s=this,a=this.getNaturalKeyWidth();return Ne.createElement("div",{className:At("ReactPiano__Keyboard",this.props.className),style:{width:this.getWidth(),height:this.getHeight()}},this.getMidiNumbers().map(function(l){var d=Pt.getAttributes(l);d.note;var f=d.isAccidental,p=!s.props.disabled&&s.props.activeNotes.includes(l);return Ne.createElement($u,{naturalKeyWidth:a,midiNumber:l,noteRange:s.props.noteRange,active:p,accidental:f,disabled:s.props.disabled,onPlayNoteInput:s.props.onPlayNoteInput,onStopNoteInput:s.props.onStopNoteInput,gliss:s.props.gliss,useTouchEvents:s.props.useTouchEvents,key:l},s.props.disabled?null:s.props.renderNoteLabel({isActive:p,isAccidental:f,midiNumber:l}))}))}}]),r}(Ne.Component);Ye(zu,"propTypes",{noteRange:Iy,activeNotes:Ee.arrayOf(Ee.number),onPlayNoteInput:Ee.func.isRequired,onStopNoteInput:Ee.func.isRequired,renderNoteLabel:Ee.func.isRequired,keyWidthToHeight:Ee.number.isRequired,className:Ee.string,disabled:Ee.bool,gliss:Ee.bool,useTouchEvents:Ee.bool,width:Ee.number});Ye(zu,"defaultProps",{disabled:!1,gliss:!1,useTouchEvents:!1,keyWidthToHeight:.33,renderNoteLabel:function(){}});function Eh(t){return typeof t!="number"?!1:Pt.NATURAL_MIDI_NUMBERS.includes(t)}function Iy(t,r,o){var s=t[r],a=s.first,l=s.last;if(!a||!l)return new Error("Invalid prop ".concat(r," supplied to ").concat(o,". ").concat(r," must be an object with .first and .last values."));if(!Eh(a)||!Eh(l))return new Error("Invalid prop ".concat(r," supplied to ").concat(o,". ").concat(r," values must be valid MIDI numbers, and should not be accidentals (sharp or flat notes)."));if(a>=l)return new Error("Invalid prop ".concat(r," supplied to ").concat(o,". ").concat(r,".first must be smaller than ").concat(r,".last."))}var Vu=function(t){ka(r,t);function r(){var o,s;Pa(this,r);for(var a=arguments.length,l=new Array(a),d=0;d<a;d++)l[d]=arguments[d];return s=Ia(this,(o=Do(r)).call.apply(o,[this].concat(l))),Ye(ft(s),"state",{isMouseDown:!1,useTouchEvents:!1}),Ye(ft(s),"handleNoteChanges",function(f){var p=f.prevActiveNotes,m=f.nextActiveNotes;if(!s.props.disabled){var x=Ch(p,m),g=Ch(m,p);g.forEach(function(y){s.props.playNote(y)}),x.forEach(function(y){s.props.stopNote(y)})}}),Ye(ft(s),"getMidiNumberForKey",function(f){if(!s.props.keyboardShortcuts)return null;var p=s.props.keyboardShortcuts.find(function(m){return m.key===f});return p&&p.midiNumber}),Ye(ft(s),"getKeyForMidiNumber",function(f){if(!s.props.keyboardShortcuts)return null;var p=s.props.keyboardShortcuts.find(function(m){return m.midiNumber===f});return p&&p.key}),Ye(ft(s),"onKeyDown",function(f){if(!(f.ctrlKey||f.metaKey||f.shiftKey)){var p=s.getMidiNumberForKey(f.key);p&&s.onPlayNoteInput(p)}}),Ye(ft(s),"onKeyUp",function(f){var p=s.getMidiNumberForKey(f.key);p&&s.onStopNoteInput(p)}),Ye(ft(s),"onPlayNoteInput",function(f){s.props.disabled||s.props.onPlayNoteInput(f,s.props.activeNotes)}),Ye(ft(s),"onStopNoteInput",function(f){s.props.disabled||s.props.onStopNoteInput(f,s.props.activeNotes)}),Ye(ft(s),"onMouseDown",function(){s.setState({isMouseDown:!0})}),Ye(ft(s),"onMouseUp",function(){s.setState({isMouseDown:!1})}),Ye(ft(s),"onTouchStart",function(){s.setState({useTouchEvents:!0})}),Ye(ft(s),"renderNoteLabel",function(f){var p=f.midiNumber,m=f.isActive,x=f.isAccidental,g=s.getKeyForMidiNumber(p);return s.props.renderNoteLabel({keyboardShortcut:g,midiNumber:p,isActive:m,isAccidental:x})}),s}return Ra(r,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)}},{key:"componentDidUpdate",value:function(s,a){this.props.activeNotes!==s.activeNotes&&this.handleNoteChanges({prevActiveNotes:s.activeNotes||[],nextActiveNotes:this.props.activeNotes||[]})}},{key:"render",value:function(){return Ne.createElement("div",{style:{width:"100%",height:"100%"},onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchStart:this.onTouchStart,"data-testid":"container"},Ne.createElement(zu,{noteRange:this.props.noteRange,onPlayNoteInput:this.onPlayNoteInput,onStopNoteInput:this.onStopNoteInput,activeNotes:this.props.activeNotes,className:this.props.className,disabled:this.props.disabled,width:this.props.width,keyWidthToHeight:this.props.keyWidthToHeight,gliss:this.state.isMouseDown,useTouchEvents:this.state.useTouchEvents,renderNoteLabel:this.renderNoteLabel}))}}]),r}(Ne.Component);Ye(Vu,"propTypes",{noteRange:Ee.object.isRequired,activeNotes:Ee.arrayOf(Ee.number.isRequired).isRequired,playNote:Ee.func.isRequired,stopNote:Ee.func.isRequired,onPlayNoteInput:Ee.func.isRequired,onStopNoteInput:Ee.func.isRequired,renderNoteLabel:Ee.func.isRequired,className:Ee.string,disabled:Ee.bool,width:Ee.number,keyWidthToHeight:Ee.number,keyboardShortcuts:Ee.arrayOf(Ee.shape({key:Ee.string.isRequired,midiNumber:Ee.number.isRequired}))});Ye(Vu,"defaultProps",{renderNoteLabel:function(r){var o=r.keyboardShortcut;r.midiNumber;var s=r.isActive,a=r.isAccidental;return o?Ne.createElement("div",{className:At("ReactPiano__NoteLabel",{"ReactPiano__NoteLabel--active":s,"ReactPiano__NoteLabel--accidental":a,"ReactPiano__NoteLabel--natural":!a})},o):null}});var Hu=function(t){ka(r,t);function r(){var o,s;Pa(this,r);for(var a=arguments.length,l=new Array(a),d=0;d<a;d++)l[d]=arguments[d];return s=Ia(this,(o=Do(r)).call.apply(o,[this].concat(l))),Ye(ft(s),"state",{activeNotes:s.props.activeNotes||[]}),Ye(ft(s),"handlePlayNoteInput",function(f){s.setState(function(p){return s.props.onPlayNoteInput&&s.props.onPlayNoteInput(f,{prevActiveNotes:p.activeNotes}),p.activeNotes.includes(f)?null:{activeNotes:p.activeNotes.concat(f)}})}),Ye(ft(s),"handleStopNoteInput",function(f){s.setState(function(p){return s.props.onStopNoteInput&&s.props.onStopNoteInput(f,{prevActiveNotes:s.state.activeNotes}),{activeNotes:p.activeNotes.filter(function(m){return f!==m})}})}),s}return Ra(r,[{key:"componentDidUpdate",value:function(s){s.activeNotes!==this.props.activeNotes&&this.state.activeNotes!==this.props.activeNotes&&this.setState({activeNotes:this.props.activeNotes||[]})}},{key:"render",value:function(){var s=this.props;s.activeNotes,s.onPlayNoteInput,s.onStopNoteInput;var a=xy(s,["activeNotes","onPlayNoteInput","onStopNoteInput"]);return Ne.createElement(Vu,gu({activeNotes:this.state.activeNotes,onPlayNoteInput:this.handlePlayNoteInput,onStopNoteInput:this.handleStopNoteInput},a))}}]),r}(Ne.Component);Ye(Hu,"propTypes",{noteRange:Ee.object.isRequired,activeNotes:Ee.arrayOf(Ee.number.isRequired),playNote:Ee.func.isRequired,stopNote:Ee.func.isRequired,onPlayNoteInput:Ee.func,onStopNoteInput:Ee.func,renderNoteLabel:Ee.func,className:Ee.string,disabled:Ee.bool,width:Ee.number,keyWidthToHeight:Ee.number,keyboardShortcuts:Ee.arrayOf(Ee.shape({key:Ee.string.isRequired,midiNumber:Ee.number.isRequired}))});function Ty(t){for(var r=t.firstNote,o=t.lastNote,s=t.keyboardConfig,a=r,l=0,d=[];l<s.length&&a<=o;){var f=s[l],p=Pt.getAttributes(a),m=p.isAccidental;m?d.push({key:f.flat,midiNumber:a}):(d.push({key:f.natural,midiNumber:a}),l+=1),a+=1}return d}var Dh={create:Ty,BOTTOM_ROW:[{natural:"z",flat:"a",sharp:"s"},{natural:"x",flat:"s",sharp:"d"},{natural:"c",flat:"d",sharp:"f"},{natural:"v",flat:"f",sharp:"g"},{natural:"b",flat:"g",sharp:"h"},{natural:"n",flat:"h",sharp:"j"},{natural:"m",flat:"j",sharp:"k"},{natural:",",flat:"k",sharp:"l"},{natural:".",flat:"l",sharp:";"},{natural:"/",flat:";",sharp:"'"}],HOME_ROW:[{natural:"a",flat:"q",sharp:"w"},{natural:"s",flat:"w",sharp:"e"},{natural:"d",flat:"e",sharp:"r"},{natural:"f",flat:"r",sharp:"t"},{natural:"g",flat:"t",sharp:"y"},{natural:"h",flat:"y",sharp:"u"},{natural:"j",flat:"u",sharp:"i"},{natural:"k",flat:"i",sharp:"o"},{natural:"l",flat:"o",sharp:"p"},{natural:";",flat:"p",sharp:"["},{natural:"'",flat:"[",sharp:"]"}],QWERTY_ROW:[{natural:"q",flat:"1",sharp:"2"},{natural:"w",flat:"2",sharp:"3"},{natural:"e",flat:"3",sharp:"4"},{natural:"r",flat:"4",sharp:"5"},{natural:"t",flat:"5",sharp:"6"},{natural:"y",flat:"6",sharp:"7"},{natural:"u",flat:"7",sharp:"8"},{natural:"i",flat:"8",sharp:"9"},{natural:"o",flat:"9",sharp:"0"},{natural:"p",flat:"0",sharp:"-"},{natural:"[",flat:"-",sharp:"="}]};const jh=t=>{let r;const o=new Set,s=(m,x)=>{const g=typeof m=="function"?m(r):m;if(!Object.is(g,r)){const y=r;r=x??(typeof g!="object"||g===null)?g:Object.assign({},r,g),o.forEach(N=>N(r,y))}},a=()=>r,f={setState:s,getState:a,getInitialState:()=>p,subscribe:m=>(o.add(m),()=>o.delete(m))},p=r=t(s,a,f);return f},My=t=>t?jh(t):jh,Oy=t=>t;function _y(t,r=Oy){const o=Ne.useSyncExternalStore(t.subscribe,Ne.useCallback(()=>r(t.getState()),[t,r]),Ne.useCallback(()=>r(t.getInitialState()),[t,r]));return Ne.useDebugValue(o),o}const Ah=t=>{const r=My(t),o=s=>_y(r,s);return Object.assign(o,r),o},Ro=t=>t?Ah(t):Ah;class Ph extends Error{constructor(r,o,s){super(s),this.name="ApiError",this.url=o.url,this.status=o.status,this.statusText=o.statusText,this.body=o.body,this.request=r}}class Ly extends Error{constructor(r){super(r),this.name="CancelError"}get isCancelled(){return!0}}class By{#t;#n;#e;#r;#s;#i;#o;constructor(r){this.#t=!1,this.#n=!1,this.#e=!1,this.#r=[],this.#s=new Promise((o,s)=>{this.#i=o,this.#o=s;const a=f=>{this.#t||this.#n||this.#e||(this.#t=!0,this.#i&&this.#i(f))},l=f=>{this.#t||this.#n||this.#e||(this.#n=!0,this.#o&&this.#o(f))},d=f=>{this.#t||this.#n||this.#e||this.#r.push(f)};return Object.defineProperty(d,"isResolved",{get:()=>this.#t}),Object.defineProperty(d,"isRejected",{get:()=>this.#n}),Object.defineProperty(d,"isCancelled",{get:()=>this.#e}),r(a,l,d)})}get[Symbol.toStringTag](){return"Cancellable Promise"}then(r,o){return this.#s.then(r,o)}catch(r){return this.#s.catch(r)}finally(r){return this.#s.finally(r)}cancel(){if(!(this.#t||this.#n||this.#e)){if(this.#e=!0,this.#r.length)try{for(const r of this.#r)r()}catch(r){console.warn("Cancellation threw an error",r);return}this.#r.length=0,this.#o&&this.#o(new Ly("Request aborted"))}}get isCancelled(){return this.#e}}const Gu={BASE:"http://localhost:8080",VERSION:"0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0},Uu=t=>t!=null,Hs=t=>typeof t=="string",Oc=t=>Hs(t)&&t!=="",Wu=t=>typeof t=="object"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.arrayBuffer=="function"&&typeof t.constructor=="function"&&typeof t.constructor.name=="string"&&/^(Blob|File)$/.test(t.constructor.name)&&/^(Blob|File)$/.test(t[Symbol.toStringTag]),ag=t=>t instanceof FormData,Fy=t=>{try{return btoa(t)}catch{return Buffer.from(t).toString("base64")}},$y=t=>{const r=[],o=(a,l)=>{r.push(`${encodeURIComponent(a)}=${encodeURIComponent(String(l))}`)},s=(a,l)=>{Uu(l)&&(Array.isArray(l)?l.forEach(d=>{s(a,d)}):typeof l=="object"?Object.entries(l).forEach(([d,f])=>{s(`${a}[${d}]`,f)}):o(a,l))};return Object.entries(t).forEach(([a,l])=>{s(a,l)}),r.length>0?`?${r.join("&")}`:""},zy=(t,r)=>{const o=encodeURI,s=r.url.replace("{api-version}",t.VERSION).replace(/{(.*?)}/g,(l,d)=>r.path?.hasOwnProperty(d)?o(String(r.path[d])):l),a=`${t.BASE}${s}`;return r.query?`${a}${$y(r.query)}`:a},Vy=t=>{if(t.formData){const r=new FormData,o=(s,a)=>{Hs(a)||Wu(a)?r.append(s,a):r.append(s,JSON.stringify(a))};return Object.entries(t.formData).filter(([s,a])=>Uu(a)).forEach(([s,a])=>{Array.isArray(a)?a.forEach(l=>o(s,l)):o(s,a)}),r}},na=async(t,r)=>r,Hy=async(t,r)=>{const[o,s,a,l]=await Promise.all([na(r,t.TOKEN),na(r,t.USERNAME),na(r,t.PASSWORD),na(r,t.HEADERS)]),d=Object.entries({Accept:"application/json",...l,...r.headers}).filter(([f,p])=>Uu(p)).reduce((f,[p,m])=>({...f,[p]:String(m)}),{});if(Oc(o)&&(d.Authorization=`Bearer ${o}`),Oc(s)&&Oc(a)){const f=Fy(`${s}:${a}`);d.Authorization=`Basic ${f}`}return r.body&&(r.mediaType?d["Content-Type"]=r.mediaType:Wu(r.body)?d["Content-Type"]=r.body.type||"application/octet-stream":Hs(r.body)?d["Content-Type"]="text/plain":ag(r.body)||(d["Content-Type"]="application/json")),new Headers(d)},Gy=t=>{if(t.body!==void 0)return t.mediaType?.includes("/json")?JSON.stringify(t.body):Hs(t.body)||Wu(t.body)||ag(t.body)?t.body:JSON.stringify(t.body)},Uy=async(t,r,o,s,a,l,d)=>{const f=new AbortController,p={headers:l,body:s??a,method:r.method,signal:f.signal};return d(()=>f.abort()),await fetch(o,p)},Wy=(t,r)=>{if(r){const o=t.headers.get(r);if(Hs(o))return o}},qy=async t=>{if(t.status!==204)try{const r=t.headers.get("Content-Type");if(r)return["application/json","application/problem+json"].some(a=>r.toLowerCase().startsWith(a))?await t.json():await t.text()}catch(r){console.error(r)}},Ky=(t,r)=>{const s={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...t.errors}[r.status];if(s)throw new Ph(t,r,s);if(!r.ok){const a=r.status??"unknown",l=r.statusText??"unknown",d=(()=>{try{return JSON.stringify(r.body,null,2)}catch{return}})();throw new Ph(t,r,`Generic Error: status: ${a}; status text: ${l}; body: ${d}`)}},qu=(t,r)=>new By(async(o,s,a)=>{try{const l=zy(t,r),d=Vy(r),f=Gy(r),p=await Hy(t,r);if(!a.isCancelled){const m=await Uy(t,r,l,f,d,p,a),x=await qy(m),g=Wy(m,r.responseHeader),y={url:l,ok:m.ok,status:m.status,statusText:m.statusText,body:g??x};Ky(r,y),o(y.body)}}catch(l){s(l)}});class Rh{static getModeKeyChords(r,o){return qu(Gu,{method:"GET",url:"/api/chords",query:{key:r,mode:o}})}}class _c{static getModes(){return qu(Gu,{method:"GET",url:"/api/modes"})}}class Yy{static getScaleNotes(r,o){return qu(Gu,{method:"GET",url:"/api/scales",query:{key:r,mode:o}})}}class Qy{constructor(){this.baseUrl="/data",this.indexCache=null,this.modesCache=null,this.chordsCache=new Map,this.scalesCache=new Map,this.distinctChordsCache=null}normalizeKey(r){const o=r.trim();return o.length===0?"":o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()}async loadIndex(){if(this.indexCache)return this.indexCache;try{const r=await fetch(`${this.baseUrl}/index.json`);if(!r.ok)throw new Error(`Failed to load index: ${r.statusText}`);return this.indexCache=await r.json(),this.indexCache}catch(r){throw console.error("Error loading static data index:",r),new Error("Failed to load static data. Please ensure the data generation completed successfully.")}}async getModes(){if(this.modesCache)return this.modesCache;try{const r=await fetch(`${this.baseUrl}/modes.json`);if(!r.ok)throw new Error(`Failed to load modes: ${r.statusText}`);return this.modesCache=await r.json(),this.modesCache}catch(r){throw console.error("Error loading modes from static data:",r),r}}async getModeKeyChords(r,o){try{const s=this.normalizeKey(r),l=(await this.loadIndex()).modes.find(m=>m.name===o);if(!l||!l.id)throw new Error(`Mode "${o}" not found`);const d=l.id.toString();if(this.chordsCache.has(d))return this.chordsCache.get(d).filter(x=>x.keyName===s);const f=await fetch(`${this.baseUrl}/chords-mode-${d}.json`);if(!f.ok)throw new Error(`Failed to load chords for mode ${o}: ${f.statusText}`);const p=await f.json();return this.chordsCache.set(d,p),p.filter(m=>m.keyName===s)}catch(s){throw console.error("Error loading chords from static data:",s),s}}async getScaleNotes(r,o){try{const s=this.normalizeKey(r),l=(await this.loadIndex()).modes.find(m=>m.name===o);if(!l||!l.id)throw new Error(`Mode "${o}" not found`);const d=l.id.toString();if(this.scalesCache.has(d))return this.scalesCache.get(d)[s]||[];const f=await fetch(`${this.baseUrl}/scales-mode-${d}.json`);if(!f.ok)throw new Error(`Failed to load scales for mode ${o}: ${f.statusText}`);const p=await f.json();return this.scalesCache.set(d,p),p[s]||[]}catch(s){throw console.error("Error loading scale notes from static data:",s),s}}async getAllDistinctChords(){if(this.distinctChordsCache)return this.distinctChordsCache;try{const r=await this.loadIndex(),o=[];for(const s of r.modes){if(!s.id)continue;const a=s.id.toString();try{if(this.chordsCache.has(a))o.push(...this.chordsCache.get(a));else{const l=await fetch(`${this.baseUrl}/chords-mode-${a}.json`);if(!l.ok){console.warn(`Failed to load chords for mode ${s.name} (ID: ${a}): ${l.statusText}`);continue}const d=await l.json();this.chordsCache.set(a,d),o.push(...d)}}catch(l){console.warn(`Error loading chords for mode ${s.name}:`,l)}}return this.distinctChordsCache=this.deduplicateChords(o),this.distinctChordsCache}catch(r){throw console.error("Error loading all distinct chords from static data:",r),r}}deduplicateChords(r){const o=new Map;for(const s of r){let a;a=s.chordName.trim(),o.has(a)||o.set(a,s)}return Array.from(o.values())}async getMetadata(){const r=await this.loadIndex();return{generatedAt:r.generated_at,modesCount:r.modes.length}}clearCache(){this.indexCache=null,this.modesCache=null,this.chordsCache.clear(),this.scalesCache.clear(),this.distinctChordsCache=null}}const Wr=new Qy,Xy={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080",VITE_USE_STATIC_DATA:"true"};function Zy(){try{return Xy||{}}catch{return console.warn("Failed to access import.meta.env, using fallbacks"),{}}}const Jy=Zy();function kh(t,r=""){const o=Jy[t];return typeof o=="string"?o:r}class eb{constructor(){const r=kh("VITE_USE_STATIC_DATA","true");console.log("Initializing DataService with environment:",{useStaticData:r}),this.config={useStaticData:r.toLowerCase()!=="false",apiBaseUrl:kh("VITE_API_BASE_URL","http://localhost:8080")},console.log("DataService initialized with config:",this.config)}async getModes(){return this.config.useStaticData?(console.log("Loading modes from static data"),Wr.getModes()):(console.log("Loading modes from API"),_c.getModes())}async getModeKeyChords(r,o){return this.config.useStaticData?Wr.getModeKeyChords(r,o):Rh.getModeKeyChords(r,o)}async getScaleNotes(r,o){return this.config.useStaticData?Wr.getScaleNotes(r,o):Yy.getScaleNotes(r,o)}async getAllDistinctChords(){if(this.config.useStaticData)return console.log("Loading all distinct chords from static data"),Wr.getAllDistinctChords();{console.log("Loading all distinct chords from API");const r=await _c.getModes(),o=yu,s=[];for(const a of r)for(const l of o)try{const d=await Rh.getModeKeyChords(l,a.name);s.push(...d)}catch(d){console.warn(`Failed to load chords for ${a.name} in ${l}:`,d)}return this.deduplicateChords(s)}}deduplicateChords(r){const o=new Map;for(const s of r){let a;if(s.chordName&&s.chordName.trim()!=="")a=s.chordName.trim();else if(s.chordNoteNames&&s.chordNoteNames.trim()!=="")a=s.chordNoteNames.trim();else if(s.chordTypeId!==void 0&&s.chordNoteName)a=`${s.chordNoteName}_type_${s.chordTypeId}`;else if(s.chordNotes&&s.chordNotes.trim()!=="")a=s.chordNotes.trim();else{const l=[];s.chordNote!==void 0&&l.push(`note_${s.chordNote}`),s.chordTypeId!==void 0&&l.push(`type_${s.chordTypeId}`),s.chordNoteName&&l.push(s.chordNoteName),a=l.length>0?l.join("_"):JSON.stringify(s)}o.has(a)||o.set(a,s)}return Array.from(o.values())}getConfig(){return{...this.config}}updateConfig(r){this.config={...this.config,...r},console.log("DataService configuration updated:",this.config),r.useStaticData!==void 0&&Wr.clearCache()}async getDataSourceInfo(){if(this.config.useStaticData)try{return{source:"static",metadata:await Wr.getMetadata()}}catch{return{source:"static",metadata:{error:"Failed to load metadata"}}}else return{source:"api",metadata:{baseUrl:this.config.apiBaseUrl}}}async testConnection(){const r=Date.now();try{return this.config.useStaticData?await Wr.getModes():await _c.getModes(),{success:!0,responseTime:Date.now()-r}}catch(o){return{success:!1,error:o instanceof Error?o.message:"Unknown error",responseTime:Date.now()-r}}}}const Sr=new eb,tb={"C##":"D","D##":"E","E#":"F","F##":"G","G##":"A","A##":"B","B#":"C",Cb:"B",Db:"C#",Eb:"D#",Fb:"E",Gb:"F#",Ab:"G#",Bb:"A#",Dbb:"C",Ebb:"D",Fbb:"E",Gbb:"F",Abb:"G",Bbb:"A",Cbb:"B"},Yr=t=>{if(t)return tb[t]||t},da=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],lg=(t,r)=>{const o={Db:"C#",Eb:"D#",Gb:"F#",Ab:"G#",Bb:"A#"},s=o[t]||t,a=o[r]||r,l=da.indexOf(s),d=da.indexOf(a);if(l===-1||d===-1)return 0;let f=d-l;return f>6&&(f-=12),f<-5&&(f+=12),f},cg=(t,r)=>{const o={Db:"C#",Eb:"D#",Gb:"F#",Ab:"G#",Bb:"A#"};let s=t;o[t]&&(s=o[t]);const a=da.indexOf(s);if(a===-1)return t;const l=(a+r+12)%12;return da[l]},ug=(t,r)=>{let o="",s="";return t.length>=2&&(t[1]==="#"||t[1]==="b")?(o=t.substring(0,2),s=t.substring(2)):t.length>=1&&(o=t[0],s=t.substring(1)),cg(o,r)+s},fa=(t,r)=>t.split(" ").map(o=>cg(o,r)).join(" ");Ro((t,r)=>({activeNotes:[],activeChordIndex:null,highlightedChordIndex:null,addedChords:[],temporaryChord:null,isPlayingScale:!1,scalePlaybackTimeouts:[],setActiveNotes:o=>t({activeNotes:o}),setAddedChords:o=>t({addedChords:o}),setActiveChordIndex:o=>t({activeChordIndex:o}),setHighlightedChordIndex:o=>t({highlightedChordIndex:o}),setTemporaryChord:o=>t({temporaryChord:o}),setIsPlayingScale:o=>t({isPlayingScale:o}),addChord:(o,s,a,l,d)=>t(f=>({addedChords:[...f.addedChords,{name:o,notes:s,pattern:[...a],originalKey:l,originalMode:d,originalNotes:s}]})),updateChord:(o,s)=>t(a=>{const l=[...a.addedChords];return l[o]={...s},{addedChords:l}}),removeChord:o=>t(s=>{const a=s.addedChords.filter((d,f)=>f!==o);let l=s.activeChordIndex;return s.activeChordIndex===o?l=null:s.activeChordIndex!==null&&s.activeChordIndex>o&&(l=s.activeChordIndex-1),{addedChords:a,activeChordIndex:l}}),clearAllChords:()=>t({addedChords:[],activeChordIndex:null,temporaryChord:null}),updateChordPattern:(o,s)=>t(a=>{const l=[...a.addedChords];return l[o]={...l[o],pattern:[...s]},{addedChords:l}}),playNotes:o=>{t({activeNotes:[]}),setTimeout(()=>t({activeNotes:o}),10)},handleFetchOriginalChord:async(o,s,a)=>{try{const l=await Sr.getModeKeyChords(s,a);console.log("Fetching original chord for",o,"in",s,a),console.log("Fetched modeKeyChords from dataService:",l);const d=l.find(f=>f.chordName===o);return console.log("Fetched original chord from dataService:",d),d?.chordNoteNames||null}catch(l){return console.error("Failed to fetch original chord:",l),null}},addScalePlaybackTimeout:o=>t(s=>({scalePlaybackTimeouts:[...s.scalePlaybackTimeouts,o]})),clearScalePlaybackTimeouts:()=>{const{scalePlaybackTimeouts:o}=r();o.forEach(clearTimeout),t({scalePlaybackTimeouts:[]})},transposeAddedChords:async(o,s,a)=>{const{addedChords:l,handleFetchOriginalChord:d}=r();console.log(`Transposing added chords from ${o} to ${s} (${a})`),console.log(l);const f=lg(o,s),p=await Promise.all(l.map(async m=>{const x=ug(m.name,f);console.log(`Transposing chord ${m.name} (${m.notes}) from ${o} to ${s}: ${x}`);const g=await d(x,s,a);if(g)return{...m,name:x,notes:g,originalKey:s,originalMode:a,originalNotes:g};{const y=fa(m.notes,f),N=m.originalNotes?fa(m.originalNotes,f):y;return{...m,name:x,notes:y,originalNotes:N}}}));t({addedChords:p})}}));const Cn=Ro((t,r)=>({chords:void 0,scaleNotes:[],key:"C",mode:"Ionian",modes:[],loadingChords:!1,normalizedScaleNotes:[],allDistinctChords:void 0,loadingAllChords:!1,showAllChords:!1,setKey:o=>{t({key:o}),r().fetchMusicData(o,r().mode)},setMode:o=>{t({mode:o}),r().fetchMusicData(r().key,o)},setModes:o=>{t({modes:o});const{key:s,mode:a,chords:l}=r();!l&&s&&a&&r().fetchMusicData(s,a)},setKeyAndMode:(o,s)=>{t({key:o,mode:s}),r().fetchMusicData(o,s)},fetchMusicData:async(o,s)=>{if(!(!o||!s)){t({loadingChords:!0});try{const[a,l]=await Promise.all([Sr.getModeKeyChords(o,s),Sr.getScaleNotes(o,s)]),d=l.map(f=>f.noteName?Yr(f.noteName):null).filter(Boolean);t({chords:a,scaleNotes:l,normalizedScaleNotes:d,loadingChords:!1})}catch(a){console.error("Error fetching music data:",a),t({loadingChords:!1})}}},initialize:async()=>{const{key:o,mode:s}=r();await r().fetchMusicData(o,s)},fetchAllDistinctChords:async()=>{const{allDistinctChords:o}=r();if(!o){t({loadingAllChords:!0});try{const s=await Sr.getAllDistinctChords();t({allDistinctChords:s,loadingAllChords:!1})}catch(s){console.error("Error fetching all distinct chords:",s),t({loadingAllChords:!1})}}},toggleShowAllChords:()=>{const{showAllChords:o,allDistinctChords:s}=r(),a=!o;t({showAllChords:a}),a&&!s&&r().fetchAllDistinctChords()},setShowAllChords:o=>{t({showAllChords:o}),o&&!r().allDistinctChords&&r().fetchAllDistinctChords()}})),nb=["electric_piano_1","acoustic_grand_piano","bright_acoustic_piano","electric_grand_piano","honkytonk_piano","electric_piano_2","harpsichord","clavinet"],rb=()=>({instrumentName:"electric_piano_1",cutOffPreviousNotes:!0,eq:{bass:0,mid:0,treble:0},octaveOffset:0,reverbLevel:0,noteDuration:.8,volume:.8,chorusLevel:0,delayLevel:0}),Cs=Ro((t,r)=>({pianoSettings:rb(),availableInstruments:nb,updatePianoSettings:o=>t(s=>({pianoSettings:{...s.pianoSettings,...o}})),setPianoInstrument:o=>r().updatePianoSettings({instrumentName:o}),setCutOffPreviousNotes:o=>r().updatePianoSettings({cutOffPreviousNotes:o}),setEq:o=>r().updatePianoSettings({eq:o}),setOctaveOffset:o=>r().updatePianoSettings({octaveOffset:o}),setReverbLevel:o=>r().updatePianoSettings({reverbLevel:o}),setNoteDuration:o=>r().updatePianoSettings({noteDuration:o}),setVolume:o=>r().updatePianoSettings({volume:o}),setChorusLevel:o=>r().updatePianoSettings({chorusLevel:o}),setDelayLevel:o=>r().updatePianoSettings({delayLevel:o}),setAvailableInstruments:o=>t({availableInstruments:o})})),Ln=Ro((t,r)=>({activeNotes:[],activeChordIndex:null,highlightedChordIndex:null,addedChords:[],temporaryChord:null,isPlayingScale:!1,scalePlaybackTimeouts:[],setActiveNotes:o=>t({activeNotes:o}),setAddedChords:o=>t({addedChords:o}),setActiveChordIndex:o=>t({activeChordIndex:o}),setHighlightedChordIndex:o=>t({highlightedChordIndex:o}),setTemporaryChord:o=>t({temporaryChord:o}),setIsPlayingScale:o=>t({isPlayingScale:o}),addChord:(o,s,a,l,d)=>t(f=>({addedChords:[...f.addedChords,{name:o,notes:s,pattern:[...a],originalKey:l,originalMode:d,originalNotes:s}]})),updateChord:(o,s)=>t(a=>{const l=[...a.addedChords];return l[o]={...s},{addedChords:l}}),removeChord:o=>t(s=>{const a=s.addedChords.filter((d,f)=>f!==o);let l=s.activeChordIndex;return s.activeChordIndex===o?l=null:s.activeChordIndex!==null&&s.activeChordIndex>o&&(l=s.activeChordIndex-1),{addedChords:a,activeChordIndex:l}}),clearAllChords:()=>t({addedChords:[],activeChordIndex:null,temporaryChord:null}),updateChordPattern:(o,s)=>t(a=>{const l=[...a.addedChords];return l[o]={...l[o],pattern:[...s]},{addedChords:l}}),playNotes:o=>{t({activeNotes:[]}),setTimeout(()=>t({activeNotes:o}),10)},handleFetchOriginalChord:async(o,s,a)=>{try{const l=await Sr.getModeKeyChords(s,a);console.log("Fetching original chord for",o,"in",s,a),console.log("Fetched modeKeyChords from dataService:",l);const d=l.find(f=>f.chordName===o);return console.log("Fetched original chord from dataService:",d),d?.chordNoteNames||null}catch(l){return console.error("Failed to fetch original chord:",l),null}},addScalePlaybackTimeout:o=>t(s=>({scalePlaybackTimeouts:[...s.scalePlaybackTimeouts,o]})),clearScalePlaybackTimeouts:()=>{const{scalePlaybackTimeouts:o}=r();o.forEach(clearTimeout),t({scalePlaybackTimeouts:[]})}})),ko=Ro((t,r)=>({globalPatternState:{currentPattern:["1","2","3","4"],isPlaying:!1,bpm:120,subdivision:.25,swing:0,currentStep:0,repeat:!0,lastChordChangeTime:0,globalClockStartTime:0},currentlyActivePattern:["1","2","3","4"],setGlobalPatternState:o=>t(s=>({globalPatternState:{...s.globalPatternState,...o}})),setCurrentlyActivePattern:o=>t({currentlyActivePattern:o}),togglePlayback:()=>{const{globalPatternState:o}=r(),s=!o.isPlaying;t(a=>({globalPatternState:{...a.globalPatternState,isPlaying:s}}))},updatePattern:o=>{t(s=>({globalPatternState:{...s.globalPatternState,...o}}))}})),dg=Ro(t=>({isDeleteMode:!1,isLiveMode:!1,showPatternSystem:!1,setIsDeleteMode:r=>t({isDeleteMode:r}),setIsLiveMode:r=>t({isLiveMode:r}),setShowPatternSystem:r=>t({showPatternSystem:r}),toggleDeleteMode:()=>t(r=>({isDeleteMode:!r.isDeleteMode})),toggleLiveMode:()=>t(r=>({isLiveMode:!r.isLiveMode})),togglePatternSystem:()=>t(r=>({showPatternSystem:!r.showPatternSystem}))}));function ob(){const[t,r]=b.useState(),[o,s]=b.useState(null);return b.useEffect(()=>{(async()=>{try{const l=await Sr.getModes();r(l.map(d=>d.name))}catch(l){s(l),console.error("Error fetching modes:",l)}})()},[]),{modes:t,error:o}}const Ih=["C","D","E","F","G","A","B"],pa=(t,r,o)=>{const s=o.split(", ");let a=Ih.indexOf(Yr(s[0])[0]),l=t;return s.map((d,f)=>{const p=Yr(d),m=Ih.indexOf(p[0]);return m<a&&f>0&&l++,l>r&&(l=r),a=m,{note:p,octave:l}})},xt=t=>Math.max(0,Math.round(t)).toString(36),it=t=>parseInt(t,36)||0,sb=(t,r,o,s,a,l,d,f,p,m,x,g,y,N)=>{if(!N?.length||!x.length||!g.length)return"";try{const S="v7",D=x.indexOf(t),E=xt(Math.max(0,D)),$=g.indexOf(r),V=xt(Math.max(0,$)),B=s.slice(0,16).map(pe=>pe.replace(/[xX]/gi,"0")).join("."),H=Math.max(60,Math.min(200,a)),M=xt(H-60),R={.125:"0",.25:"1",.5:"2",1:"3",2:"4"}[l]||"1",L=Math.max(0,Math.min(50,d)),J=xt(L),ne=(f?2:0)+(p?1:0),ae=xt(ne),k=`${M}|${R}|${J}|${ae}`,O=y.indexOf(m.instrumentName),G=xt(Math.max(0,O)),oe=m.cutOffPreviousNotes?"1":"0",ee=xt(Math.round(m.eq.bass)+24),le=xt(Math.round(m.eq.mid)+24),Y=xt(Math.round(m.eq.treble)+24),Z=xt(m.octaveOffset+3),Q=xt(Math.round(m.reverbLevel*35)),A=xt(Math.max(0,Math.round(m.noteDuration*10)-1)),C=xt(Math.round(m.volume*35)),F=xt(Math.round(m.chorusLevel*35)),X=xt(Math.round(m.delayLevel*35)),q=`${G}|${oe}|${ee}|${le}|${Y}|${Z}|${Q}|${A}|${C}|${F}|${X}`,we=o.map(pe=>{const me=encodeURIComponent(pe.name),Te=encodeURIComponent(pe.notes);let ve=`${me}~${Te}`;if(pe.originalKey&&pe.originalMode){const ke=x.indexOf(pe.originalKey),Ge=g.indexOf(pe.originalMode);ke>=0&&Ge>=0&&(ve+=`@${xt(ke)}${xt(Ge)}`)}const Pe=pe.pattern.map(ke=>ke.replace(/[xX]/gi,"0")).join("."),Me=s.map(ke=>ke.replace(/[xX]/gi,"0")).join(".");if(Pe===Me)return ve;{const ke=pe.pattern.slice(0,16).map(Ge=>Ge.replace(/[xX]/gi,"0")).join(".");return`${ve}:${ke}`}}).filter(Boolean).join("|");return`${S}_${E}_${V}_${B}_${k}_${q}_${we}`}catch(S){return console.error("Failed to encode state:",S),""}},ib=(t,r,o,s,a)=>{if(console.log("Decoding state:",t),!t||!a?.length||!r.length||!o.length)return console.log("Cannot decode - missing data"),null;try{const l=t.split("_"),d=l[0];if(!["v2","v3","v4","v5","v6","v7"].includes(d)||l.length<6)return console.log("Invalid state format or version"),null;const f=it(l[1]||"0"),p=r[f]||r[0],m=it(l[2]||"0"),x=o[m]||o[0],g=l[3]||(d==="v4"||d==="v5"||d==="v6"||d==="v7"?"1.2.3.4":"1234"),y=d==="v4"||d==="v5"||d==="v6"||d==="v7"?g.split(".").map(k=>k==="0"?"x":k):g.split("").map(k=>k==="0"?"x":k),N=(l[4]||"").split("|"),S=it(N[0]||"60")+60,E={0:.125,1:.25,2:.5,3:1,4:2}[N[1]||"1"]||.25,$=it(N[2]||"0"),V=it(N[3]||"0"),B=(V&2)!==0,H=(V&1)!==0,M=(l[5]||"").split("|"),R={volume:.8,chorusLevel:0,delayLevel:0},L={instrumentName:s[it(M[0]||"0")]||s[0]||"electric_piano_1",cutOffPreviousNotes:(M[1]||"1")==="1",eq:{bass:it(M[2]||"o")-24,mid:it(M[3]||"o")-24,treble:it(M[4]||"o")-24},octaveOffset:it(M[5]||"3")-3,reverbLevel:it(M[6]||"0")/35,noteDuration:(it(M[7]||"7")+1)/10,volume:d==="v6"||d==="v7"?it(M[8]||Math.round(R.volume*35).toString(36))/35:R.volume,chorusLevel:d==="v6"||d==="v7"?it(M[9]||"0")/35:R.chorusLevel,delayLevel:d==="v6"||d==="v7"?it(M[10]||"0")/35:R.delayLevel},J=[],ne=l[6]||"";if(ne){const k=ne.split("|").filter(Boolean);for(const O of k)if(d==="v5"||d==="v6"||d==="v7"){const[G,oe]=O.split(":");let ee=G,le,Y;if(d==="v7"&&G.includes("@")){const[A,C]=G.split("@");if(ee=A,C.length>=2){const F=it(C[0]),X=it(C[1]);le=r[F],Y=o[X]}}const[Z,Q]=ee.split("~");if(Z&&Q){const A=decodeURIComponent(Z),C=decodeURIComponent(Q);let F;oe?F=oe.split(".").map(q=>q==="0"?"x":q):F=[...y];const X={name:A,notes:C,pattern:F,originalKey:le||p,originalMode:Y,originalNotes:C};J.push(X)}else console.warn("Invalid chord format:",O)}else{let G,oe;if(O.includes(":")){const[le,Y]=O.split(":");G=it(le),oe=d==="v4"?Y.split(".").map(Z=>Z==="0"?"x":Z):Y.split("").map(Z=>Z==="0"?"x":Z)}else G=it(O),oe=[...y];let ee;if(d==="v3"||d==="v4")ee=a[G];else{const le=O.includes(":")?O.split(":")[0]:O;ee=a.find(Y=>Y.chordName&&ab(Y.chordName)===le)}ee?.chordName&&ee?.chordNoteNames?J.push({name:ee.chordName,notes:ee.chordNoteNames,pattern:oe,originalKey:p,originalMode:x,originalNotes:ee.chordNoteNames}):console.warn("Could not find chord at index/name:",d==="v3"||d==="v4"?G:O)}}return{key:p,mode:x,pattern:y,bpm:S,subdivision:E,swing:$,showPattern:B,liveMode:H,addedChords:J,pianoSettings:L}}catch(l){return console.error("Failed to decode state:",l),null}},ab=t=>t.replace(/[^a-zA-Z0-9]/g,"").substring(0,8),lb=(t,r="s")=>{if(t){const o=new URL(window.location.href);o.searchParams.set(r,t),window.history.replaceState({},"",o.toString())}},cb=(t="s")=>new URL(window.location.href).searchParams.get(t),ub=(t,r,o,s,a,l,d,f,p,m,x,g,y,N,S="s")=>{const D=sb(t,r,o,s,a,l,d,f,p,m,x,g,y,N);lb(D,S)},db=(t,r,o,s,a="s")=>{const l=cb(a);return l?ib(l,t,r,o,s):null},Th=4,Mh=7,yu=["C","C#","Db","D","Eb","E","F","F#","G","Gb","G#","A","Ab","A#","B"],fb=(t,r)=>{if(!t||t.length===0)return!0;const o=t[r%t.length];return o!=="x"&&o!=="X"},Oh=(t,r,o,s)=>t?s:r!==null&&o[r]?o[r].pattern:s,pb=()=>{const t=Cn(),r=Cs(),o=Ln(),s=ko(),a=dg(),{modes:l}=ob(),d=b.useRef(null),f=b.useRef(0),p=b.useRef(0),m=b.useRef(0),x=b.useRef(!1),g=b.useRef(null),y=b.useRef(!0),N=b.useRef(!1);b.useEffect(()=>{l&&!N.current&&(N.current=!0,t.setModes(l),t.chords||t.initialize())},[l]);const S=b.useMemo(()=>6e4/s.globalPatternState.bpm*s.globalPatternState.subdivision,[s.globalPatternState.bpm,s.globalPatternState.subdivision]),D=b.useCallback(k=>{if(s.globalPatternState.swing===0)return S;const O=k%2===1,G=1+s.globalPatternState.swing/100;return O?S*G:S/G},[S,s.globalPatternState.swing]),E=b.useCallback(()=>Oh(o.temporaryChord,o.activeChordIndex,o.addedChords,s.currentlyActivePattern),[o.temporaryChord,o.activeChordIndex,o.addedChords,s.currentlyActivePattern]),$=b.useCallback(()=>{t.chords?.length&&l?.length&&!y.current&&ub(t.key,t.mode,o.addedChords,s.globalPatternState.currentPattern,s.globalPatternState.bpm,s.globalPatternState.subdivision,s.globalPatternState.swing,a.showPatternSystem,a.isLiveMode,r.pianoSettings,yu,l,r.availableInstruments,t.chords)},[t.key,t.mode,t.chords,o.addedChords,s.globalPatternState,a.showPatternSystem,a.isLiveMode,r.pianoSettings,r.availableInstruments,l]),V=b.useCallback(()=>{if(t.chords?.length){const k=db(yu,l||[],r.availableInstruments,t.chords);k&&(t.setKey(k.key),t.setMode(k.mode),o.clearAllChords(),k.addedChords.forEach(O=>{o.addChord(O.name,O.notes,O.pattern||["1","2","3","4"],O.originalKey||k.key,O.originalMode||k.mode)}),s.setGlobalPatternState({currentPattern:k.pattern,bpm:k.bpm,subdivision:k.subdivision,swing:k.swing}),a.setShowPatternSystem(k.showPattern),a.setIsLiveMode(k.liveMode),r.updatePianoSettings(k.pianoSettings))}},[t.chords,l,r.availableInstruments]),B=b.useCallback((k,O,G)=>{if(a.isDeleteMode&&O!==void 0){o.removeChord(O);return}const oe=pa(Th,Mh,k);O!==void 0?(o.setTemporaryChord(null),o.setActiveChordIndex(O),s.globalPatternState.isPlaying||o.playNotes(oe),o.setHighlightedChordIndex(O),setTimeout(()=>o.setHighlightedChordIndex(null),150)):(G&&o.setTemporaryChord({name:G,notes:k}),s.globalPatternState.isPlaying||o.playNotes(oe))},[a.isDeleteMode,s.globalPatternState.isPlaying]),H=b.useCallback((k,O,G,oe)=>{o.addChord(k,O,s.currentlyActivePattern,G,oe)},[s.currentlyActivePattern,t.key,t.mode]),M=b.useCallback((k,O)=>{const G={name:O.name,notes:O.notes,pattern:O.pattern||["1","2","3","4"],originalKey:O.originalKey||t.key,originalMode:O.originalMode||t.mode,originalNotes:O.originalNotes||O.notes};o.updateChord(k,G)},[t.key,t.mode]),z=b.useCallback((k,O)=>{const G=Array.from(o.addedChords),[oe]=G.splice(k,1);G.splice(O,0,oe),o.setAddedChords(G);const{activeChordIndex:ee}=o;if(ee===null)return;let le=ee;ee===k?le=O:k<ee&&O>=ee?le=ee-1:k>ee&&O<=ee&&(le=ee+1),le!==ee&&o.setActiveChordIndex(le)},[o]),R=b.useCallback(()=>{o.clearAllChords(),s.setGlobalPatternState({isPlaying:!1}),a.setIsLiveMode(!1)},[]),L=b.useCallback(k=>{s.updatePattern(k),k.hasOwnProperty("isPlaying")&&k.isPlaying&&(f.current=0,p.current=Date.now(),m.current=Date.now()),k.hasOwnProperty("currentStep")&&k.currentStep===0&&(f.current=0,p.current=Date.now(),m.current=Date.now())},[]),J=b.useCallback(()=>{const k=!s.globalPatternState.isPlaying;s.setGlobalPatternState({isPlaying:k}),k&&(f.current=0,p.current=Date.now(),m.current=Date.now())},[s.globalPatternState.isPlaying]),ne=b.useCallback(()=>{if(o.isPlayingScale){o.clearScalePlaybackTimeouts(),o.setActiveNotes([]),o.setIsPlayingScale(!1);return}if(!t.scaleNotes?.length)return;o.setIsPlayingScale(!0);const k=s.globalPatternState.isPlaying;k&&s.setGlobalPatternState({isPlaying:!1}),o.setActiveNotes([]);const G=6e4/s.globalPatternState.bpm*.8;let oe=100,ee=4,le=0;const Y=[...t.scaleNotes];t.scaleNotes[0]?.noteName&&Y.push({noteName:t.scaleNotes[0].noteName}),Y.forEach(Q=>{if(!Q.noteName)return;const A=setTimeout(()=>{const C=Yr(Q.noteName);if(!C)return;let F=Pt.fromNote(C+ee);F<=le&&(ee++,F=Pt.fromNote(C+ee)),le=F;const X=Pt.getAttributes(F),q=X.note.slice(0,-1),re=parseInt(X.note.slice(-1),10);o.setActiveNotes([{note:q,octave:re}])},oe);o.addScalePlaybackTimeout(A),oe+=G});const Z=setTimeout(()=>{o.setActiveNotes([]),o.setIsPlayingScale(!1),o.clearScalePlaybackTimeouts(),k&&s.setGlobalPatternState({isPlaying:!0})},oe+G);o.addScalePlaybackTimeout(Z)},[t.scaleNotes,o.isPlayingScale,s.globalPatternState.bpm,s.globalPatternState.isPlaying]),ae=b.useCallback(k=>{if(k.target instanceof HTMLInputElement)return;if(k.key.toLowerCase()==="p"){a.togglePatternSystem();return}if(k.key.toLowerCase()==="l"){a.toggleLiveMode();return}if(k.key===" "){k.preventDefault(),J();return}const O=k.key==="0"?9:parseInt(k.key,10)-1;if(!isNaN(O)&&O>=0&&O<o.addedChords.length){const G=o.addedChords[O];G&&(o.setTemporaryChord(null),B(G.notes,O))}},[o.addedChords,B,J]);return b.useEffect(()=>{o.activeChordIndex!==null&&o.addedChords[o.activeChordIndex]?s.setCurrentlyActivePattern([...o.addedChords[o.activeChordIndex].pattern]):s.setCurrentlyActivePattern([...s.globalPatternState.currentPattern])},[o.activeChordIndex,o.addedChords,s.globalPatternState.currentPattern]),b.useEffect(()=>{if(s.globalPatternState.isPlaying){if(!d.current){p.current=Date.now(),m.current=Date.now(),f.current=0,s.setGlobalPatternState({currentStep:0});const k=()=>{const O=Date.now();if(O>=m.current){f.current++;const G=D(f.current);m.current=O+G,s.setGlobalPatternState({currentStep:f.current})}d.current=setTimeout(k,5)};k()}}else d.current&&(clearTimeout(d.current),d.current=null);return()=>{d.current&&(clearTimeout(d.current),d.current=null)}},[s.globalPatternState.isPlaying,D]),b.useEffect(()=>{if(s.globalPatternState.isPlaying){let k=null;if(o.temporaryChord?k=o.temporaryChord:o.activeChordIndex!==null&&o.addedChords[o.activeChordIndex]&&(k=o.addedChords[o.activeChordIndex]),k){const O=Oh(o.temporaryChord,o.activeChordIndex,o.addedChords,s.currentlyActivePattern),G=s.globalPatternState.currentStep%O.length;if(fb(O,G)){const oe=pa(Th,Mh,k.notes);o.setActiveNotes(oe)}else o.setActiveNotes([])}}},[s.globalPatternState.isPlaying,s.globalPatternState.currentStep,o.temporaryChord,o.activeChordIndex,o.addedChords,s.currentlyActivePattern]),b.useEffect(()=>{t.chords?.length&&!x.current&&(x.current=!0,y.current=!0,V(),setTimeout(()=>{y.current=!1},100))},[t.chords,V]),b.useEffect(()=>(t.chords?.length&&l?.length&&!y.current&&(g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{$()},100)),()=>{g.current&&clearTimeout(g.current)}),[t.key,t.mode,o.addedChords,s.globalPatternState,a.showPatternSystem,a.isLiveMode,r.pianoSettings,t.chords?.length,l?.length,$]),b.useEffect(()=>(document.addEventListener("keydown",ae),()=>document.removeEventListener("keydown",ae)),[ae]),{chords:t.chords,key:t.key,mode:t.mode,modes:t.modes,activeNotes:o.activeNotes,activeChordIndex:o.activeChordIndex,highlightedChordIndex:o.highlightedChordIndex,addedChords:o.addedChords,loadingChords:t.loadingChords,isDeleteMode:a.isDeleteMode,isPlayingScale:o.isPlayingScale,isLiveMode:a.isLiveMode,globalPatternState:s.globalPatternState,currentlyActivePattern:s.currentlyActivePattern,temporaryChord:o.temporaryChord,normalizedScaleNotes:t.normalizedScaleNotes,pianoSettings:r.pianoSettings,availableInstruments:r.availableInstruments,setKey:t.setKey,setMode:t.setMode,setIsDeleteMode:a.setIsDeleteMode,setIsLiveMode:a.setIsLiveMode,setAvailableInstruments:r.setAvailableInstruments,handleChordClick:B,addChordClick:H,updateChord:M,reorderChords:z,clearAllChords:R,updateChordPattern:o.updateChordPattern,toggleScalePlayback:ne,handlePatternChange:L,handleTogglePlayback:J,getCurrentPattern:E,handleFetchOriginalChord:o.handleFetchOriginalChord,setPianoInstrument:r.setPianoInstrument,setCutOffPreviousNotes:r.setCutOffPreviousNotes,setEq:r.setEq,setOctaveOffset:r.setOctaveOffset,setReverbLevel:r.setReverbLevel,setNoteDuration:r.setNoteDuration,setVolume:r.setVolume,setChorusLevel:r.setChorusLevel,setDelayLevel:r.setDelayLevel}};function hb({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{d:"M3.28 2.22a.75.75 0 0 0-1.06 1.06L5.44 6.5H2.75a.75.75 0 0 0 0 1.5h4.5A.75.75 0 0 0 8 7.25v-4.5a.75.75 0 0 0-1.5 0v2.69L3.28 2.22ZM13.5 2.75a.75.75 0 0 0-1.5 0v4.5c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-2.69l3.22-3.22a.75.75 0 0 0-1.06-1.06L13.5 5.44V2.75ZM3.28 17.78l3.22-3.22v2.69a.75.75 0 0 0 1.5 0v-4.5a.75.75 0 0 0-.75-.75h-4.5a.75.75 0 0 0 0 1.5h2.69l-3.22 3.22a.75.75 0 1 0 1.06 1.06ZM13.5 14.56l3.22 3.22a.75.75 0 1 0 1.06-1.06l-3.22-3.22h2.69a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0-.75.75v4.5a.75.75 0 0 0 1.5 0v-2.69Z"}))}const mb=b.forwardRef(hb);function gb({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{d:"m13.28 7.78 3.22-3.22v2.69a.75.75 0 0 0 1.5 0v-4.5a.75.75 0 0 0-.75-.75h-4.5a.75.75 0 0 0 0 1.5h2.69l-3.22 3.22a.75.75 0 0 0 1.06 1.06ZM2 17.25v-4.5a.75.75 0 0 1 1.5 0v2.69l3.22-3.22a.75.75 0 0 1 1.06 1.06L4.56 16.5h2.69a.75.75 0 0 1 0 1.5h-4.5a.747.747 0 0 1-.75-.75ZM12.22 13.28l3.22 3.22h-2.69a.75.75 0 0 0 0 1.5h4.5a.747.747 0 0 0 .75-.75v-4.5a.75.75 0 0 0-1.5 0v2.69l-3.22-3.22a.75.75 0 1 0-1.06 1.06ZM3.5 4.56l3.22 3.22a.75.75 0 0 0 1.06-1.06L4.56 3.5h2.69a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0-.75.75v4.5a.75.75 0 0 0 1.5 0V4.56Z"}))}const vb=b.forwardRef(gb);function xb({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const yb=b.forwardRef(xb);function bb({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const Qr=b.forwardRef(bb);function wb({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{fillRule:"evenodd",d:"M11.78 5.22a.75.75 0 0 1 0 1.06L8.06 10l3.72 3.72a.75.75 0 1 1-1.06 1.06l-4.25-4.25a.75.75 0 0 1 0-1.06l4.25-4.25a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const Nb=b.forwardRef(wb);function Cb({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{fillRule:"evenodd",d:"M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const fg=b.forwardRef(Cb);function Sb({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{fillRule:"evenodd",d:"M9.47 6.47a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 1 1-1.06 1.06L10 8.06l-3.72 3.72a.75.75 0 0 1-1.06-1.06l4.25-4.25Z",clipRule:"evenodd"}))}const Ps=b.forwardRef(Sb);function Eb({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{d:"M13.024 9.25c.47 0 .827-.433.637-.863a4 4 0 0 0-4.094-2.364c-.468.05-.665.576-.43.984l1.08 1.868a.75.75 0 0 0 .649.375h2.158ZM7.84 7.758c-.236-.408-.79-.5-1.068-.12A3.982 3.982 0 0 0 6 10c0 .884.287 1.7.772 2.363.278.38.832.287 1.068-.12l1.078-1.868a.75.75 0 0 0 0-.75L7.839 7.758ZM9.138 12.993c-.235.408-.039.934.43.984a4 4 0 0 0 4.094-2.364c.19-.43-.168-.863-.638-.863h-2.158a.75.75 0 0 0-.65.375l-1.078 1.868Z"}),b.createElement("path",{fillRule:"evenodd",d:"m14.13 4.347.644-1.117a.75.75 0 0 0-1.299-.75l-.644 1.116a6.954 6.954 0 0 0-2.081-.556V1.75a.75.75 0 0 0-1.5 0v1.29a6.954 6.954 0 0 0-2.081.556L6.525 2.48a.75.75 0 1 0-1.3.75l.645 1.117A7.04 7.04 0 0 0 4.347 5.87L3.23 5.225a.75.75 0 1 0-.75 1.3l1.116.644A6.954 6.954 0 0 0 3.04 9.25H1.75a.75.75 0 0 0 0 1.5h1.29c.078.733.27 1.433.556 2.081l-1.116.645a.75.75 0 1 0 .75 1.298l1.117-.644a7.04 7.04 0 0 0 1.523 1.523l-.645 1.117a.75.75 0 1 0 1.3.75l.644-1.116a6.954 6.954 0 0 0 2.081.556v1.29a.75.75 0 0 0 1.5 0v-1.29a6.954 6.954 0 0 0 2.081-.556l.645 1.116a.75.75 0 0 0 1.299-.75l-.645-1.117a7.042 7.042 0 0 0 1.523-1.523l1.117.644a.75.75 0 0 0 .75-1.298l-1.116-.645a6.954 6.954 0 0 0 .556-2.081h1.29a.75.75 0 0 0 0-1.5h-1.29a6.954 6.954 0 0 0-.556-2.081l1.116-.644a.75.75 0 0 0-.75-1.3l-1.117.645a7.04 7.04 0 0 0-1.524-1.523ZM10 4.5a5.475 5.475 0 0 0-2.781.754A5.527 5.527 0 0 0 5.22 7.277 5.475 5.475 0 0 0 4.5 10a5.475 5.475 0 0 0 .752 2.777 5.527 5.527 0 0 0 2.028 2.004c.802.458 1.73.719 2.72.719a5.474 5.474 0 0 0 2.78-.753 5.527 5.527 0 0 0 2.001-2.027c.458-.802.719-1.73.719-2.72a5.475 5.475 0 0 0-.753-2.78 5.528 5.528 0 0 0-2.028-2.002A5.475 5.475 0 0 0 10 4.5Z",clipRule:"evenodd"}))}const Lc=b.forwardRef(Eb);function Db({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{d:"M10 3a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM10 8.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM11.5 15.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z"}))}const jb=b.forwardRef(Db);function Ab({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-7-4a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM9 9a.75.75 0 0 0 0 1.5h.253a.25.25 0 0 1 .244.304l-.459 2.066A1.75 1.75 0 0 0 10.747 15H11a.75.75 0 0 0 0-1.5h-.253a.25.25 0 0 1-.244-.304l.459-2.066A1.75 1.75 0 0 0 9.253 9H9Z",clipRule:"evenodd"}))}const Pb=b.forwardRef(Ab);function Rb({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{fillRule:"evenodd",d:"M10 1a4.5 4.5 0 0 0-4.5 4.5V9H5a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2h-.5V5.5A4.5 4.5 0 0 0 10 1Zm3 8V5.5a3 3 0 1 0-6 0V9h6Z",clipRule:"evenodd"}))}const _h=b.forwardRef(Rb);function kb({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{fillRule:"evenodd",d:"M9 3.5a5.5 5.5 0 1 0 0 11 5.5 5.5 0 0 0 0-11ZM2 9a7 7 0 1 1 12.452 4.391l3.328 3.329a.75.75 0 1 1-1.06 1.06l-3.329-3.328A7 7 0 0 1 2 9Z",clipRule:"evenodd"}))}const Ib=b.forwardRef(kb);function Tb({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{fillRule:"evenodd",d:"M4 10a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H4.75A.75.75 0 0 1 4 10Z",clipRule:"evenodd"}))}const Lh=b.forwardRef(Tb);function Mb({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{d:"M5.75 3a.75.75 0 0 0-.75.75v12.5c0 .414.336.75.75.75h1.5a.75.75 0 0 0 .75-.75V3.75A.75.75 0 0 0 7.25 3h-1.5ZM12.75 3a.75.75 0 0 0-.75.75v12.5c0 .414.336.75.75.75h1.5a.75.75 0 0 0 .75-.75V3.75a.75.75 0 0 0-.75-.75h-1.5Z"}))}const Rs=b.forwardRef(Mb);function Ob({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{fillRule:"evenodd",d:"M2 10a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm6.39-2.908a.75.75 0 0 1 .766.027l3.5 2.25a.75.75 0 0 1 0 1.262l-3.5 2.25A.75.75 0 0 1 8 12.25v-4.5a.75.75 0 0 1 .39-.658Z",clipRule:"evenodd"}))}const ks=b.forwardRef(Ob);function _b({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{d:"M6.3 2.84A1.5 1.5 0 0 0 4 4.11v11.78a1.5 1.5 0 0 0 2.3 1.27l9.344-5.891a1.5 1.5 0 0 0 0-2.538L6.3 2.841Z"}))}const pg=b.forwardRef(_b);function Lb({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm.75-11.25a.75.75 0 0 0-1.5 0v2.5h-2.5a.75.75 0 0 0 0 1.5h2.5v2.5a.75.75 0 0 0 1.5 0v-2.5h2.5a.75.75 0 0 0 0-1.5h-2.5v-2.5Z",clipRule:"evenodd"}))}const Bb=b.forwardRef(Lb);function Fb({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{d:"M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z"}))}const Bh=b.forwardRef(Fb);function $b({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0ZM8.94 6.94a.75.75 0 1 1-1.061-1.061 3 3 0 1 1 2.871 5.026v.345a.75.75 0 0 1-1.5 0v-.5c0-.72.57-1.172 1.081-1.287A1.5 1.5 0 1 0 8.94 6.94ZM10 15a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",clipRule:"evenodd"}))}const hg=b.forwardRef($b);function zb({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 0 0 6 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 1 0 .23 1.482l.149-.022.841 10.518A2.75 2.75 0 0 0 7.596 19h4.807a2.75 2.75 0 0 0 2.742-2.53l.841-10.52.149.023a.75.75 0 0 0 .23-1.482A41.03 41.03 0 0 0 14 4.193V3.75A2.75 2.75 0 0 0 11.25 1h-2.5ZM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4ZM8.58 7.72a.75.75 0 0 0-1.5.06l.3 7.5a.75.75 0 1 0 1.5-.06l-.3-7.5Zm4.34.06a.75.75 0 1 0-1.5-.06l-.3 7.5a.75.75 0 1 0 1.5.06l.3-7.5Z",clipRule:"evenodd"}))}const Fh=b.forwardRef(zb);function Vb({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16ZM8.28 7.22a.75.75 0 0 0-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 1 0 1.06 1.06L10 11.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L11.06 10l1.72-1.72a.75.75 0 0 0-1.06-1.06L10 8.94 8.28 7.22Z",clipRule:"evenodd"}))}const bu=b.forwardRef(Vb);function Hb({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{d:"M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"}))}const Gb=b.forwardRef(Hb),mg=b.memo(({chord:t,index:r,isExpanded:o,isPlaying:s,isAdding:a,onChordPlay:l,onChordAdd:d,onToggleExpansion:f})=>{const p=b.useCallback(()=>{l(t.chordNoteNames,r,t.chordName)},[l,t.chordNoteNames,t.chordName,r]),m=b.useCallback(g=>{g.stopPropagation(),d(r,t.chordName,t.chordNoteNames,t.keyName,t.modeId)},[d,r,t.chordName,t.chordNoteNames,t.keyName,t.modeId]),x=b.useCallback(g=>{g.stopPropagation(),f(r)},[f,r]);return u.jsxs("div",{className:`bg-[#3d434f] rounded-lg border border-gray-600 hover:border-blue-500 hover:bg-[#444b59] transition-all duration-200 overflow-hidden cursor-pointer group relative ${s?"chord-playing z-50":""} ${a?"chord-adding z-40":""}`,onClick:p,children:[u.jsx("div",{className:"p-3 sm:p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 flex-1 min-w-0",children:[u.jsx(ks,{className:`h-5 w-5 sm:h-6 sm:w-6 transition-colors flex-shrink-0 ${s?"text-blue-400":"text-gray-400 group-hover:text-blue-300"}`}),u.jsx("h3",{className:`text-base sm:text-lg font-bold transition-colors truncate ${s?"text-blue-200":"text-white group-hover:text-blue-200"}`,children:t.chordName})]}),u.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0 ml-2",children:[u.jsx("button",{onClick:m,className:`p-1 sm:p-2 rounded-md transition-colors ${a?"bg-green-600 text-white":"hover:bg-green-600 text-gray-400 hover:text-white"}`,title:"Add to sequence",children:u.jsx(Bb,{className:"h-5 w-5 sm:h-4 sm:w-4"})}),u.jsx("button",{onClick:x,className:"p-1.5 sm:p-2 rounded-md hover:bg-[#555] text-gray-400 hover:text-white transition-colors",title:o?"Hide notes":"Show notes",children:o?u.jsx(Ps,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}):u.jsx(Qr,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})})]})]})}),o&&u.jsx("div",{className:"px-3 pb-3 pt-0 sm:px-4 sm:pb-4",children:u.jsxs("div",{className:"bg-gray-800 rounded-md p-2 sm:p-3 border-t border-gray-600",children:[u.jsx("div",{className:"text-xs font-medium text-gray-400 uppercase tracking-wide mb-1",children:"Notes"}),u.jsx("div",{className:"text-sm text-gray-200 font-mono",children:t.chordNoteNames})]})})]})});mg.displayName="ChordCard";const Ub=({onChordClick:t,addChordClick:r})=>{const[o,s]=b.useState("All"),[a,l]=b.useState(""),[d,f]=b.useState(new Set),[p,m]=b.useState(new Set),[x,g]=b.useState(new Set),[y,N]=b.useState(1),S=Cn(),{chords:D,loadingChords:E,allDistinctChords:$,loadingAllChords:V,showAllChords:B,toggleShowAllChords:H,key:M,mode:z}=S,R=B?$:D,L=B?V:E;b.useEffect(()=>{const C=()=>{const F=window.innerWidth;F>=1280?N(3):F>=640?N(2):N(1)};return C(),window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]);const J=b.useCallback(C=>Math.floor(C/y),[y]),ne=b.useCallback(C=>C?C.length>=2&&(C[1]==="b"||C[1]==="#")?C.substring(0,2):C[0]||"":"",[]),ae=b.useMemo(()=>R?R.filter(C=>C.chordName&&C.chordNoteNames&&C.chordName.trim()!==""&&C.chordNoteNames.trim()!==""):[],[R]),k=b.useMemo(()=>{const C=new Set;return ae.forEach(F=>{const X=ne(F.chordName);X&&C.add(X)}),Array.from(C).sort()},[ae,ne]),O=b.useMemo(()=>{const C={};return ae.forEach(F=>{const X=ne(F.chordName);X&&(C[X]=(C[X]||0)+1)}),C},[ae,ne]),G=b.useMemo(()=>{let C=ae;if(o!=="All"&&(C=C.filter(F=>ne(F.chordName)===o)),a.trim()){const F=a.toLowerCase().trim();C=C.filter(X=>X.chordName?.toLowerCase().includes(F)||X.chordNoteNames?.toLowerCase().includes(F))}return C.sort((F,X)=>{const q=F.chordName?.toLowerCase()||"",re=X.chordName?.toLowerCase()||"";return q.localeCompare(re)})},[ae,o,a,ne]);b.useEffect(()=>{f(new Set)},[y,G]);const oe=b.useCallback((C,F,X)=>{m(re=>new Set(re).add(F)),t(C,void 0,X);const q=setTimeout(()=>{m(re=>{const we=new Set(re);return we.delete(F),we})},800);return()=>clearTimeout(q)},[t]),ee=b.useCallback((C,F,X,q,re)=>{g(pe=>new Set(pe).add(C));const we=S.modes[re-1];r?.(F,X,q,we);const ue=setTimeout(()=>{g(pe=>{const me=new Set(pe);return me.delete(C),me})},600);return()=>clearTimeout(ue)},[r,S.modes]),le=b.useCallback(C=>{const F=J(C);f(X=>{const q=new Set(X);return q.has(F)?q.delete(F):q.add(F),q})},[J]),Y=b.useCallback(()=>{H(),s("All"),l(""),f(new Set)},[H]),Z=b.useCallback(()=>{l(""),s("All")},[]),Q=b.useCallback(C=>{l(C.target.value)},[]),A=b.useMemo(()=>u.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-transparent px-1",children:[u.jsxs("button",{onClick:()=>s("All"),className:`flex-shrink-0 px-3 py-2 rounded-full text-sm font-medium transition-colors ${o==="All"?"bg-blue-600 text-white":"bg-[#444b59] text-gray-300 hover:bg-[#525a6b] hover:text-white"}`,children:["All (",ae.length,")"]}),k.map(C=>u.jsxs("button",{onClick:()=>s(C),className:`flex-shrink-0 px-3 py-2 rounded-full text-sm font-medium transition-colors ${o===C?"bg-blue-600 text-white":"bg-[#444b59] text-gray-300 hover:bg-[#525a6b] hover:text-white"}`,children:[C," (",O[C]||0,")"]},C))]}),[o,ae.length,k,O]);return u.jsxs("div",{className:"w-full max-w-7xl mx-auto px-2",children:[u.jsx("div",{className:"bg-[#3d434f] border border-gray-600 rounded-lg overflow-hidden mb-4",children:u.jsxs("div",{className:"px-4 py-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-sm font-bold text-slate-300 uppercase tracking-wider",children:"Chord Explorer"}),u.jsxs("div",{className:"text-sm text-gray-400",children:[G.length," of ",ae.length," chords"]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-3 bg-[#444b59] rounded-lg border border-gray-600",children:[u.jsxs("div",{className:"flex flex-col text-left",children:[u.jsx("span",{className:"text-sm font-medium text-gray-300 text-left",children:"Show All Chords"}),u.jsx("span",{className:"text-xs text-gray-400",children:B?$?`${$?.length} chords`:"Loading...":`Showing chords in ${M} ${z}`})]}),u.jsx("button",{onClick:Y,disabled:L,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-800 ${B?"bg-blue-600":"bg-gray-600"} ${L?"opacity-50 cursor-not-allowed":""}`,role:"switch","aria-checked":B,"aria-label":"Toggle between current mode chords and all distinct chords",children:u.jsx("span",{"aria-hidden":"true",className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${B?"translate-x-5":"translate-x-0"}`})})]}),u.jsxs("div",{className:"relative",children:[u.jsx(Ib,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"Search chords or notes...",value:a,onChange:Q,className:"w-full pl-10 pr-4 py-2 bg-[#444b59] border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-blue-500 focus:outline-none transition-colors !text-sm"})]})]}),u.jsx("div",{className:"lg:hidden mt-4",children:A})]})}),u.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 lg:gap-4",children:[u.jsx("div",{className:"hidden lg:block lg:w-48 flex-shrink-0",children:u.jsxs("div",{className:"bg-[#3d434f] rounded-lg h-fit",children:[u.jsx("div",{className:"px-4 py-3 border-b border-gray-600",children:u.jsx("h3",{className:"text-sm font-medium text-gray-200 uppercase tracking-wide",children:"Filter by Root"})}),u.jsxs("div",{className:"p-2",children:[u.jsx("button",{onClick:()=>s("All"),className:`w-full px-3 py-2 text-left transition-colors rounded-md border-l-4 ${o==="All"?"bg-[#4a5262] border-l-blue-500 text-white":"hover:bg-[#444b59] border-l-transparent text-gray-300 hover:text-white"}`,children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm font-medium",children:"All Notes"}),u.jsx("span",{className:"text-xs text-gray-400 bg-gray-700 px-2 py-1 rounded",children:ae.length})]})}),k.map(C=>u.jsx("button",{onClick:()=>s(C),className:`w-full px-3 py-2 text-left transition-colors rounded-md border-l-4 mt-1 ${o===C?"bg-[#4a5262] border-l-blue-500 text-white":"hover:bg-[#444b59] border-l-transparent text-gray-300 hover:text-white"}`,children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm font-medium",children:C}),u.jsx("span",{className:"text-xs text-gray-400 bg-gray-700 px-2 py-1 rounded",children:O[C]||0})]})},C))]})]})}),u.jsxs("div",{className:"flex-1",children:[L?u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[u.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-current border-r-transparent text-blue-500"}),u.jsx("span",{className:"text-sm text-gray-400",children:B?"Loading all distinct chords...":"Loading chords..."})]})}):G.length?u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-2 sm:gap-3",children:G.map((C,F)=>u.jsx(mg,{chord:C,index:F,isExpanded:d.has(J(F)),isPlaying:p.has(F),isAdding:x.has(F),onChordPlay:oe,onChordAdd:ee,onToggleExpansion:le},`chord-${C.chordName}-${F}`))}):u.jsx("div",{className:"flex justify-center items-center h-64 bg-[#3d434f] rounded-lg",children:u.jsxs("div",{className:"text-center space-y-3",children:[u.jsx("div",{className:"text-gray-500 text-4xl",children:""}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"text-sm text-gray-400",children:a.trim()?`No chords found matching "${a}"`:o==="All"?B?"No distinct chords available":"No chords available":`No chords found for root note "${o}"`}),(a.trim()||o!=="All")&&u.jsx("button",{onClick:Z,className:"text-sm text-blue-400 hover:text-blue-300 underline transition-colors",children:"Clear filters"})]})]})}),G.length>0&&u.jsx("div",{className:"mt-4 text-center",children:u.jsxs("div",{className:"text-xs text-gray-400",children:["Tap any chord to play ",u.jsx("span",{className:"text-gray-300 mx-1",children:"+"})," to add to sequence ",u.jsx(Qr,{className:"inline h-3 w-3 mx-1"})," to show notes for entire row",B&&u.jsx("span",{className:"block mt-1 text-blue-400",children:"Currently showing all distinct chords across all modes and keys (sorted alphabetically)"})]})})]})]})]})},Ad=class Ad extends b.Component{constructor(){super(...arguments),this.state={instrumentList:null},this.loadInstrumentList=()=>{fetch(`${this.props.hostname}/${this.props.soundfont}/names.json`).then(r=>r.json()).then(r=>{this.setState({instrumentList:r})})}}componentDidMount(){this.loadInstrumentList()}render(){return this.props.render(this.state.instrumentList)}};Ad.defaultProps={soundfont:"MusyngKite"};let ha=Ad;function Wb({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const qb=b.forwardRef(Wb);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Yb=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,o,s)=>s?s.toUpperCase():o.toLowerCase()),$h=t=>{const r=Yb(t);return r.charAt(0).toUpperCase()+r.slice(1)},gg=(...t)=>t.filter((r,o,s)=>!!r&&r.trim()!==""&&s.indexOf(r)===o).join(" ").trim(),Qb=t=>{for(const r in t)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=b.forwardRef(({color:t="currentColor",size:r=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:d,...f},p)=>b.createElement("svg",{ref:p,...Xb,width:r,height:r,stroke:t,strokeWidth:s?Number(o)*24/Number(r):o,className:gg("lucide",a),...!l&&!Qb(f)&&{"aria-hidden":"true"},...f},[...d.map(([m,x])=>b.createElement(m,x)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=(t,r)=>{const o=b.forwardRef(({className:s,...a},l)=>b.createElement(Zb,{ref:l,iconNode:r,className:gg(`lucide-${Kb($h(t))}`,`lucide-${t}`,s),...a}));return o.displayName=$h(t),o};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],e1=vg("chevron-down",Jb);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],n1=vg("search",t1);var Zn=sg();const r1=Ar(Zn),Nn=({value:t,onChange:r,options:o,className:s="",menuClassName:a="",showSearch:l=!1,buttonClassName:d=""})=>{const[f,p]=b.useState(!1),[m,x]=b.useState(!1),[g,y]=b.useState(""),N=b.useRef(null),S=b.useRef(null),D=b.useRef(null),E=b.useRef(null),[$,V]=b.useState({top:0,left:0,width:0,maxHeight:320}),B=o.filter(R=>g?.length?R.toLowerCase().includes(g.toLowerCase()):!0),H=()=>{if(N.current){const R=N.current.getBoundingClientRect(),L=window.innerHeight-R.bottom,J=Math.min(L-10,320);V({top:R.bottom+window.scrollY,left:R.left+window.scrollX,width:R.width,maxHeight:J}),x(!0)}};b.useEffect(()=>{const R=J=>{N.current&&!N.current.contains(J.target)&&S.current&&!S.current.contains(J.target)&&(p(!1),y(""),x(!1))},L=J=>{J.key==="Escape"&&(p(!1),y(""),x(!1))};return f&&(document.addEventListener("mousedown",R),document.addEventListener("keydown",L)),()=>{document.removeEventListener("mousedown",R),document.removeEventListener("keydown",L)}},[f]),b.useEffect(()=>{f&&m&&E.current&&D.current&&E.current.scrollIntoView({block:"nearest",behavior:"instant"})},[f,m]);const M=()=>{f?(p(!1),x(!1)):(H(),requestAnimationFrame(()=>{p(!0)}))},z=R=>{r(R),p(!1),y(""),x(!1)};return u.jsxs("div",{className:`relative inline-block text-left text-lg ${s}`,children:[u.jsxs("button",{ref:N,onClick:M,className:`
          inline-flex w-full justify-between items-center gap-x-2 rounded-lg
          bg-[#3d434f] border
          px-4 py-2.5 text-sm font-medium
          text-slate-200 
          ${f?"border-blue-500 bg-[#4a5262]":"border-gray-600 hover:bg-[#4a5262] hover:border-gray-500"}
          focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:ring-offset-2 focus:ring-offset-[#2a2f38]
          transition-all duration-200 ease-out
          ${d.includes("h-")?"":"h-10"}
          ${d}
        `,children:[u.jsx("span",{className:"truncate text-left flex-1 font-medium tracking-wide",children:t}),u.jsx(e1,{className:`
            h-4 w-4 text-slate-400 flex-shrink-0
            transition-all duration-200
            ${f?"rotate-180 text-slate-200":"group-hover:text-slate-200"}
          `,"aria-hidden":"true"})]}),f&&m&&Zn.createPortal(u.jsx("div",{ref:S,style:{position:"absolute",top:`${$.top+4}px`,left:`${$.left}px`,minWidth:`${$.width}px`,maxWidth:`${$.width}px`,zIndex:9999},className:"origin-top dropdown-enter",children:u.jsx("div",{style:{maxHeight:`${$.maxHeight}px`,minWidth:`${$.width}px`},className:"dropdown-menu rounded-lg shadow-2xl ring-1 ring-black/30 overflow-hidden",children:u.jsxs("div",{className:"bg-[#3d434f] border border-gray-600 rounded-lg overflow-hidden shadow-2xl",children:[l&&u.jsx("div",{className:"p-3 border-b border-gray-600 bg-[#444b59]",children:u.jsxs("div",{className:"relative",children:[u.jsx(n1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),u.jsx("input",{type:"text",className:`w-full text-slate-200 pl-9 pr-3 py-2 text-sm font-normal 
                        bg-[#2a2f38] border border-gray-600 rounded-md 
                        focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 
                        placeholder-slate-500 
                        transition-all duration-200
                        hover:bg-[#333844] hover:border-gray-500`,placeholder:"Search options...",value:g,onChange:R=>y(R.target.value),autoFocus:!0})]})}),u.jsx("div",{ref:D,className:`py-1.5 overflow-y-auto ${a}`,style:{maxHeight:l?`${$.maxHeight-60}px`:`${$.maxHeight}px`},children:B.length>0?B.map((R,L)=>u.jsxs("button",{ref:t===R?E:null,onClick:()=>z(R),className:`
                        relative block w-full px-4 py-2.5 text-left text-sm font-medium 
                        transition-all duration-200
                        text-slate-300 hover:text-slate-100
                        hover:bg-[#4a5262]
                        border-l-2 border-l-transparent hover:border-l-blue-400
                      `,children:[u.jsx("span",{className:"relative truncate block tracking-wide",children:R}),t===R&&u.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-1.5 h-1.5 bg-blue-400 rounded-full"})]},L)):u.jsx("div",{className:"px-4 py-3 text-sm text-slate-500 italic text-center",children:"No options found"})})]})})}),document.body)]})},o1=t=>u.jsx("label",{className:At("mr-[1em] flex-1 text-right text-sm font-medium text-slate-400",t.className),children:t.value}),s1=({isOpen:t,cutOffPreviousNotes:r,setCutOffPreviousNotes:o,eq:s,setEq:a,octaveOffset:l,setOctaveOffset:d,reverbLevel:f,setReverbLevel:p,noteDuration:m,setNoteDuration:x,volume:g,setVolume:y,chorusLevel:N,setChorusLevel:S,delayLevel:D,setDelayLevel:E})=>{const $=V=>{const{name:B,value:H}=V.target;a({...s,[B]:parseFloat(H)})};return u.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden px-2 ${t?"max-h-[600px] opacity-100 mt-6":"max-h-0 opacity-0"}`,children:u.jsxs("div",{className:"bg-[#3d434f] border border-gray-600 rounded-lg overflow-hidden w-full max-w-7xl mx-auto",children:[u.jsx("div",{className:"px-4 py-3 border-b border-gray-600",children:u.jsx("h3",{className:"text-sm font-medium text-slate-200 uppercase tracking-wider",children:"Piano Settings"})}),u.jsx("div",{className:"p-6 bg-[#444b59]",children:u.jsxs("div",{className:"grid grid-cols-2 gap-x-8",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Volume",u.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",Math.round(g*100),"%)"]})]}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"range",min:"0",max:"1.0",step:"0.05",value:g,onChange:V=>y(parseFloat(V.target.value)),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:"Octave Shift"}),u.jsxs("div",{className:"flex items-center justify-between bg-[#3d434f] border border-gray-600 rounded-md p-1.5",children:[u.jsx("button",{onClick:()=>d(Math.max(-3,l-1)),className:"w-6 h-6 flex items-center justify-center text-slate-300 hover:text-slate-200 hover:bg-[#4a5262] rounded transition-colors",disabled:l<=-3,children:""}),u.jsx("span",{className:"font-mono !text-xs text-slate-200 px-2",children:l===0?"Normal":`${l>0?"+":""}${l} octave${Math.abs(l)>1?"s":""}`}),u.jsx("button",{onClick:()=>d(Math.min(3,l+1)),className:"w-6 h-6 flex items-center justify-center text-slate-300 hover:text-slate-200 hover:bg-[#4a5262] rounded transition-colors",disabled:l>=3,children:"+"})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Reverb",u.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",Math.round(f*100),"%)"]})]}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"range",min:"0",max:"1.0",step:"0.05",value:f,onChange:V=>p(parseFloat(V.target.value)),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Note Duration",u.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",Math.round(m*100),"%)"]})]}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"range",min:"0.1",max:"1.0",step:"0.05",value:m,onChange:V=>x(parseFloat(V.target.value)),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})})]}),u.jsx("div",{children:u.jsxs("label",{className:"flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",className:"w-3.5 h-3.5 text-blue-600 bg-[#3d434f] border-gray-600 rounded focus:ring-blue-500 focus:ring-1",checked:r,onChange:V=>o(V.target.checked)}),u.jsx("span",{className:"ml-2 text-xs text-slate-300 uppercase tracking-wide",children:"Cut off previous notes"})]})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:"Equalizer"}),u.jsx("div",{className:"space-y-3",children:[{label:"Bass",key:"bass"},{label:"Mid",key:"mid"},{label:"Treble",key:"treble"}].map(({label:V,key:B})=>u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wide",children:V}),u.jsxs("span",{className:"text-xs text-slate-400 font-mono",children:[s[B]>0?"+":"",s[B].toFixed(1),"dB"]})]}),u.jsx("input",{type:"range",name:B,min:"-24",max:"24",step:"0.5",value:s[B],onChange:$,className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})]},B))})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Chorus",u.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",Math.round(N*100),"%)"]})]}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"range",min:"0",max:"1.0",step:"0.05",value:N,onChange:V=>S(parseFloat(V.target.value)),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Delay",u.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",Math.round(D*100),"%)"]})]}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"range",min:"0",max:"1.0",step:"0.05",value:D,onChange:V=>E(parseFloat(V.target.value)),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})})]})]})]})]})})]})})},Sn=({children:t,onClick:r,className:o="",variant:s="primary",size:a="md",disabled:l=!1,active:d=!1,"aria-label":f,"aria-expanded":p,type:m="button",title:x})=>{const g=`
    inline-flex justify-center items-center gap-x-2 rounded-sm
    font-medium border
    focus:outline-none
    transition-all duration-200 ease-out
    disabled:opacity-50 disabled:cursor-not-allowed
    relative overflow-hidden
  `,y=`
    focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#2a2f38]
  `,N={sm:"px-3 py-1.5 text-xs h-8",md:"px-4 py-2.5 text-sm h-10",lg:"px-6 py-3 text-base h-12",icon:"w-8 h-8 flex items-center justify-center p-0"},S={primary:`
      ${d?"bg-[#525a6b] border-gray-500 text-slate-100":"bg-[#3d434f] border-gray-600 text-slate-200 hover:bg-[#4a5262] hover:border-gray-500"}
      focus:ring-blue-500/50
    `,secondary:`
      ${d?"bg-[#525a6b] border-gray-500 text-slate-100":"bg-[#4a5262] border-gray-500 text-slate-200 hover:bg-[#525a6b] hover:border-gray-400"}
      focus:ring-gray-400/50
    `,success:`
      ${d?"bg-green-600 border-green-500 text-green-100":"bg-green-700 border-green-600 text-green-100 hover:bg-green-600 hover:border-green-500"}
      focus:ring-green-500/50
    `,danger:`
      ${d?"bg-red-600 border-red-500 text-red-100":"bg-red-700 border-red-600 text-red-100 hover:bg-red-600 hover:border-red-500"}
      focus:ring-red-500/50
    `,icon:`
      ${d?"bg-[#525a6b] border-gray-500 text-slate-200":"bg-[#3d434f] border-gray-600 text-slate-400 hover:bg-[#4a5262] hover:border-gray-500 hover:text-slate-200"}
      focus:ring-gray-500/50
    `,"play-stop":`
      ${d?"bg-red-700 hover:bg-red-600 border-red-600 text-white":"bg-green-600 hover:bg-green-500 border-green-500 text-white"}
      font-medium uppercase tracking-wide text-sm w-[7em] px-4 py-2
      focus:ring-green-500/50
    `};return u.jsx("button",{type:m,onClick:r,disabled:l,"aria-label":f,"aria-expanded":p,title:x,className:At(g,y,N[a],S[s],o),children:u.jsx("span",{className:At("flex items-center gap-x-2 tracking-wide","relative"),children:t})})};class i1 extends b.Component{constructor(r){super(r),this.handleKeyDown=o=>{const{noteRange:s,keyboardShortcutOffset:a}=this.props.config;if(!s)return;const l=s.last-s.first+1,d=0,f=l-this.props.keyboardShortcuts.length;if(o.key==="ArrowLeft"){const p=a-1;p>=d&&this.props.setConfig({keyboardShortcutOffset:p})}else if(o.key==="ArrowRight"){const p=a+1;p<=f&&this.props.setConfig({keyboardShortcutOffset:p})}},this.onChangeFirstNote=o=>{this.props.setConfig({noteRange:{first:parseInt(o.target.value,10),last:this.props.config.noteRange.last}})},this.onChangeLastNote=o=>{this.props.setConfig({noteRange:{first:this.props.config.noteRange.first,last:parseInt(o.target.value,10)}})},this.onChangeInstrument=o=>{const s=o.replaceAll(" ","_");this.props.setConfig({instrumentName:s}),this.props.onInstrumentChange(s)},this.state={settingsOpen:!1}}componentDidMount(){window.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown)}render(){const{noteRange:r,instrumentName:o}=this.props.config;return u.jsxs("div",{children:[u.jsx("div",{className:"flex justify-center",children:u.jsxs("div",{className:"inline-flex items-center gap-2",children:[u.jsx("div",{className:"inline-block",children:u.jsx(o1,{value:"voice"})}),u.jsx("div",{className:"inline-block",children:u.jsx(Nn,{className:"form-control h-10",value:this.props.config.instrumentName.replaceAll("_"," ")||o.replaceAll("_"," "),onChange:this.onChangeInstrument,options:this.props.instrumentList.map(s=>s.replaceAll("_"," ")),showSearch:!0})}),u.jsx("div",{className:"inline-block",children:u.jsx(Sn,{onClick:()=>this.setState({settingsOpen:!this.state.settingsOpen}),active:this.state.settingsOpen,"aria-label":"Sound Settings","aria-expanded":this.state.settingsOpen,size:"sm",className:"h-10 ",children:u.jsx(qb,{className:"h-5 w-5 text-slate-400 group-hover:text-slate-300 transition-colors duration-200 flex-shrink-0"})})})]})}),u.jsx("div",{className:"flex justify-center",children:u.jsx(s1,{isOpen:this.state.settingsOpen,cutOffPreviousNotes:this.props.cutOffPreviousNotes,setCutOffPreviousNotes:this.props.setCutOffPreviousNotes,eq:this.props.eq,setEq:this.props.setEq,octaveOffset:this.props.octaveOffset,setOctaveOffset:this.props.setOctaveOffset,reverbLevel:this.props.reverbLevel,setReverbLevel:this.props.setReverbLevel,noteDuration:this.props.noteDuration,setNoteDuration:this.props.setNoteDuration,volume:this.props.volume,setVolume:this.props.setVolume,chorusLevel:this.props.chorusLevel,setChorusLevel:this.props.setChorusLevel,delayLevel:this.props.delayLevel,setDelayLevel:this.props.setDelayLevel})})]})}}var Bc={exports:{}},Fc={exports:{}},$c,zh;function a1(){if(zh)return $c;zh=1;function t(o){return o>64&&o<91?o-65:o>96&&o<123?o-71:o>47&&o<58?o+4:o===43?62:o===47?63:0}function r(o,s){for(var a=o.replace(/[^A-Za-z0-9\+\/]/g,""),l=a.length,d=s?Math.ceil((l*3+1>>2)/s)*s:l*3+1>>2,f=new Uint8Array(d),p,m,x=0,g=0,y=0;y<l;y++)if(m=y&3,x|=t(a.charCodeAt(y))<<18-6*m,m===3||l-y===1){for(p=0;p<3&&g<d;p++,g++)f[g]=x>>>(16>>>p&24)&255;x=0}return f}return $c={decode:r},$c}var zc,Vh;function l1(){return Vh||(Vh=1,zc=function(t,r){return new Promise(function(o,s){var a=new XMLHttpRequest;r&&(a.responseType=r),a.open("GET",t),a.onload=function(){a.status===200?o(a.response):s(Error(a.statusText))},a.onerror=function(){s(Error("Network Error"))},a.send()})}),zc}var Hh;function c1(){return Hh||(Hh=1,function(t){var r=a1(),o=l1();function s(R){return function(L){return typeof L=="string"&&R.test(L)}}function a(R,L){return typeof R=="string"?R+L:typeof R=="function"?R(L):L}function l(R,L,J,ne){var ae=d(L)?f:p(L)?m:x(L)?g:y(L)?N:S(L)?D:E(L)?$:V(L)?B:H(L)?M:null,k=J||{};return ae?ae(R,L,k):ne?Promise.resolve(ne):Promise.reject("Source not valid ("+L+")")}l.fetch=o;function d(R){return R instanceof ArrayBuffer}function f(R,L,J){return new Promise(function(ne,ae){R.decodeAudioData(L,function(k){ne(k)},function(){ae("Can't decode audio data ("+L.slice(0,30)+"...)")})})}var p=s(/\.(mp3|wav|ogg)(\?.*)?$/i);function m(R,L,J){var ne=a(J.from,L);return l(R,l.fetch(ne,"arraybuffer"),J)}function x(R){return R&&typeof R.then=="function"}function g(R,L,J){return L.then(function(ne){return l(R,ne,J)})}var y=Array.isArray;function N(R,L,J){return Promise.all(L.map(function(ne){return l(R,ne,J,ne)}))}function S(R){return R&&typeof R=="object"}function D(R,L,J){var ne={},ae=Object.keys(L).map(function(k){if(J.only&&J.only.indexOf(k)===-1)return null;var O=L[k];return l(R,O,J,O).then(function(G){ne[k]=G})});return Promise.all(ae).then(function(){return ne})}var E=s(/\.json(\?.*)?$/i);function $(R,L,J){var ne=a(J.from,L);return l(R,l.fetch(ne,"text").then(JSON.parse),J)}var V=s(/^data:audio/);function B(R,L,J){var ne=L.indexOf(",");return l(R,r.decode(L.slice(ne+1)).buffer,J)}var H=s(/\.js(\?.*)?$/i);function M(R,L,J){var ne=a(J.from,L);return l(R,l.fetch(ne,"text").then(z),J)}function z(R){var L=R.indexOf("MIDI.Soundfont.");if(L<0)throw Error("Invalid MIDI.js Soundfont format");L=R.indexOf("=",L)+2;var J=R.lastIndexOf(",");return JSON.parse(R.slice(L,J)+"}")}t.exports&&(t.exports=l),typeof window<"u"&&(window.loadAudio=l)}(Fc)),Fc.exports}var Vc={exports:{}},Hc,Gh;function u1(){if(Gh)return Hc;Gh=1,Hc=t;function t(f){var p=f.createGain(),m=p._voltage=s(f),x=a(m),g=a(m),y=a(m);return p._startAmount=a(g),p._endAmount=a(y),p._multiplier=a(x),p._multiplier.connect(p),p._startAmount.connect(p),p._endAmount.connect(p),p.value=x.gain,p.startValue=g.gain,p.endValue=y.gain,p.startValue.value=0,p.endValue.value=0,Object.defineProperties(p,r),p}var r={attack:{value:0,writable:!0},decay:{value:0,writable:!0},sustain:{value:1,writable:!0},release:{value:0,writable:!0},getReleaseDuration:{value:function(){return this.release}},start:{value:function(f){var p=this._multiplier.gain,m=this._startAmount.gain,x=this._endAmount.gain;this._voltage.start(f),this._decayFrom=this._decayFrom=f+this.attack,this._startedAt=f;var g=this.sustain;p.cancelScheduledValues(f),m.cancelScheduledValues(f),x.cancelScheduledValues(f),x.setValueAtTime(0,f),this.attack?(p.setValueAtTime(0,f),p.linearRampToValueAtTime(1,f+this.attack),m.setValueAtTime(1,f),m.linearRampToValueAtTime(0,f+this.attack)):(p.setValueAtTime(1,f),m.setValueAtTime(0,f)),this.decay&&p.setTargetAtTime(g,this._decayFrom,l(this.decay))}},stop:{value:function(f,p){p&&(f=f-this.release);var m=f+this.release;if(this.release){var x=this._multiplier.gain,g=this._startAmount.gain,y=this._endAmount.gain;x.cancelScheduledValues(f),g.cancelScheduledValues(f),y.cancelScheduledValues(f);var N=l(this.release);if(this.attack&&f<this._decayFrom){var S=d(0,1,this._startedAt,this._decayFrom,f);x.linearRampToValueAtTime(S,f),g.linearRampToValueAtTime(1-S,f),g.setTargetAtTime(0,f,N)}y.setTargetAtTime(1,f,N),x.setTargetAtTime(0,f,N)}return this._voltage.stop(m),m}},onended:{get:function(){return this._voltage.onended},set:function(f){this._voltage.onended=f}}},o=new Float32Array([1,1]);function s(f){var p=f.createBufferSource(),m=f.createBuffer(1,2,f.sampleRate);return m.getChannelData(0).set(o),p.buffer=m,p.loop=!0,p}function a(f){var p=f.context.createGain();return f.connect(p),p}function l(f){return Math.log(f+1)/Math.log(100)}function d(f,p,m,x,g){var y=p-f,N=x-m,S=g-m,D=S/N,E=f+D*y;return E<=f&&(E=f),E>=p&&(E=p),E}return Hc}var Gc,Uh;function d1(){if(Uh)return Gc;Uh=1;var t=u1(),r={},o={gain:1,attack:.01,decay:.1,sustain:.9,release:.3,loop:!1,cents:0,loopStart:0,loopEnd:0};function s(p,m,x){var g=!1,y=0,N={},S=p.createGain();S.gain.value=1;var D=Object.assign({},o,x),E={context:p,out:S,opts:D};return m instanceof AudioBuffer?E.buffer=m:E.buffers=m,E.start=function(B,H,M){if(E.buffer&&B!==null)return E.start(null,B,H);var z=B?E.buffers[B]:E.buffer;if(z){if(!g){console.warn("SamplePlayer not connected to any node.");return}}else{console.warn("Buffer "+B+" not found.");return}var R=M||r;H=Math.max(p.currentTime,H||0),E.emit("start",H,B,R);var L=V(B,z,R);return L.id=$(B,L),L.env.start(H),L.source.start(H),E.emit("started",H,L.id,L),R.duration&&L.stop(H+R.duration),L},E.play=function(B,H,M){return E.start(B,H,M)},E.stop=function(B,H){var M;return H=H||Object.keys(N),H.map(function(z){return M=N[z],M?(M.stop(B),M.id):null})},E.connect=function(B){return g=!0,S.connect(B),E},E.emit=function(B,H,M,z){E.onevent&&E.onevent(B,H,M,z);var R=E["on"+B];R&&R(H,M,z)},E;function $(B,H){return H.id=y++,N[H.id]=H,H.source.onended=function(){var M=p.currentTime;H.source.disconnect(),H.env.disconnect(),H.disconnect(),E.emit("ended",M,H.id,H)},H.id}function V(B,H,M){var z=p.createGain();return z.gain.value=0,z.connect(S),z.env=d(p,M,D),z.env.connect(z.gain),z.source=p.createBufferSource(),z.source.buffer=H,z.source.connect(z),z.source.loop=M.loop||D.loop,z.source.playbackRate.value=f(M.cents||D.cents),z.source.loopStart=M.loopStart||D.loopStart,z.source.loopEnd=M.loopEnd||D.loopEnd,z.stop=function(R){var L=R||p.currentTime;E.emit("stop",L,B);var J=z.env.stop(L);z.source.stop(J)},z}}function a(p){return typeof p=="number"}var l=["attack","decay","sustain","release"];function d(p,m,x){var g=t(p),y=m.adsr||x.adsr;return l.forEach(function(N,S){y?g[N]=y[S]:g[N]=m[N]||x[N]}),g.value.value=a(m.gain)?m.gain:a(x.gain)?x.gain:1,g}function f(p){return p?Math.pow(2,p/1200):1}return Gc=s,Gc}var Uc,Wh;function f1(){if(Wh)return Uc;Wh=1,Uc=function(r){return r.on=function(o,s){if(arguments.length===1&&typeof o=="function")return r.on("event",o);var a="on"+o,l=r[a];return r[a]=l?t(l,s):s,r},r};function t(r,o){return function(s,a,l,d){r(s,a,l,d),o(s,a,l,d)}}return Uc}var Wc,qh;function p1(){if(qh)return Wc;qh=1;var t=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;function r(){return t}var o=[0,2,4,5,7,9,11];function s(f,p,m){if(typeof f!="string")return null;var x=t.exec(f);if(!x||!p&&x[4])return null;var g={letter:x[1].toUpperCase(),acc:x[2].replace(/x/g,"##")};return g.pc=g.letter+g.acc,g.step=(g.letter.charCodeAt(0)+3)%7,g.alt=g.acc[0]==="b"?-g.acc.length:g.acc.length,g.chroma=o[g.step]+g.alt,x[3]&&(g.oct=+x[3],g.midi=g.chroma+12*(g.oct+1),g.freq=a(g.midi,m)),p&&(g.tonicOf=x[4]),g}function a(f,p){return Math.pow(2,(f-69)/12)*(p||440)}var l={parse:s,regex:r,midiToFreq:a},d=["letter","acc","pc","step","alt","chroma","oct","midi","freq"];return d.forEach(function(f){l[f]=function(p){var m=s(p);return m&&typeof m[f]<"u"?m[f]:null}}),Wc=l,Wc}var qc,Kh;function h1(){if(Kh)return qc;Kh=1;var t=p1(),r=function(a){return a!==null&&a!==[]&&a>=0&&a<129},o=function(a){return r(a)?+a:t.midi(a)};qc=function(a){if(a.buffers){var l=a.opts.map,d=typeof l=="function"?l:o,f=function(m){return m?d(m)||m:null};a.buffers=s(a.buffers,f);var p=a.start;a.start=function(m,x,g){var y=f(m),N=y%1;return N&&(y=Math.floor(y),g=Object.assign(g||{},{cents:Math.floor(N*100)})),p(y,x,g)}}return a};function s(a,l){return Object.keys(a).reduce(function(d,f){return d[l(f)]=a[f],d},{})}return qc}var Kc,Yh;function m1(){if(Yh)return Kc;Yh=1;var t=Array.isArray,r=function(s){return s&&typeof s=="object"},o={};return Kc=function(s){return s.schedule=function(a,l){var d=s.context.currentTime,f=a<d?d:a;s.emit("schedule",f,l);var p,m,x,g;return l.map(function(y){if(y)t(y)?(p=y[0],m=y[1]):(p=y.time,m=y);else return null;return r(m)?(x=m.name||m.key||m.note||m.midi||null,g=m):(x=m,g=o),s.start(x,f+(p||0),g)})},s},Kc}function ra(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Yc={exports:{}},Qh;function g1(){return Qh||(Qh=1,function(t,r){(function(o){t.exports=o()})(function(){return function o(s,a,l){function d(m,x){if(!a[m]){if(!s[m]){var g=typeof ra=="function"&&ra;if(!x&&g)return g(m,!0);if(f)return f(m,!0);var y=new Error("Cannot find module '"+m+"'");throw y.code="MODULE_NOT_FOUND",y}var N=a[m]={exports:{}};s[m][0].call(N.exports,function(S){var D=s[m][1][S];return d(D||S)},N,N.exports,o,s,a,l)}return a[m].exports}for(var f=typeof ra=="function"&&ra,p=0;p<l.length;p++)d(l[p]);return d}({1:[function(o,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(l){function d(f){if(this._event=f,this._data=f.data,this.receivedTime=f.receivedTime,this._data&&this._data.length<2){console.warn("Illegal MIDI message of length",this._data.length);return}switch(this._messageCode=f.data[0]&240,this.channel=f.data[0]&15,this._messageCode){case 128:this.messageType="noteoff",this.key=f.data[1]&127,this.velocity=f.data[2]&127;break;case 144:this.messageType="noteon",this.key=f.data[1]&127,this.velocity=f.data[2]&127;break;case 160:this.messageType="keypressure",this.key=f.data[1]&127,this.pressure=f.data[2]&127;break;case 176:this.messageType="controlchange",this.controllerNumber=f.data[1]&127,this.controllerValue=f.data[2]&127,this.controllerNumber===120&&this.controllerValue===0?this.channelModeMessage="allsoundoff":this.controllerNumber===121?this.channelModeMessage="resetallcontrollers":this.controllerNumber===122?this.controllerValue===0?this.channelModeMessage="localcontroloff":this.channelModeMessage="localcontrolon":this.controllerNumber===123&&this.controllerValue===0?this.channelModeMessage="allnotesoff":this.controllerNumber===124&&this.controllerValue===0?this.channelModeMessage="omnimodeoff":this.controllerNumber===125&&this.controllerValue===0?this.channelModeMessage="omnimodeon":this.controllerNumber===126?this.channelModeMessage="monomodeon":this.controllerNumber===127&&(this.channelModeMessage="polymodeon");break;case 192:this.messageType="programchange",this.program=f.data[1];break;case 208:this.messageType="channelpressure",this.pressure=f.data[1]&127;break;case 224:this.messageType="pitchbendchange";var p=f.data[2]&127,m=f.data[1]&127;this.pitchBend=(p<<8)+m;break}}return new d(l)},s.exports=a.default},{}]},{},[1])(1)})}(Yc)),Yc.exports}var Qc,Xh;function v1(){if(Xh)return Qc;Xh=1;var t=g1();return Qc=function(r){return r.listenToMidi=function(o,s){var a={},l=s||{},d=l.gain||function(f){return f/127};return o.onmidimessage=function(f){var p=f.messageType?f:t(f);if(p.messageType==="noteon"&&p.velocity===0&&(p.messageType="noteoff"),!(l.channel&&p.channel!==l.channel))switch(p.messageType){case"noteon":a[p.key]=r.play(p.key,0,{gain:d(p.velocity)});break;case"noteoff":a[p.key]&&(a[p.key].stop(),delete a[p.key]);break}},r},r},Qc}var Zh;function x1(){return Zh||(Zh=1,function(t){var r=d1(),o=f1(),s=h1(),a=m1(),l=v1();function d(f,p,m){return l(a(s(o(r(f,p,m)))))}t.exports&&(t.exports=d),typeof window<"u"&&(window.SamplePlayer=d)}(Vc)),Vc.exports}function Jh(t,r){return Array(r+1).join(t)}function Ku(t){return typeof t=="number"}function y1(t){return typeof t=="string"}function b1(t){return typeof t<"u"}function xg(t,r){return Math.pow(2,(t-69)/12)*(r||440)}var yg=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;function w1(){return yg}var N1=[0,2,4,5,7,9,11];function Jn(t,r,o){if(typeof t!="string")return null;var s=yg.exec(t);if(!s||!r&&s[4])return null;var a={letter:s[1].toUpperCase(),acc:s[2].replace(/x/g,"##")};a.pc=a.letter+a.acc,a.step=(a.letter.charCodeAt(0)+3)%7,a.alt=a.acc[0]==="b"?-a.acc.length:a.acc.length;var l=N1[a.step]+a.alt;return a.chroma=l<0?12+l:l%12,s[3]&&(a.oct=+s[3],a.midi=l+12*(a.oct+1),a.freq=xg(a.midi,o)),r&&(a.tonicOf=s[4]),a}var C1="CDEFGAB";function S1(t){return Ku(t)?t<0?Jh("b",-t):Jh("#",t):""}function E1(t){return Ku(t)?""+t:""}function bg(t,r,o){return t===null||typeof t>"u"?null:t.step?bg(t.step,t.alt,t.oct):t<0||t>6?null:C1.charAt(t)+S1(r)+E1(o)}function wg(t){if((Ku(t)||y1(t))&&t>=0&&t<128)return+t;var r=Jn(t);return r&&b1(r.midi)?r.midi:null}function D1(t,r){var o=wg(t);return o===null?null:xg(o,r)}function j1(t){return(Jn(t)||{}).letter}function A1(t){return(Jn(t)||{}).acc}function P1(t){return(Jn(t)||{}).pc}function R1(t){return(Jn(t)||{}).step}function k1(t){return(Jn(t)||{}).alt}function I1(t){return(Jn(t)||{}).chroma}function T1(t){return(Jn(t)||{}).oct}const M1=Object.freeze(Object.defineProperty({__proto__:null,acc:A1,alt:k1,build:bg,chroma:I1,freq:D1,letter:j1,midi:wg,oct:T1,parse:Jn,pc:P1,regex:w1,step:R1},Symbol.toStringTag,{value:"Module"})),O1=Qx(M1);var Xc,em;function _1(){if(em)return Xc;em=1;var t=O1;function r(a,l){if(console.warn("new Soundfont() is deprected"),console.log("Please use Soundfont.instrument() instead of new Soundfont().instrument()"),!(this instanceof r))return new r(a);this.nameToUrl=l||r.nameToUrl,this.ctx=a,this.instruments={},this.promises=[]}r.prototype.onready=function(a){console.warn("deprecated API"),console.log("Please use Promise.all(Soundfont.instrument(), Soundfont.instrument()).then() instead of new Soundfont().onready()"),Promise.all(this.promises).then(a)},r.prototype.instrument=function(a,l){console.warn("new Soundfont().instrument() is deprecated."),console.log("Please use Soundfont.instrument() instead.");var d=this.ctx;if(a=a||"default",a in this.instruments)return this.instruments[a];var f={name:a,play:s(d,l)};if(this.instruments[a]=f,a!=="default"){var p=r.instrument(d,a,l).then(function(m){return f.play=m.play,f});this.promises.push(p),f.onready=function(m){console.warn("onready is deprecated. Use Soundfont.instrument().then()"),p.then(m)}}else f.onready=function(m){console.warn("onready is deprecated. Use Soundfont.instrument().then()"),m()};return f};function o(a,l,d){return console.warn("Soundfont.loadBuffers is deprecate."),console.log("Use Soundfont.instrument(..) and get buffers properties from the result."),r.instrument(a,l,d).then(function(f){return f.buffers})}r.loadBuffers=o;function s(a,l){return l=l||{},function(d,f,p,m){console.warn("The oscillator player is deprecated."),console.log("Starting with version 0.9.0 you will have to wait until the soundfont is loaded to play sounds.");var x=d>0&&d<129?+d:t.midi(d),g=x?t.midiToFreq(x,440):null;if(g){p=p||.2,m=m||{};var y=m.destination||l.destination||a.destination,N=m.vcoType||l.vcoType||"sine",S=m.gain||l.gain||.4,D=a.createOscillator();D.type=N,D.frequency.value=g;var E=a.createGain();return E.gain.value=S,D.connect(E),E.connect(y),D.start(f),p>0&&D.stop(f+p),D}}}return r.noteToMidi=t.midi,Xc=r,Xc}var tm;function L1(){return tm||(tm=1,function(t){var r=c1(),o=x1();function s(f,p,m){if(arguments.length===1)return function(S,D){return s(f,S,D)};var x=m||{},g=x.isSoundfontURL||a,y=x.nameToUrl||l,N=g(p)?p:y(p,x.soundfont,x.format);return r(f,N,{only:x.only||x.notes}).then(function(S){var D=o(f,S,x).connect(x.destination?x.destination:f.destination);return D.url=N,D.name=p,D})}function a(f){return/\.js(\?.*)?$/i.test(f)}function l(f,p,m){return m=m==="ogg"?m:"mp3",p=p==="FluidR3_GM"?p:"MusyngKite","https://gleitz.github.io/midi-js-soundfonts/"+p+"/"+f+"-"+m+".js"}var d=_1();d.instrument=s,d.nameToUrl=l,t.exports&&(t.exports=d),typeof window<"u"&&(window.Soundfont=d)}(Bc)),Bc.exports}var B1=L1();const F1=Ar(B1),Pd=class Pd extends Ne.Component{constructor(r){super(r),this.setupAudioChain=()=>{const{audioContext:o,eq:s,reverbLevel:a,volume:l,chorusLevel:d,delayLevel:f}=this.props;this.effectsChain=o.createGain(),this.masterVolumeNode=o.createGain(),this.masterVolumeNode.gain.value=l,this.bassNode=o.createBiquadFilter(),this.midNode=o.createBiquadFilter(),this.trebleNode=o.createBiquadFilter(),this.bassNode.type="lowshelf",this.bassNode.frequency.value=320,this.bassNode.gain.value=s.bass,this.midNode.type="peaking",this.midNode.frequency.value=1e3,this.midNode.Q.value=1,this.midNode.gain.value=s.mid,this.trebleNode.type="highshelf",this.trebleNode.frequency.value=3200,this.trebleNode.gain.value=s.treble,this.chorusDelayNode=o.createDelay(.05),this.chorusDelayNode.delayTime.value=.015,this.chorusLFO=o.createOscillator(),this.chorusLFO.frequency.value=1.5,this.chorusLFO.type="sine",this.chorusLFOGain=o.createGain(),this.chorusLFOGain.gain.value=.005,this.chorusDryGain=o.createGain(),this.chorusWetGain=o.createGain(),this.chorusMixNode=o.createGain(),this.chorusLFO.connect(this.chorusLFOGain),this.chorusLFOGain.connect(this.chorusDelayNode.delayTime),this.chorusLFO.start(),this.delayNode=o.createDelay(1),this.delayNode.delayTime.value=.3,this.delayFeedbackGain=o.createGain(),this.delayFeedbackGain.gain.value=.4,this.delayDryGain=o.createGain(),this.delayWetGain=o.createGain(),this.delayMixNode=o.createGain(),this.delayNode.connect(this.delayFeedbackGain),this.delayFeedbackGain.connect(this.delayNode),this.convolverNode=o.createConvolver(),this.wetGainNode=o.createGain(),this.dryGainNode=o.createGain(),this.convolverNode.buffer=this.generateImpulseResponse(o),this.effectsChain.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.bassNode),this.bassNode.connect(this.midNode),this.midNode.connect(this.trebleNode),this.trebleNode.connect(this.chorusDryGain),this.trebleNode.connect(this.chorusDelayNode),this.chorusDelayNode.connect(this.chorusWetGain),this.chorusDryGain.connect(this.chorusMixNode),this.chorusWetGain.connect(this.chorusMixNode),this.chorusMixNode.connect(this.delayDryGain),this.chorusMixNode.connect(this.delayNode),this.delayNode.connect(this.delayWetGain),this.delayDryGain.connect(this.delayMixNode),this.delayWetGain.connect(this.delayMixNode),this.delayMixNode.connect(this.dryGainNode),this.delayMixNode.connect(this.convolverNode),this.convolverNode.connect(this.wetGainNode),this.dryGainNode.connect(o.destination),this.wetGainNode.connect(o.destination),this.updateReverbMix(a),this.updateChorusMix(d),this.updateDelayMix(f)},this.generateImpulseResponse=o=>{const s=o.sampleRate,a=3,l=1.5,d=o.createBuffer(2,a*s,s);for(let f=0;f<2;f++){const p=d.getChannelData(f);for(let m=0;m<d.length;m++){const x=m/d.length,g=Math.sin(x*Math.PI*20)*Math.exp(-x*3),y=(Math.random()*2-1)*Math.pow(1-x,l),N=Math.sin(x*Math.PI*100)*.1*Math.exp(-x*8);p[m]=(g*.3+y*.6+N*.1)*1.5,f===1&&(p[m]*=1+Math.sin(x*Math.PI*7)*.2)}}return d},this.updateReverbMix=o=>{const s=this.props.audioContext.currentTime,a=Math.pow(o,.7)*1.2,l=1-o*.6;this.dryGainNode.gain.setValueAtTime(l,s),this.wetGainNode.gain.setValueAtTime(a,s)},this.updateChorusMix=o=>{const s=this.props.audioContext.currentTime,a=o*.8,l=1-o*.3;this.chorusDryGain.gain.setValueAtTime(l,s),this.chorusWetGain.gain.setValueAtTime(a,s)},this.updateDelayMix=o=>{const s=this.props.audioContext.currentTime,a=o*.6,l=1-o*.2;this.delayDryGain.gain.setValueAtTime(l,s),this.delayWetGain.gain.setValueAtTime(a,s)},this.updateVolume=o=>{const s=this.props.audioContext.currentTime;this.masterVolumeNode.gain.setValueAtTime(o,s)},this.loadInstrument=o=>{this.setState({instrument:null}),F1.instrument(this.props.audioContext,o,{format:this.props.format,soundfont:this.props.soundfont,nameToUrl:(s,a,l)=>`${this.props.hostname}/${a}/${s}-${l}.js`,destination:this.effectsChain}).then(s=>{this.setState({instrument:s}),this.props.onLoad&&this.props.onLoad({playNote:this.playNote,stopNote:this.stopNote,stopAllNotes:this.stopAllNotes})})},this.playNote=o=>{this.resumeAudio().then(()=>{if(!this.state.instrument)return;const s=this.state.instrument.play(o.toString());this.setState(a=>({activeAudioNodes:{...a.activeAudioNodes,[o]:s}}))})},this.stopNote=o=>{this.resumeAudio().then(()=>{const s=this.state.activeAudioNodes[o];s&&(s.stop(),this.setState(a=>{const l={...a.activeAudioNodes};return delete l[o],{activeAudioNodes:l}}))})},this.resumeAudio=()=>this.props.audioContext.state==="suspended"?this.props.audioContext.resume():Promise.resolve(),this.stopAllNotes=()=>{this.resumeAudio().then(()=>{Object.values(this.state.activeAudioNodes).forEach(o=>{o&&o.stop()}),this.setState({activeAudioNodes:{}})})},this.state={activeAudioNodes:{},instrument:null},this.setupAudioChain()}componentDidMount(){this.loadInstrument(this.props.instrumentName)}componentDidUpdate(r){if(r.instrumentName!==this.props.instrumentName&&this.loadInstrument(this.props.instrumentName),JSON.stringify(r.eq)!==JSON.stringify(this.props.eq)){const o=this.props.audioContext.currentTime;this.bassNode.gain.setValueAtTime(this.props.eq.bass,o),this.midNode.gain.setValueAtTime(this.props.eq.mid,o),this.trebleNode.gain.setValueAtTime(this.props.eq.treble,o)}r.reverbLevel!==this.props.reverbLevel&&this.updateReverbMix(this.props.reverbLevel),r.volume!==this.props.volume&&this.updateVolume(this.props.volume),r.chorusLevel!==this.props.chorusLevel&&this.updateChorusMix(this.props.chorusLevel),r.delayLevel!==this.props.delayLevel&&this.updateDelayMix(this.props.delayLevel)}render(){return this.props.render?this.props.render({isLoading:!this.state.instrument,playNote:this.playNote,stopNote:this.stopNote,stopAllNotes:this.stopAllNotes}):null}};Pd.defaultProps={format:"mp3",soundfont:"MusyngKite",instrumentName:"acoustic_grand_piano",eq:{bass:0,mid:0,treble:0},reverbLevel:0,volume:.8,chorusLevel:0,delayLevel:0};let wu=Pd;const nm=typeof window<"u"?new(window.AudioContext||window.webkitAudioContext):null,$1=4,z1=7,V1=({hideConfigControls:t=!1})=>{const r=Cn(),o=Cs(),s=Ln(),a=ko(),{activeNotes:l,activeChordIndex:d,addedChords:f}=s,{normalizedScaleNotes:p}=r,{currentlyActivePattern:m,globalPatternState:x}=a,{pianoSettings:g,availableInstruments:y,setPianoInstrument:N,setCutOffPreviousNotes:S,setEq:D,setOctaveOffset:E,setReverbLevel:$,setNoteDuration:V,setVolume:B,setChorusLevel:H,setDelayLevel:M,setAvailableInstruments:z}=o,R="https://d1pzp51pvbm36p.cloudfront.net",L=b.useRef(null),[J,ne]=b.useState([]),ae=b.useRef(-1),k=b.useRef(null),O=b.useRef(null),[G,oe]=b.useState(500),ee=b.useMemo(()=>{const ue=G;return ue<400?Math.max(320,ue-40):ue<768?Math.min(600,ue-60):ue<1200?Math.min(800,ue-80):Math.min(1e3,ue-100)},[G]);b.useEffect(()=>{const ue=()=>{O.current&&oe(O.current.offsetWidth)};ue();const pe=new ResizeObserver(()=>{ue()});O.current&&pe.observe(O.current);const me=()=>{ue()};return window.addEventListener("resize",me),()=>{pe.disconnect(),window.removeEventListener("resize",me)}},[]);const{firstNote:le,lastNote:Y,keyboardShortcuts:Z,midiOffset:Q}=b.useMemo(()=>{const ue="c",pe=Pt.fromNote(`${ue}${$1}`),me=Pt.fromNote(`${ue}${z1}`),Te=g.octaveOffset*12;return{firstNote:pe,lastNote:me,midiOffset:Te,keyboardShortcuts:Dh.create({firstNote:pe,lastNote:me,keyboardConfig:Dh.HOME_ROW})}},[g.octaveOffset]),[A,C]=b.useState({instrumentName:g.instrumentName});b.useEffect(()=>{C(ue=>({...ue,instrumentName:g.instrumentName}))},[g.instrumentName]),b.useEffect(()=>{if(k.current&&(clearTimeout(k.current),k.current=null),!x.isPlaying&&l.length>0){const ue=l.map(({note:pe,octave:me=4})=>Pt.fromNote(`${Yr(pe)}${me}`));ne(ue),k.current=setTimeout(()=>{x.isPlaying||ne([])},2e3)}else!x.isPlaying&&l.length===0&&ne([]);return()=>{k.current&&(clearTimeout(k.current),k.current=null)}},[l,x.isPlaying]);const F=b.useCallback(()=>d!==null&&f[d]?f[d].pattern:m,[d,f,m]),X=b.useCallback((ue,pe)=>{if(ue==="x"||ue==="X")return null;const me=ue.includes("+"),Te=ue.includes("-"),ve=parseInt(ue.replace(/[+-]/g,""))-1;return ve>=0&&ve<pe?{noteIndex:ve,octaveUp:me,octaveDown:Te}:null},[]),q=b.useCallback(()=>6e4/x.bpm*x.subdivision,[x.bpm,x.subdivision]);b.useEffect(()=>{const ue=F();if(x.isPlaying&&l.length>0&&ue?.length>0&&x.currentStep!==ae.current){ae.current=x.currentStep;const pe=x.currentStep%ue.length,me=ue[pe],Te=X(me,l.length);if(Te){const{noteIndex:ve,octaveUp:Pe,octaveDown:Me}=Te,{note:ke,octave:Ge=4}=l[ve];let bt=Ge;Pe&&(bt+=1),Me&&(bt-=1),bt=Math.max(1,Math.min(8,bt));const tn=Pt.fromNote(`${ke}${bt}`);!g.cutOffPreviousNotes&&L.current&&L.current(),ne([tn]);const nn=q(),lt=Math.min(nn*g.noteDuration,nn-50);setTimeout(()=>{ne([])},lt)}else ne([])}else x.isPlaying||ae.current!==-1&&(ne([]),ae.current=-1)},[x.currentStep,x.isPlaying,l,g.cutOffPreviousNotes,g.noteDuration,q,F,X]);const re=ue=>pe=>{!g.cutOffPreviousNotes&&L.current&&L.current(),ue(pe+Q)},we=ue=>pe=>{ue(pe+Q)};return nm?u.jsx(wu,{instrumentName:g.instrumentName,audioContext:nm,hostname:R,eq:g.eq,reverbLevel:g.reverbLevel,volume:g.volume,chorusLevel:g.chorusLevel,delayLevel:g.delayLevel,render:({isLoading:ue,playNote:pe,stopNote:me,stopAllNotes:Te})=>(L.current=Te,u.jsxs(u.Fragment,{children:[u.jsx("div",{ref:O,className:"relative w-full",children:u.jsx("div",{className:"w-full flex justify-center overflow-x-auto",children:u.jsx(Hu,{noteRange:{first:le,last:Y},playNote:re(pe),stopNote:we(me),disabled:ue,width:ee,className:"mx-auto w-full",activeNotes:J,renderNoteLabel:({midiNumber:ve,isAccidental:Pe})=>{const Me=Pt.getAttributes(ve).note.slice(0,-1);return p.includes(Yr(Me))?u.jsx("div",{className:`mx-auto mb-2 w-2 h-2 rounded-full ${Pe?"bg-blue-300":"bg-blue-500"}`}):null}})})}),!t&&u.jsx("div",{className:"mt-5",children:u.jsx(ha,{hostname:R,render:ve=>(ve&&ve.length>0&&JSON.stringify(ve)!==JSON.stringify(y)&&z(ve),u.jsx(i1,{config:A,setConfig:C,instrumentList:ve||y,keyboardShortcuts:Z,cutOffPreviousNotes:g.cutOffPreviousNotes,setCutOffPreviousNotes:S,eq:g.eq,setEq:D,octaveOffset:g.octaveOffset,setOctaveOffset:E,reverbLevel:g.reverbLevel,setReverbLevel:$,noteDuration:g.noteDuration,setNoteDuration:V,volume:g.volume,setVolume:B,chorusLevel:g.chorusLevel,setChorusLevel:H,delayLevel:g.delayLevel,setDelayLevel:M,onInstrumentChange:N}))})}),u.jsx(ha,{hostname:R,render:ve=>(ve&&ve.length>0&&JSON.stringify(ve)!==JSON.stringify(y)&&z(ve),u.jsx(u.Fragment,{}))})]}))}):u.jsx("div",{children:"Audio context is not available."})},Yu=({isOpen:t,onClose:r,children:o,className:s="",showCloseButton:a=!0,closeOnBackdropClick:l=!0,title:d,fixedHeader:f=!1})=>{if(!t)return null;const p=m=>{l&&m.target===m.currentTarget&&r()};return u.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4",children:[u.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:p}),u.jsxs("div",{className:`relative bg-[#3d434f] border border-gray-600 rounded-lg shadow-xl w-full animate-in fade-in-0 zoom-in-95 duration-200 ${f?"flex flex-col max-h-full":""} ${s}`,children:[(d||a)&&u.jsxs("div",{className:`flex items-center justify-between p-4 border-b border-gray-600 bg-[#3d434f] rounded-t-lg ${f?"flex-shrink-0":""}`,children:[d&&u.jsx("h3",{className:"text-sm font-semibold text-slate-200 uppercase tracking-wide",children:d}),a&&u.jsx("button",{onClick:r,className:"w-6 h-6 flex items-center justify-center rounded-full hover:bg-slate-600 text-slate-400 hover:text-slate-200 transition-colors ml-auto",children:u.jsx(Gb,{className:"w-4 h-4"})})]}),f?u.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto",children:o}):o]})]})},H1=({className:t=""})=>{const[r,o]=b.useState(!1),s=()=>o(!0),a=()=>o(!1);return u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:s,className:`inline-flex items-center justify-center w-5 h-5 rounded-full bg-slate-600 hover:bg-slate-500 text-slate-300 hover:text-white transition-colors ${t}`,title:"Pattern notation help",children:u.jsx(hg,{className:"w-3 h-3"})}),u.jsxs(Yu,{isOpen:r,onClose:a,title:"Pattern Notation Guide",children:[u.jsxs("div",{className:"p-4 space-y-4",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("code",{className:"px-2 py-1 bg-slate-700 text-slate-200 rounded text-xs font-mono min-w-[2rem] text-center",children:"x"}),u.jsx("span",{className:"text-xs text-slate-300",children:"Rest (silence)"})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("code",{className:"px-2 py-1 bg-slate-700 text-slate-200 rounded text-xs font-mono min-w-[2rem] text-center",children:"1-8"}),u.jsx("span",{className:"text-xs text-slate-300",children:"Note index (1st, 2nd, 3rd note, etc.)"})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("code",{className:"px-2 py-1 bg-slate-700 text-slate-200 rounded text-xs font-mono min-w-[2rem] text-center",children:"1+"}),u.jsx("span",{className:"text-xs text-slate-300",children:"Note with octave up"})]})]}),u.jsxs("div",{className:"border-t border-gray-600 pt-4",children:[u.jsx("div",{className:"text-xs text-slate-400 mb-2",children:u.jsx("strong",{className:"text-slate-300",children:"Example:"})}),u.jsxs("div",{className:"bg-slate-700 rounded p-3",children:[u.jsx("code",{className:"text-xs font-mono text-slate-200",children:"1,x,3,2+"}),u.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Plays: 1st note  rest  3rd note  2nd note (octave up)"})]})]}),u.jsx("div",{className:"text-xs text-slate-500",children:"Separate values with commas. Use any combination to create your pattern."})]}),u.jsx("div",{className:"flex justify-end p-4 border-t border-gray-600",children:u.jsx("button",{onClick:a,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-xs font-medium rounded transition-colors uppercase tracking-wide",children:"Got it"})})]})]})},T={BASIC:"basic",RHYTHMIC:"rhythmic",ADVANCED:"advanced",GENRE:"genre",CUSTOM:"custom"},rm=[{name:"Root Only",pattern:["1","x","1","x"],desc:"Simple root note emphasis",icon:"",category:T.BASIC},{name:"Root Bass",pattern:["1","x","x","x","1","x","x","x"],desc:"Steady root note bass line",icon:"",category:T.BASIC},{name:"Up Down",pattern:["1","2","3","4","3","2"],desc:"Classic ascending and descending",icon:"",category:T.BASIC},{name:"Broken Chord",pattern:["1","3","2","4"],desc:"Mixed chord tones",icon:"",category:T.BASIC},{name:"Octave Jump",pattern:["1","1+","1","1+"],desc:"Root note with octave jumps",icon:"",category:T.BASIC},{name:"Waltz",pattern:["1","2","3"],desc:"Three-beat waltz pattern",icon:"",category:T.BASIC},{name:"Alberti Bass",pattern:["1","3","2","3","1","3","2","3"],desc:"Classical broken chord accompaniment",icon:"",category:T.BASIC},{name:"Syncopated",pattern:["x","1","x","2","x","3","1","x"],desc:"Off-beat emphasis",icon:"",category:T.RHYTHMIC},{name:"Dotted Rhythm",pattern:["1","x","x","2","x","x"],desc:"Long-short rhythm pattern",icon:"",category:T.RHYTHMIC},{name:"Staccato",pattern:["1","x","2","x","3","x","4","x"],desc:"Short, detached notes",icon:"",category:T.RHYTHMIC},{name:"Legato Flow",pattern:["1","2","3","4","4","3","2","1"],desc:"Smooth, connected motion",icon:"",category:T.ADVANCED},{name:"Fifth Wheel",pattern:["1","2","3","4","5"],desc:"Simple ascent through 5-note chord",icon:"5",category:T.BASIC},{name:"Pentagon",pattern:["1","3","5","2","4","1"],desc:"Geometric pattern through 5 notes",icon:"",category:T.BASIC},{name:"Five Alive",pattern:["1","5","2","4","3","5","1","x"],desc:"Dynamic 5-note exploration",icon:"",category:T.ADVANCED},{name:"Jazz Walk",pattern:["1","2","3","4","5","4","3","2"],desc:"Walking bass with 5th extension",icon:"",category:T.ADVANCED},{name:"Quintet Roll",pattern:["1","x","2","3","x","4","5","x"],desc:"Rolled chord with gaps",icon:"",category:T.RHYTHMIC},{name:"High Five",pattern:["1","2+","3","4+","5","1+"],desc:"Mix of regular and high octave notes",icon:"",category:T.ADVANCED},{name:"Hexagon",pattern:["1","2","3","4","5","6"],desc:"Complete 6-note ascent",icon:"",category:T.BASIC},{name:"Six Pack",pattern:["1","6","2","5","3","4"],desc:"Outside-in pattern",icon:"",category:T.ADVANCED},{name:"Jazz Cascade",pattern:["1","3","5","6","4","2","1","x"],desc:"Complex jazz voicing pattern",icon:"",category:T.ADVANCED},{name:"Spiral Six",pattern:["1","4","2","5","3","6","1"],desc:"Spiraling through 6 notes",icon:"",category:T.ADVANCED},{name:"Double Triple",pattern:["1","2","3","4","5","6","6","5","4","3","2","1"],desc:"Up and down through all 6 notes",icon:"",category:T.ADVANCED},{name:"Sixth Sense",pattern:["1","x","3","x","5","x","6","x"],desc:"Selective 6-note chord tones",icon:"",category:T.RHYTHMIC},{name:"Polyrhythm",pattern:["1","x","x","2","x","3","x","x","1","x","3","x"],desc:"Complex rhythmic displacement",icon:"",category:T.RHYTHMIC},{name:"Bounce",pattern:["1","4","1","4","2","3","2","3"],desc:"Bouncing between chord tones",icon:"",category:T.ADVANCED},{name:"Cascade",pattern:["4+","3+","2+","1+","4","3","2","1"],desc:"Waterfall effect across octaves",icon:"",category:T.ADVANCED},{name:"Morse Code",pattern:["1","x","1","1","x","x","1","x","1","1","x"],desc:"Dot-dash rhythm pattern",icon:"",category:T.RHYTHMIC},{name:"Fibonacci",pattern:["1","1","2","3","2","1","3","4"],desc:"Based on Fibonacci sequence",icon:"",category:T.ADVANCED},{name:"Pendulum",pattern:["1","3","2","4","3","1","2","4","3","2"],desc:"Swinging motion through chord",icon:"",category:T.ADVANCED},{name:"Stutter Step",pattern:["1","1","x","2","2","x","3","3","x"],desc:"Repeated notes with rests",icon:"",category:T.RHYTHMIC},{name:"Call Response",pattern:["1","x","x","3","2","x","x","4"],desc:"Question and answer phrases",icon:"",category:T.RHYTHMIC},{name:"Spiral",pattern:["1","2","4","3","1","4","2","3"],desc:"Spiraling chord progression",icon:"",category:T.ADVANCED},{name:"Latin Clave",pattern:["1","x","x","1","x","1","x","x"],desc:"Based on Latin clave rhythm",icon:"",category:T.RHYTHMIC},{name:"Long Journey",pattern:["1","2","x","3","4","x","3","2","1","x","2","3","4","x","x","1"],desc:"Extended 16-step pattern",icon:"",category:T.ADVANCED},{name:"Minimalist",pattern:["1","x","x","x","x","x","x","x"],desc:"Sparse, contemplative",icon:"",category:T.BASIC},{name:"Maximalist",pattern:["1","2","3","4","1+","2+","3+","4+"],desc:"Dense, energetic pattern",icon:"",category:T.ADVANCED},{name:"Ghost Notes",pattern:["1","x","2","x","x","3","x","4","x","x"],desc:"Implied rhythm with spaces",icon:"",category:T.RHYTHMIC},{name:"Power Chord",pattern:["1","1","1+","1+"],desc:"Rock-style power chord emphasis",icon:"",category:T.BASIC},{name:"Bossa Nova",pattern:["1","x","2","x","3","x","4","2"],desc:"Brazilian bossa nova feel",icon:"",category:T.GENRE},{name:"Reggae Skank",pattern:["x","2","x","4","x","2","x","4"],desc:"Reggae upstroke pattern",icon:"",category:T.GENRE},{name:"Tango",pattern:["1","x","2","3","x","x","4","x"],desc:"Dramatic tango rhythm",icon:"",category:T.GENRE},{name:"Swing Feel",pattern:["1","x","3","x","2","x","4","x"],desc:"Jazz swing pattern",icon:"",category:T.GENRE},{name:"Folk Strum",pattern:["1","2","3","2","1","2","3","2"],desc:"Folk guitar strumming pattern",icon:"",category:T.GENRE},{name:"Extended Jazz",pattern:["1","3","5","6","5","3","1","x"],desc:"Jazz chord extensions",icon:"",category:T.ADVANCED},{name:"Full House",pattern:["1","2","3","4","5","6","x","x"],desc:"All chord tones, then rest",icon:"",category:T.BASIC},{name:"Polyrhythmic 6",pattern:["1","x","3","x","5","x","2","x","4","x","6","x"],desc:"Complex 6-note polyrhythm",icon:"",category:T.RHYTHMIC},{name:"Wave Function",pattern:["1","3","5","6","4","2","1","3","5","4","2","x"],desc:"Wave-like motion through extended chord",icon:"",category:T.ADVANCED},{name:"Grand Scale",pattern:["1","2","3","4","5","6","5","4","3","2","1"],desc:"Full scale ascent and descent",icon:"",category:T.BASIC},{name:"Step by Step",pattern:["1","2","1","3","2","4","3","5","4","6","5"],desc:"Gradual stepping pattern",icon:"",category:T.BASIC},{name:"Simple Sixes",pattern:["1","3","5","1","3","5","6","4","2","6","4","2"],desc:"Two three-note groups with extensions",icon:"",category:T.BASIC},{name:"Double Root",pattern:["1","1","2","3","4","1","1"],desc:"Root emphasis with ascent",icon:"",category:T.BASIC},{name:"Neighbor Tones",pattern:["1","2","1","3","2","3","4","3"],desc:"Step-wise neighboring motion",icon:"",category:T.BASIC},{name:"Triad Plus",pattern:["1","3","5","6","1","3","5","4"],desc:"Basic triad with extensions",icon:"",category:T.BASIC},{name:"Full Circle",pattern:["1","2","3","4","5","6","6","5","4","3","2","1","x","x"],desc:"Complete journey up and down",icon:"",category:T.BASIC},{name:"Building Blocks",pattern:["1","1","2","1","2","3","1","2","3","4"],desc:"Gradually building up the chord",icon:"",category:T.BASIC},{name:"Polymetric 5",pattern:["1","x","x","2","x","3","x","x","4","x","5","x","x","1","x"],desc:"Five-note pattern in complex meter",icon:"",category:T.RHYTHMIC},{name:"Shuffle Step",pattern:["1","x","2","3","x","x","4","x","5","6","x","x"],desc:"Shuffle rhythm through extended chord",icon:"",category:T.RHYTHMIC},{name:"Heartbeat",pattern:["1","1","x","x","2","2","x","x","3","3","x","x"],desc:"Pulse-like doubled pattern",icon:"",category:T.RHYTHMIC},{name:"Cross Rhythm",pattern:["1","x","x","2","x","x","3","x","4","x","x","5","x","x","6"],desc:"Pattern crossing metric boundaries",icon:"",category:T.RHYTHMIC},{name:"Breath Mark",pattern:["1","2","3","x","x","4","5","6","x","x","1","2","x","x"],desc:"Groups of notes with breathing spaces",icon:"",category:T.RHYTHMIC},{name:"Displacement",pattern:["x","1","x","2","x","3","1","x","2","x","3","x","4","x"],desc:"Rhythmically displaced chord tones",icon:"",category:T.RHYTHMIC},{name:"Echo Chamber",pattern:["1","x","1","x","x","2","x","2","x","x","3","x","3","x","x"],desc:"Each note echoes with delays",icon:"",category:T.RHYTHMIC},{name:"Odd Meter",pattern:["1","x","2","x","3","x","x","4","x","5","x","6","x","x"],desc:"Seven-beat groupings",icon:"7",category:T.RHYTHMIC},{name:"Metric Modulation",pattern:["1","2","x","3","4","x","x","5","6","x","1","x","x","2","x"],desc:"Changing rhythmic emphasis",icon:"",category:T.RHYTHMIC},{name:"Chromatic Walk",pattern:["1","2","3","4","5","6","5","4","3","2","1","2","3","4","5","6"],desc:"Extended chromatic voice leading",icon:"",category:T.ADVANCED},{name:"Voice Exchange",pattern:["1","6","2","5","3","4","4","3","5","2","6","1"],desc:"Voices trading positions",icon:"",category:T.ADVANCED},{name:"Nested Loops",pattern:["1","3","5","3","1","4","6","4","2","5","6","5","2","1"],desc:"Loops within loops structure",icon:"",category:T.ADVANCED},{name:"Golden Ratio",pattern:["1","2","3","5","6","4","1","3","5","6","2","4","1"],desc:"Based on mathematical proportions",icon:"",category:T.ADVANCED},{name:"Fractal Pattern",pattern:["1","3","2","1","4","6","5","4","1","3","2","1"],desc:"Self-similar pattern at different scales",icon:"",category:T.ADVANCED},{name:"Intervallic Series",pattern:["1","4","2","5","3","6","1","5","2","6","3","4"],desc:"Systematic interval exploration",icon:"",category:T.ADVANCED},{name:"Orbit",pattern:["1","3","5","2","4","6","3","5","1","4","6","2","5","1","6"],desc:"Circular motion through chord space",icon:"",category:T.ADVANCED},{name:"Double Helix",pattern:["1","6","2","5","3","4","3+","4+","2+","5+","1+","6+","1+"],desc:"Intertwining ascending and descending lines",icon:"",category:T.ADVANCED},{name:"Metamorphosis",pattern:["1","2","1","3","2","4","3","5","4","6","5","6","1+","2+"],desc:"Gradually transforming pattern",icon:"",category:T.ADVANCED},{name:"Tessellation",pattern:["1","3","6","4","2","5","1","4","6","3","2","5"],desc:"Interlocking geometric pattern",icon:"",category:T.ADVANCED},{name:"Prime Number",pattern:["1","x","2","x","x","3","x","x","x","x","5","x","x","x","x","x","x"],desc:"Based on prime number sequence",icon:"",category:T.ADVANCED},{name:"Matrix",pattern:["1","2","3","4+","5+","6+","6","5","4","3+","2+","1+"],desc:"Systematic octave displacement matrix",icon:"",category:T.ADVANCED},{name:"Mandala",pattern:["1","x","3","x","5","x","6","x","4","x","2","x","1","x"],desc:"Symmetric spiritual geometry",icon:"",category:T.ADVANCED},{name:"Infinity Loop",pattern:["1","2","3","4","5","6","5","4","3","2","1","6","5","4","3","2","1"],desc:"Never-ending loop pattern",icon:"",category:T.ADVANCED},{name:"Quantum Jump",pattern:["1","4+","2","5+","x","3","6+","x","1+","4","x","2+","5"],desc:"Unpredictable quantum-like leaps",icon:"",category:T.ADVANCED},{name:"Epic Journey",pattern:["1","2","3","4","5","6","6+","5+","4+","3+","2+","1+","6","5","4","3","2","1","x","x"],desc:"20-step odyssey through all chord tones",icon:"",category:T.ADVANCED},{name:"Full Spectrum",pattern:["1","x","2","x","3","x","4","x","5","x","6","x","1+","x","2+","x","3+","x"],desc:"Complete chord exploration with rests",icon:"",category:T.BASIC},{name:"Polyrhythmic Marathon",pattern:["1","x","x","2","x","3","x","x","4","x","5","x","x","6","x","1+","x","x","2+","x"],desc:"Extended polyrhythmic exploration",icon:"",category:T.RHYTHMIC},{name:"Dimensional Shift",pattern:["1","3","5","1+","3+","5+","6+","4+","2+","6","4","2","1","2","3","4","5","6"],desc:"Moving between octave dimensions",icon:"",category:T.ADVANCED},{name:"Quick Five",pattern:["1","2","3","4","5","1"],desc:"Efficient 5-note exploration",icon:"",category:T.BASIC},{name:"Hex Core",pattern:["1","3","5","2","4","6"],desc:"All 6 notes in compact form",icon:"",category:T.BASIC},{name:"Jazz Snap",pattern:["1","3","6","4","2","5"],desc:"Quick jazz chord exploration",icon:"",category:T.ADVANCED},{name:"Prism",pattern:["1","4","6","3","5","2"],desc:"Light refraction pattern",icon:"",category:T.ADVANCED},{name:"Star Map",pattern:["1","5","2","6","3","4"],desc:"Navigating chord constellation",icon:"",category:T.ADVANCED},{name:"Speed Dial",pattern:["1","2","4","5","6","3"],desc:"Quick access to extended tones",icon:"",category:T.BASIC},{name:"Kaleidoscope",pattern:["1","6","4","2","5","3"],desc:"Shifting colorful pattern",icon:"",category:T.ADVANCED},{name:"Magnetic",pattern:["1","3","5","6","4","2"],desc:"Attraction between chord tones",icon:"",category:T.ADVANCED},{name:"Quantum Six",pattern:["6","1","4","2","5","3"],desc:"Non-linear quantum exploration",icon:"",category:T.ADVANCED},{name:"Crystal",pattern:["1","4","2","5","3","6"],desc:"Crystalline structure pattern",icon:"",category:T.ADVANCED},{name:"Octagon",pattern:["1","2","3","4","5","6","5","4"],desc:"8-sided geometric exploration",icon:"",category:T.BASIC},{name:"Double Helix 6",pattern:["1","6","2","5","3","4","3+","1+"],desc:"DNA-like interweaving pattern",icon:"",category:T.ADVANCED},{name:"Infinity 5",pattern:["1","3","5","4","2","4","5","1"],desc:"Figure-8 through 5 chord tones",icon:"",category:T.ADVANCED},{name:"Compass Rose",pattern:["1","4","6","3","2","5","1","6"],desc:"Navigate all directions",icon:"",category:T.ADVANCED},{name:"Quick March",pattern:["1","2","3","4","5","6","1+","x"],desc:"Military precision through chord",icon:"",category:T.BASIC},{name:"Ripple Effect",pattern:["1","3","5","2","4","6","4","2"],desc:"Waves expanding outward",icon:"",category:T.ADVANCED},{name:"Spider Web",pattern:["1","4","2","6","3","5","1+","4"],desc:"Intricate connecting pattern",icon:"",category:T.ADVANCED},{name:"Gear Shift",pattern:["1","2","4","3","5","6","5","2"],desc:"Mechanical shifting motion",icon:"",category:T.ADVANCED},{name:"Phoenix Rise",pattern:["1","3","5","6","4","2","5+","1+"],desc:"Rising from ashes pattern",icon:"",category:T.ADVANCED},{name:"Molecule",pattern:["1","6","3","2","5","4","6+","1+"],desc:"Chemical bond structure",icon:"",category:T.ADVANCED},{name:"Time Warp",pattern:["1","5","2","4","6","3","1+","5"],desc:"Bending through chord space-time",icon:"",category:T.ADVANCED},{name:"Magic Square",pattern:["1","4","6","2","3","5","4+","1+"],desc:"Mathematical magic pattern",icon:"",category:T.ADVANCED},{name:"Synth Wave",pattern:["1","2","4","6","5","3","2+","1+"],desc:"Electronic wave synthesis",icon:"",category:T.ADVANCED},{name:"Butterfly",pattern:["1","3","6","4","2","5","3+","1+"],desc:"Graceful wing-like motion",icon:"",category:T.ADVANCED},{name:"Binary Code",pattern:["1","x","2","3","4","5","6","x"],desc:"Digital pattern with gaps",icon:"",category:T.RHYTHMIC},{name:"Vortex",pattern:["1","6","4","2","5","3","6+","1+"],desc:"Spiraling energy pattern",icon:"",category:T.ADVANCED},{name:"Lightning",pattern:["1","4","6","2","5","3","1+","x"],desc:"Zigzag electrical pattern",icon:"",category:T.ADVANCED},{name:"Honeycomb",pattern:["1","3","5","2","6","4","5+","1+"],desc:"Hexagonal bee pattern",icon:"",category:T.ADVANCED},{name:"Tidal Wave",pattern:["1","2","4","5","6","3","2+","1+"],desc:"Ocean wave crescendo",icon:"",category:T.ADVANCED},{name:"Satellite",pattern:["1","5","3","6","2","4","1+","5+"],desc:"Orbital motion pattern",icon:"",category:T.ADVANCED},{name:"Quad Core",pattern:["1","2","3","4","3","2"],desc:"4-note mountain shape",icon:"",category:T.BASIC},{name:"Square Dance",pattern:["1","3","2","4","1","3"],desc:"4-note folk pattern",icon:"",category:T.BASIC},{name:"Tetris Block",pattern:["1","4","2","3","4","1","2","3"],desc:"Interlocking 4-note pattern",icon:"",category:T.ADVANCED},{name:"Compass",pattern:["1","2","4","3","1","4"],desc:"4-direction navigation",icon:"",category:T.BASIC},{name:"Engine Cycle",pattern:["1","3","4","2","1","3","4","2"],desc:"Repeating 4-stroke pattern",icon:"",category:T.ADVANCED},{name:"Diamond",pattern:["1","2","4","3","2","1"],desc:"Diamond-shaped 4-note gem",icon:"",category:T.BASIC},{name:"Pentagon Path",pattern:["1","2","3","4","5","1"],desc:"5-sided geometric progression",icon:"",category:T.BASIC},{name:"Star Jump",pattern:["1","3","5","2","4","1"],desc:"5-pointed star navigation",icon:"",category:T.ADVANCED},{name:"High Five",pattern:["1","2","3","4","5","1+"],desc:"5-note celebration with octave",icon:"",category:T.BASIC},{name:"Flower Power",pattern:["1","3","2","5","4","1","3","5"],desc:"5-petal blooming pattern",icon:"",category:T.ADVANCED},{name:"Olympic Rings",pattern:["1","4","2","5","3","4"],desc:"Interlocking 5-note circles",icon:"",category:T.ADVANCED},{name:"Jazz Hand",pattern:["1","2","4","3","5","2","1","4"],desc:"5-finger jazz expression",icon:"",category:T.ADVANCED},{name:"Spiral Five",pattern:["1","3","5","4","2","3"],desc:"Spiraling 5-note motion",icon:"",category:T.ADVANCED},{name:"Power Plant",pattern:["1","5","3","2","4","1+"],desc:"Energy-generating 5-note pattern",icon:"",category:T.ADVANCED},{name:"Full House",pattern:["1","2","3","4","5","6"],desc:"Complete 6-note ascent",icon:"",category:T.BASIC},{name:"Hexagon Spin",pattern:["1","3","5","2","4","6"],desc:"6-sided rotating pattern",icon:"",category:T.BASIC},{name:"Rainbow Arc",pattern:["1","6","2","5","3","4"],desc:"6-color spectrum bridge",icon:"",category:T.ADVANCED},{name:"Dice Roll",pattern:["1","4","6","2","5","3"],desc:"Random 6-sided exploration",icon:"",category:T.ADVANCED},{name:"Spider Legs",pattern:["1","2","4","6","3","5","1","4"],desc:"8-legged 6-note crawl",icon:"",category:T.ADVANCED},{name:"Snowflake",pattern:["1","6","3","4","2","5"],desc:"6-sided crystalline beauty",icon:"",category:T.ADVANCED},{name:"Benzene Ring",pattern:["1","2","4","5","3","6","1","4"],desc:"Chemical 6-carbon structure",icon:"",category:T.ADVANCED},{name:"Clock Face",pattern:["1","3","6","4","2","5"],desc:"12-hour time navigation",icon:"",category:T.ADVANCED},{name:"Mandala Six",pattern:["1","4","2","6","3","5","1","6"],desc:"Sacred 6-fold geometry",icon:"",category:T.ADVANCED},{name:"Puzzle Piece",pattern:["1","5","2","4","6","3"],desc:"Interlocking 6-note solution",icon:"",category:T.ADVANCED},{name:"Rainbow Bridge",pattern:["1","2","3","4","5","6","1+"],desc:"Complete 7-tone spectrum",icon:"",category:T.BASIC},{name:"Lucky Seven",pattern:["1","3","5","6","4","2","1+","3+"],desc:"7-note fortune pattern",icon:"",category:T.ADVANCED},{name:"Chakra Flow",pattern:["1","2","3","4","5","6","1+"],desc:"7-energy center alignment",icon:"",category:T.ADVANCED},{name:"Week Days",pattern:["1","4","2","6","3","5","1+","4+"],desc:"7-day cycle pattern",icon:"",category:T.ADVANCED},{name:"Heptagon",pattern:["1","3","6","2","5","4","1+"],desc:"7-sided geometric form",icon:"",category:T.ADVANCED},{name:"Scale Heaven",pattern:["1","2","3","4","5","6","2+","1+"],desc:"7-note stairway to heaven",icon:"",category:T.ADVANCED},{name:"Prism Split",pattern:["1","6","4","2","5","3","1+"],desc:"Light splitting into 7 colors",icon:"",category:T.ADVANCED},{name:"Musical Bowl",pattern:["1","2","4","6","3","5","1+","4+"],desc:"7-tone singing bowl",icon:"",category:T.ADVANCED},{name:"Fusion Dance",pattern:["1","3","6","4","2","5"],desc:"6-note fusion choreography",icon:"",category:T.ADVANCED},{name:"Crystal Grid",pattern:["1","4","3","6","2","5","1+","4+"],desc:"6-point energy crystal matrix",icon:"",category:T.ADVANCED},{name:"Gear Train",pattern:["1","2","4","3","6","5"],desc:"Mechanical 6-gear system",icon:"",category:T.ADVANCED},{name:"DNA Strand",pattern:["1","5","2","6","3","4","1+","5+"],desc:"Double helix genetic code",icon:"",category:T.ADVANCED},{name:"Meteor Shower",pattern:["1","6","3","5","2","4"],desc:"6-streak cosmic display",icon:"",category:T.ADVANCED},{name:"Magic Circle",pattern:["1","3","2","6","4","5","1+"],desc:"7-point mystical protection",icon:"",category:T.ADVANCED},{name:"Tornado Spin",pattern:["1","4","6","3","2","5","1+","4+"],desc:"Spiraling 7-note vortex",icon:"",category:T.ADVANCED},{name:"Phoenix Wings",pattern:["1","2","5","6","3","4"],desc:"6-feather wing spread",icon:"",category:T.ADVANCED},{name:"Quad Echo",pattern:["1","2","1","3","2","4","3","4"],desc:"4-note echo chamber",icon:"",category:T.RHYTHMIC},{name:"Four Corners",pattern:["1","3","4","2","1","3","4","2"],desc:"Repeating 4-corner square",icon:"",category:T.BASIC},{name:"Heartbeat Quad",pattern:["1","1","2","3","3","4","2","4"],desc:"Pulsing 4-note rhythm",icon:"",category:T.RHYTHMIC},{name:"Compass Spin",pattern:["1","2","4","3","2","1","4","3"],desc:"4-direction circular motion",icon:"",category:T.ADVANCED},{name:"Engine Rev",pattern:["1","4","2","3","4","1","3","2"],desc:"4-cylinder engine pattern",icon:"",category:T.ADVANCED},{name:"Square Wave",pattern:["1","1","3","3","2","2","4","4"],desc:"Digital square wave form",icon:"",category:T.RHYTHMIC},{name:"Four Seasons",pattern:["1","2","3","4","2+","1","4","3"],desc:"Seasonal cycle pattern",icon:"",category:T.ADVANCED},{name:"Card Suit",pattern:["1","3","2","4","3+","1+","2","4"],desc:"Playing card 4-suit pattern",icon:"",category:T.ADVANCED},{name:"Quad Pulse",pattern:["1","2","2","3","3+","4+","4","1"],desc:"Doubled pulse pattern",icon:"",category:T.RHYTHMIC},{name:"Element Mix",pattern:["1","4","3","2","1","2","3","4"],desc:"4-element combination",icon:"",category:T.ADVANCED},{name:"Pentagon Echo",pattern:["1","2","3","4","5","1","3","5"],desc:"5-note with strategic repeats",icon:"",category:T.BASIC},{name:"Five Alive",pattern:["1","3","5","2","4","1","5","3"],desc:"Dynamic 5-note exploration",icon:"",category:T.ADVANCED},{name:"Star Circuit",pattern:["1","2","4","5","3","2","4","1"],desc:"5-pointed star electrical circuit",icon:"",category:T.ADVANCED},{name:"Olympic Flow",pattern:["1","3","2","5","4","3","1","5"],desc:"5-ring Olympic movement",icon:"",category:T.ADVANCED},{name:"Hand Jive",pattern:["1","2","3","4","5","2","4","3"],desc:"5-finger dance pattern",icon:"",category:T.RHYTHMIC},{name:"Jazz Fifth",pattern:["1","3","5","4","2","5","1","3"],desc:"Jazz 5-note improvisation",icon:"",category:T.ADVANCED},{name:"Flower Bloom",pattern:["1","2","4","3","5","4","2","1"],desc:"5-petal opening flower",icon:"",category:T.ADVANCED},{name:"Spiral Five",pattern:["1","5","3","2","4","5","3","1"],desc:"Spiraling 5-note motion",icon:"",category:T.ADVANCED},{name:"Pentagon March",pattern:["1","2","3","4","5","4","3","2"],desc:"Military 5-count march",icon:"",category:T.BASIC},{name:"Five Elements",pattern:["1","4","2","5","3","4","1+","5+"],desc:"Ancient 5-element cycle",icon:"",category:T.ADVANCED},{name:"Quintet Jam",pattern:["1","3","4","2","5","3","4","1"],desc:"5-piece band improvisation",icon:"",category:T.ADVANCED},{name:"Five Fold",pattern:["1","5","2","4","3","2","5","4"],desc:"5-fold symmetrical pattern",icon:"",category:T.ADVANCED},{name:"Hex Repeat",pattern:["1","2","3","4","5","6","1","4"],desc:"6-note with strategic repeats",icon:"",category:T.BASIC},{name:"Rainbow Fade",pattern:["1","6","2","5","3","4","6","1"],desc:"6-color spectrum fade",icon:"",category:T.ADVANCED},{name:"Snowflake Dance",pattern:["1","3","6","4","2","5","3","1"],desc:"6-sided crystal dance",icon:"",category:T.ADVANCED},{name:"Benzene Loop",pattern:["1","2","4","5","3","6","2","4"],desc:"Chemical 6-carbon ring",icon:"",category:T.ADVANCED},{name:"Dice Double",pattern:["1","4","6","2","5","3","4","6"],desc:"6-sided die double roll",icon:"",category:T.ADVANCED},{name:"Hexagon Twist",pattern:["1","3","5","2","4","6","3","5"],desc:"6-sided geometric twist",icon:"",category:T.ADVANCED},{name:"Clock Tick",pattern:["1","2","4","6","3","5","2","6"],desc:"6-hour time progression",icon:"",category:T.RHYTHMIC},{name:"Mandala Six",pattern:["1","4","2","6","3","5","4","2"],desc:"Sacred 6-fold pattern",icon:"",category:T.ADVANCED},{name:"Flower Power",pattern:["1","6","3","2","5","4","6","3"],desc:"6-petal power flower",icon:"",category:T.ADVANCED},{name:"Insect Walk",pattern:["1","2","4","3","6","5","2","4"],desc:"6-legged insect movement",icon:"",category:T.ADVANCED},{name:"Crystal Matrix",pattern:["1","5","3","6","2","4","5","3"],desc:"6-point crystal energy grid",icon:"",category:T.ADVANCED},{name:"Spinner Six",pattern:["1","3","6","2","4","5","3","6"],desc:"6-blade spinner pattern",icon:"",category:T.ADVANCED},{name:"Web Weave",pattern:["1","4","6","3","2","5","4","1"],desc:"6-strand web weaving",icon:"",category:T.ADVANCED},{name:"Honeycomb Flow",pattern:["1","2","5","6","3","4","2","5"],desc:"6-sided honeycomb flow",icon:"",category:T.ADVANCED},{name:"Gear Mesh",pattern:["1","6","4","2","5","3","6","4"],desc:"6-tooth gear meshing",icon:"",category:T.ADVANCED},{name:"Jazz Hexagon",pattern:["1","3+","5","6+","4","2+","3","5+"],desc:"6-note jazz with octave sophistication",icon:"",category:T.ADVANCED},{name:"Empty 4-Step",pattern:["x","x","x","x"],desc:"Let's do this!",icon:"",category:T.CUSTOM}],Zc=t=>new Set(t.filter(o=>o!=="x").map(o=>{const s=parseInt(o.replace("+",""));return isNaN(s)?null:s}).filter(o=>o!==null)).size,G1=(t,r)=>t.length!==r.length?!1:t.every((o,s)=>o===r[s]),U1=({chordNoteCount:t,maxAvailableNotes:r,hideFewerNotePatterns:o,currentPattern:s,onHideFewerNotePatternsChange:a,onApplyPreset:l,className:d=""})=>{const f=Ln(M=>M.addedChords),[p,m]=b.useState("all"),[x,g]=b.useState("all"),y=b.useRef(null),N=b.useRef({}),S=b.useMemo(()=>{const M=[],z=new Set;return rm.forEach(R=>{z.add(R.pattern.join("|"))}),f.forEach((R,L)=>{const J=R.pattern.join("|");!z.has(J)&&J.trim()!==""&&(z.add(J),Zc(R.pattern),M.push({name:`Custom ${M.length+1}`,pattern:[...R.pattern],desc:`Custom pattern from "${R.name}"`,icon:"",category:T.CUSTOM}))}),M},[f]),D=b.useMemo(()=>[...rm,...S],[S]),E=b.useMemo(()=>{const M=new Set(D.map(z=>z.pattern.length));return Array.from(M).sort((z,R)=>z-R)},[D]),$=b.useMemo(()=>D.filter(M=>{const z=Zc(M.pattern);return!(z>t||o&&z<t||Math.max(...M.pattern.filter(L=>L!=="x").map(L=>{const J=parseInt(L.replace("+",""));return isNaN(J)?0:J}))>r||p!=="all"&&M.pattern.length!==parseInt(p)||x!=="all"&&M.category!==x)}),[D,t,o,r,p,x]),V=b.useMemo(()=>s?$.findIndex(M=>G1(M.pattern,s)):-1,[s,$]);b.useEffect(()=>{if(V>=0&&y.current){const M=y.current,z=N.current[V];if(z){const R=M.getBoundingClientRect(),L=z.getBoundingClientRect(),J=L.top-R.top+M.scrollTop,ne=J+L.height,ae=M.clientHeight,k=M.scrollTop,O=k+ae;if(J<k||ne>O){const G=J-ae/2+L.height/2;M.scrollTo({top:Math.max(0,G),behavior:"instant"})}}}},[V,$]);const B=["All Steps",...E.map(M=>`${M} Steps`)],H=["All Categories","Basic","Rhythmic","Advanced","Genre","Custom"];return u.jsxs("div",{className:`space-y-4 ${d}`,children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:"Pattern Presets"}),u.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:o,onChange:M=>a(M.target.checked),className:"w-3 h-3 rounded border-gray-600 bg-[#3d434f] text-blue-600 focus:ring-blue-500 focus:ring-1"}),u.jsx("span",{className:"text-xs text-slate-200",children:"Hide patterns with fewer notes"})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[u.jsx(Nn,{value:B[p==="all"?0:B.findIndex(M=>M===`${p} Steps`)],onChange:M=>{if(M==="All Steps")m("all");else{const z=M.replace(" Steps","");m(z)}},options:B,className:"flex-1",buttonClassName:"w-full p-2 bg-[#3d434f] border border-gray-600 rounded text-slate-200 text-xs transition-colors hover:bg-[#4a5262]"}),u.jsx(Nn,{value:H[x==="all"?0:H.findIndex(M=>M.toLowerCase()===x)],onChange:M=>{g(M==="All Categories"?"all":M.toLowerCase())},options:H,className:"flex-1",buttonClassName:"w-full p-2 bg-[#3d434f] border border-gray-600 rounded text-slate-200 text-xs transition-colors hover:bg-[#4a5262]"})]}),u.jsx("div",{ref:y,className:"grid grid-cols-1 gap-2 max-h-80 overflow-y-auto pr-2 custom-scrollbar",children:$.length>0?$.map((M,z)=>{const R=Zc(M.pattern),L=z===V;return u.jsxs("button",{ref:J=>{N.current[z]=J},onClick:()=>l(M),className:`p-2 rounded text-xs transition-colors text-left border ${L?"bg-blue-600/20 text-slate-100 border-blue-500 ring-1 ring-blue-500/50":"bg-[#3d434f] text-slate-300 hover:bg-[#4a5262] hover:text-slate-200 border-gray-600 hover:border-gray-500"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("span",{className:"font-medium uppercase tracking-wide",children:M.name}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsxs("span",{className:`text-xs ${L?"text-slate-300":"text-slate-500"}`,children:[R,"n  ",M.pattern.length,"s"]}),u.jsx("span",{children:M.icon})]})]}),u.jsx("div",{className:`text-xs opacity-60 ${L?"text-slate-400":"text-slate-500"}`,children:M.pattern.join("-")})]},z)}):u.jsx("div",{className:"p-3 text-xs text-slate-400 text-center",children:"No patterns found matching current filters"})})]})},Nr=({label:t,value:r,min:o,max:s,step:a=.05,onChange:l,suffix:d,showPercentage:f=!1,formatValue:p,showMinMax:m=!1,minLabel:x,maxLabel:g,variant:y="default",className:N="",labelClassName:S=""})=>{const D=()=>p?p(r):f?`${Math.round(r*100)}%`:`${r}${d||""}`,E=$=>{const V=parseFloat($.target.value);l(V)};return y==="split"?u.jsxs("div",{className:N,children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("span",{className:`text-xs text-slate-400 uppercase tracking-wide ${S}`,children:t}),u.jsx("span",{className:"text-xs text-slate-400 font-mono",children:D()})]}),u.jsx("input",{type:"range",min:o,max:s,step:a,value:r,onChange:E,className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"}),m&&u.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-1",children:[u.jsx("span",{children:x||o}),u.jsx("span",{children:g||s})]})]}):u.jsxs("div",{className:N,children:[u.jsxs("label",{className:`block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide ${S}`,children:[t,u.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",D(),")"]})]}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"range",min:o,max:s,step:a,value:r,onChange:E,className:"slider-mobile w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})}),m&&u.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-1",children:[u.jsx("span",{children:x||o}),u.jsx("span",{children:g||s})]})]})},ys=[{value:.125,symbol:"",name:"32nd notes"},{value:.25,symbol:"",name:"16th notes"},{value:.5,symbol:"",name:"8th notes"},{value:1,symbol:"",name:"Quarter notes"},{value:2,symbol:"",name:"Half notes"}],Nu=b.memo(({stepIndex:t,stepValue:r,maxNotes:o,onStepChange:s})=>{const a=b.useMemo(()=>{const m=[""];for(let x=1;x<=o;x++)m.push(String(x)),m.push(`${x}`);return m},[o]),d=(()=>{if(r==="x")return"";const m=parseInt(r.replace("+",""));return!isNaN(m)&&m>o?"":r.replace("+","")})(),f=r!=="x"&&d==="",p=m=>{let x=m;m===""?x="x":m.includes("")&&(x=m.replace("","+")),s(t,x)};return u.jsx("div",{className:"relative",children:u.jsx(Nn,{value:d,onChange:p,options:a,className:"w-full",buttonClassName:`w-full h-10 text-xs pl-2.5 ${r==="x"?"bg-[#3d434f] border-gray-700 text-slate-400":f?"bg-[#3d434f] border-gray-700 text-orange-400":"bg-[#3d434f] border-gray-600 text-slate-200 hover:bg-[#4a5262]"} border rounded transition-all duration-200`})})});Nu.displayName="StepEditor";const W1=()=>{Cn();const t=Ln(),r=ko(),{addedChords:o,activeChordIndex:s}=t,{currentlyActivePattern:a,globalPatternState:l}=r,[d,f]=b.useState(!1),[p,m]=b.useState(!0),[x,g]=b.useState("1,2,3,4"),[y,N]=b.useState(!1);b.useCallback(()=>s!==null&&o[s]?o[s].pattern:a,[s,o,a]);const{currentPattern:S,editingContext:D}=b.useMemo(()=>{if(s!==null&&o[s]){const G=o[s];return{currentPattern:G.pattern,editingContext:{type:"chord",title:`Pattern for "${G.name}"`,description:"Editing pattern for this specific chord",chordName:G.name}}}else return{currentPattern:l.currentPattern,editingContext:{type:"current",title:"Global Pattern",description:"Base pattern - becomes active when no chord is selected",chordName:null}}},[s,o,l.currentPattern]),E=b.useMemo(()=>{if(s!==null&&o[s]){const oe=o[s].notes.split(",").map(le=>le.trim()).filter(le=>le);return new Set(oe.map(le=>le.replace(/\d+$/,""))).size}return 4},[s,o]),$=b.useMemo(()=>{const G=Math.min(4,E);return Math.max(G,E)},[E]);b.useEffect(()=>{S&&g(S.join(","))},[S]);const V=b.useCallback(()=>{const G=!l.isPlaying;r.setGlobalPatternState({isPlaying:G})},[l.isPlaying]);b.useCallback(()=>{r.setGlobalPatternState({isPlaying:!1,currentStep:0})},[]);const B=b.useCallback(G=>{D.type==="current"?r.setGlobalPatternState({currentPattern:G}):D.type==="chord"&&s!==null&&t.updateChordPattern(s,G)},[D.type,s]),H=b.useCallback((G,oe)=>{const ee=[...S];ee[G]=oe,B(ee)},[S,B]),M=b.useCallback(()=>{if(S.length<16){const G=[...S,"x"];B(G)}},[S,B]),z=b.useCallback(()=>{if(S.length>1){const G=S.slice(0,-1);B(G)}},[S,B]),R=b.useCallback(()=>{try{const G=x.split(",").map(oe=>oe.trim()).filter(oe=>oe);G.length>0&&B(G)}catch{console.error("Invalid pattern format")}},[x,B]),L=b.useCallback(G=>{B(G.pattern)},[B]),J=b.useCallback(G=>{r.updatePattern(G)},[]),ne=b.useMemo(()=>l.isPlaying?l.currentStep%S.length:-1,[l.isPlaying,l.currentStep,S.length]),ae=ys.map(G=>`${G.symbol} ${G.name}`),k=ys.find(G=>G.value===l.subdivision),O=k?`${k.symbol} ${k.name}`:`${ys[1].symbol} ${ys[1].name}`;return u.jsx("div",{className:"w-full max-w-7xl mx-auto px-2 mt-6",children:u.jsxs("div",{className:"bg-[#3d434f] border border-gray-600 rounded-lg overflow-hidden",children:[u.jsx("div",{className:"px-4 py-3",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-sm font-bold text-slate-300 uppercase tracking-wider",children:"Sequencer"}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("button",{onClick:()=>f(!d),className:"w-[7em] h-8 flex items-center space-x-2 px-3 py-1.5 text-xs text-slate-300 hover:text-slate-200 bg-[#4a5262] hover:bg-[#525a6b] border border-gray-600 rounded transition-all duration-200",children:d?u.jsxs(u.Fragment,{children:[u.jsx(Ps,{className:"w-3 h-3"}),u.jsx("span",{children:"Hide"})]}):u.jsxs(u.Fragment,{children:[u.jsx(Qr,{className:"w-3 h-3"}),u.jsx("span",{children:"Show"})]})}),u.jsx(Sn,{onClick:V,variant:"play-stop",size:"sm",active:l.isPlaying,className:"shadow-lg",children:l.isPlaying?u.jsxs(u.Fragment,{children:[u.jsx(Rs,{className:"w-6 h-6"}),u.jsx("span",{className:"hidden sm:inline",children:"Stop"})]}):u.jsxs(u.Fragment,{children:[u.jsx(ks,{className:"w-6 h-6"}),u.jsx("span",{className:"hidden sm:inline",children:"Play"})]})})]})]})}),u.jsxs("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${d?" opacity-100":"max-h-0 opacity-0"}`,children:[u.jsxs("div",{className:"border-t border-gray-600 bg-[#444b59]",children:[u.jsxs("div",{className:"px-4 py-3 border-b border-gray-600 bg-[#3d434f]",children:[u.jsxs("div",{className:"flex items-center justify-between sm:hidden",children:[u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("button",{onClick:z,disabled:S.length<=1,className:"flex items-center justify-center w-7 h-7 bg-[#4a5262] hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed text-xs rounded transition-all duration-200 text-slate-200 hover:text-white disabled:hover:bg-[#4a5262] disabled:hover:text-slate-200",title:"Remove step",children:u.jsx(Lh,{className:"w-3 h-3"})}),u.jsx("div",{className:"text-xs text-slate-300 font-mono w-8 text-center",children:S.length}),u.jsx("button",{onClick:M,disabled:S.length>=16,className:"flex items-center justify-center w-7 h-7 bg-[#4a5262] hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed text-xs rounded transition-all duration-200 text-slate-200 hover:text-white disabled:hover:bg-[#4a5262] disabled:hover:text-slate-200",title:"Add step",children:u.jsx(Bh,{className:"w-3 h-3"})})]}),u.jsx("div",{children:D.chordName?u.jsx("div",{className:"text-xs font-medium text-purple-300 bg-purple-900/30 px-2 py-1 rounded border border-purple-700/50",children:D.chordName}):u.jsx("div",{className:"text-xs text-cyan-300 bg-cyan-900/30 px-2 py-1 rounded border border-cyan-700/50",children:"Global Pattern"})})]}),u.jsxs("div",{className:"hidden sm:flex sm:items-center sm:justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("span",{className:"text-xs text-slate-400 font-medium",children:"Pattern:"}),u.jsxs("div",{className:"text-xs text-slate-300 font-mono bg-[#4a5262] px-2 py-1 rounded",children:[S.length," steps"]})]}),D.chordName&&u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-xs text-slate-400",children:"for"}),u.jsx("div",{className:"text-xs font-medium text-purple-300 bg-purple-900/30 px-2 py-1 rounded border border-purple-700/50",children:D.chordName})]}),!D.chordName&&u.jsx("div",{className:"text-xs text-cyan-300 bg-cyan-900/30 px-2 py-1 rounded border border-cyan-700/50",children:"Global Pattern"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-xs text-slate-400",children:"Steps:"}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("button",{onClick:z,disabled:S.length<=1,className:"flex items-center justify-center w-7 h-7 bg-[#4a5262] hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed text-xs rounded transition-all duration-200 text-slate-200 hover:text-white disabled:hover:bg-[#4a5262] disabled:hover:text-slate-200",title:"Remove step",children:u.jsx(Lh,{className:"w-3 h-3"})}),u.jsx("div",{className:"text-xs text-slate-300 font-mono w-8 text-center",children:S.length}),u.jsx("button",{onClick:M,disabled:S.length>=16,className:"flex items-center justify-center w-7 h-7 bg-[#4a5262] hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed text-xs rounded transition-all duration-200 text-slate-200 hover:text-white disabled:hover:bg-[#4a5262] disabled:hover:text-slate-200",title:"Add step",children:u.jsx(Bh,{className:"w-3 h-3"})})]})]})]})]}),u.jsxs("div",{className:"p-6 px-3 sm:px-4",children:[u.jsx("div",{className:"block md:hidden",children:Array.from({length:Math.ceil(S.length/4)},(G,oe)=>{const ee=oe*4,le=Math.min(ee+4,S.length),Y=S.slice(ee,le);return u.jsxs("div",{className:"mb-4 last:mb-0",children:[u.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[Y.map((Z,Q)=>{const A=ee+Q;return u.jsx(Nu,{stepIndex:A,stepValue:Z,maxNotes:$,onStepChange:H},`pattern-${D.type}-${s}-${A}`)}),Array.from({length:4-Y.length},(Z,Q)=>u.jsx("div",{},`empty-${Q}`))]}),u.jsxs("div",{className:"grid grid-cols-4 gap-2 mt-2",children:[Y.map((Z,Q)=>{const A=ee+Q;return u.jsx("div",{className:"flex justify-center",children:u.jsx("div",{className:`transition-all duration-200 ${ne===A?"w-full h-1 bg-blue-400 rounded-full":"w-full h-1 bg-gray-600 rounded-full"}`})},`indicator-${A}`)}),Array.from({length:4-Y.length},(Z,Q)=>u.jsx("div",{},`empty-indicator-${Q}`))]})]},`mobile-row-${oe}`)})}),u.jsx("div",{className:"hidden md:block",children:Array.from({length:Math.ceil(S.length/8)},(G,oe)=>{const ee=oe*8,le=Math.min(ee+8,S.length),Y=S.slice(ee,le);return u.jsxs("div",{className:"mb-4 last:mb-0",children:[u.jsxs("div",{className:"grid grid-cols-8 gap-2",children:[Y.map((Z,Q)=>{const A=ee+Q;return u.jsx(Nu,{stepIndex:A,stepValue:Z,maxNotes:$,onStepChange:H},`pattern-${D.type}-${s}-${A}`)}),Array.from({length:8-Y.length},(Z,Q)=>u.jsx("div",{},`empty-${Q}`))]}),u.jsxs("div",{className:"grid grid-cols-8 gap-2 mt-2",children:[Y.map((Z,Q)=>{const A=ee+Q;return u.jsx("div",{className:"flex justify-center",children:u.jsx("div",{className:`transition-all duration-200 ${ne===A?"w-full h-1 bg-blue-400 rounded-full shadow-lg shadow-blue-400/50":"w-full h-1 bg-gray-600 rounded-full"}`})},`indicator-${A}`)}),Array.from({length:8-Y.length},(Z,Q)=>u.jsx("div",{},`empty-indicator-${Q}`))]})]},`desktop-row-${oe}`)})})]})]}),u.jsxs("div",{className:"bg-[#3d434f] border-t border-gray-600",children:[u.jsx("div",{className:"px-4 py-3 border-b border-gray-600",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-sm font-medium text-slate-200 uppercase tracking-wider",children:"Settings"}),u.jsx("button",{onClick:()=>m(!p),className:"w-[7em] h-8 flex items-center space-x-2 px-3 py-1.5 text-xs text-slate-300 hover:text-slate-200 bg-[#4a5262] hover:bg-[#525a6b] border border-gray-600 rounded transition-all duration-200",children:p?u.jsxs(u.Fragment,{children:[u.jsx(Ps,{className:"w-3 h-3"}),u.jsx("span",{children:"Hide"})]}):u.jsxs(u.Fragment,{children:[u.jsx(Qr,{className:"w-3 h-3"}),u.jsx("span",{children:"Show"})]})})]})}),u.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${p?" opacity-100":"max-h-0 opacity-0"}`,children:u.jsx("div",{className:"p-6 bg-[#444b59]",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-x-8 gap-y-6",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{children:u.jsx("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:"Timing"})}),u.jsx(Nr,{label:"BPM",value:l.bpm,min:60,max:200,step:1,onChange:G=>J({bpm:Math.round(G)}),showMinMax:!0,minLabel:"60",maxLabel:"200"}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:"Subdivision"}),u.jsx(Nn,{value:O,onChange:G=>{const oe=ys.find(ee=>`${ee.symbol} ${ee.name}`===G);oe&&J({subdivision:oe.value})},options:ae,className:"w-full",buttonClassName:"w-full p-3 bg-[#3d434f] border border-gray-600 rounded text-slate-200 text-xs focus:border-blue-500 transition-colors hover:bg-[#4a5262]"})]}),u.jsx(Nr,{label:"Swing",value:l.swing,min:0,max:50,step:1,suffix:"%",onChange:G=>J({swing:Math.round(G)}),showMinMax:!0,minLabel:"0%",maxLabel:"50%"})]}),u.jsx(U1,{chordNoteCount:E,maxAvailableNotes:$,hideFewerNotePatterns:y,onHideFewerNotePatternsChange:N,onApplyPreset:L,currentPattern:a}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("label",{className:"block text-xs font-medium text-slate-200 uppercase tracking-wide",children:"Custom"}),u.jsx(H1,{})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("input",{type:"text",value:x,onChange:G=>g(G.target.value),onKeyPress:G=>G.key==="Enter"&&R(),placeholder:"1,x,3,2+",className:"w-full p-2 bg-[#3d434f] border border-gray-600 rounded text-slate-200 text-xs focus:border-blue-500 transition-colors placeholder-slate-500"}),u.jsx("button",{onClick:R,className:"w-full px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded text-xs font-medium transition-colors uppercase tracking-wide",children:"Apply Pattern"})]})]})]})})})]})]})]})})};function Mt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var q1=typeof Symbol=="function"&&Symbol.observable||"@@observable",om=q1,sm=()=>Math.random().toString(36).substring(7).split("").join("."),K1={INIT:`@@redux/INIT${sm()}`,REPLACE:`@@redux/REPLACE${sm()}`},im=K1;function Y1(t){if(typeof t!="object"||t===null)return!1;let r=t;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(t)===r||Object.getPrototypeOf(t)===null}function Ng(t,r,o){if(typeof t!="function")throw new Error(Mt(2));if(typeof r=="function"&&typeof o=="function"||typeof o=="function"&&typeof arguments[3]=="function")throw new Error(Mt(0));if(typeof r=="function"&&typeof o>"u"&&(o=r,r=void 0),typeof o<"u"){if(typeof o!="function")throw new Error(Mt(1));return o(Ng)(t,r)}let s=t,a=r,l=new Map,d=l,f=0,p=!1;function m(){d===l&&(d=new Map,l.forEach((E,$)=>{d.set($,E)}))}function x(){if(p)throw new Error(Mt(3));return a}function g(E){if(typeof E!="function")throw new Error(Mt(4));if(p)throw new Error(Mt(5));let $=!0;m();const V=f++;return d.set(V,E),function(){if($){if(p)throw new Error(Mt(6));$=!1,m(),d.delete(V),l=null}}}function y(E){if(!Y1(E))throw new Error(Mt(7));if(typeof E.type>"u")throw new Error(Mt(8));if(typeof E.type!="string")throw new Error(Mt(17));if(p)throw new Error(Mt(9));try{p=!0,a=s(a,E)}finally{p=!1}return(l=d).forEach(V=>{V()}),E}function N(E){if(typeof E!="function")throw new Error(Mt(10));s=E,y({type:im.REPLACE})}function S(){const E=g;return{subscribe($){if(typeof $!="object"||$===null)throw new Error(Mt(11));function V(){const H=$;H.next&&H.next(x())}return V(),{unsubscribe:E(V)}},[om](){return this}}}return y({type:im.INIT}),{dispatch:y,subscribe:g,getState:x,replaceReducer:N,[om]:S}}function am(t,r){return function(...o){return r(t.apply(this,o))}}function lm(t,r){if(typeof t=="function")return am(t,r);if(typeof t!="object"||t===null)throw new Error(Mt(16));const o={};for(const s in t){const a=t[s];typeof a=="function"&&(o[s]=am(a,r))}return o}function Cg(...t){return t.length===0?r=>r:t.length===1?t[0]:t.reduce((r,o)=>(...s)=>r(o(...s)))}function Q1(...t){return r=>(o,s)=>{const a=r(o,s);let l=()=>{throw new Error(Mt(15))};const d={getState:a.getState,dispatch:(p,...m)=>l(p,...m)},f=t.map(p=>p(d));return l=Cg(...f)(a.dispatch),{...a,dispatch:l}}}var Jc={exports:{}},eu={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cm;function X1(){if(cm)return eu;cm=1;var t=Aa();function r(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var o=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,a=t.useRef,l=t.useEffect,d=t.useMemo,f=t.useDebugValue;return eu.useSyncExternalStoreWithSelector=function(p,m,x,g,y){var N=a(null);if(N.current===null){var S={hasValue:!1,value:null};N.current=S}else S=N.current;N=d(function(){function E(M){if(!$){if($=!0,V=M,M=g(M),y!==void 0&&S.hasValue){var z=S.value;if(y(z,M))return B=z}return B=M}if(z=B,o(V,M))return z;var R=g(M);return y!==void 0&&y(z,R)?(V=M,z):(V=M,B=R)}var $=!1,V,B,H=x===void 0?null:x;return[function(){return E(m())},H===null?void 0:function(){return E(H())}]},[m,x,g,y]);var D=s(p,N[0],N[1]);return l(function(){S.hasValue=!0,S.value=D},[D]),f(D),D},eu}var um;function Z1(){return um||(um=1,Jc.exports=X1()),Jc.exports}Z1();var J1=b.version.startsWith("19"),ew=Symbol.for(J1?"react.transitional.element":"react.element"),tw=Symbol.for("react.portal"),nw=Symbol.for("react.fragment"),rw=Symbol.for("react.strict_mode"),ow=Symbol.for("react.profiler"),sw=Symbol.for("react.consumer"),iw=Symbol.for("react.context"),Sg=Symbol.for("react.forward_ref"),aw=Symbol.for("react.suspense"),lw=Symbol.for("react.suspense_list"),Qu=Symbol.for("react.memo"),cw=Symbol.for("react.lazy"),uw=Sg,dw=Qu;function fw(t){if(typeof t=="object"&&t!==null){const{$$typeof:r}=t;switch(r){case ew:switch(t=t.type,t){case nw:case ow:case rw:case aw:case lw:return t;default:switch(t=t&&t.$$typeof,t){case iw:case Sg:case cw:case Qu:return t;case sw:return t;default:return r}}case tw:return r}}}function pw(t){return fw(t)===Qu}function hw(t,r,o,s,{areStatesEqual:a,areOwnPropsEqual:l,areStatePropsEqual:d}){let f=!1,p,m,x,g,y;function N(V,B){return p=V,m=B,x=t(p,m),g=r(s,m),y=o(x,g,m),f=!0,y}function S(){return x=t(p,m),r.dependsOnOwnProps&&(g=r(s,m)),y=o(x,g,m),y}function D(){return t.dependsOnOwnProps&&(x=t(p,m)),r.dependsOnOwnProps&&(g=r(s,m)),y=o(x,g,m),y}function E(){const V=t(p,m),B=!d(V,x);return x=V,B&&(y=o(x,g,m)),y}function $(V,B){const H=!l(B,m),M=!a(V,p,B,m);return p=V,m=B,H&&M?S():H?D():M?E():y}return function(B,H){return f?$(B,H):N(B,H)}}function mw(t,{initMapStateToProps:r,initMapDispatchToProps:o,initMergeProps:s,...a}){const l=r(t,a),d=o(t,a),f=s(t,a);return hw(l,d,f,t,a)}function gw(t,r){const o={};for(const s in t){const a=t[s];typeof a=="function"&&(o[s]=(...l)=>r(a(...l)))}return o}function Cu(t){return function(o){const s=t(o);function a(){return s}return a.dependsOnOwnProps=!1,a}}function dm(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function Eg(t,r){return function(s,{displayName:a}){const l=function(f,p){return l.dependsOnOwnProps?l.mapToProps(f,p):l.mapToProps(f,void 0)};return l.dependsOnOwnProps=!0,l.mapToProps=function(f,p){l.mapToProps=t,l.dependsOnOwnProps=dm(t);let m=l(f,p);return typeof m=="function"&&(l.mapToProps=m,l.dependsOnOwnProps=dm(m),m=l(f,p)),m},l}}function Xu(t,r){return(o,s)=>{throw new Error(`Invalid value of type ${typeof t} for ${r} argument when connecting component ${s.wrappedComponentName}.`)}}function vw(t){return t&&typeof t=="object"?Cu(r=>gw(t,r)):t?typeof t=="function"?Eg(t):Xu(t,"mapDispatchToProps"):Cu(r=>({dispatch:r}))}function xw(t){return t?typeof t=="function"?Eg(t):Xu(t,"mapStateToProps"):Cu(()=>({}))}function yw(t,r,o){return{...o,...t,...r}}function bw(t){return function(o,{displayName:s,areMergedPropsEqual:a}){let l=!1,d;return function(p,m,x){const g=t(p,m,x);return l?a(g,d)||(d=g):(l=!0,d=g),d}}}function ww(t){return t?typeof t=="function"?bw(t):Xu(t,"mergeProps"):()=>yw}function Nw(t){t()}function Cw(){let t=null,r=null;return{clear(){t=null,r=null},notify(){Nw(()=>{let o=t;for(;o;)o.callback(),o=o.next})},get(){const o=[];let s=t;for(;s;)o.push(s),s=s.next;return o},subscribe(o){let s=!0;const a=r={callback:o,next:null,prev:r};return a.prev?a.prev.next=a:t=a,function(){!s||t===null||(s=!1,a.next?a.next.prev=a.prev:r=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var fm={notify(){},get:()=>[]};function Dg(t,r){let o,s=fm,a=0,l=!1;function d(D){x();const E=s.subscribe(D);let $=!1;return()=>{$||($=!0,E(),g())}}function f(){s.notify()}function p(){S.onStateChange&&S.onStateChange()}function m(){return l}function x(){a++,o||(o=r?r.addNestedSub(p):t.subscribe(p),s=Cw())}function g(){a--,o&&a===0&&(o(),o=void 0,s.clear(),s=fm)}function y(){l||(l=!0,x())}function N(){l&&(l=!1,g())}const S={addNestedSub:d,notifyNestedSubs:f,handleChangeWrapper:p,isSubscribed:m,trySubscribe:y,tryUnsubscribe:N,getListeners:()=>s};return S}var Sw=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ew=Sw(),Dw=()=>typeof navigator<"u"&&navigator.product==="ReactNative",jw=Dw(),Aw=()=>Ew||jw?b.useLayoutEffect:b.useEffect,ma=Aw();function pm(t,r){return t===r?t!==0||r!==0||1/t===1/r:t!==t&&r!==r}function tu(t,r){if(pm(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;const o=Object.keys(t),s=Object.keys(r);if(o.length!==s.length)return!1;for(let a=0;a<o.length;a++)if(!Object.prototype.hasOwnProperty.call(r,o[a])||!pm(t[o[a]],r[o[a]]))return!1;return!0}var Pw={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Rw={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},kw={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},jg={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Iw={[uw]:kw,[dw]:jg};function hm(t){return pw(t)?jg:Iw[t.$$typeof]||Pw}var Tw=Object.defineProperty,Mw=Object.getOwnPropertyNames,mm=Object.getOwnPropertySymbols,Ow=Object.getOwnPropertyDescriptor,_w=Object.getPrototypeOf,gm=Object.prototype;function Su(t,r){if(typeof r!="string"){if(gm){const l=_w(r);l&&l!==gm&&Su(t,l)}let o=Mw(r);mm&&(o=o.concat(mm(r)));const s=hm(t),a=hm(r);for(let l=0;l<o.length;++l){const d=o[l];if(!Rw[d]&&!(a&&a[d])&&!(s&&s[d])){const f=Ow(r,d);try{Tw(t,d,f)}catch{}}}}return t}var Lw=Symbol.for("react-redux-context"),Bw=typeof globalThis<"u"?globalThis:{};function Fw(){if(!b.createContext)return{};const t=Bw[Lw]??=new Map;let r=t.get(b.createContext);return r||(r=b.createContext(null),t.set(b.createContext,r)),r}var Ag=Fw(),$w=[null,null];function zw(t,r,o){ma(()=>t(...r),o)}function Vw(t,r,o,s,a,l){t.current=s,o.current=!1,a.current&&(a.current=null,l())}function Hw(t,r,o,s,a,l,d,f,p,m,x){if(!t)return()=>{};let g=!1,y=null;const N=()=>{if(g||!f.current)return;const D=r.getState();let E,$;try{E=s(D,a.current)}catch(V){$=V,y=V}$||(y=null),E===l.current?d.current||m():(l.current=E,p.current=E,d.current=!0,x())};return o.onStateChange=N,o.trySubscribe(),N(),()=>{if(g=!0,o.tryUnsubscribe(),o.onStateChange=null,y)throw y}}function Gw(t,r){return t===r}function Uw(t,r,o,{pure:s,areStatesEqual:a=Gw,areOwnPropsEqual:l=tu,areStatePropsEqual:d=tu,areMergedPropsEqual:f=tu,forwardRef:p=!1,context:m=Ag}={}){const x=m,g=xw(t),y=vw(r),N=ww(o),S=!!t;return E=>{const $=E.displayName||E.name||"Component",V=`Connect(${$})`,B={shouldHandleStateChanges:S,displayName:V,wrappedComponentName:$,WrappedComponent:E,initMapStateToProps:g,initMapDispatchToProps:y,initMergeProps:N,areStatesEqual:a,areStatePropsEqual:d,areOwnPropsEqual:l,areMergedPropsEqual:f};function H(R){const[L,J,ne]=b.useMemo(()=>{const{reactReduxForwardedRef:ve,...Pe}=R;return[R.context,ve,Pe]},[R]),ae=b.useMemo(()=>{let ve=x;return L?.Consumer,ve},[L,x]),k=b.useContext(ae),O=!!R.store&&!!R.store.getState&&!!R.store.dispatch,G=!!k&&!!k.store,oe=O?R.store:k.store,ee=G?k.getServerState:oe.getState,le=b.useMemo(()=>mw(oe.dispatch,B),[oe]),[Y,Z]=b.useMemo(()=>{if(!S)return $w;const ve=Dg(oe,O?void 0:k.subscription),Pe=ve.notifyNestedSubs.bind(ve);return[ve,Pe]},[oe,O,k]),Q=b.useMemo(()=>O?k:{...k,subscription:Y},[O,k,Y]),A=b.useRef(void 0),C=b.useRef(ne),F=b.useRef(void 0),X=b.useRef(!1),q=b.useRef(!1),re=b.useRef(void 0);ma(()=>(q.current=!0,()=>{q.current=!1}),[]);const we=b.useMemo(()=>()=>F.current&&ne===C.current?F.current:le(oe.getState(),ne),[oe,ne]),ue=b.useMemo(()=>Pe=>Y?Hw(S,oe,Y,le,C,A,X,q,F,Z,Pe):()=>{},[Y]);zw(Vw,[C,A,X,ne,F,Z]);let pe;try{pe=b.useSyncExternalStore(ue,we,ee?()=>le(ee(),ne):we)}catch(ve){throw re.current&&(ve.message+=`
The error may be correlated with this previous error:
${re.current.stack}

`),ve}ma(()=>{re.current=void 0,F.current=void 0,A.current=pe});const me=b.useMemo(()=>b.createElement(E,{...pe,ref:J}),[J,E,pe]);return b.useMemo(()=>S?b.createElement(ae.Provider,{value:Q},me):me,[ae,me,Q])}const z=b.memo(H);if(z.WrappedComponent=E,z.displayName=H.displayName=V,p){const L=b.forwardRef(function(ne,ae){return b.createElement(z,{...ne,reactReduxForwardedRef:ae})});return L.displayName=V,L.WrappedComponent=E,Su(L,E)}return Su(z,E)}}var Pg=Uw;function Ww(t){const{children:r,context:o,serverState:s,store:a}=t,l=b.useMemo(()=>{const p=Dg(a);return{store:a,subscription:p,getServerState:s?()=>s:void 0}},[a,s]),d=b.useMemo(()=>a.getState(),[a]);ma(()=>{const{subscription:p}=l;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),d!==a.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[l,d]);const f=o||Ag;return b.createElement(f.Provider,{value:l},r)}var qw=Ww,Kw="Invariant failed";function Yw(t,r){throw new Error(Kw)}var En=function(r){var o=r.top,s=r.right,a=r.bottom,l=r.left,d=s-l,f=a-o,p={top:o,right:s,bottom:a,left:l,width:d,height:f,x:l,y:o,center:{x:(s+l)/2,y:(a+o)/2}};return p},Zu=function(r,o){return{top:r.top-o.top,left:r.left-o.left,bottom:r.bottom+o.bottom,right:r.right+o.right}},vm=function(r,o){return{top:r.top+o.top,left:r.left+o.left,bottom:r.bottom-o.bottom,right:r.right-o.right}},Qw=function(r,o){return{top:r.top+o.y,left:r.left+o.x,bottom:r.bottom+o.y,right:r.right+o.x}},nu={top:0,right:0,bottom:0,left:0},Ju=function(r){var o=r.borderBox,s=r.margin,a=s===void 0?nu:s,l=r.border,d=l===void 0?nu:l,f=r.padding,p=f===void 0?nu:f,m=En(Zu(o,a)),x=En(vm(o,d)),g=En(vm(x,p));return{marginBox:m,borderBox:En(o),paddingBox:x,contentBox:g,margin:a,border:d,padding:p}},un=function(r){var o=r.slice(0,-2),s=r.slice(-2);if(s!=="px")return 0;var a=Number(o);return isNaN(a)&&Yw(),a},Xw=function(){return{x:window.pageXOffset,y:window.pageYOffset}},ga=function(r,o){var s=r.borderBox,a=r.border,l=r.margin,d=r.padding,f=Qw(s,o);return Ju({borderBox:f,border:a,margin:l,padding:d})},va=function(r,o){return o===void 0&&(o=Xw()),ga(r,o)},Rg=function(r,o){var s={top:un(o.marginTop),right:un(o.marginRight),bottom:un(o.marginBottom),left:un(o.marginLeft)},a={top:un(o.paddingTop),right:un(o.paddingRight),bottom:un(o.paddingBottom),left:un(o.paddingLeft)},l={top:un(o.borderTopWidth),right:un(o.borderRightWidth),bottom:un(o.borderBottomWidth),left:un(o.borderLeftWidth)};return Ju({borderBox:r,margin:s,padding:a,border:l})},kg=function(r){var o=r.getBoundingClientRect(),s=window.getComputedStyle(r);return Rg(o,s)},Is=function(r){var o=[],s=null,a=function(){for(var d=arguments.length,f=new Array(d),p=0;p<d;p++)f[p]=arguments[p];o=f,!s&&(s=requestAnimationFrame(function(){s=null,r.apply(void 0,o)}))};return a.cancel=function(){s&&(cancelAnimationFrame(s),s=null)},a};function xa(){return xa=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var s in o)({}).hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},xa.apply(null,arguments)}function Ig(t,r){}Ig.bind(null,"warn");Ig.bind(null,"error");function Er(){}function Zw(t,r){return{...t,...r}}function pn(t,r,o){const s=r.map(a=>{const l=Zw(o,a.options);return t.addEventListener(a.eventName,a.fn,l),function(){t.removeEventListener(a.eventName,a.fn,l)}});return function(){s.forEach(l=>{l()})}}const Jw="Invariant failed";class ya extends Error{}ya.prototype.toString=function(){return this.message};function fe(t,r){throw new ya(Jw)}class eN extends Ne.Component{constructor(...r){super(...r),this.callbacks=null,this.unbind=Er,this.onWindowError=o=>{const s=this.getCallbacks();s.isDragging()&&s.tryAbort(),o.error instanceof ya&&o.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=o=>{this.callbacks=o}}componentDidMount(){this.unbind=pn(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(r){if(r instanceof ya){this.setState({});return}throw r}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const tN=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,ba=t=>t+1,nN=t=>`
  You have lifted an item in position ${ba(t.source.index)}
`,Tg=(t,r)=>{const o=t.droppableId===r.droppableId,s=ba(t.index),a=ba(r.index);return o?`
      You have moved the item from position ${s}
      to position ${a}
    `:`
    You have moved the item from position ${s}
    in list ${t.droppableId}
    to list ${r.droppableId}
    in position ${a}
  `},Mg=(t,r,o)=>r.droppableId===o.droppableId?`
      The item ${t}
      has been combined with ${o.draggableId}`:`
      The item ${t}
      in list ${r.droppableId}
      has been combined with ${o.draggableId}
      in list ${o.droppableId}
    `,rN=t=>{const r=t.destination;if(r)return Tg(t.source,r);const o=t.combine;return o?Mg(t.draggableId,t.source,o):"You are over an area that cannot be dropped on"},xm=t=>`
  The item has returned to its starting position
  of ${ba(t.index)}
`,oN=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${xm(t.source)}
    `;const r=t.destination,o=t.combine;return r?`
      You have dropped the item.
      ${Tg(t.source,r)}
    `:o?`
      You have dropped the item.
      ${Mg(t.draggableId,t.source,o)}
    `:`
    The item has been dropped while not over a drop area.
    ${xm(t.source)}
  `},la={dragHandleUsageInstructions:tN,onDragStart:nN,onDragUpdate:rN,onDragEnd:oN};function sN(t,r){return!!(t===r||Number.isNaN(t)&&Number.isNaN(r))}function Og(t,r){if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(!sN(t[o],r[o]))return!1;return!0}function _e(t,r){const o=b.useState(()=>({inputs:r,result:t()}))[0],s=b.useRef(!0),a=b.useRef(o),d=s.current||!!(r&&a.current.inputs&&Og(r,a.current.inputs))?a.current:{inputs:r,result:t()};return b.useEffect(()=>{s.current=!1,a.current=d},[d]),d.result}function Se(t,r){return _e(()=>t,r)}const mt={x:0,y:0},yt=(t,r)=>({x:t.x+r.x,y:t.y+r.y}),Zt=(t,r)=>({x:t.x-r.x,y:t.y-r.y}),Dr=(t,r)=>t.x===r.x&&t.y===r.y,Io=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),Xr=(t,r,o=0)=>t==="x"?{x:r,y:o}:{x:o,y:r},Ts=(t,r)=>Math.sqrt((r.x-t.x)**2+(r.y-t.y)**2),ym=(t,r)=>Math.min(...r.map(o=>Ts(t,o))),_g=t=>r=>({x:t(r.x),y:t(r.y)});var iN=(t,r)=>{const o=En({top:Math.max(r.top,t.top),right:Math.min(r.right,t.right),bottom:Math.min(r.bottom,t.bottom),left:Math.max(r.left,t.left)});return o.width<=0||o.height<=0?null:o};const Gs=(t,r)=>({top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}),bm=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],aN={top:0,right:0,bottom:0,left:0},lN=(t,r)=>r?Gs(t,r.scroll.diff.displacement):t,cN=(t,r,o)=>o&&o.increasedBy?{...t,[r.end]:t[r.end]+o.increasedBy[r.line]}:t,uN=(t,r)=>r&&r.shouldClipSubject?iN(r.pageMarginBox,t):En(t);var jo=({page:t,withPlaceholder:r,axis:o,frame:s})=>{const a=lN(t.marginBox,s),l=cN(a,o,r),d=uN(l,s);return{page:t,withPlaceholder:r,active:d}},ed=(t,r)=>{t.frame||fe();const o=t.frame,s=Zt(r,o.scroll.initial),a=Io(s),l={...o,scroll:{initial:o.scroll.initial,current:r,diff:{value:s,displacement:a},max:o.scroll.max}},d=jo({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:l});return{...t,frame:l,subject:d}};function ht(t,r=Og){let o=null;function s(...a){if(o&&o.lastThis===this&&r(a,o.lastArgs))return o.lastResult;const l=t.apply(this,a);return o={lastResult:l,lastArgs:a,lastThis:this},l}return s.clear=function(){o=null},s}const Lg=ht(t=>t.reduce((r,o)=>(r[o.descriptor.id]=o,r),{})),Bg=ht(t=>t.reduce((r,o)=>(r[o.descriptor.id]=o,r),{})),Ta=ht(t=>Object.values(t)),dN=ht(t=>Object.values(t));var To=ht((t,r)=>dN(r).filter(s=>t===s.descriptor.droppableId).sort((s,a)=>s.descriptor.index-a.descriptor.index));function td(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function Ma(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var Oa=ht((t,r)=>r.filter(o=>o.descriptor.id!==t.descriptor.id)),fN=({isMovingForward:t,draggable:r,destination:o,insideDestination:s,previousImpact:a})=>{if(!o.isCombineEnabled||!td(a))return null;function d(N){const S={type:"COMBINE",combine:{draggableId:N,droppableId:o.descriptor.id}};return{...a,at:S}}const f=a.displaced.all,p=f.length?f[0]:null;if(t)return p?d(p):null;const m=Oa(r,s);if(!p){if(!m.length)return null;const N=m[m.length-1];return d(N.descriptor.id)}const x=m.findIndex(N=>N.descriptor.id===p);x===-1&&fe();const g=x-1;if(g<0)return null;const y=m[g];return d(y.descriptor.id)},Mo=(t,r)=>t.descriptor.droppableId===r.descriptor.id;const Fg={point:mt,value:0},Ms={invisible:{},visible:{},all:[]},pN={displaced:Ms,displacedBy:Fg,at:null};var hn=(t,r)=>o=>t<=o&&o<=r,$g=t=>{const r=hn(t.top,t.bottom),o=hn(t.left,t.right);return s=>{if(r(s.top)&&r(s.bottom)&&o(s.left)&&o(s.right))return!0;const l=r(s.top)||r(s.bottom),d=o(s.left)||o(s.right);if(l&&d)return!0;const p=s.top<t.top&&s.bottom>t.bottom,m=s.left<t.left&&s.right>t.right;return p&&m?!0:p&&d||m&&l}},hN=t=>{const r=hn(t.top,t.bottom),o=hn(t.left,t.right);return s=>r(s.top)&&r(s.bottom)&&o(s.left)&&o(s.right)};const nd={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},zg={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var mN=t=>r=>{const o=hn(r.top,r.bottom),s=hn(r.left,r.right);return a=>t===nd?o(a.top)&&o(a.bottom):s(a.left)&&s(a.right)};const gN=(t,r)=>{const o=r.frame?r.frame.scroll.diff.displacement:mt;return Gs(t,o)},vN=(t,r,o)=>r.subject.active?o(r.subject.active)(t):!1,xN=(t,r,o)=>o(r)(t),rd=({target:t,destination:r,viewport:o,withDroppableDisplacement:s,isVisibleThroughFrameFn:a})=>{const l=s?gN(t,r):t;return vN(l,r,a)&&xN(l,o,a)},yN=t=>rd({...t,isVisibleThroughFrameFn:$g}),Vg=t=>rd({...t,isVisibleThroughFrameFn:hN}),bN=t=>rd({...t,isVisibleThroughFrameFn:mN(t.destination.axis)}),wN=(t,r,o)=>{if(typeof o=="boolean")return o;if(!r)return!0;const{invisible:s,visible:a}=r;if(s[t])return!1;const l=a[t];return l?l.shouldAnimate:!0};function NN(t,r){const o=t.page.marginBox,s={top:r.point.y,right:0,bottom:0,left:r.point.x};return En(Zu(o,s))}function Os({afterDragging:t,destination:r,displacedBy:o,viewport:s,forceShouldAnimate:a,last:l}){return t.reduce(function(f,p){const m=NN(p,o),x=p.descriptor.id;if(f.all.push(x),!yN({target:m,destination:r,viewport:s,withDroppableDisplacement:!0}))return f.invisible[p.descriptor.id]=!0,f;const y=wN(x,l,a),N={draggableId:x,shouldAnimate:y};return f.visible[x]=N,f},{all:[],visible:{},invisible:{}})}function CN(t,r){if(!t.length)return 0;const o=t[t.length-1].descriptor.index;return r.inHomeList?o:o+1}function wm({insideDestination:t,inHomeList:r,displacedBy:o,destination:s}){const a=CN(t,{inHomeList:r});return{displaced:Ms,displacedBy:o,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:a}}}}function wa({draggable:t,insideDestination:r,destination:o,viewport:s,displacedBy:a,last:l,index:d,forceShouldAnimate:f}){const p=Mo(t,o);if(d==null)return wm({insideDestination:r,inHomeList:p,displacedBy:a,destination:o});const m=r.find(S=>S.descriptor.index===d);if(!m)return wm({insideDestination:r,inHomeList:p,displacedBy:a,destination:o});const x=Oa(t,r),g=r.indexOf(m),y=x.slice(g);return{displaced:Os({afterDragging:y,destination:o,displacedBy:a,last:l,viewport:s.frame,forceShouldAnimate:f}),displacedBy:a,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:d}}}}function jr(t,r){return!!r.effected[t]}var SN=({isMovingForward:t,destination:r,draggables:o,combine:s,afterCritical:a})=>{if(!r.isCombineEnabled)return null;const l=s.draggableId,f=o[l].descriptor.index;return jr(l,a)?t?f:f-1:t?f+1:f},EN=({isMovingForward:t,isInHomeList:r,insideDestination:o,location:s})=>{if(!o.length)return null;const a=s.index,l=t?a+1:a-1,d=o[0].descriptor.index,f=o[o.length-1].descriptor.index,p=r?f:f+1;return l<d||l>p?null:l},DN=({isMovingForward:t,isInHomeList:r,draggable:o,draggables:s,destination:a,insideDestination:l,previousImpact:d,viewport:f,afterCritical:p})=>{const m=d.at;if(m||fe(),m.type==="REORDER"){const g=EN({isMovingForward:t,isInHomeList:r,location:m.destination,insideDestination:l});return g==null?null:wa({draggable:o,insideDestination:l,destination:a,viewport:f,last:d.displaced,displacedBy:d.displacedBy,index:g})}const x=SN({isMovingForward:t,destination:a,displaced:d.displaced,draggables:s,combine:m.combine,afterCritical:p});return x==null?null:wa({draggable:o,insideDestination:l,destination:a,viewport:f,last:d.displaced,displacedBy:d.displacedBy,index:x})},jN=({displaced:t,afterCritical:r,combineWith:o,displacedBy:s})=>{const a=!!(t.visible[o]||t.invisible[o]);return jr(o,r)?a?mt:Io(s.point):a?s.point:mt},AN=({afterCritical:t,impact:r,draggables:o})=>{const s=Ma(r);s||fe();const a=s.draggableId,l=o[a].page.borderBox.center,d=jN({displaced:r.displaced,afterCritical:t,combineWith:a,displacedBy:r.displacedBy});return yt(l,d)};const Hg=(t,r)=>r.margin[t.start]+r.borderBox[t.size]/2,PN=(t,r)=>r.margin[t.end]+r.borderBox[t.size]/2,od=(t,r,o)=>r[t.crossAxisStart]+o.margin[t.crossAxisStart]+o.borderBox[t.crossAxisSize]/2,Nm=({axis:t,moveRelativeTo:r,isMoving:o})=>Xr(t.line,r.marginBox[t.end]+Hg(t,o),od(t,r.marginBox,o)),Cm=({axis:t,moveRelativeTo:r,isMoving:o})=>Xr(t.line,r.marginBox[t.start]-PN(t,o),od(t,r.marginBox,o)),RN=({axis:t,moveInto:r,isMoving:o})=>Xr(t.line,r.contentBox[t.start]+Hg(t,o),od(t,r.contentBox,o));var kN=({impact:t,draggable:r,draggables:o,droppable:s,afterCritical:a})=>{const l=To(s.descriptor.id,o),d=r.page,f=s.axis;if(!l.length)return RN({axis:f,moveInto:s.page,isMoving:d});const{displaced:p,displacedBy:m}=t,x=p.all[0];if(x){const y=o[x];if(jr(x,a))return Cm({axis:f,moveRelativeTo:y.page,isMoving:d});const N=ga(y.page,m.point);return Cm({axis:f,moveRelativeTo:N,isMoving:d})}const g=l[l.length-1];if(g.descriptor.id===r.descriptor.id)return d.borderBox.center;if(jr(g.descriptor.id,a)){const y=ga(g.page,Io(a.displacedBy.point));return Nm({axis:f,moveRelativeTo:y,isMoving:d})}return Nm({axis:f,moveRelativeTo:g.page,isMoving:d})},Eu=(t,r)=>{const o=t.frame;return o?yt(r,o.scroll.diff.displacement):r};const IN=({impact:t,draggable:r,droppable:o,draggables:s,afterCritical:a})=>{const l=r.page.borderBox.center,d=t.at;return!o||!d?l:d.type==="REORDER"?kN({impact:t,draggable:r,draggables:s,droppable:o,afterCritical:a}):AN({impact:t,draggables:s,afterCritical:a})};var _a=t=>{const r=IN(t),o=t.droppable;return o?Eu(o,r):r},Gg=(t,r)=>{const o=Zt(r,t.scroll.initial),s=Io(o);return{frame:En({top:r.y,bottom:r.y+t.frame.height,left:r.x,right:r.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:r,diff:{value:o,displacement:s}}}};function Sm(t,r){return t.map(o=>r[o])}function TN(t,r){for(let o=0;o<r.length;o++){const s=r[o].visible[t];if(s)return s}return null}var MN=({impact:t,viewport:r,destination:o,draggables:s,maxScrollChange:a})=>{const l=Gg(r,yt(r.scroll.current,a)),d=o.frame?ed(o,yt(o.frame.scroll.current,a)):o,f=t.displaced,p=Os({afterDragging:Sm(f.all,s),destination:o,displacedBy:t.displacedBy,viewport:l.frame,last:f,forceShouldAnimate:!1}),m=Os({afterDragging:Sm(f.all,s),destination:d,displacedBy:t.displacedBy,viewport:r.frame,last:f,forceShouldAnimate:!1}),x={},g={},y=[f,p,m];return f.all.forEach(S=>{const D=TN(S,y);if(D){g[S]=D;return}x[S]=!0}),{...t,displaced:{all:f.all,invisible:x,visible:g}}},ON=(t,r)=>yt(t.scroll.diff.displacement,r),sd=({pageBorderBoxCenter:t,draggable:r,viewport:o})=>{const s=ON(o,t),a=Zt(s,r.page.borderBox.center);return yt(r.client.borderBox.center,a)},Ug=({draggable:t,destination:r,newPageBorderBoxCenter:o,viewport:s,withDroppableDisplacement:a,onlyOnMainAxis:l=!1})=>{const d=Zt(o,t.page.borderBox.center),p={target:Gs(t.page.borderBox,d),destination:r,withDroppableDisplacement:a,viewport:s};return l?bN(p):Vg(p)},_N=({isMovingForward:t,draggable:r,destination:o,draggables:s,previousImpact:a,viewport:l,previousPageBorderBoxCenter:d,previousClientSelection:f,afterCritical:p})=>{if(!o.isEnabled)return null;const m=To(o.descriptor.id,s),x=Mo(r,o),g=fN({isMovingForward:t,draggable:r,destination:o,insideDestination:m,previousImpact:a})||DN({isMovingForward:t,isInHomeList:x,draggable:r,draggables:s,destination:o,insideDestination:m,previousImpact:a,viewport:l,afterCritical:p});if(!g)return null;const y=_a({impact:g,draggable:r,droppable:o,draggables:s,afterCritical:p});if(Ug({draggable:r,destination:o,newPageBorderBoxCenter:y,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:sd({pageBorderBoxCenter:y,draggable:r,viewport:l}),impact:g,scrollJumpRequest:null};const S=Zt(y,d),D=MN({impact:g,viewport:l,destination:o,draggables:s,maxScrollChange:S});return{clientSelection:f,impact:D,scrollJumpRequest:S}};const Tt=t=>{const r=t.subject.active;return r||fe(),r};var LN=({isMovingForward:t,pageBorderBoxCenter:r,source:o,droppables:s,viewport:a})=>{const l=o.subject.active;if(!l)return null;const d=o.axis,f=hn(l[d.start],l[d.end]),p=Ta(s).filter(x=>x!==o).filter(x=>x.isEnabled).filter(x=>!!x.subject.active).filter(x=>$g(a.frame)(Tt(x))).filter(x=>{const g=Tt(x);return t?l[d.crossAxisEnd]<g[d.crossAxisEnd]:g[d.crossAxisStart]<l[d.crossAxisStart]}).filter(x=>{const g=Tt(x),y=hn(g[d.start],g[d.end]);return f(g[d.start])||f(g[d.end])||y(l[d.start])||y(l[d.end])}).sort((x,g)=>{const y=Tt(x)[d.crossAxisStart],N=Tt(g)[d.crossAxisStart];return t?y-N:N-y}).filter((x,g,y)=>Tt(x)[d.crossAxisStart]===Tt(y[0])[d.crossAxisStart]);if(!p.length)return null;if(p.length===1)return p[0];const m=p.filter(x=>hn(Tt(x)[d.start],Tt(x)[d.end])(r[d.line]));return m.length===1?m[0]:m.length>1?m.sort((x,g)=>Tt(x)[d.start]-Tt(g)[d.start])[0]:p.sort((x,g)=>{const y=ym(r,bm(Tt(x))),N=ym(r,bm(Tt(g)));return y!==N?y-N:Tt(x)[d.start]-Tt(g)[d.start]})[0]};const Em=(t,r)=>{const o=t.page.borderBox.center;return jr(t.descriptor.id,r)?Zt(o,r.displacedBy.point):o},BN=(t,r)=>{const o=t.page.borderBox;return jr(t.descriptor.id,r)?Gs(o,Io(r.displacedBy.point)):o};var FN=({pageBorderBoxCenter:t,viewport:r,destination:o,insideDestination:s,afterCritical:a})=>s.filter(d=>Vg({target:BN(d,a),destination:o,viewport:r.frame,withDroppableDisplacement:!0})).sort((d,f)=>{const p=Ts(t,Eu(o,Em(d,a))),m=Ts(t,Eu(o,Em(f,a)));return p<m?-1:m<p?1:d.descriptor.index-f.descriptor.index})[0]||null,Us=ht(function(r,o){const s=o[r.line];return{value:s,point:Xr(r.line,s)}});const $N=(t,r,o)=>{const s=t.axis;if(t.descriptor.mode==="virtual")return Xr(s.line,r[s.line]);const a=t.subject.page.contentBox[s.size],p=To(t.descriptor.id,o).reduce((m,x)=>m+x.client.marginBox[s.size],0)+r[s.line]-a;return p<=0?null:Xr(s.line,p)},Wg=(t,r)=>({...t,scroll:{...t.scroll,max:r}}),qg=(t,r,o)=>{const s=t.frame;Mo(r,t)&&fe(),t.subject.withPlaceholder&&fe();const a=Us(t.axis,r.displaceBy).point,l=$N(t,a,o),d={placeholderSize:a,increasedBy:l,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!s){const x=jo({page:t.subject.page,withPlaceholder:d,axis:t.axis,frame:t.frame});return{...t,subject:x}}const f=l?yt(s.scroll.max,l):s.scroll.max,p=Wg(s,f),m=jo({page:t.subject.page,withPlaceholder:d,axis:t.axis,frame:p});return{...t,subject:m,frame:p}},zN=t=>{const r=t.subject.withPlaceholder;r||fe();const o=t.frame;if(!o){const d=jo({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:d}}const s=r.oldFrameMaxScroll;s||fe();const a=Wg(o,s),l=jo({page:t.subject.page,axis:t.axis,frame:a,withPlaceholder:null});return{...t,subject:l,frame:a}};var VN=({previousPageBorderBoxCenter:t,moveRelativeTo:r,insideDestination:o,draggable:s,draggables:a,destination:l,viewport:d,afterCritical:f})=>{if(!r){if(o.length)return null;const g={displaced:Ms,displacedBy:Fg,at:{type:"REORDER",destination:{droppableId:l.descriptor.id,index:0}}},y=_a({impact:g,draggable:s,droppable:l,draggables:a,afterCritical:f}),N=Mo(s,l)?l:qg(l,s,a);return Ug({draggable:s,destination:N,newPageBorderBoxCenter:y,viewport:d.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?g:null}const p=t[l.axis.line]<=r.page.borderBox.center[l.axis.line],m=(()=>{const g=r.descriptor.index;return r.descriptor.id===s.descriptor.id||p?g:g+1})(),x=Us(l.axis,s.displaceBy);return wa({draggable:s,insideDestination:o,destination:l,viewport:d,displacedBy:x,last:Ms,index:m})},HN=({isMovingForward:t,previousPageBorderBoxCenter:r,draggable:o,isOver:s,draggables:a,droppables:l,viewport:d,afterCritical:f})=>{const p=LN({isMovingForward:t,pageBorderBoxCenter:r,source:s,droppables:l,viewport:d});if(!p)return null;const m=To(p.descriptor.id,a),x=FN({pageBorderBoxCenter:r,viewport:d,destination:p,insideDestination:m,afterCritical:f}),g=VN({previousPageBorderBoxCenter:r,destination:p,draggable:o,draggables:a,moveRelativeTo:x,insideDestination:m,viewport:d,afterCritical:f});if(!g)return null;const y=_a({impact:g,draggable:o,droppable:p,draggables:a,afterCritical:f});return{clientSelection:sd({pageBorderBoxCenter:y,draggable:o,viewport:d}),impact:g,scrollJumpRequest:null}},Jt=t=>{const r=t.at;return r?r.type==="REORDER"?r.destination.droppableId:r.combine.droppableId:null};const GN=(t,r)=>{const o=Jt(t);return o?r[o]:null};var UN=({state:t,type:r})=>{const o=GN(t.impact,t.dimensions.droppables),s=!!o,a=t.dimensions.droppables[t.critical.droppable.id],l=o||a,d=l.axis.direction,f=d==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||d==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(f&&!s)return null;const p=r==="MOVE_DOWN"||r==="MOVE_RIGHT",m=t.dimensions.draggables[t.critical.draggable.id],x=t.current.page.borderBoxCenter,{draggables:g,droppables:y}=t.dimensions;return f?_N({isMovingForward:p,previousPageBorderBoxCenter:x,draggable:m,destination:l,draggables:g,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):HN({isMovingForward:p,previousPageBorderBoxCenter:x,draggable:m,isOver:l,draggables:g,droppables:y,viewport:t.viewport,afterCritical:t.afterCritical})};function Kr(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function Kg(t){const r=hn(t.top,t.bottom),o=hn(t.left,t.right);return function(a){return r(a.y)&&o(a.x)}}function WN(t,r){return t.left<r.right&&t.right>r.left&&t.top<r.bottom&&t.bottom>r.top}function qN({pageBorderBox:t,draggable:r,candidates:o}){const s=r.page.borderBox.center,a=o.map(l=>{const d=l.axis,f=Xr(l.axis.line,t.center[d.line],l.page.borderBox.center[d.crossAxisLine]);return{id:l.descriptor.id,distance:Ts(s,f)}}).sort((l,d)=>d.distance-l.distance);return a[0]?a[0].id:null}function KN({pageBorderBox:t,draggable:r,droppables:o}){const s=Ta(o).filter(a=>{if(!a.isEnabled)return!1;const l=a.subject.active;if(!l||!WN(t,l))return!1;if(Kg(l)(t.center))return!0;const d=a.axis,f=l.center[d.crossAxisLine],p=t[d.crossAxisStart],m=t[d.crossAxisEnd],x=hn(l[d.crossAxisStart],l[d.crossAxisEnd]),g=x(p),y=x(m);return!g&&!y?!0:g?p<f:m>f});return s.length?s.length===1?s[0].descriptor.id:qN({pageBorderBox:t,draggable:r,candidates:s}):null}const Yg=(t,r)=>En(Gs(t,r));var YN=(t,r)=>{const o=t.frame;return o?Yg(r,o.scroll.diff.value):r};function Qg({displaced:t,id:r}){return!!(t.visible[r]||t.invisible[r])}function QN({draggable:t,closest:r,inHomeList:o}){return r?o&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var XN=({pageBorderBoxWithDroppableScroll:t,draggable:r,destination:o,insideDestination:s,last:a,viewport:l,afterCritical:d})=>{const f=o.axis,p=Us(o.axis,r.displaceBy),m=p.value,x=t[f.start],g=t[f.end],N=Oa(r,s).find(D=>{const E=D.descriptor.id,$=D.page.borderBox.center[f.line],V=jr(E,d),B=Qg({displaced:a,id:E});return V?B?g<=$:x<$-m:B?g<=$+m:x<$})||null,S=QN({draggable:r,closest:N,inHomeList:Mo(r,o)});return wa({draggable:r,insideDestination:s,destination:o,viewport:l,last:a,displacedBy:p,index:S})};const ZN=4;var JN=({draggable:t,pageBorderBoxWithDroppableScroll:r,previousImpact:o,destination:s,insideDestination:a,afterCritical:l})=>{if(!s.isCombineEnabled)return null;const d=s.axis,f=Us(s.axis,t.displaceBy),p=f.value,m=r[d.start],x=r[d.end],y=Oa(t,a).find(S=>{const D=S.descriptor.id,E=S.page.borderBox,V=E[d.size]/ZN,B=jr(D,l),H=Qg({displaced:o.displaced,id:D});return B?H?x>E[d.start]+V&&x<E[d.end]-V:m>E[d.start]-p+V&&m<E[d.end]-p-V:H?x>E[d.start]+p+V&&x<E[d.end]+p-V:m>E[d.start]+V&&m<E[d.end]-V});return y?{displacedBy:f,displaced:o.displaced,at:{type:"COMBINE",combine:{draggableId:y.descriptor.id,droppableId:s.descriptor.id}}}:null},Xg=({pageOffset:t,draggable:r,draggables:o,droppables:s,previousImpact:a,viewport:l,afterCritical:d})=>{const f=Yg(r.page.borderBox,t),p=KN({pageBorderBox:f,draggable:r,droppables:s});if(!p)return pN;const m=s[p],x=To(m.descriptor.id,o),g=YN(m,f);return JN({pageBorderBoxWithDroppableScroll:g,draggable:r,previousImpact:a,destination:m,insideDestination:x,afterCritical:d})||XN({pageBorderBoxWithDroppableScroll:g,draggable:r,destination:m,insideDestination:x,last:a.displaced,viewport:l,afterCritical:d})},id=(t,r)=>({...t,[r.descriptor.id]:r});const e2=({previousImpact:t,impact:r,droppables:o})=>{const s=Jt(t),a=Jt(r);if(!s||s===a)return o;const l=o[s];if(!l.subject.withPlaceholder)return o;const d=zN(l);return id(o,d)};var t2=({draggable:t,draggables:r,droppables:o,previousImpact:s,impact:a})=>{const l=e2({previousImpact:s,impact:a,droppables:o}),d=Jt(a);if(!d)return l;const f=o[d];if(Mo(t,f)||f.subject.withPlaceholder)return l;const p=qg(f,t,r);return id(l,p)},Ss=({state:t,clientSelection:r,dimensions:o,viewport:s,impact:a,scrollJumpRequest:l})=>{const d=s||t.viewport,f=o||t.dimensions,p=r||t.current.client.selection,m=Zt(p,t.initial.client.selection),x={offset:m,selection:p,borderBoxCenter:yt(t.initial.client.borderBoxCenter,m)},g={selection:yt(x.selection,d.scroll.current),borderBoxCenter:yt(x.borderBoxCenter,d.scroll.current),offset:yt(x.offset,d.scroll.diff.value)},y={client:x,page:g};if(t.phase==="COLLECTING")return{...t,dimensions:f,viewport:d,current:y};const N=f.draggables[t.critical.draggable.id],S=a||Xg({pageOffset:g.offset,draggable:N,draggables:f.draggables,droppables:f.droppables,previousImpact:t.impact,viewport:d,afterCritical:t.afterCritical}),D=t2({draggable:N,impact:S,previousImpact:t.impact,draggables:f.draggables,droppables:f.droppables});return{...t,current:y,dimensions:{draggables:f.draggables,droppables:D},impact:S,viewport:d,scrollJumpRequest:l||null,forceShouldAnimate:l?!1:null}};function n2(t,r){return t.map(o=>r[o])}var Zg=({impact:t,viewport:r,draggables:o,destination:s,forceShouldAnimate:a})=>{const l=t.displaced,d=n2(l.all,o),f=Os({afterDragging:d,destination:s,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:a,last:l});return{...t,displaced:f}},Jg=({impact:t,draggable:r,droppable:o,draggables:s,viewport:a,afterCritical:l})=>{const d=_a({impact:t,draggable:r,draggables:s,droppable:o,afterCritical:l});return sd({pageBorderBoxCenter:d,draggable:r,viewport:a})},ev=({state:t,dimensions:r,viewport:o})=>{t.movementMode!=="SNAP"&&fe();const s=t.impact,a=o||t.viewport,l=r||t.dimensions,{draggables:d,droppables:f}=l,p=d[t.critical.draggable.id],m=Jt(s);m||fe();const x=f[m],g=Zg({impact:s,viewport:a,destination:x,draggables:d}),y=Jg({impact:g,draggable:p,droppable:x,draggables:d,viewport:a,afterCritical:t.afterCritical});return Ss({impact:g,clientSelection:y,state:t,dimensions:l,viewport:a})},r2=t=>({index:t.index,droppableId:t.droppableId}),tv=({draggable:t,home:r,draggables:o,viewport:s})=>{const a=Us(r.axis,t.displaceBy),l=To(r.descriptor.id,o),d=l.indexOf(t);d===-1&&fe();const f=l.slice(d+1),p=f.reduce((y,N)=>(y[N.descriptor.id]=!0,y),{}),m={inVirtualList:r.descriptor.mode==="virtual",displacedBy:a,effected:p};return{impact:{displaced:Os({afterDragging:f,destination:r,displacedBy:a,last:null,viewport:s.frame,forceShouldAnimate:!1}),displacedBy:a,at:{type:"REORDER",destination:r2(t.descriptor)}},afterCritical:m}},o2=(t,r)=>({draggables:t.draggables,droppables:id(t.droppables,r)}),s2=({draggable:t,offset:r,initialWindowScroll:o})=>{const s=ga(t.client,r),a=va(s,o);return{...t,placeholder:{...t.placeholder,client:s},client:s,page:a}},i2=t=>{const r=t.frame;return r||fe(),r},a2=({additions:t,updatedDroppables:r,viewport:o})=>{const s=o.scroll.diff.value;return t.map(a=>{const l=a.descriptor.droppableId,d=r[l],p=i2(d).scroll.diff.value,m=yt(s,p);return s2({draggable:a,offset:m,initialWindowScroll:o.scroll.initial})})},l2=({state:t,published:r})=>{const o=r.modified.map($=>{const V=t.dimensions.droppables[$.droppableId];return ed(V,$.scroll)}),s={...t.dimensions.droppables,...Lg(o)},a=Bg(a2({additions:r.additions,updatedDroppables:s,viewport:t.viewport})),l={...t.dimensions.draggables,...a};r.removals.forEach($=>{delete l[$]});const d={droppables:s,draggables:l},f=Jt(t.impact),p=f?d.droppables[f]:null,m=d.draggables[t.critical.draggable.id],x=d.droppables[t.critical.droppable.id],{impact:g,afterCritical:y}=tv({draggable:m,home:x,draggables:l,viewport:t.viewport}),N=p&&p.isCombineEnabled?t.impact:g,S=Xg({pageOffset:t.current.page.offset,draggable:d.draggables[t.critical.draggable.id],draggables:d.draggables,droppables:d.droppables,previousImpact:N,viewport:t.viewport,afterCritical:y}),D={...t,phase:"DRAGGING",impact:S,onLiftImpact:g,dimensions:d,afterCritical:y,forceShouldAnimate:!1};return t.phase==="COLLECTING"?D:{...D,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const Du=t=>t.movementMode==="SNAP",ru=(t,r,o)=>{const s=o2(t.dimensions,r);return!Du(t)||o?Ss({state:t,dimensions:s}):ev({state:t,dimensions:s})};function ou(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const Dm={phase:"IDLE",completed:null,shouldFlush:!1};var c2=(t=Dm,r)=>{if(r.type==="FLUSH")return{...Dm,shouldFlush:!0};if(r.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&fe();const{critical:o,clientSelection:s,viewport:a,dimensions:l,movementMode:d}=r.payload,f=l.draggables[o.draggable.id],p=l.droppables[o.droppable.id],m={selection:s,borderBoxCenter:f.client.borderBox.center,offset:mt},x={client:m,page:{selection:yt(m.selection,a.scroll.initial),borderBoxCenter:yt(m.selection,a.scroll.initial),offset:yt(m.selection,a.scroll.diff.value)}},g=Ta(l.droppables).every(D=>!D.isFixedOnPage),{impact:y,afterCritical:N}=tv({draggable:f,home:p,draggables:l.draggables,viewport:a});return{phase:"DRAGGING",isDragging:!0,critical:o,movementMode:d,dimensions:l,initial:x,current:x,isWindowScrollAllowed:g,impact:y,afterCritical:N,onLiftImpact:y,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null}}if(r.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&fe(),{...t,phase:"COLLECTING"});if(r.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||fe(),l2({state:t,published:r.payload});if(r.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;Kr(t)||fe();const{client:o}=r.payload;return Dr(o,t.current.client.selection)?t:Ss({state:t,clientSelection:o,impact:Du(t)?t.impact:null})}if(r.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return ou(t);Kr(t)||fe();const{id:o,newScroll:s}=r.payload,a=t.dimensions.droppables[o];if(!a)return t;const l=ed(a,s);return ru(t,l,!1)}if(r.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;Kr(t)||fe();const{id:o,isEnabled:s}=r.payload,a=t.dimensions.droppables[o];a||fe(),a.isEnabled===s&&fe();const l={...a,isEnabled:s};return ru(t,l,!0)}if(r.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;Kr(t)||fe();const{id:o,isCombineEnabled:s}=r.payload,a=t.dimensions.droppables[o];a||fe(),a.isCombineEnabled===s&&fe();const l={...a,isCombineEnabled:s};return ru(t,l,!0)}if(r.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;Kr(t)||fe(),t.isWindowScrollAllowed||fe();const o=r.payload.newScroll;if(Dr(t.viewport.scroll.current,o))return ou(t);const s=Gg(t.viewport,o);return Du(t)?ev({state:t,viewport:s}):Ss({state:t,viewport:s})}if(r.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Kr(t))return t;const o=r.payload.maxScroll;if(Dr(o,t.viewport.scroll.max))return t;const s={...t.viewport,scroll:{...t.viewport.scroll,max:o}};return{...t,viewport:s}}if(r.type==="MOVE_UP"||r.type==="MOVE_DOWN"||r.type==="MOVE_LEFT"||r.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&fe();const o=UN({state:t,type:r.type});return o?Ss({state:t,impact:o.impact,clientSelection:o.clientSelection,scrollJumpRequest:o.scrollJumpRequest}):t}if(r.type==="DROP_PENDING"){const o=r.payload.reason;return t.phase!=="COLLECTING"&&fe(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:o}}if(r.type==="DROP_ANIMATE"){const{completed:o,dropDuration:s,newHomeClientOffset:a}=r.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||fe(),{phase:"DROP_ANIMATING",completed:o,dropDuration:s,newHomeClientOffset:a,dimensions:t.dimensions}}if(r.type==="DROP_COMPLETE"){const{completed:o}=r.payload;return{phase:"IDLE",completed:o,shouldFlush:!1}}return t};function ze(t,r){return t instanceof Object&&"type"in t&&t.type===r}const u2=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),d2=t=>({type:"LIFT",payload:t}),f2=t=>({type:"INITIAL_PUBLISH",payload:t}),p2=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),h2=()=>({type:"COLLECTION_STARTING",payload:null}),m2=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),g2=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),v2=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),nv=t=>({type:"MOVE",payload:t}),x2=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),y2=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),b2=()=>({type:"MOVE_UP",payload:null}),w2=()=>({type:"MOVE_DOWN",payload:null}),N2=()=>({type:"MOVE_RIGHT",payload:null}),C2=()=>({type:"MOVE_LEFT",payload:null}),ad=()=>({type:"FLUSH",payload:null}),S2=t=>({type:"DROP_ANIMATE",payload:t}),ld=t=>({type:"DROP_COMPLETE",payload:t}),rv=t=>({type:"DROP",payload:t}),E2=t=>({type:"DROP_PENDING",payload:t}),ov=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var D2=t=>({getState:r,dispatch:o})=>s=>a=>{if(!ze(a,"LIFT")){s(a);return}const{id:l,clientSelection:d,movementMode:f}=a.payload,p=r();p.phase==="DROP_ANIMATING"&&o(ld({completed:p.completed})),r().phase!=="IDLE"&&fe(),o(ad()),o(u2({draggableId:l,movementMode:f}));const x={draggableId:l,scrollOptions:{shouldPublishImmediately:f==="SNAP"}},{critical:g,dimensions:y,viewport:N}=t.startPublishing(x);o(f2({critical:g,dimensions:y,clientSelection:d,movementMode:f,viewport:N}))},j2=t=>()=>r=>o=>{ze(o,"INITIAL_PUBLISH")&&t.dragging(),ze(o,"DROP_ANIMATE")&&t.dropping(o.payload.completed.result.reason),(ze(o,"FLUSH")||ze(o,"DROP_COMPLETE"))&&t.resting(),r(o)};const cd={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},_s={opacity:{drop:0,combining:.7},scale:{drop:.75}},sv={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},qr=`${sv.outOfTheWay}s ${cd.outOfTheWay}`,Es={fluid:`opacity ${qr}`,snap:`transform ${qr}, opacity ${qr}`,drop:t=>{const r=`${t}s ${cd.drop}`;return`transform ${r}, opacity ${r}`},outOfTheWay:`transform ${qr}`,placeholder:`height ${qr}, width ${qr}, margin ${qr}`},jm=t=>Dr(t,mt)?void 0:`translate(${t.x}px, ${t.y}px)`,ju={moveTo:jm,drop:(t,r)=>{const o=jm(t);if(o)return r?`${o} scale(${_s.scale.drop})`:o}},{minDropTime:Au,maxDropTime:iv}=sv,A2=iv-Au,Am=1500,P2=.6;var R2=({current:t,destination:r,reason:o})=>{const s=Ts(t,r);if(s<=0)return Au;if(s>=Am)return iv;const a=s/Am,l=Au+A2*a,d=o==="CANCEL"?l*P2:l;return Number(d.toFixed(2))},k2=({impact:t,draggable:r,dimensions:o,viewport:s,afterCritical:a})=>{const{draggables:l,droppables:d}=o,f=Jt(t),p=f?d[f]:null,m=d[r.descriptor.droppableId],x=Jg({impact:t,draggable:r,draggables:l,afterCritical:a,droppable:p||m,viewport:s});return Zt(x,r.client.borderBox.center)},I2=({draggables:t,reason:r,lastImpact:o,home:s,viewport:a,onLiftImpact:l})=>!o.at||r!=="DROP"?{impact:Zg({draggables:t,impact:l,destination:s,viewport:a,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:o.at.type==="REORDER"?{impact:o,didDropInsideDroppable:!0}:{impact:{...o,displaced:Ms},didDropInsideDroppable:!0};const T2=({getState:t,dispatch:r})=>o=>s=>{if(!ze(s,"DROP")){o(s);return}const a=t(),l=s.payload.reason;if(a.phase==="COLLECTING"){r(E2({reason:l}));return}if(a.phase==="IDLE")return;a.phase==="DROP_PENDING"&&a.isWaiting&&fe(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||fe();const f=a.critical,p=a.dimensions,m=p.draggables[a.critical.draggable.id],{impact:x,didDropInsideDroppable:g}=I2({reason:l,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),y=g?td(x):null,N=g?Ma(x):null,S={index:f.draggable.index,droppableId:f.droppable.id},D={draggableId:m.descriptor.id,type:m.descriptor.type,source:S,reason:l,mode:a.movementMode,destination:y,combine:N},E=k2({impact:x,draggable:m,dimensions:p,viewport:a.viewport,afterCritical:a.afterCritical}),$={critical:a.critical,afterCritical:a.afterCritical,result:D,impact:x};if(!(!Dr(a.current.client.offset,E)||!!D.combine)){r(ld({completed:$}));return}const B=R2({current:a.current.client.offset,destination:E,reason:l});r(S2({newHomeClientOffset:E,dropDuration:B,completed:$}))};var av=()=>({x:window.pageXOffset,y:window.pageYOffset});function M2(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:r=>{r.target!==window&&r.target!==window.document||t()}}}function O2({onWindowScroll:t}){function r(){t(av())}const o=Is(r),s=M2(o);let a=Er;function l(){return a!==Er}function d(){l()&&fe(),a=pn(window,[s])}function f(){l()||fe(),o.cancel(),a(),a=Er}return{start:d,stop:f,isActive:l}}const _2=t=>ze(t,"DROP_COMPLETE")||ze(t,"DROP_ANIMATE")||ze(t,"FLUSH"),L2=t=>{const r=O2({onWindowScroll:o=>{t.dispatch(x2({newScroll:o}))}});return o=>s=>{!r.isActive()&&ze(s,"INITIAL_PUBLISH")&&r.start(),r.isActive()&&_2(s)&&r.stop(),o(s)}};var B2=t=>{let r=!1,o=!1;const s=setTimeout(()=>{o=!0}),a=l=>{r||o||(r=!0,t(l),clearTimeout(s))};return a.wasCalled=()=>r,a},F2=()=>{const t=[],r=a=>{const l=t.findIndex(f=>f.timerId===a);l===-1&&fe();const[d]=t.splice(l,1);d.callback()};return{add:a=>{const l=setTimeout(()=>r(l)),d={timerId:l,callback:a};t.push(d)},flush:()=>{if(!t.length)return;const a=[...t];t.length=0,a.forEach(l=>{clearTimeout(l.timerId),l.callback()})}}};const $2=(t,r)=>t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index,z2=(t,r)=>t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId,V2=(t,r)=>{if(t===r)return!0;const o=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,s=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return o&&s},bs=(t,r)=>{r()},oa=(t,r)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r});function su(t,r,o,s){if(!t){o(s(r));return}const a=B2(o);t(r,{announce:a}),a.wasCalled()||o(s(r))}var H2=(t,r)=>{const o=F2();let s=null;const a=(g,y)=>{s&&fe(),bs("onBeforeCapture",()=>{const N=t().onBeforeCapture;N&&N({draggableId:g,mode:y})})},l=(g,y)=>{s&&fe(),bs("onBeforeDragStart",()=>{const N=t().onBeforeDragStart;N&&N(oa(g,y))})},d=(g,y)=>{s&&fe();const N=oa(g,y);s={mode:y,lastCritical:g,lastLocation:N.source,lastCombine:null},o.add(()=>{bs("onDragStart",()=>su(t().onDragStart,N,r,la.onDragStart))})},f=(g,y)=>{const N=td(y),S=Ma(y);s||fe();const D=!V2(g,s.lastCritical);D&&(s.lastCritical=g);const E=!$2(s.lastLocation,N);E&&(s.lastLocation=N);const $=!z2(s.lastCombine,S);if($&&(s.lastCombine=S),!D&&!E&&!$)return;const V={...oa(g,s.mode),combine:S,destination:N};o.add(()=>{bs("onDragUpdate",()=>su(t().onDragUpdate,V,r,la.onDragUpdate))})},p=()=>{s||fe(),o.flush()},m=g=>{s||fe(),s=null,bs("onDragEnd",()=>su(t().onDragEnd,g,r,la.onDragEnd))};return{beforeCapture:a,beforeStart:l,start:d,update:f,flush:p,drop:m,abort:()=>{if(!s)return;const g={...oa(s.lastCritical,s.mode),combine:null,destination:null,reason:"CANCEL"};m(g)}}},G2=(t,r)=>{const o=H2(t,r);return s=>a=>l=>{if(ze(l,"BEFORE_INITIAL_CAPTURE")){o.beforeCapture(l.payload.draggableId,l.payload.movementMode);return}if(ze(l,"INITIAL_PUBLISH")){const f=l.payload.critical;o.beforeStart(f,l.payload.movementMode),a(l),o.start(f,l.payload.movementMode);return}if(ze(l,"DROP_COMPLETE")){const f=l.payload.completed.result;o.flush(),a(l),o.drop(f);return}if(a(l),ze(l,"FLUSH")){o.abort();return}const d=s.getState();d.phase==="DRAGGING"&&o.update(d.critical,d.impact)}};const U2=t=>r=>o=>{if(!ze(o,"DROP_ANIMATION_FINISHED")){r(o);return}const s=t.getState();s.phase!=="DROP_ANIMATING"&&fe(),t.dispatch(ld({completed:s.completed}))},W2=t=>{let r=null,o=null;function s(){o&&(cancelAnimationFrame(o),o=null),r&&(r(),r=null)}return a=>l=>{if((ze(l,"FLUSH")||ze(l,"DROP_COMPLETE")||ze(l,"DROP_ANIMATION_FINISHED"))&&s(),a(l),!ze(l,"DROP_ANIMATE"))return;const d={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(ov())}};o=requestAnimationFrame(()=>{o=null,r=pn(window,[d])})}};var q2=t=>()=>r=>o=>{(ze(o,"DROP_COMPLETE")||ze(o,"FLUSH")||ze(o,"DROP_ANIMATE"))&&t.stopPublishing(),r(o)},K2=t=>{let r=!1;return()=>o=>s=>{if(ze(s,"INITIAL_PUBLISH")){r=!0,t.tryRecordFocus(s.payload.critical.draggable.id),o(s),t.tryRestoreFocusRecorded();return}if(o(s),!!r){if(ze(s,"FLUSH")){r=!1,t.tryRestoreFocusRecorded();return}if(ze(s,"DROP_COMPLETE")){r=!1;const a=s.payload.completed.result;a.combine&&t.tryShiftRecord(a.draggableId,a.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const Y2=t=>ze(t,"DROP_COMPLETE")||ze(t,"DROP_ANIMATE")||ze(t,"FLUSH");var Q2=t=>r=>o=>s=>{if(Y2(s)){t.stop(),o(s);return}if(ze(s,"INITIAL_PUBLISH")){o(s);const a=r.getState();a.phase!=="DRAGGING"&&fe(),t.start(a);return}o(s),t.scroll(r.getState())};const X2=t=>r=>o=>{if(r(o),!ze(o,"PUBLISH_WHILE_DRAGGING"))return;const s=t.getState();s.phase==="DROP_PENDING"&&(s.isWaiting||t.dispatch(rv({reason:s.reason})))},Z2=Cg;var J2=({dimensionMarshal:t,focusMarshal:r,styleMarshal:o,getResponders:s,announce:a,autoScroller:l})=>Ng(c2,Z2(Q1(j2(o),q2(t),D2(t),T2,U2,W2,X2,Q2(l),L2,K2(r),G2(s,a))));const iu=()=>({additions:{},removals:{},modified:{}});function eC({registry:t,callbacks:r}){let o=iu(),s=null;const a=()=>{s||(r.collectionStarting(),s=requestAnimationFrame(()=>{s=null;const{additions:p,removals:m,modified:x}=o,g=Object.keys(p).map(S=>t.draggable.getById(S).getDimension(mt)).sort((S,D)=>S.descriptor.index-D.descriptor.index),y=Object.keys(x).map(S=>{const E=t.droppable.getById(S).callbacks.getScrollWhileDragging();return{droppableId:S,scroll:E}}),N={additions:g,removals:Object.keys(m),modified:y};o=iu(),r.publish(N)}))};return{add:p=>{const m=p.descriptor.id;o.additions[m]=p,o.modified[p.descriptor.droppableId]=!0,o.removals[m]&&delete o.removals[m],a()},remove:p=>{const m=p.descriptor;o.removals[m.id]=!0,o.modified[m.droppableId]=!0,o.additions[m.id]&&delete o.additions[m.id],a()},stop:()=>{s&&(cancelAnimationFrame(s),s=null,o=iu())}}}var lv=({scrollHeight:t,scrollWidth:r,height:o,width:s})=>{const a=Zt({x:r,y:t},{x:s,y:o});return{x:Math.max(0,a.x),y:Math.max(0,a.y)}},cv=()=>{const t=document.documentElement;return t||fe(),t},uv=()=>{const t=cv();return lv({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},tC=()=>{const t=av(),r=uv(),o=t.y,s=t.x,a=cv(),l=a.clientWidth,d=a.clientHeight,f=s+l,p=o+d;return{frame:En({top:o,left:s,right:f,bottom:p}),scroll:{initial:t,current:t,max:r,diff:{value:mt,displacement:mt}}}},nC=({critical:t,scrollOptions:r,registry:o})=>{const s=tC(),a=s.scroll.current,l=t.droppable,d=o.droppable.getAllByType(l.type).map(x=>x.callbacks.getDimensionAndWatchScroll(a,r)),f=o.draggable.getAllByType(t.draggable.type).map(x=>x.getDimension(a));return{dimensions:{draggables:Bg(f),droppables:Lg(d)},critical:t,viewport:s}};function Pm(t,r,o){return!(o.descriptor.id===r.id||o.descriptor.type!==r.type||t.droppable.getById(o.descriptor.droppableId).descriptor.mode!=="virtual")}var rC=(t,r)=>{let o=null;const s=eC({callbacks:{publish:r.publishWhileDragging,collectionStarting:r.collectionStarting},registry:t}),a=(y,N)=>{t.droppable.exists(y)||fe(),o&&r.updateDroppableIsEnabled({id:y,isEnabled:N})},l=(y,N)=>{o&&(t.droppable.exists(y)||fe(),r.updateDroppableIsCombineEnabled({id:y,isCombineEnabled:N}))},d=(y,N)=>{o&&(t.droppable.exists(y)||fe(),r.updateDroppableScroll({id:y,newScroll:N}))},f=(y,N)=>{o&&t.droppable.getById(y).callbacks.scroll(N)},p=()=>{if(!o)return;s.stop();const y=o.critical.droppable;t.droppable.getAllByType(y.type).forEach(N=>N.callbacks.dragStopped()),o.unsubscribe(),o=null},m=y=>{o||fe();const N=o.critical.draggable;y.type==="ADDITION"&&Pm(t,N,y.value)&&s.add(y.value),y.type==="REMOVAL"&&Pm(t,N,y.value)&&s.remove(y.value)};return{updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:l,scrollDroppable:f,updateDroppableScroll:d,startPublishing:y=>{o&&fe();const N=t.draggable.getById(y.draggableId),S=t.droppable.getById(N.descriptor.droppableId),D={draggable:N.descriptor,droppable:S.descriptor},E=t.subscribe(m);return o={critical:D,unsubscribe:E},nC({critical:D,registry:t,scrollOptions:y.scrollOptions})},stopPublishing:p}},dv=(t,r)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===r?!1:t.completed.result.reason==="DROP",oC=t=>{window.scrollBy(t.x,t.y)};const sC=ht(t=>Ta(t).filter(r=>!(!r.isEnabled||!r.frame))),iC=(t,r)=>sC(r).find(s=>(s.frame||fe(),Kg(s.frame.pageMarginBox)(t)))||null;var aC=({center:t,destination:r,droppables:o})=>{if(r){const a=o[r];return a.frame?a:null}return iC(t,o)};const Ls={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var lC=(t,r,o=()=>Ls)=>{const s=o(),a=t[r.size]*s.startFromPercentage,l=t[r.size]*s.maxScrollAtPercentage;return{startScrollingFrom:a,maxScrollValueAt:l}},fv=({startOfRange:t,endOfRange:r,current:o})=>{const s=r-t;return s===0?0:(o-t)/s},ud=1,cC=(t,r,o=()=>Ls)=>{const s=o();if(t>r.startScrollingFrom)return 0;if(t<=r.maxScrollValueAt)return s.maxPixelScroll;if(t===r.startScrollingFrom)return ud;const l=1-fv({startOfRange:r.maxScrollValueAt,endOfRange:r.startScrollingFrom,current:t}),d=s.maxPixelScroll*s.ease(l);return Math.ceil(d)},uC=(t,r,o)=>{const s=o(),a=s.durationDampening.accelerateAt,l=s.durationDampening.stopDampeningAt,d=r,f=l,m=Date.now()-d;if(m>=l)return t;if(m<a)return ud;const x=fv({startOfRange:a,endOfRange:f,current:m}),g=t*s.ease(x);return Math.ceil(g)},Rm=({distanceToEdge:t,thresholds:r,dragStartTime:o,shouldUseTimeDampening:s,getAutoScrollerOptions:a})=>{const l=cC(t,r,a);return l===0?0:s?Math.max(uC(l,o,a),ud):l},km=({container:t,distanceToEdges:r,dragStartTime:o,axis:s,shouldUseTimeDampening:a,getAutoScrollerOptions:l})=>{const d=lC(t,s,l);return r[s.end]<r[s.start]?Rm({distanceToEdge:r[s.end],thresholds:d,dragStartTime:o,shouldUseTimeDampening:a,getAutoScrollerOptions:l}):-1*Rm({distanceToEdge:r[s.start],thresholds:d,dragStartTime:o,shouldUseTimeDampening:a,getAutoScrollerOptions:l})},dC=({container:t,subject:r,proposedScroll:o})=>{const s=r.height>t.height,a=r.width>t.width;return!a&&!s?o:a&&s?null:{x:a?0:o.x,y:s?0:o.y}};const fC=_g(t=>t===0?0:t);var pv=({dragStartTime:t,container:r,subject:o,center:s,shouldUseTimeDampening:a,getAutoScrollerOptions:l})=>{const d={top:s.y-r.top,right:r.right-s.x,bottom:r.bottom-s.y,left:s.x-r.left},f=km({container:r,distanceToEdges:d,dragStartTime:t,axis:nd,shouldUseTimeDampening:a,getAutoScrollerOptions:l}),p=km({container:r,distanceToEdges:d,dragStartTime:t,axis:zg,shouldUseTimeDampening:a,getAutoScrollerOptions:l}),m=fC({x:p,y:f});if(Dr(m,mt))return null;const x=dC({container:r,subject:o,proposedScroll:m});return x?Dr(x,mt)?null:x:null};const pC=_g(t=>t===0?0:t>0?1:-1),dd=(()=>{const t=(r,o)=>r<0?r:r>o?r-o:0;return({current:r,max:o,change:s})=>{const a=yt(r,s),l={x:t(a.x,o.x),y:t(a.y,o.y)};return Dr(l,mt)?null:l}})(),hv=({max:t,current:r,change:o})=>{const s={x:Math.max(r.x,t.x),y:Math.max(r.y,t.y)},a=pC(o),l=dd({max:s,current:r,change:a});return!l||a.x!==0&&l.x===0||a.y!==0&&l.y===0},fd=(t,r)=>hv({current:t.scroll.current,max:t.scroll.max,change:r}),hC=(t,r)=>{if(!fd(t,r))return null;const o=t.scroll.max,s=t.scroll.current;return dd({current:s,max:o,change:r})},pd=(t,r)=>{const o=t.frame;return o?hv({current:o.scroll.current,max:o.scroll.max,change:r}):!1},mC=(t,r)=>{const o=t.frame;return!o||!pd(t,r)?null:dd({current:o.scroll.current,max:o.scroll.max,change:r})};var gC=({viewport:t,subject:r,center:o,dragStartTime:s,shouldUseTimeDampening:a,getAutoScrollerOptions:l})=>{const d=pv({dragStartTime:s,container:t.frame,subject:r,center:o,shouldUseTimeDampening:a,getAutoScrollerOptions:l});return d&&fd(t,d)?d:null},vC=({droppable:t,subject:r,center:o,dragStartTime:s,shouldUseTimeDampening:a,getAutoScrollerOptions:l})=>{const d=t.frame;if(!d)return null;const f=pv({dragStartTime:s,container:d.pageMarginBox,subject:r,center:o,shouldUseTimeDampening:a,getAutoScrollerOptions:l});return f&&pd(t,f)?f:null},Im=({state:t,dragStartTime:r,shouldUseTimeDampening:o,scrollWindow:s,scrollDroppable:a,getAutoScrollerOptions:l})=>{const d=t.current.page.borderBoxCenter,p=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const g=t.viewport,y=gC({dragStartTime:r,viewport:g,subject:p,center:d,shouldUseTimeDampening:o,getAutoScrollerOptions:l});if(y){s(y);return}}const m=aC({center:d,destination:Jt(t.impact),droppables:t.dimensions.droppables});if(!m)return;const x=vC({dragStartTime:r,droppable:m,subject:p,center:d,shouldUseTimeDampening:o,getAutoScrollerOptions:l});x&&a(m.descriptor.id,x)},xC=({scrollWindow:t,scrollDroppable:r,getAutoScrollerOptions:o=()=>Ls})=>{const s=Is(t),a=Is(r);let l=null;const d=m=>{l||fe();const{shouldUseTimeDampening:x,dragStartTime:g}=l;Im({state:m,scrollWindow:s,scrollDroppable:a,dragStartTime:g,shouldUseTimeDampening:x,getAutoScrollerOptions:o})};return{start:m=>{l&&fe();const x=Date.now();let g=!1;const y=()=>{g=!0};Im({state:m,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:y,scrollDroppable:y,getAutoScrollerOptions:o}),l={dragStartTime:x,shouldUseTimeDampening:g},g&&d(m)},stop:()=>{l&&(s.cancel(),a.cancel(),l=null)},scroll:d}},yC=({move:t,scrollDroppable:r,scrollWindow:o})=>{const s=(f,p)=>{const m=yt(f.current.client.selection,p);t({client:m})},a=(f,p)=>{if(!pd(f,p))return p;const m=mC(f,p);if(!m)return r(f.descriptor.id,p),null;const x=Zt(p,m);return r(f.descriptor.id,x),Zt(p,x)},l=(f,p,m)=>{if(!f||!fd(p,m))return m;const x=hC(p,m);if(!x)return o(m),null;const g=Zt(m,x);return o(g),Zt(m,g)};return f=>{const p=f.scrollJumpRequest;if(!p)return;const m=Jt(f.impact);m||fe();const x=a(f.dimensions.droppables[m],p);if(!x)return;const g=f.viewport,y=l(f.isWindowScrollAllowed,g,x);y&&s(f,y)}},bC=({scrollDroppable:t,scrollWindow:r,move:o,getAutoScrollerOptions:s})=>{const a=xC({scrollWindow:r,scrollDroppable:t,getAutoScrollerOptions:s}),l=yC({move:o,scrollWindow:r,scrollDroppable:t});return{scroll:p=>{if(!(s().disabled||p.phase!=="DRAGGING")){if(p.movementMode==="FLUID"){a.scroll(p);return}p.scrollJumpRequest&&l(p)}},start:a.start,stop:a.stop}};const Ao="data-rfd",Po=(()=>{const t=`${Ao}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),Pu=(()=>{const t=`${Ao}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),wC=(()=>{const t=`${Ao}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),Tm={contextId:`${Ao}-scroll-container-context-id`},NC=t=>r=>`[${r}="${t}"]`,ws=(t,r)=>t.map(o=>{const s=o.styles[r];return s?`${o.selector} { ${s} }`:""}).join(" "),CC="pointer-events: none;";var SC=t=>{const r=NC(t),o=(()=>{const f=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:r(Po.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:f,dragging:CC,dropAnimating:f}}})(),s=(()=>{const f=`
      transition: ${Es.outOfTheWay};
    `;return{selector:r(Pu.contextId),styles:{dragging:f,dropAnimating:f,userCancel:f}}})(),a={selector:r(wC.contextId),styles:{always:"overflow-anchor: none;"}},d=[s,o,a,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:ws(d,"always"),resting:ws(d,"resting"),dragging:ws(d,"dragging"),dropAnimating:ws(d,"dropAnimating"),userCancel:ws(d,"userCancel")}};const en=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?b.useLayoutEffect:b.useEffect,au=()=>{const t=document.querySelector("head");return t||fe(),t},Mm=t=>{const r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function EC(t,r){const o=_e(()=>SC(t),[t]),s=b.useRef(null),a=b.useRef(null),l=Se(ht(g=>{const y=a.current;y||fe(),y.textContent=g}),[]),d=Se(g=>{const y=s.current;y||fe(),y.textContent=g},[]);en(()=>{!s.current&&!a.current||fe();const g=Mm(r),y=Mm(r);return s.current=g,a.current=y,g.setAttribute(`${Ao}-always`,t),y.setAttribute(`${Ao}-dynamic`,t),au().appendChild(g),au().appendChild(y),d(o.always),l(o.resting),()=>{const N=S=>{const D=S.current;D||fe(),au().removeChild(D),S.current=null};N(s),N(a)}},[r,d,l,o.always,o.resting,t]);const f=Se(()=>l(o.dragging),[l,o.dragging]),p=Se(g=>{if(g==="DROP"){l(o.dropAnimating);return}l(o.userCancel)},[l,o.dropAnimating,o.userCancel]),m=Se(()=>{a.current&&l(o.resting)},[l,o.resting]);return _e(()=>({dragging:f,dropping:p,resting:m}),[f,p,m])}function mv(t,r){return Array.from(t.querySelectorAll(r))}var gv=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function La(t){return t instanceof gv(t).HTMLElement}function DC(t,r){const o=`[${Po.contextId}="${t}"]`,s=mv(document,o);if(!s.length)return null;const a=s.find(l=>l.getAttribute(Po.draggableId)===r);return!a||!La(a)?null:a}function jC(t){const r=b.useRef({}),o=b.useRef(null),s=b.useRef(null),a=b.useRef(!1),l=Se(function(y,N){const S={id:y,focus:N};return r.current[y]=S,function(){const E=r.current;E[y]!==S&&delete E[y]}},[]),d=Se(function(y){const N=DC(t,y);N&&N!==document.activeElement&&N.focus()},[t]),f=Se(function(y,N){o.current===y&&(o.current=N)},[]),p=Se(function(){s.current||a.current&&(s.current=requestAnimationFrame(()=>{s.current=null;const y=o.current;y&&d(y)}))},[d]),m=Se(function(y){o.current=null;const N=document.activeElement;N&&N.getAttribute(Po.draggableId)===y&&(o.current=y)},[]);return en(()=>(a.current=!0,function(){a.current=!1;const y=s.current;y&&cancelAnimationFrame(y)}),[]),_e(()=>({register:l,tryRecordFocus:m,tryRestoreFocusRecorded:p,tryShiftRecord:f}),[l,m,p,f])}function AC(){const t={draggables:{},droppables:{}},r=[];function o(g){return r.push(g),function(){const N=r.indexOf(g);N!==-1&&r.splice(N,1)}}function s(g){r.length&&r.forEach(y=>y(g))}function a(g){return t.draggables[g]||null}function l(g){const y=a(g);return y||fe(),y}const d={register:g=>{t.draggables[g.descriptor.id]=g,s({type:"ADDITION",value:g})},update:(g,y)=>{const N=t.draggables[y.descriptor.id];N&&N.uniqueId===g.uniqueId&&(delete t.draggables[y.descriptor.id],t.draggables[g.descriptor.id]=g)},unregister:g=>{const y=g.descriptor.id,N=a(y);N&&g.uniqueId===N.uniqueId&&(delete t.draggables[y],t.droppables[g.descriptor.droppableId]&&s({type:"REMOVAL",value:g}))},getById:l,findById:a,exists:g=>!!a(g),getAllByType:g=>Object.values(t.draggables).filter(y=>y.descriptor.type===g)};function f(g){return t.droppables[g]||null}function p(g){const y=f(g);return y||fe(),y}const m={register:g=>{t.droppables[g.descriptor.id]=g},unregister:g=>{const y=f(g.descriptor.id);y&&g.uniqueId===y.uniqueId&&delete t.droppables[g.descriptor.id]},getById:p,findById:f,exists:g=>!!f(g),getAllByType:g=>Object.values(t.droppables).filter(y=>y.descriptor.type===g)};function x(){t.draggables={},t.droppables={},r.length=0}return{draggable:d,droppable:m,subscribe:o,clean:x}}function PC(){const t=_e(AC,[]);return b.useEffect(()=>function(){t.clean()},[t]),t}var hd=Ne.createContext(null),Na=()=>{const t=document.body;return t||fe(),t};const RC={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},kC=t=>`rfd-announcement-${t}`;function IC(t){const r=_e(()=>kC(t),[t]),o=b.useRef(null);return b.useEffect(function(){const l=document.createElement("div");return o.current=l,l.id=r,l.setAttribute("aria-live","assertive"),l.setAttribute("aria-atomic","true"),xa(l.style,RC),Na().appendChild(l),function(){setTimeout(function(){const p=Na();p.contains(l)&&p.removeChild(l),l===o.current&&(o.current=null)})}},[r]),Se(a=>{const l=o.current;if(l){l.textContent=a;return}},[])}const TC={separator:"::"};function md(t,r=TC){const o=Ne.useId();return _e(()=>`${t}${r.separator}${o}`,[r.separator,t,o])}function MC({contextId:t,uniqueId:r}){return`rfd-hidden-text-${t}-${r}`}function OC({contextId:t,text:r}){const o=md("hidden-text",{separator:"-"}),s=_e(()=>MC({contextId:t,uniqueId:o}),[o,t]);return b.useEffect(function(){const l=document.createElement("div");return l.id=s,l.textContent=r,l.style.display="none",Na().appendChild(l),function(){const f=Na();f.contains(l)&&f.removeChild(l)}},[s,r]),s}var Ba=Ne.createContext(null);function vv(t){const r=b.useRef(t);return b.useEffect(()=>{r.current=t}),r}function _C(){let t=null;function r(){return!!t}function o(d){return d===t}function s(d){t&&fe();const f={abandon:d};return t=f,f}function a(){t||fe(),t=null}function l(){t&&(t.abandon(),a())}return{isClaimed:r,isActive:o,claim:s,release:a,tryAbandon:l}}function Bs(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const LC=9,BC=13,gd=27,xv=32,FC=33,$C=34,zC=35,VC=36,HC=37,GC=38,UC=39,WC=40,qC={[BC]:!0,[LC]:!0};var yv=t=>{qC[t.keyCode]&&t.preventDefault()};const Fa=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(s=>`on${s}`in document)||t})(),bv=0,Om=5;function KC(t,r){return Math.abs(r.x-t.x)>=Om||Math.abs(r.y-t.y)>=Om}const _m={type:"IDLE"};function YC({cancel:t,completed:r,getPhase:o,setPhase:s}){return[{eventName:"mousemove",fn:a=>{const{button:l,clientX:d,clientY:f}=a;if(l!==bv)return;const p={x:d,y:f},m=o();if(m.type==="DRAGGING"){a.preventDefault(),m.actions.move(p);return}m.type!=="PENDING"&&fe();const x=m.point;if(!KC(x,p))return;a.preventDefault();const g=m.actions.fluidLift(p);s({type:"DRAGGING",actions:g})}},{eventName:"mouseup",fn:a=>{const l=o();if(l.type!=="DRAGGING"){t();return}a.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:a=>{o().type==="DRAGGING"&&a.preventDefault(),t()}},{eventName:"keydown",fn:a=>{if(o().type==="PENDING"){t();return}if(a.keyCode===gd){a.preventDefault(),t();return}yv(a)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{o().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:a=>{const l=o();if(l.type==="IDLE"&&fe(),l.actions.shouldRespectForcePress()){t();return}a.preventDefault()}},{eventName:Fa,fn:t}]}function QC(t){const r=b.useRef(_m),o=b.useRef(Er),s=_e(()=>({eventName:"mousedown",fn:function(g){if(g.defaultPrevented||g.button!==bv||g.ctrlKey||g.metaKey||g.shiftKey||g.altKey)return;const y=t.findClosestDraggableId(g);if(!y)return;const N=t.tryGetLock(y,d,{sourceEvent:g});if(!N)return;g.preventDefault();const S={x:g.clientX,y:g.clientY};o.current(),m(N,S)}}),[t]),a=_e(()=>({eventName:"webkitmouseforcewillbegin",fn:x=>{if(x.defaultPrevented)return;const g=t.findClosestDraggableId(x);if(!g)return;const y=t.findOptionsForDraggable(g);y&&(y.shouldRespectForcePress||t.canGetLock(g)&&x.preventDefault())}}),[t]),l=Se(function(){const g={passive:!1,capture:!0};o.current=pn(window,[a,s],g)},[a,s]),d=Se(()=>{r.current.type!=="IDLE"&&(r.current=_m,o.current(),l())},[l]),f=Se(()=>{const x=r.current;d(),x.type==="DRAGGING"&&x.actions.cancel({shouldBlockNextClick:!0}),x.type==="PENDING"&&x.actions.abort()},[d]),p=Se(function(){const g={capture:!0,passive:!1},y=YC({cancel:f,completed:d,getPhase:()=>r.current,setPhase:N=>{r.current=N}});o.current=pn(window,y,g)},[f,d]),m=Se(function(g,y){r.current.type!=="IDLE"&&fe(),r.current={type:"PENDING",point:y,actions:g},p()},[p]);en(function(){return l(),function(){o.current()}},[l])}function XC(){}const ZC={[$C]:!0,[FC]:!0,[VC]:!0,[zC]:!0};function JC(t,r){function o(){r(),t.cancel()}function s(){r(),t.drop()}return[{eventName:"keydown",fn:a=>{if(a.keyCode===gd){a.preventDefault(),o();return}if(a.keyCode===xv){a.preventDefault(),s();return}if(a.keyCode===WC){a.preventDefault(),t.moveDown();return}if(a.keyCode===GC){a.preventDefault(),t.moveUp();return}if(a.keyCode===UC){a.preventDefault(),t.moveRight();return}if(a.keyCode===HC){a.preventDefault(),t.moveLeft();return}if(ZC[a.keyCode]){a.preventDefault();return}yv(a)}},{eventName:"mousedown",fn:o},{eventName:"mouseup",fn:o},{eventName:"click",fn:o},{eventName:"touchstart",fn:o},{eventName:"resize",fn:o},{eventName:"wheel",fn:o,options:{passive:!0}},{eventName:Fa,fn:o}]}function eS(t){const r=b.useRef(XC),o=_e(()=>({eventName:"keydown",fn:function(l){if(l.defaultPrevented||l.keyCode!==xv)return;const d=t.findClosestDraggableId(l);if(!d)return;const f=t.tryGetLock(d,x,{sourceEvent:l});if(!f)return;l.preventDefault();let p=!0;const m=f.snapLift();r.current();function x(){p||fe(),p=!1,r.current(),s()}r.current=pn(window,JC(m,x),{capture:!0,passive:!1})}}),[t]),s=Se(function(){const l={passive:!1,capture:!0};r.current=pn(window,[o],l)},[o]);en(function(){return s(),function(){r.current()}},[s])}const lu={type:"IDLE"},tS=120,nS=.15;function rS({cancel:t,getPhase:r}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:o=>{o.preventDefault()}},{eventName:"keydown",fn:o=>{if(r().type!=="DRAGGING"){t();return}o.keyCode===gd&&o.preventDefault(),t()}},{eventName:Fa,fn:t}]}function oS({cancel:t,completed:r,getPhase:o}){return[{eventName:"touchmove",options:{capture:!1},fn:s=>{const a=o();if(a.type!=="DRAGGING"){t();return}a.hasMoved=!0;const{clientX:l,clientY:d}=s.touches[0],f={x:l,y:d};s.preventDefault(),a.actions.move(f)}},{eventName:"touchend",fn:s=>{const a=o();if(a.type!=="DRAGGING"){t();return}s.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:s=>{if(o().type!=="DRAGGING"){t();return}s.preventDefault(),t()}},{eventName:"touchforcechange",fn:s=>{const a=o();a.type==="IDLE"&&fe();const l=s.touches[0];if(!l||!(l.force>=nS))return;const f=a.actions.shouldRespectForcePress();if(a.type==="PENDING"){f&&t();return}if(f){if(a.hasMoved){s.preventDefault();return}t();return}s.preventDefault()}},{eventName:Fa,fn:t}]}function sS(t){const r=b.useRef(lu),o=b.useRef(Er),s=Se(function(){return r.current},[]),a=Se(function(N){r.current=N},[]),l=_e(()=>({eventName:"touchstart",fn:function(N){if(N.defaultPrevented)return;const S=t.findClosestDraggableId(N);if(!S)return;const D=t.tryGetLock(S,f,{sourceEvent:N});if(!D)return;const E=N.touches[0],{clientX:$,clientY:V}=E,B={x:$,y:V};o.current(),g(D,B)}}),[t]),d=Se(function(){const N={capture:!0,passive:!1};o.current=pn(window,[l],N)},[l]),f=Se(()=>{const y=r.current;y.type!=="IDLE"&&(y.type==="PENDING"&&clearTimeout(y.longPressTimerId),a(lu),o.current(),d())},[d,a]),p=Se(()=>{const y=r.current;f(),y.type==="DRAGGING"&&y.actions.cancel({shouldBlockNextClick:!0}),y.type==="PENDING"&&y.actions.abort()},[f]),m=Se(function(){const N={capture:!0,passive:!1},S={cancel:p,completed:f,getPhase:s},D=pn(window,oS(S),N),E=pn(window,rS(S),N);o.current=function(){D(),E()}},[p,s,f]),x=Se(function(){const N=s();N.type!=="PENDING"&&fe();const S=N.actions.fluidLift(N.point);a({type:"DRAGGING",actions:S,hasMoved:!1})},[s,a]),g=Se(function(N,S){s().type!=="IDLE"&&fe();const D=setTimeout(x,tS);a({type:"PENDING",point:S,actions:N,longPressTimerId:D}),m()},[m,s,a,x]);en(function(){return d(),function(){o.current();const S=s();S.type==="PENDING"&&(clearTimeout(S.longPressTimerId),a(lu))}},[s,d,a]),en(function(){return pn(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const iS=["input","button","textarea","select","option","optgroup","video","audio"];function wv(t,r){if(r==null)return!1;if(iS.includes(r.tagName.toLowerCase()))return!0;const s=r.getAttribute("contenteditable");return s==="true"||s===""?!0:r===t?!1:wv(t,r.parentElement)}function aS(t,r){const o=r.target;return La(o)?wv(t,o):!1}var lS=t=>En(t.getBoundingClientRect()).center;function cS(t){return t instanceof gv(t).Element}const uS=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(s=>s in Element.prototype)||t})();function Nv(t,r){return t==null?null:t[uS](r)?t:Nv(t.parentElement,r)}function dS(t,r){return t.closest?t.closest(r):Nv(t,r)}function fS(t){return`[${Po.contextId}="${t}"]`}function pS(t,r){const o=r.target;if(!cS(o))return null;const s=fS(t),a=dS(o,s);return!a||!La(a)?null:a}function hS(t,r){const o=pS(t,r);return o?o.getAttribute(Po.draggableId):null}function mS(t,r){const o=`[${Pu.contextId}="${t}"]`,a=mv(document,o).find(l=>l.getAttribute(Pu.id)===r);return!a||!La(a)?null:a}function gS(t){t.preventDefault()}function sa({expected:t,phase:r,isLockActive:o,shouldWarn:s}){return!(!o()||t!==r)}function Cv({lockAPI:t,store:r,registry:o,draggableId:s}){if(t.isClaimed())return!1;const a=o.draggable.findById(s);return!(!a||!a.options.isEnabled||!dv(r.getState(),s))}function vS({lockAPI:t,contextId:r,store:o,registry:s,draggableId:a,forceSensorStop:l,sourceEvent:d}){if(!Cv({lockAPI:t,store:o,registry:s,draggableId:a}))return null;const p=s.draggable.getById(a),m=mS(r,p.descriptor.id);if(!m||d&&!p.options.canDragInteractiveElements&&aS(m,d))return null;const x=t.claim(l||Er);let g="PRE_DRAG";function y(){return p.options.shouldRespectForcePress}function N(){return t.isActive(x)}function S(M,z){sa({expected:M,phase:g,isLockActive:N,shouldWarn:!0})&&o.dispatch(z())}const D=S.bind(null,"DRAGGING");function E(M){function z(){t.release(),g="COMPLETED"}g!=="PRE_DRAG"&&(z(),fe()),o.dispatch(d2(M.liftActionArgs)),g="DRAGGING";function R(L,J={shouldBlockNextClick:!1}){if(M.cleanup(),J.shouldBlockNextClick){const ne=pn(window,[{eventName:"click",fn:gS,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(ne)}z(),o.dispatch(rv({reason:L}))}return{isActive:()=>sa({expected:"DRAGGING",phase:g,isLockActive:N,shouldWarn:!1}),shouldRespectForcePress:y,drop:L=>R("DROP",L),cancel:L=>R("CANCEL",L),...M.actions}}function $(M){const z=Is(L=>{D(()=>nv({client:L}))});return{...E({liftActionArgs:{id:a,clientSelection:M,movementMode:"FLUID"},cleanup:()=>z.cancel(),actions:{move:z}}),move:z}}function V(){const M={moveUp:()=>D(b2),moveRight:()=>D(N2),moveDown:()=>D(w2),moveLeft:()=>D(C2)};return E({liftActionArgs:{id:a,clientSelection:lS(m),movementMode:"SNAP"},cleanup:Er,actions:M})}function B(){sa({expected:"PRE_DRAG",phase:g,isLockActive:N,shouldWarn:!0})&&t.release()}return{isActive:()=>sa({expected:"PRE_DRAG",phase:g,isLockActive:N,shouldWarn:!1}),shouldRespectForcePress:y,fluidLift:$,snapLift:V,abort:B}}const xS=[QC,eS,sS];function yS({contextId:t,store:r,registry:o,customSensors:s,enableDefaultSensors:a}){const l=[...a?xS:[],...s||[]],d=b.useState(()=>_C())[0],f=Se(function(E,$){Bs(E)&&!Bs($)&&d.tryAbandon()},[d]);en(function(){let E=r.getState();return r.subscribe(()=>{const V=r.getState();f(E,V),E=V})},[d,r,f]),en(()=>d.tryAbandon,[d.tryAbandon]);const p=Se(D=>Cv({lockAPI:d,registry:o,store:r,draggableId:D}),[d,o,r]),m=Se((D,E,$)=>vS({lockAPI:d,registry:o,contextId:t,store:r,draggableId:D,forceSensorStop:E||null,sourceEvent:$&&$.sourceEvent?$.sourceEvent:null}),[t,d,o,r]),x=Se(D=>hS(t,D),[t]),g=Se(D=>{const E=o.draggable.findById(D);return E?E.options:null},[o.draggable]),y=Se(function(){d.isClaimed()&&(d.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(ad()))},[d,r]),N=Se(()=>d.isClaimed(),[d]),S=_e(()=>({canGetLock:p,tryGetLock:m,findClosestDraggableId:x,findOptionsForDraggable:g,tryReleaseLock:y,isLockClaimed:N}),[p,m,x,g,y,N]);for(let D=0;D<l.length;D++)l[D](S)}const bS=t=>({onBeforeCapture:r=>{const o=()=>{t.onBeforeCapture&&t.onBeforeCapture(r)};Zn.flushSync(o)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),wS=t=>({...Ls,...t.autoScrollerOptions,durationDampening:{...Ls.durationDampening,...t.autoScrollerOptions}});function Ns(t){return t.current||fe(),t.current}function NS(t){const{contextId:r,setCallbacks:o,sensors:s,nonce:a,dragHandleUsageInstructions:l}=t,d=b.useRef(null),f=vv(t),p=Se(()=>bS(f.current),[f]),m=Se(()=>wS(f.current),[f]),x=IC(r),g=OC({contextId:r,text:l}),y=EC(r,a),N=Se(ne=>{Ns(d).dispatch(ne)},[]),S=_e(()=>lm({publishWhileDragging:p2,updateDroppableScroll:m2,updateDroppableIsEnabled:g2,updateDroppableIsCombineEnabled:v2,collectionStarting:h2},N),[N]),D=PC(),E=_e(()=>rC(D,S),[D,S]),$=_e(()=>bC({scrollWindow:oC,scrollDroppable:E.scrollDroppable,getAutoScrollerOptions:m,...lm({move:nv},N)}),[E.scrollDroppable,N,m]),V=jC(r),B=_e(()=>J2({announce:x,autoScroller:$,dimensionMarshal:E,focusMarshal:V,getResponders:p,styleMarshal:y}),[x,$,E,V,p,y]);d.current=B;const H=Se(()=>{const ne=Ns(d);ne.getState().phase!=="IDLE"&&ne.dispatch(ad())},[]),M=Se(()=>{const ne=Ns(d).getState();return ne.phase==="DROP_ANIMATING"?!0:ne.phase==="IDLE"?!1:ne.isDragging},[]),z=_e(()=>({isDragging:M,tryAbort:H}),[M,H]);o(z);const R=Se(ne=>dv(Ns(d).getState(),ne),[]),L=Se(()=>Kr(Ns(d).getState()),[]),J=_e(()=>({marshal:E,focus:V,contextId:r,canLift:R,isMovementAllowed:L,dragHandleUsageInstructionsId:g,registry:D}),[r,E,g,V,R,L,D]);return yS({contextId:r,store:B,registry:D,customSensors:s||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),b.useEffect(()=>H,[H]),Ne.createElement(Ba.Provider,{value:J},Ne.createElement(qw,{context:hd,store:B},t.children))}function CS(){return Ne.useId()}function Sv(t){const r=CS(),o=t.dragHandleUsageInstructions||la.dragHandleUsageInstructions;return Ne.createElement(eN,null,s=>Ne.createElement(NS,{nonce:t.nonce,contextId:r,setCallbacks:s,dragHandleUsageInstructions:o,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const Lm={dragging:5e3,dropAnimating:4500},SS=(t,r)=>r?Es.drop(r.duration):t?Es.snap:Es.fluid,ES=(t,r)=>{if(t)return r?_s.opacity.drop:_s.opacity.combining},DS=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function jS(t){const o=t.dimension.client,{offset:s,combineWith:a,dropping:l}=t,d=!!a,f=DS(t),p=!!l,m=p?ju.drop(s,d):ju.moveTo(s);return{position:"fixed",top:o.marginBox.top,left:o.marginBox.left,boxSizing:"border-box",width:o.borderBox.width,height:o.borderBox.height,transition:SS(f,l),transform:m,opacity:ES(d,p),zIndex:p?Lm.dropAnimating:Lm.dragging,pointerEvents:"none"}}function AS(t){return{transform:ju.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function PS(t){return t.type==="DRAGGING"?jS(t):AS(t)}function RS(t,r,o=mt){const s=window.getComputedStyle(r),a=r.getBoundingClientRect(),l=Rg(a,s),d=va(l,o),f={client:l,tagName:r.tagName.toLowerCase(),display:s.display},p={x:l.marginBox.width,y:l.marginBox.height};return{descriptor:t,placeholder:f,displaceBy:p,client:l,page:d}}function kS(t){const r=md("draggable"),{descriptor:o,registry:s,getDraggableRef:a,canDragInteractiveElements:l,shouldRespectForcePress:d,isEnabled:f}=t,p=_e(()=>({canDragInteractiveElements:l,shouldRespectForcePress:d,isEnabled:f}),[l,f,d]),m=Se(N=>{const S=a();return S||fe(),RS(o,S,N)},[o,a]),x=_e(()=>({uniqueId:r,descriptor:o,options:p,getDimension:m}),[o,m,p,r]),g=b.useRef(x),y=b.useRef(!0);en(()=>(s.draggable.register(g.current),()=>s.draggable.unregister(g.current)),[s.draggable]),en(()=>{if(y.current){y.current=!1;return}const N=g.current;g.current=x,s.draggable.update(x,N)},[x,s.draggable])}var vd=Ne.createContext(null);function Ca(t){const r=b.useContext(t);return r||fe(),r}function IS(t){t.preventDefault()}const TS=t=>{const r=b.useRef(null),o=Se((z=null)=>{r.current=z},[]),s=Se(()=>r.current,[]),{contextId:a,dragHandleUsageInstructionsId:l,registry:d}=Ca(Ba),{type:f,droppableId:p}=Ca(vd),m=_e(()=>({id:t.draggableId,index:t.index,type:f,droppableId:p}),[t.draggableId,t.index,f,p]),{children:x,draggableId:g,isEnabled:y,shouldRespectForcePress:N,canDragInteractiveElements:S,isClone:D,mapped:E,dropAnimationFinished:$}=t;if(!D){const z=_e(()=>({descriptor:m,registry:d,getDraggableRef:s,canDragInteractiveElements:S,shouldRespectForcePress:N,isEnabled:y}),[m,d,s,S,N,y]);kS(z)}const V=_e(()=>y?{tabIndex:0,role:"button","aria-describedby":l,"data-rfd-drag-handle-draggable-id":g,"data-rfd-drag-handle-context-id":a,draggable:!1,onDragStart:IS}:null,[a,l,g,y]),B=Se(z=>{E.type==="DRAGGING"&&E.dropping&&z.propertyName==="transform"&&Zn.flushSync($)},[$,E]),H=_e(()=>{const z=PS(E),R=E.type==="DRAGGING"&&E.dropping?B:void 0;return{innerRef:o,draggableProps:{"data-rfd-draggable-context-id":a,"data-rfd-draggable-id":g,style:z,onTransitionEnd:R},dragHandleProps:V}},[a,V,g,E,B,o]),M=_e(()=>({draggableId:m.id,type:m.type,source:{index:m.index,droppableId:m.droppableId}}),[m.droppableId,m.id,m.index,m.type]);return Ne.createElement(Ne.Fragment,null,x(H,E.snapshot,M))};var Ev=(t,r)=>t===r,Dv=t=>{const{combine:r,destination:o}=t;return o?o.droppableId:r?r.droppableId:null};const MS=t=>t.combine?t.combine.draggableId:null,OS=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function _S(){const t=ht((a,l)=>({x:a,y:l})),r=ht((a,l,d=null,f=null,p=null)=>({isDragging:!0,isClone:l,isDropAnimating:!!p,dropAnimation:p,mode:a,draggingOver:d,combineWith:f,combineTargetFor:null})),o=ht((a,l,d,f,p=null,m=null,x=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:p,combineWith:m,mode:l,offset:a,dimension:d,forceShouldAnimate:x,snapshot:r(l,f,p,m,null)}}));return(a,l)=>{if(Bs(a)){if(a.critical.draggable.id!==l.draggableId)return null;const d=a.current.client.offset,f=a.dimensions.draggables[l.draggableId],p=Jt(a.impact),m=OS(a.impact),x=a.forceShouldAnimate;return o(t(d.x,d.y),a.movementMode,f,l.isClone,p,m,x)}if(a.phase==="DROP_ANIMATING"){const d=a.completed;if(d.result.draggableId!==l.draggableId)return null;const f=l.isClone,p=a.dimensions.draggables[l.draggableId],m=d.result,x=m.mode,g=Dv(m),y=MS(m),S={duration:a.dropDuration,curve:cd.drop,moveTo:a.newHomeClientOffset,opacity:y?_s.opacity.drop:null,scale:y?_s.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:p,dropping:S,draggingOver:g,combineWith:y,mode:x,forceShouldAnimate:null,snapshot:r(x,f,g,y,S)}}}return null}}function jv(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const LS={mapped:{type:"SECONDARY",offset:mt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:jv(null)}};function BS(){const t=ht((d,f)=>({x:d,y:f})),r=ht(jv),o=ht((d,f=null,p)=>({mapped:{type:"SECONDARY",offset:d,combineTargetFor:f,shouldAnimateDisplacement:p,snapshot:r(f)}})),s=d=>d?o(mt,d,!0):null,a=(d,f,p,m)=>{const x=p.displaced.visible[d],g=!!(m.inVirtualList&&m.effected[d]),y=Ma(p),N=y&&y.draggableId===d?f:null;if(!x){if(!g)return s(N);if(p.displaced.invisible[d])return null;const E=Io(m.displacedBy.point),$=t(E.x,E.y);return o($,N,!0)}if(g)return s(N);const S=p.displacedBy.point,D=t(S.x,S.y);return o(D,N,x.shouldAnimate)};return(d,f)=>{if(Bs(d))return d.critical.draggable.id===f.draggableId?null:a(f.draggableId,d.critical.draggable.id,d.impact,d.afterCritical);if(d.phase==="DROP_ANIMATING"){const p=d.completed;return p.result.draggableId===f.draggableId?null:a(f.draggableId,p.result.draggableId,p.impact,p.afterCritical)}return null}}const FS=()=>{const t=_S(),r=BS();return(s,a)=>t(s,a)||r(s,a)||LS},$S={dropAnimationFinished:ov},zS=Pg(FS,$S,null,{context:hd,areStatePropsEqual:Ev})(TS);function Av(t){return Ca(vd).isUsingCloneFor===t.draggableId&&!t.isClone?null:Ne.createElement(zS,t)}function Pv(t){const r=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,o=!!t.disableInteractiveElementBlocking,s=!!t.shouldRespectForcePress;return Ne.createElement(Av,xa({},t,{isClone:!1,isEnabled:r,canDragInteractiveElements:o,shouldRespectForcePress:s}))}const Rv=t=>r=>t===r,VS=Rv("scroll"),HS=Rv("auto"),Bm=(t,r)=>r(t.overflowX)||r(t.overflowY),GS=t=>{const r=window.getComputedStyle(t),o={overflowX:r.overflowX,overflowY:r.overflowY};return Bm(o,VS)||Bm(o,HS)},US=()=>!1,kv=t=>t==null?null:t===document.body?US()?t:null:t===document.documentElement?null:GS(t)?t:kv(t.parentElement);var Ru=t=>({x:t.scrollLeft,y:t.scrollTop});const Iv=t=>t?window.getComputedStyle(t).position==="fixed"?!0:Iv(t.parentElement):!1;var WS=t=>{const r=kv(t),o=Iv(t);return{closestScrollable:r,isFixedOnPage:o}},qS=({descriptor:t,isEnabled:r,isCombineEnabled:o,isFixedOnPage:s,direction:a,client:l,page:d,closest:f})=>{const p=(()=>{if(!f)return null;const{scrollSize:y,client:N}=f,S=lv({scrollHeight:y.scrollHeight,scrollWidth:y.scrollWidth,height:N.paddingBox.height,width:N.paddingBox.width});return{pageMarginBox:f.page.marginBox,frameClient:N,scrollSize:y,shouldClipSubject:f.shouldClipSubject,scroll:{initial:f.scroll,current:f.scroll,max:S,diff:{value:mt,displacement:mt}}}})(),m=a==="vertical"?nd:zg,x=jo({page:d,withPlaceholder:null,axis:m,frame:p});return{descriptor:t,isCombineEnabled:o,isFixedOnPage:s,axis:m,isEnabled:r,client:l,page:d,frame:p,subject:x}};const KS=(t,r)=>{const o=kg(t);if(!r||t!==r)return o;const s=o.paddingBox.top-r.scrollTop,a=o.paddingBox.left-r.scrollLeft,l=s+r.scrollHeight,d=a+r.scrollWidth,p=Zu({top:s,right:d,bottom:l,left:a},o.border);return Ju({borderBox:p,margin:o.margin,border:o.border,padding:o.padding})};var YS=({ref:t,descriptor:r,env:o,windowScroll:s,direction:a,isDropDisabled:l,isCombineEnabled:d,shouldClipSubject:f})=>{const p=o.closestScrollable,m=KS(t,p),x=va(m,s),g=(()=>{if(!p)return null;const N=kg(p),S={scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth};return{client:N,page:va(N,s),scroll:Ru(p),scrollSize:S,shouldClipSubject:f}})();return qS({descriptor:r,isEnabled:!l,isCombineEnabled:d,isFixedOnPage:o.isFixedOnPage,direction:a,client:m,page:x,closest:g})};const QS={passive:!1},XS={passive:!0};var Fm=t=>t.shouldPublishImmediately?QS:XS;const ia=t=>t&&t.env.closestScrollable||null;function ZS(t){const r=b.useRef(null),o=Ca(Ba),s=md("droppable"),{registry:a,marshal:l}=o,d=vv(t),f=_e(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),p=b.useRef(f),m=_e(()=>ht((H,M)=>{r.current||fe();const z={x:H,y:M};l.updateDroppableScroll(f.id,z)}),[f.id,l]),x=Se(()=>{const H=r.current;return!H||!H.env.closestScrollable?mt:Ru(H.env.closestScrollable)},[]),g=Se(()=>{const H=x();m(H.x,H.y)},[x,m]),y=_e(()=>Is(g),[g]),N=Se(()=>{const H=r.current,M=ia(H);if(H&&M||fe(),H.scrollOptions.shouldPublishImmediately){g();return}y()},[y,g]),S=Se((H,M)=>{r.current&&fe();const z=d.current,R=z.getDroppableRef();R||fe();const L=WS(R),J={ref:R,descriptor:f,env:L,scrollOptions:M};r.current=J;const ne=YS({ref:R,descriptor:f,env:L,windowScroll:H,direction:z.direction,isDropDisabled:z.isDropDisabled,isCombineEnabled:z.isCombineEnabled,shouldClipSubject:!z.ignoreContainerClipping}),ae=L.closestScrollable;return ae&&(ae.setAttribute(Tm.contextId,o.contextId),ae.addEventListener("scroll",N,Fm(J.scrollOptions))),ne},[o.contextId,f,N,d]),D=Se(()=>{const H=r.current,M=ia(H);return H&&M||fe(),Ru(M)},[]),E=Se(()=>{const H=r.current;H||fe();const M=ia(H);r.current=null,M&&(y.cancel(),M.removeAttribute(Tm.contextId),M.removeEventListener("scroll",N,Fm(H.scrollOptions)))},[N,y]),$=Se(H=>{const M=r.current;M||fe();const z=ia(M);z||fe(),z.scrollTop+=H.y,z.scrollLeft+=H.x},[]),V=_e(()=>({getDimensionAndWatchScroll:S,getScrollWhileDragging:D,dragStopped:E,scroll:$}),[E,S,D,$]),B=_e(()=>({uniqueId:s,descriptor:f,callbacks:V}),[V,f,s]);en(()=>(p.current=B.descriptor,a.droppable.register(B),()=>{r.current&&E(),a.droppable.unregister(B)}),[V,f,E,B,l,a.droppable]),en(()=>{r.current&&l.updateDroppableIsEnabled(p.current.id,!t.isDropDisabled)},[t.isDropDisabled,l]),en(()=>{r.current&&l.updateDroppableIsCombineEnabled(p.current.id,t.isCombineEnabled)},[t.isCombineEnabled,l])}function cu(){}const $m={width:0,height:0,margin:aN},JS=({isAnimatingOpenOnMount:t,placeholder:r,animate:o})=>t||o==="close"?$m:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin},e4=({isAnimatingOpenOnMount:t,placeholder:r,animate:o})=>{const s=JS({isAnimatingOpenOnMount:t,placeholder:r,animate:o});return{display:r.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:o!=="none"?Es.placeholder:null}},t4=t=>{const r=b.useRef(null),o=Se(()=>{r.current&&(clearTimeout(r.current),r.current=null)},[]),{animate:s,onTransitionEnd:a,onClose:l,contextId:d}=t,[f,p]=b.useState(t.animate==="open");b.useEffect(()=>f?s!=="open"?(o(),p(!1),cu):r.current?cu:(r.current=setTimeout(()=>{r.current=null,p(!1)}),o):cu,[s,f,o]);const m=Se(g=>{g.propertyName==="height"&&(a(),s==="close"&&l())},[s,l,a]),x=e4({isAnimatingOpenOnMount:f,animate:t.animate,placeholder:t.placeholder});return Ne.createElement(t.placeholder.tagName,{style:x,"data-rfd-placeholder-context-id":d,onTransitionEnd:m,ref:t.innerRef})};var n4=Ne.memo(t4);class r4 extends Ne.PureComponent{constructor(...r){super(...r),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(r,o){return r.shouldAnimate?r.on?{isVisible:!0,data:r.on,animate:"open"}:o.isVisible?{isVisible:!0,data:o.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!r.on,data:r.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const r={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(r)}}const o4=t=>{const r=b.useContext(Ba);r||fe();const{contextId:o,isMovementAllowed:s}=r,a=b.useRef(null),l=b.useRef(null),{children:d,droppableId:f,type:p,mode:m,direction:x,ignoreContainerClipping:g,isDropDisabled:y,isCombineEnabled:N,snapshot:S,useClone:D,updateViewportMaxScroll:E,getContainerForClone:$}=t,V=Se(()=>a.current,[]),B=Se((ae=null)=>{a.current=ae},[]);Se(()=>l.current,[]);const H=Se((ae=null)=>{l.current=ae},[]),M=Se(()=>{s()&&E({maxScroll:uv()})},[s,E]);ZS({droppableId:f,type:p,mode:m,direction:x,isDropDisabled:y,isCombineEnabled:N,ignoreContainerClipping:g,getDroppableRef:V});const z=_e(()=>Ne.createElement(r4,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:ae,data:k,animate:O})=>Ne.createElement(n4,{placeholder:k,onClose:ae,innerRef:H,animate:O,contextId:o,onTransitionEnd:M})),[o,M,t.placeholder,t.shouldAnimatePlaceholder,H]),R=_e(()=>({innerRef:B,placeholder:z,droppableProps:{"data-rfd-droppable-id":f,"data-rfd-droppable-context-id":o}}),[o,f,z,B]),L=D?D.dragging.draggableId:null,J=_e(()=>({droppableId:f,type:p,isUsingCloneFor:L}),[f,L,p]);function ne(){if(!D)return null;const{dragging:ae,render:k}=D,O=Ne.createElement(Av,{draggableId:ae.draggableId,index:ae.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(G,oe)=>k(G,oe,ae));return r1.createPortal(O,$())}return Ne.createElement(vd.Provider,{value:J},d(R,S),ne())};function s4(){return document.body||fe(),document.body}const zm={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:s4},Tv=t=>{let r={...t},o;for(o in zm)t[o]===void 0&&(r={...r,[o]:zm[o]});return r},uu=(t,r)=>t===r.droppable.type,Vm=(t,r)=>r.draggables[t.draggable.id],i4=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r={...t,shouldAnimatePlaceholder:!1},o=ht(l=>({draggableId:l.id,type:l.type,source:{index:l.index,droppableId:l.droppableId}})),s=ht((l,d,f,p,m,x)=>{const g=m.descriptor.id;if(m.descriptor.droppableId===l){const S=x?{render:x,dragging:o(m.descriptor)}:null,D={isDraggingOver:f,draggingOverWith:f?g:null,draggingFromThisWith:g,isUsingPlaceholder:!0};return{placeholder:m.placeholder,shouldAnimatePlaceholder:!1,snapshot:D,useClone:S}}if(!d)return r;if(!p)return t;const N={isDraggingOver:f,draggingOverWith:g,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:m.placeholder,shouldAnimatePlaceholder:!0,snapshot:N,useClone:null}});return(l,d)=>{const f=Tv(d),p=f.droppableId,m=f.type,x=!f.isDropDisabled,g=f.renderClone;if(Bs(l)){const y=l.critical;if(!uu(m,y))return r;const N=Vm(y,l.dimensions),S=Jt(l.impact)===p;return s(p,x,S,S,N,g)}if(l.phase==="DROP_ANIMATING"){const y=l.completed;if(!uu(m,y.critical))return r;const N=Vm(y.critical,l.dimensions);return s(p,x,Dv(y.result)===p,Jt(y.impact)===p,N,g)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){const y=l.completed;if(!uu(m,y.critical))return r;const N=Jt(y.impact)===p,S=!!(y.impact.at&&y.impact.at.type==="COMBINE"),D=y.critical.droppable.id===p;return N?S?t:r:D?t:r}return r}},a4={updateViewportMaxScroll:y2},Mv=Pg(i4,a4,(t,r,o)=>({...Tv(o),...t,...r}),{context:hd,areStatePropsEqual:Ev})(o4);function l4(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return b.useMemo(()=>s=>{r.forEach(a=>a(s))},r)}const $a=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Oo(t){const r=Object.prototype.toString.call(t);return r==="[object Window]"||r==="[object global]"}function xd(t){return"nodeType"in t}function Ht(t){var r,o;return t?Oo(t)?t:xd(t)&&(r=(o=t.ownerDocument)==null?void 0:o.defaultView)!=null?r:window:window}function yd(t){const{Document:r}=Ht(t);return t instanceof r}function Ws(t){return Oo(t)?!1:t instanceof Ht(t).HTMLElement}function Ov(t){return t instanceof Ht(t).SVGElement}function _o(t){return t?Oo(t)?t.document:xd(t)?yd(t)?t:Ws(t)||Ov(t)?t.ownerDocument:document:document:document}const Bn=$a?b.useLayoutEffect:b.useEffect;function bd(t){const r=b.useRef(t);return Bn(()=>{r.current=t}),b.useCallback(function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return r.current==null?void 0:r.current(...s)},[])}function c4(){const t=b.useRef(null),r=b.useCallback((s,a)=>{t.current=setInterval(s,a)},[]),o=b.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[r,o]}function Fs(t,r){r===void 0&&(r=[t]);const o=b.useRef(t);return Bn(()=>{o.current!==t&&(o.current=t)},r),o}function qs(t,r){const o=b.useRef();return b.useMemo(()=>{const s=t(o.current);return o.current=s,s},[...r])}function Sa(t){const r=bd(t),o=b.useRef(null),s=b.useCallback(a=>{a!==o.current&&r?.(a,o.current),o.current=a},[]);return[o,s]}function ku(t){const r=b.useRef();return b.useEffect(()=>{r.current=t},[t]),r.current}let du={};function Ks(t,r){return b.useMemo(()=>{if(r)return r;const o=du[t]==null?0:du[t]+1;return du[t]=o,t+"-"+o},[t,r])}function _v(t){return function(r){for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];return s.reduce((l,d)=>{const f=Object.entries(d);for(const[p,m]of f){const x=l[p];x!=null&&(l[p]=x+t*m)}return l},{...r})}}const Eo=_v(1),$s=_v(-1);function u4(t){return"clientX"in t&&"clientY"in t}function wd(t){if(!t)return!1;const{KeyboardEvent:r}=Ht(t.target);return r&&t instanceof r}function d4(t){if(!t)return!1;const{TouchEvent:r}=Ht(t.target);return r&&t instanceof r}function Iu(t){if(d4(t)){if(t.touches&&t.touches.length){const{clientX:r,clientY:o}=t.touches[0];return{x:r,y:o}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:r,clientY:o}=t.changedTouches[0];return{x:r,y:o}}}return u4(t)?{x:t.clientX,y:t.clientY}:null}const zs=Object.freeze({Translate:{toString(t){if(!t)return;const{x:r,y:o}=t;return"translate3d("+(r?Math.round(r):0)+"px, "+(o?Math.round(o):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:r,scaleY:o}=t;return"scaleX("+r+") scaleY("+o+")"}},Transform:{toString(t){if(t)return[zs.Translate.toString(t),zs.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:r,duration:o,easing:s}=t;return r+" "+o+"ms "+s}}}),Hm="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function f4(t){return t.matches(Hm)?t:t.querySelector(Hm)}const p4={display:"none"};function h4(t){let{id:r,value:o}=t;return Ne.createElement("div",{id:r,style:p4},o)}function m4(t){let{id:r,announcement:o,ariaLiveType:s="assertive"}=t;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ne.createElement("div",{id:r,style:a,role:"status","aria-live":s,"aria-atomic":!0},o)}function g4(){const[t,r]=b.useState("");return{announce:b.useCallback(s=>{s!=null&&r(s)},[]),announcement:t}}const Lv=b.createContext(null);function v4(t){const r=b.useContext(Lv);b.useEffect(()=>{if(!r)throw new Error("useDndMonitor must be used within a children of <DndContext>");return r(t)},[t,r])}function x4(){const[t]=b.useState(()=>new Set),r=b.useCallback(s=>(t.add(s),()=>t.delete(s)),[t]);return[b.useCallback(s=>{let{type:a,event:l}=s;t.forEach(d=>{var f;return(f=d[a])==null?void 0:f.call(d,l)})},[t]),r]}const y4={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},b4={onDragStart(t){let{active:r}=t;return"Picked up draggable item "+r.id+"."},onDragOver(t){let{active:r,over:o}=t;return o?"Draggable item "+r.id+" was moved over droppable area "+o.id+".":"Draggable item "+r.id+" is no longer over a droppable area."},onDragEnd(t){let{active:r,over:o}=t;return o?"Draggable item "+r.id+" was dropped over droppable area "+o.id:"Draggable item "+r.id+" was dropped."},onDragCancel(t){let{active:r}=t;return"Dragging was cancelled. Draggable item "+r.id+" was dropped."}};function w4(t){let{announcements:r=b4,container:o,hiddenTextDescribedById:s,screenReaderInstructions:a=y4}=t;const{announce:l,announcement:d}=g4(),f=Ks("DndLiveRegion"),[p,m]=b.useState(!1);if(b.useEffect(()=>{m(!0)},[]),v4(b.useMemo(()=>({onDragStart(g){let{active:y}=g;l(r.onDragStart({active:y}))},onDragMove(g){let{active:y,over:N}=g;r.onDragMove&&l(r.onDragMove({active:y,over:N}))},onDragOver(g){let{active:y,over:N}=g;l(r.onDragOver({active:y,over:N}))},onDragEnd(g){let{active:y,over:N}=g;l(r.onDragEnd({active:y,over:N}))},onDragCancel(g){let{active:y,over:N}=g;l(r.onDragCancel({active:y,over:N}))}}),[l,r])),!p)return null;const x=Ne.createElement(Ne.Fragment,null,Ne.createElement(h4,{id:s,value:a.draggable}),Ne.createElement(m4,{id:f,announcement:d}));return o?Zn.createPortal(x,o):x}var at;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(at||(at={}));function Ea(){}function fu(t,r){return b.useMemo(()=>({sensor:t,options:r??{}}),[t,r])}function N4(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return b.useMemo(()=>[...r].filter(s=>s!=null),[...r])}const Dn=Object.freeze({x:0,y:0});function Bv(t,r){return Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))}function Fv(t,r){let{data:{value:o}}=t,{data:{value:s}}=r;return o-s}function C4(t,r){let{data:{value:o}}=t,{data:{value:s}}=r;return s-o}function Gm(t){let{left:r,top:o,height:s,width:a}=t;return[{x:r,y:o},{x:r+a,y:o},{x:r,y:o+s},{x:r+a,y:o+s}]}function $v(t,r){if(!t||t.length===0)return null;const[o]=t;return o[r]}function Um(t,r,o){return r===void 0&&(r=t.left),o===void 0&&(o=t.top),{x:r+t.width*.5,y:o+t.height*.5}}const S4=t=>{let{collisionRect:r,droppableRects:o,droppableContainers:s}=t;const a=Um(r,r.left,r.top),l=[];for(const d of s){const{id:f}=d,p=o.get(f);if(p){const m=Bv(Um(p),a);l.push({id:f,data:{droppableContainer:d,value:m}})}}return l.sort(Fv)},E4=t=>{let{collisionRect:r,droppableRects:o,droppableContainers:s}=t;const a=Gm(r),l=[];for(const d of s){const{id:f}=d,p=o.get(f);if(p){const m=Gm(p),x=a.reduce((y,N,S)=>y+Bv(m[S],N),0),g=Number((x/4).toFixed(4));l.push({id:f,data:{droppableContainer:d,value:g}})}}return l.sort(Fv)};function D4(t,r){const o=Math.max(r.top,t.top),s=Math.max(r.left,t.left),a=Math.min(r.left+r.width,t.left+t.width),l=Math.min(r.top+r.height,t.top+t.height),d=a-s,f=l-o;if(s<a&&o<l){const p=r.width*r.height,m=t.width*t.height,x=d*f,g=x/(p+m-x);return Number(g.toFixed(4))}return 0}const j4=t=>{let{collisionRect:r,droppableRects:o,droppableContainers:s}=t;const a=[];for(const l of s){const{id:d}=l,f=o.get(d);if(f){const p=D4(f,r);p>0&&a.push({id:d,data:{droppableContainer:l,value:p}})}}return a.sort(C4)};function A4(t,r,o){return{...t,scaleX:r&&o?r.width/o.width:1,scaleY:r&&o?r.height/o.height:1}}function zv(t,r){return t&&r?{x:t.left-r.left,y:t.top-r.top}:Dn}function P4(t){return function(o){for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return a.reduce((d,f)=>({...d,top:d.top+t*f.y,bottom:d.bottom+t*f.y,left:d.left+t*f.x,right:d.right+t*f.x}),{...o})}}const R4=P4(1);function k4(t){if(t.startsWith("matrix3d(")){const r=t.slice(9,-1).split(/, /);return{x:+r[12],y:+r[13],scaleX:+r[0],scaleY:+r[5]}}else if(t.startsWith("matrix(")){const r=t.slice(7,-1).split(/, /);return{x:+r[4],y:+r[5],scaleX:+r[0],scaleY:+r[3]}}return null}function I4(t,r,o){const s=k4(r);if(!s)return t;const{scaleX:a,scaleY:l,x:d,y:f}=s,p=t.left-d-(1-a)*parseFloat(o),m=t.top-f-(1-l)*parseFloat(o.slice(o.indexOf(" ")+1)),x=a?t.width/a:t.width,g=l?t.height/l:t.height;return{width:x,height:g,top:m,right:p+x,bottom:m+g,left:p}}const T4={ignoreTransform:!1};function Lo(t,r){r===void 0&&(r=T4);let o=t.getBoundingClientRect();if(r.ignoreTransform){const{transform:m,transformOrigin:x}=Ht(t).getComputedStyle(t);m&&(o=I4(o,m,x))}const{top:s,left:a,width:l,height:d,bottom:f,right:p}=o;return{top:s,left:a,width:l,height:d,bottom:f,right:p}}function Wm(t){return Lo(t,{ignoreTransform:!0})}function M4(t){const r=t.innerWidth,o=t.innerHeight;return{top:0,left:0,right:r,bottom:o,width:r,height:o}}function O4(t,r){return r===void 0&&(r=Ht(t).getComputedStyle(t)),r.position==="fixed"}function _4(t,r){r===void 0&&(r=Ht(t).getComputedStyle(t));const o=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const l=r[a];return typeof l=="string"?o.test(l):!1})}function za(t,r){const o=[];function s(a){if(r!=null&&o.length>=r||!a)return o;if(yd(a)&&a.scrollingElement!=null&&!o.includes(a.scrollingElement))return o.push(a.scrollingElement),o;if(!Ws(a)||Ov(a)||o.includes(a))return o;const l=Ht(t).getComputedStyle(a);return a!==t&&_4(a,l)&&o.push(a),O4(a,l)?o:s(a.parentNode)}return t?s(t):o}function Vv(t){const[r]=za(t,1);return r??null}function pu(t){return!$a||!t?null:Oo(t)?t:xd(t)?yd(t)||t===_o(t).scrollingElement?window:Ws(t)?t:null:null}function Hv(t){return Oo(t)?t.scrollX:t.scrollLeft}function Gv(t){return Oo(t)?t.scrollY:t.scrollTop}function Tu(t){return{x:Hv(t),y:Gv(t)}}var pt;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(pt||(pt={}));function Uv(t){return!$a||!t?!1:t===document.scrollingElement}function Wv(t){const r={x:0,y:0},o=Uv(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},s={x:t.scrollWidth-o.width,y:t.scrollHeight-o.height},a=t.scrollTop<=r.y,l=t.scrollLeft<=r.x,d=t.scrollTop>=s.y,f=t.scrollLeft>=s.x;return{isTop:a,isLeft:l,isBottom:d,isRight:f,maxScroll:s,minScroll:r}}const L4={x:.2,y:.2};function B4(t,r,o,s,a){let{top:l,left:d,right:f,bottom:p}=o;s===void 0&&(s=10),a===void 0&&(a=L4);const{isTop:m,isBottom:x,isLeft:g,isRight:y}=Wv(t),N={x:0,y:0},S={x:0,y:0},D={height:r.height*a.y,width:r.width*a.x};return!m&&l<=r.top+D.height?(N.y=pt.Backward,S.y=s*Math.abs((r.top+D.height-l)/D.height)):!x&&p>=r.bottom-D.height&&(N.y=pt.Forward,S.y=s*Math.abs((r.bottom-D.height-p)/D.height)),!y&&f>=r.right-D.width?(N.x=pt.Forward,S.x=s*Math.abs((r.right-D.width-f)/D.width)):!g&&d<=r.left+D.width&&(N.x=pt.Backward,S.x=s*Math.abs((r.left+D.width-d)/D.width)),{direction:N,speed:S}}function F4(t){if(t===document.scrollingElement){const{innerWidth:l,innerHeight:d}=window;return{top:0,left:0,right:l,bottom:d,width:l,height:d}}const{top:r,left:o,right:s,bottom:a}=t.getBoundingClientRect();return{top:r,left:o,right:s,bottom:a,width:t.clientWidth,height:t.clientHeight}}function qv(t){return t.reduce((r,o)=>Eo(r,Tu(o)),Dn)}function $4(t){return t.reduce((r,o)=>r+Hv(o),0)}function z4(t){return t.reduce((r,o)=>r+Gv(o),0)}function V4(t,r){if(r===void 0&&(r=Lo),!t)return;const{top:o,left:s,bottom:a,right:l}=r(t);Vv(t)&&(a<=0||l<=0||o>=window.innerHeight||s>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const H4=[["x",["left","right"],$4],["y",["top","bottom"],z4]];class Nd{constructor(r,o){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=za(o),a=qv(s);this.rect={...r},this.width=r.width,this.height=r.height;for(const[l,d,f]of H4)for(const p of d)Object.defineProperty(this,p,{get:()=>{const m=f(s),x=a[l]-m;return this.rect[p]+x},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ds{constructor(r){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(o=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...o)})},this.target=r}add(r,o,s){var a;(a=this.target)==null||a.addEventListener(r,o,s),this.listeners.push([r,o,s])}}function G4(t){const{EventTarget:r}=Ht(t);return t instanceof r?t:_o(t)}function hu(t,r){const o=Math.abs(t.x),s=Math.abs(t.y);return typeof r=="number"?Math.sqrt(o**2+s**2)>r:"x"in r&&"y"in r?o>r.x&&s>r.y:"x"in r?o>r.x:"y"in r?s>r.y:!1}var fn;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(fn||(fn={}));function qm(t){t.preventDefault()}function U4(t){t.stopPropagation()}var Oe;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Oe||(Oe={}));const Kv={start:[Oe.Space,Oe.Enter],cancel:[Oe.Esc],end:[Oe.Space,Oe.Enter,Oe.Tab]},W4=(t,r)=>{let{currentCoordinates:o}=r;switch(t.code){case Oe.Right:return{...o,x:o.x+25};case Oe.Left:return{...o,x:o.x-25};case Oe.Down:return{...o,y:o.y+25};case Oe.Up:return{...o,y:o.y-25}}};class Cd{constructor(r){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=r;const{event:{target:o}}=r;this.props=r,this.listeners=new Ds(_o(o)),this.windowListeners=new Ds(Ht(o)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(fn.Resize,this.handleCancel),this.windowListeners.add(fn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(fn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:r,onStart:o}=this.props,s=r.node.current;s&&V4(s),o(Dn)}handleKeyDown(r){if(wd(r)){const{active:o,context:s,options:a}=this.props,{keyboardCodes:l=Kv,coordinateGetter:d=W4,scrollBehavior:f="smooth"}=a,{code:p}=r;if(l.end.includes(p)){this.handleEnd(r);return}if(l.cancel.includes(p)){this.handleCancel(r);return}const{collisionRect:m}=s.current,x=m?{x:m.left,y:m.top}:Dn;this.referenceCoordinates||(this.referenceCoordinates=x);const g=d(r,{active:o,context:s.current,currentCoordinates:x});if(g){const y=$s(g,x),N={x:0,y:0},{scrollableAncestors:S}=s.current;for(const D of S){const E=r.code,{isTop:$,isRight:V,isLeft:B,isBottom:H,maxScroll:M,minScroll:z}=Wv(D),R=F4(D),L={x:Math.min(E===Oe.Right?R.right-R.width/2:R.right,Math.max(E===Oe.Right?R.left:R.left+R.width/2,g.x)),y:Math.min(E===Oe.Down?R.bottom-R.height/2:R.bottom,Math.max(E===Oe.Down?R.top:R.top+R.height/2,g.y))},J=E===Oe.Right&&!V||E===Oe.Left&&!B,ne=E===Oe.Down&&!H||E===Oe.Up&&!$;if(J&&L.x!==g.x){const ae=D.scrollLeft+y.x,k=E===Oe.Right&&ae<=M.x||E===Oe.Left&&ae>=z.x;if(k&&!y.y){D.scrollTo({left:ae,behavior:f});return}k?N.x=D.scrollLeft-ae:N.x=E===Oe.Right?D.scrollLeft-M.x:D.scrollLeft-z.x,N.x&&D.scrollBy({left:-N.x,behavior:f});break}else if(ne&&L.y!==g.y){const ae=D.scrollTop+y.y,k=E===Oe.Down&&ae<=M.y||E===Oe.Up&&ae>=z.y;if(k&&!y.x){D.scrollTo({top:ae,behavior:f});return}k?N.y=D.scrollTop-ae:N.y=E===Oe.Down?D.scrollTop-M.y:D.scrollTop-z.y,N.y&&D.scrollBy({top:-N.y,behavior:f});break}}this.handleMove(r,Eo($s(g,this.referenceCoordinates),N))}}}handleMove(r,o){const{onMove:s}=this.props;r.preventDefault(),s(o)}handleEnd(r){const{onEnd:o}=this.props;r.preventDefault(),this.detach(),o()}handleCancel(r){const{onCancel:o}=this.props;r.preventDefault(),this.detach(),o()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Cd.activators=[{eventName:"onKeyDown",handler:(t,r,o)=>{let{keyboardCodes:s=Kv,onActivation:a}=r,{active:l}=o;const{code:d}=t.nativeEvent;if(s.start.includes(d)){const f=l.activatorNode.current;return f&&t.target!==f?!1:(t.preventDefault(),a?.({event:t.nativeEvent}),!0)}return!1}}];function Km(t){return!!(t&&"distance"in t)}function Ym(t){return!!(t&&"delay"in t)}class Sd{constructor(r,o,s){var a;s===void 0&&(s=G4(r.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=r,this.events=o;const{event:l}=r,{target:d}=l;this.props=r,this.events=o,this.document=_o(d),this.documentListeners=new Ds(this.document),this.listeners=new Ds(s),this.windowListeners=new Ds(Ht(d)),this.initialCoordinates=(a=Iu(l))!=null?a:Dn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:r,props:{options:{activationConstraint:o,bypassActivationConstraint:s}}}=this;if(this.listeners.add(r.move.name,this.handleMove,{passive:!1}),this.listeners.add(r.end.name,this.handleEnd),r.cancel&&this.listeners.add(r.cancel.name,this.handleCancel),this.windowListeners.add(fn.Resize,this.handleCancel),this.windowListeners.add(fn.DragStart,qm),this.windowListeners.add(fn.VisibilityChange,this.handleCancel),this.windowListeners.add(fn.ContextMenu,qm),this.documentListeners.add(fn.Keydown,this.handleKeydown),o){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Ym(o)){this.timeoutId=setTimeout(this.handleStart,o.delay),this.handlePending(o);return}if(Km(o)){this.handlePending(o);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(r,o){const{active:s,onPending:a}=this.props;a(s,r,this.initialCoordinates,o)}handleStart(){const{initialCoordinates:r}=this,{onStart:o}=this.props;r&&(this.activated=!0,this.documentListeners.add(fn.Click,U4,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(fn.SelectionChange,this.removeTextSelection),o(r))}handleMove(r){var o;const{activated:s,initialCoordinates:a,props:l}=this,{onMove:d,options:{activationConstraint:f}}=l;if(!a)return;const p=(o=Iu(r))!=null?o:Dn,m=$s(a,p);if(!s&&f){if(Km(f)){if(f.tolerance!=null&&hu(m,f.tolerance))return this.handleCancel();if(hu(m,f.distance))return this.handleStart()}if(Ym(f)&&hu(m,f.tolerance))return this.handleCancel();this.handlePending(f,m);return}r.cancelable&&r.preventDefault(),d(p)}handleEnd(){const{onAbort:r,onEnd:o}=this.props;this.detach(),this.activated||r(this.props.active),o()}handleCancel(){const{onAbort:r,onCancel:o}=this.props;this.detach(),this.activated||r(this.props.active),o()}handleKeydown(r){r.code===Oe.Esc&&this.handleCancel()}removeTextSelection(){var r;(r=this.document.getSelection())==null||r.removeAllRanges()}}const q4={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ed extends Sd{constructor(r){const{event:o}=r,s=_o(o.target);super(r,q4,s)}}Ed.activators=[{eventName:"onPointerDown",handler:(t,r)=>{let{nativeEvent:o}=t,{onActivation:s}=r;return!o.isPrimary||o.button!==0?!1:(s?.({event:o}),!0)}}];const K4={move:{name:"mousemove"},end:{name:"mouseup"}};var Mu;(function(t){t[t.RightClick=2]="RightClick"})(Mu||(Mu={}));class Y4 extends Sd{constructor(r){super(r,K4,_o(r.event.target))}}Y4.activators=[{eventName:"onMouseDown",handler:(t,r)=>{let{nativeEvent:o}=t,{onActivation:s}=r;return o.button===Mu.RightClick?!1:(s?.({event:o}),!0)}}];const mu={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Yv extends Sd{constructor(r){super(r,mu)}static setup(){return window.addEventListener(mu.move.name,r,{capture:!1,passive:!1}),function(){window.removeEventListener(mu.move.name,r)};function r(){}}}Yv.activators=[{eventName:"onTouchStart",handler:(t,r)=>{let{nativeEvent:o}=t,{onActivation:s}=r;const{touches:a}=o;return a.length>1?!1:(s?.({event:o}),!0)}}];var js;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(js||(js={}));var Da;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Da||(Da={}));function Q4(t){let{acceleration:r,activator:o=js.Pointer,canScroll:s,draggingRect:a,enabled:l,interval:d=5,order:f=Da.TreeOrder,pointerCoordinates:p,scrollableAncestors:m,scrollableAncestorRects:x,delta:g,threshold:y}=t;const N=Z4({delta:g,disabled:!l}),[S,D]=c4(),E=b.useRef({x:0,y:0}),$=b.useRef({x:0,y:0}),V=b.useMemo(()=>{switch(o){case js.Pointer:return p?{top:p.y,bottom:p.y,left:p.x,right:p.x}:null;case js.DraggableRect:return a}},[o,a,p]),B=b.useRef(null),H=b.useCallback(()=>{const z=B.current;if(!z)return;const R=E.current.x*$.current.x,L=E.current.y*$.current.y;z.scrollBy(R,L)},[]),M=b.useMemo(()=>f===Da.TreeOrder?[...m].reverse():m,[f,m]);b.useEffect(()=>{if(!l||!m.length||!V){D();return}for(const z of M){if(s?.(z)===!1)continue;const R=m.indexOf(z),L=x[R];if(!L)continue;const{direction:J,speed:ne}=B4(z,L,V,r,y);for(const ae of["x","y"])N[ae][J[ae]]||(ne[ae]=0,J[ae]=0);if(ne.x>0||ne.y>0){D(),B.current=z,S(H,d),E.current=ne,$.current=J;return}}E.current={x:0,y:0},$.current={x:0,y:0},D()},[r,H,s,D,l,d,JSON.stringify(V),JSON.stringify(N),S,m,M,x,JSON.stringify(y)])}const X4={x:{[pt.Backward]:!1,[pt.Forward]:!1},y:{[pt.Backward]:!1,[pt.Forward]:!1}};function Z4(t){let{delta:r,disabled:o}=t;const s=ku(r);return qs(a=>{if(o||!s||!a)return X4;const l={x:Math.sign(r.x-s.x),y:Math.sign(r.y-s.y)};return{x:{[pt.Backward]:a.x[pt.Backward]||l.x===-1,[pt.Forward]:a.x[pt.Forward]||l.x===1},y:{[pt.Backward]:a.y[pt.Backward]||l.y===-1,[pt.Forward]:a.y[pt.Forward]||l.y===1}}},[o,r,s])}function J4(t,r){const o=r!=null?t.get(r):void 0,s=o?o.node.current:null;return qs(a=>{var l;return r==null?null:(l=s??a)!=null?l:null},[s,r])}function e5(t,r){return b.useMemo(()=>t.reduce((o,s)=>{const{sensor:a}=s,l=a.activators.map(d=>({eventName:d.eventName,handler:r(d.handler,s)}));return[...o,...l]},[]),[t,r])}var Vs;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Vs||(Vs={}));var Ou;(function(t){t.Optimized="optimized"})(Ou||(Ou={}));const Qm=new Map;function t5(t,r){let{dragging:o,dependencies:s,config:a}=r;const[l,d]=b.useState(null),{frequency:f,measure:p,strategy:m}=a,x=b.useRef(t),g=E(),y=Fs(g),N=b.useCallback(function($){$===void 0&&($=[]),!y.current&&d(V=>V===null?$:V.concat($.filter(B=>!V.includes(B))))},[y]),S=b.useRef(null),D=qs($=>{if(g&&!o)return Qm;if(!$||$===Qm||x.current!==t||l!=null){const V=new Map;for(let B of t){if(!B)continue;if(l&&l.length>0&&!l.includes(B.id)&&B.rect.current){V.set(B.id,B.rect.current);continue}const H=B.node.current,M=H?new Nd(p(H),H):null;B.rect.current=M,M&&V.set(B.id,M)}return V}return $},[t,l,o,g,p]);return b.useEffect(()=>{x.current=t},[t]),b.useEffect(()=>{g||N()},[o,g]),b.useEffect(()=>{l&&l.length>0&&d(null)},[JSON.stringify(l)]),b.useEffect(()=>{g||typeof f!="number"||S.current!==null||(S.current=setTimeout(()=>{N(),S.current=null},f))},[f,g,N,...s]),{droppableRects:D,measureDroppableContainers:N,measuringScheduled:l!=null};function E(){switch(m){case Vs.Always:return!1;case Vs.BeforeDragging:return o;default:return!o}}}function Qv(t,r){return qs(o=>t?o||(typeof r=="function"?r(t):t):null,[r,t])}function n5(t,r){return Qv(t,r)}function r5(t){let{callback:r,disabled:o}=t;const s=bd(r),a=b.useMemo(()=>{if(o||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(s)},[s,o]);return b.useEffect(()=>()=>a?.disconnect(),[a]),a}function Va(t){let{callback:r,disabled:o}=t;const s=bd(r),a=b.useMemo(()=>{if(o||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(s)},[o]);return b.useEffect(()=>()=>a?.disconnect(),[a]),a}function o5(t){return new Nd(Lo(t),t)}function Xm(t,r,o){r===void 0&&(r=o5);const[s,a]=b.useState(null);function l(){a(p=>{if(!t)return null;if(t.isConnected===!1){var m;return(m=p??o)!=null?m:null}const x=r(t);return JSON.stringify(p)===JSON.stringify(x)?p:x})}const d=r5({callback(p){if(t)for(const m of p){const{type:x,target:g}=m;if(x==="childList"&&g instanceof HTMLElement&&g.contains(t)){l();break}}}}),f=Va({callback:l});return Bn(()=>{l(),t?(f?.observe(t),d?.observe(document.body,{childList:!0,subtree:!0})):(f?.disconnect(),d?.disconnect())},[t]),s}function s5(t){const r=Qv(t);return zv(t,r)}const Zm=[];function i5(t){const r=b.useRef(t),o=qs(s=>t?s&&s!==Zm&&t&&r.current&&t.parentNode===r.current.parentNode?s:za(t):Zm,[t]);return b.useEffect(()=>{r.current=t},[t]),o}function a5(t){const[r,o]=b.useState(null),s=b.useRef(t),a=b.useCallback(l=>{const d=pu(l.target);d&&o(f=>f?(f.set(d,Tu(d)),new Map(f)):null)},[]);return b.useEffect(()=>{const l=s.current;if(t!==l){d(l);const f=t.map(p=>{const m=pu(p);return m?(m.addEventListener("scroll",a,{passive:!0}),[m,Tu(m)]):null}).filter(p=>p!=null);o(f.length?new Map(f):null),s.current=t}return()=>{d(t),d(l)};function d(f){f.forEach(p=>{const m=pu(p);m?.removeEventListener("scroll",a)})}},[a,t]),b.useMemo(()=>t.length?r?Array.from(r.values()).reduce((l,d)=>Eo(l,d),Dn):qv(t):Dn,[t,r])}function Jm(t,r){r===void 0&&(r=[]);const o=b.useRef(null);return b.useEffect(()=>{o.current=null},r),b.useEffect(()=>{const s=t!==Dn;s&&!o.current&&(o.current=t),!s&&o.current&&(o.current=null)},[t]),o.current?$s(t,o.current):Dn}function l5(t){b.useEffect(()=>{if(!$a)return;const r=t.map(o=>{let{sensor:s}=o;return s.setup==null?void 0:s.setup()});return()=>{for(const o of r)o?.()}},t.map(r=>{let{sensor:o}=r;return o}))}function c5(t,r){return b.useMemo(()=>t.reduce((o,s)=>{let{eventName:a,handler:l}=s;return o[a]=d=>{l(d,r)},o},{}),[t,r])}function Xv(t){return b.useMemo(()=>t?M4(t):null,[t])}const eg=[];function u5(t,r){r===void 0&&(r=Lo);const[o]=t,s=Xv(o?Ht(o):null),[a,l]=b.useState(eg);function d(){l(()=>t.length?t.map(p=>Uv(p)?s:new Nd(r(p),p)):eg)}const f=Va({callback:d});return Bn(()=>{f?.disconnect(),d(),t.forEach(p=>f?.observe(p))},[t]),a}function d5(t){if(!t)return null;if(t.children.length>1)return t;const r=t.children[0];return Ws(r)?r:t}function f5(t){let{measure:r}=t;const[o,s]=b.useState(null),a=b.useCallback(m=>{for(const{target:x}of m)if(Ws(x)){s(g=>{const y=r(x);return g?{...g,width:y.width,height:y.height}:y});break}},[r]),l=Va({callback:a}),d=b.useCallback(m=>{const x=d5(m);l?.disconnect(),x&&l?.observe(x),s(x?r(x):null)},[r,l]),[f,p]=Sa(d);return b.useMemo(()=>({nodeRef:f,rect:o,setRef:p}),[o,f,p])}const p5=[{sensor:Ed,options:{}},{sensor:Cd,options:{}}],h5={current:{}},ca={draggable:{measure:Wm},droppable:{measure:Wm,strategy:Vs.WhileDragging,frequency:Ou.Optimized},dragOverlay:{measure:Lo}};class As extends Map{get(r){var o;return r!=null&&(o=super.get(r))!=null?o:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(r=>{let{disabled:o}=r;return!o})}getNodeFor(r){var o,s;return(o=(s=this.get(r))==null?void 0:s.node.current)!=null?o:void 0}}const m5={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new As,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Ea},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ca,measureDroppableContainers:Ea,windowRect:null,measuringScheduled:!1},g5={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Ea,draggableNodes:new Map,over:null,measureDroppableContainers:Ea},Ha=b.createContext(g5),Zv=b.createContext(m5);function v5(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new As}}}function x5(t,r){switch(r.type){case at.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:r.initialCoordinates,active:r.active}};case at.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:r.coordinates.x-t.draggable.initialCoordinates.x,y:r.coordinates.y-t.draggable.initialCoordinates.y}}};case at.DragEnd:case at.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case at.RegisterDroppable:{const{element:o}=r,{id:s}=o,a=new As(t.droppable.containers);return a.set(s,o),{...t,droppable:{...t.droppable,containers:a}}}case at.SetDroppableDisabled:{const{id:o,key:s,disabled:a}=r,l=t.droppable.containers.get(o);if(!l||s!==l.key)return t;const d=new As(t.droppable.containers);return d.set(o,{...l,disabled:a}),{...t,droppable:{...t.droppable,containers:d}}}case at.UnregisterDroppable:{const{id:o,key:s}=r,a=t.droppable.containers.get(o);if(!a||s!==a.key)return t;const l=new As(t.droppable.containers);return l.delete(o),{...t,droppable:{...t.droppable,containers:l}}}default:return t}}function y5(t){let{disabled:r}=t;const{active:o,activatorEvent:s,draggableNodes:a}=b.useContext(Ha),l=ku(s),d=ku(o?.id);return b.useEffect(()=>{if(!r&&!s&&l&&d!=null){if(!wd(l)||document.activeElement===l.target)return;const f=a.get(d);if(!f)return;const{activatorNode:p,node:m}=f;if(!p.current&&!m.current)return;requestAnimationFrame(()=>{for(const x of[p.current,m.current]){if(!x)continue;const g=f4(x);if(g){g.focus();break}}})}},[s,r,a,d,l]),null}function b5(t,r){let{transform:o,...s}=r;return t!=null&&t.length?t.reduce((a,l)=>l({transform:a,...s}),o):o}function w5(t){return b.useMemo(()=>({draggable:{...ca.draggable,...t?.draggable},droppable:{...ca.droppable,...t?.droppable},dragOverlay:{...ca.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function N5(t){let{activeNode:r,measure:o,initialRect:s,config:a=!0}=t;const l=b.useRef(!1),{x:d,y:f}=typeof a=="boolean"?{x:a,y:a}:a;Bn(()=>{if(!d&&!f||!r){l.current=!1;return}if(l.current||!s)return;const m=r?.node.current;if(!m||m.isConnected===!1)return;const x=o(m),g=zv(x,s);if(d||(g.x=0),f||(g.y=0),l.current=!0,Math.abs(g.x)>0||Math.abs(g.y)>0){const y=Vv(m);y&&y.scrollBy({top:g.y,left:g.x})}},[r,d,f,s,o])}const Jv=b.createContext({...Dn,scaleX:1,scaleY:1});var Cr;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Cr||(Cr={}));const C5=b.memo(function(r){var o,s,a,l;let{id:d,accessibility:f,autoScroll:p=!0,children:m,sensors:x=p5,collisionDetection:g=j4,measuring:y,modifiers:N,...S}=r;const D=b.useReducer(x5,void 0,v5),[E,$]=D,[V,B]=x4(),[H,M]=b.useState(Cr.Uninitialized),z=H===Cr.Initialized,{draggable:{active:R,nodes:L,translate:J},droppable:{containers:ne}}=E,ae=R!=null?L.get(R):null,k=b.useRef({initial:null,translated:null}),O=b.useMemo(()=>{var _;return R!=null?{id:R,data:(_=ae?.data)!=null?_:h5,rect:k}:null},[R,ae]),G=b.useRef(null),[oe,ee]=b.useState(null),[le,Y]=b.useState(null),Z=Fs(S,Object.values(S)),Q=Ks("DndDescribedBy",d),A=b.useMemo(()=>ne.getEnabled(),[ne]),C=w5(y),{droppableRects:F,measureDroppableContainers:X,measuringScheduled:q}=t5(A,{dragging:z,dependencies:[J.x,J.y],config:C.droppable}),re=J4(L,R),we=b.useMemo(()=>le?Iu(le):null,[le]),ue=Rn(),pe=n5(re,C.draggable.measure);N5({activeNode:R!=null?L.get(R):null,config:ue.layoutShiftCompensation,initialRect:pe,measure:C.draggable.measure});const me=Xm(re,C.draggable.measure,pe),Te=Xm(re?re.parentElement:null),ve=b.useRef({activatorEvent:null,active:null,activeNode:re,collisionRect:null,collisions:null,droppableRects:F,draggableNodes:L,draggingNode:null,draggingNodeRect:null,droppableContainers:ne,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Pe=ne.getNodeFor((o=ve.current.over)==null?void 0:o.id),Me=f5({measure:C.dragOverlay.measure}),ke=(s=Me.nodeRef.current)!=null?s:re,Ge=z?(a=Me.rect)!=null?a:me:null,bt=!!(Me.nodeRef.current&&Me.rect),tn=s5(bt?null:me),nn=Xv(ke?Ht(ke):null),lt=i5(z?Pe??re:null),wt=u5(lt),jn=b5(N,{transform:{x:J.x-tn.x,y:J.y-tn.y,scaleX:1,scaleY:1},activatorEvent:le,active:O,activeNodeRect:me,containerNodeRect:Te,draggingNodeRect:Ge,over:ve.current.over,overlayNodeRect:Me.rect,scrollableAncestors:lt,scrollableAncestorRects:wt,windowRect:nn}),Pr=we?Eo(we,J):null,Rr=a5(lt),Zr=Jm(Rr),Fn=Jm(Rr,[me]),Gt=Eo(jn,Zr),Ut=Ge?R4(Ge,jn):null,An=O&&Ut?g({active:O,collisionRect:Ut,droppableRects:F,droppableContainers:A,pointerCoordinates:Pr}):null,Pn=$v(An,"id"),[Nt,Jr]=b.useState(null),eo=bt?jn:Eo(jn,Fn),to=A4(eo,(l=Nt?.rect)!=null?l:null,me),kr=b.useRef(null),er=b.useCallback((_,te)=>{let{sensor:he,options:Re}=te;if(G.current==null)return;const Be=L.get(G.current);if(!Be)return;const $e=_.nativeEvent,Qe=new he({active:G.current,activeNode:Be,event:$e,options:Re,context:ve,onAbort(He){if(!L.get(He))return;const{onDragAbort:Xe}=Z.current,Ct={id:He};Xe?.(Ct),V({type:"onDragAbort",event:Ct})},onPending(He,Ot,Xe,Ct){if(!L.get(He))return;const{onDragPending:kn}=Z.current,Wt={id:He,constraint:Ot,initialCoordinates:Xe,offset:Ct};kn?.(Wt),V({type:"onDragPending",event:Wt})},onStart(He){const Ot=G.current;if(Ot==null)return;const Xe=L.get(Ot);if(!Xe)return;const{onDragStart:Ct}=Z.current,_t={activatorEvent:$e,active:{id:Ot,data:Xe.data,rect:k}};Zn.unstable_batchedUpdates(()=>{Ct?.(_t),M(Cr.Initializing),$({type:at.DragStart,initialCoordinates:He,active:Ot}),V({type:"onDragStart",event:_t}),ee(kr.current),Y($e)})},onMove(He){$({type:at.DragMove,coordinates:He})},onEnd:Rt(at.DragEnd),onCancel:Rt(at.DragCancel)});kr.current=Qe;function Rt(He){return async function(){const{active:Xe,collisions:Ct,over:_t,scrollAdjustedTranslate:kn}=ve.current;let Wt=null;if(Xe&&kn){const{cancelDrop:Vn}=Z.current;Wt={activatorEvent:$e,active:Xe,collisions:Ct,delta:kn,over:_t},He===at.DragEnd&&typeof Vn=="function"&&await Promise.resolve(Vn(Wt))&&(He=at.DragCancel)}G.current=null,Zn.unstable_batchedUpdates(()=>{$({type:He}),M(Cr.Uninitialized),Jr(null),ee(null),Y(null),kr.current=null;const Vn=He===at.DragEnd?"onDragEnd":"onDragCancel";if(Wt){const Bo=Z.current[Vn];Bo?.(Wt),V({type:Vn,event:Wt})}})}}},[L]),$n=b.useCallback((_,te)=>(he,Re)=>{const Be=he.nativeEvent,$e=L.get(Re);if(G.current!==null||!$e||Be.dndKit||Be.defaultPrevented)return;const Qe={active:$e};_(he,te.options,Qe)===!0&&(Be.dndKit={capturedBy:te.sensor},G.current=Re,er(he,te))},[L,er]),zn=e5(x,$n);l5(x),Bn(()=>{me&&H===Cr.Initializing&&M(Cr.Initialized)},[me,H]),b.useEffect(()=>{const{onDragMove:_}=Z.current,{active:te,activatorEvent:he,collisions:Re,over:Be}=ve.current;if(!te||!he)return;const $e={active:te,activatorEvent:he,collisions:Re,delta:{x:Gt.x,y:Gt.y},over:Be};Zn.unstable_batchedUpdates(()=>{_?.($e),V({type:"onDragMove",event:$e})})},[Gt.x,Gt.y]),b.useEffect(()=>{const{active:_,activatorEvent:te,collisions:he,droppableContainers:Re,scrollAdjustedTranslate:Be}=ve.current;if(!_||G.current==null||!te||!Be)return;const{onDragOver:$e}=Z.current,Qe=Re.get(Pn),Rt=Qe&&Qe.rect.current?{id:Qe.id,rect:Qe.rect.current,data:Qe.data,disabled:Qe.disabled}:null,He={active:_,activatorEvent:te,collisions:he,delta:{x:Be.x,y:Be.y},over:Rt};Zn.unstable_batchedUpdates(()=>{Jr(Rt),$e?.(He),V({type:"onDragOver",event:He})})},[Pn]),Bn(()=>{ve.current={activatorEvent:le,active:O,activeNode:re,collisionRect:Ut,collisions:An,droppableRects:F,draggableNodes:L,draggingNode:ke,draggingNodeRect:Ge,droppableContainers:ne,over:Nt,scrollableAncestors:lt,scrollAdjustedTranslate:Gt},k.current={initial:Ge,translated:Ut}},[O,re,An,Ut,L,ke,Ge,F,ne,Nt,lt,Gt]),Q4({...ue,delta:J,draggingRect:Ut,pointerCoordinates:Pr,scrollableAncestors:lt,scrollableAncestorRects:wt});const Ir=b.useMemo(()=>({active:O,activeNode:re,activeNodeRect:me,activatorEvent:le,collisions:An,containerNodeRect:Te,dragOverlay:Me,draggableNodes:L,droppableContainers:ne,droppableRects:F,over:Nt,measureDroppableContainers:X,scrollableAncestors:lt,scrollableAncestorRects:wt,measuringConfiguration:C,measuringScheduled:q,windowRect:nn}),[O,re,me,le,An,Te,Me,L,ne,F,Nt,X,lt,wt,C,q,nn]),tr=b.useMemo(()=>({activatorEvent:le,activators:zn,active:O,activeNodeRect:me,ariaDescribedById:{draggable:Q},dispatch:$,draggableNodes:L,over:Nt,measureDroppableContainers:X}),[le,zn,O,me,$,Q,L,Nt,X]);return Ne.createElement(Lv.Provider,{value:B},Ne.createElement(Ha.Provider,{value:tr},Ne.createElement(Zv.Provider,{value:Ir},Ne.createElement(Jv.Provider,{value:to},m)),Ne.createElement(y5,{disabled:f?.restoreFocus===!1})),Ne.createElement(w4,{...f,hiddenTextDescribedById:Q}));function Rn(){const _=oe?.autoScrollEnabled===!1,te=typeof p=="object"?p.enabled===!1:p===!1,he=z&&!_&&!te;return typeof p=="object"?{...p,enabled:he}:{enabled:he}}}),S5=b.createContext(null),tg="button",E5="Draggable";function D5(t){let{id:r,data:o,disabled:s=!1,attributes:a}=t;const l=Ks(E5),{activators:d,activatorEvent:f,active:p,activeNodeRect:m,ariaDescribedById:x,draggableNodes:g,over:y}=b.useContext(Ha),{role:N=tg,roleDescription:S="draggable",tabIndex:D=0}=a??{},E=p?.id===r,$=b.useContext(E?Jv:S5),[V,B]=Sa(),[H,M]=Sa(),z=c5(d,r),R=Fs(o);Bn(()=>(g.set(r,{id:r,key:l,node:V,activatorNode:H,data:R}),()=>{const J=g.get(r);J&&J.key===l&&g.delete(r)}),[g,r]);const L=b.useMemo(()=>({role:N,tabIndex:D,"aria-disabled":s,"aria-pressed":E&&N===tg?!0:void 0,"aria-roledescription":S,"aria-describedby":x.draggable}),[s,N,D,E,S,x.draggable]);return{active:p,activatorEvent:f,activeNodeRect:m,attributes:L,isDragging:E,listeners:s?void 0:z,node:V,over:y,setNodeRef:B,setActivatorNodeRef:M,transform:$}}function j5(){return b.useContext(Zv)}const A5="Droppable",P5={timeout:25};function R5(t){let{data:r,disabled:o=!1,id:s,resizeObserverConfig:a}=t;const l=Ks(A5),{active:d,dispatch:f,over:p,measureDroppableContainers:m}=b.useContext(Ha),x=b.useRef({disabled:o}),g=b.useRef(!1),y=b.useRef(null),N=b.useRef(null),{disabled:S,updateMeasurementsFor:D,timeout:E}={...P5,...a},$=Fs(D??s),V=b.useCallback(()=>{if(!g.current){g.current=!0;return}N.current!=null&&clearTimeout(N.current),N.current=setTimeout(()=>{m(Array.isArray($.current)?$.current:[$.current]),N.current=null},E)},[E]),B=Va({callback:V,disabled:S||!d}),H=b.useCallback((L,J)=>{B&&(J&&(B.unobserve(J),g.current=!1),L&&B.observe(L))},[B]),[M,z]=Sa(H),R=Fs(r);return b.useEffect(()=>{!B||!M.current||(B.disconnect(),g.current=!1,B.observe(M.current))},[M,B]),b.useEffect(()=>(f({type:at.RegisterDroppable,element:{id:s,key:l,disabled:o,node:M,rect:y,data:R}}),()=>f({type:at.UnregisterDroppable,key:l,id:s})),[s]),b.useEffect(()=>{o!==x.current.disabled&&(f({type:at.SetDroppableDisabled,id:s,key:l,disabled:o}),x.current.disabled=o)},[s,l,o,f]),{active:d,rect:y,isOver:p?.id===s,node:M,over:p,setNodeRef:z}}function Dd(t,r,o){const s=t.slice();return s.splice(o<0?s.length+o:o,0,s.splice(r,1)[0]),s}function k5(t,r){return t.reduce((o,s,a)=>{const l=r.get(s);return l&&(o[a]=l),o},Array(t.length))}function aa(t){return t!==null&&t>=0}function I5(t,r){if(t===r)return!0;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o]!==r[o])return!1;return!0}function T5(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const jd=t=>{let{rects:r,activeIndex:o,overIndex:s,index:a}=t;const l=Dd(r,s,o),d=r[a],f=l[a];return!f||!d?null:{x:f.left-d.left,y:f.top-d.top,scaleX:f.width/d.width,scaleY:f.height/d.height}},e0="Sortable",t0=Ne.createContext({activeIndex:-1,containerId:e0,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:jd,disabled:{draggable:!1,droppable:!1}});function M5(t){let{children:r,id:o,items:s,strategy:a=jd,disabled:l=!1}=t;const{active:d,dragOverlay:f,droppableRects:p,over:m,measureDroppableContainers:x}=j5(),g=Ks(e0,o),y=f.rect!==null,N=b.useMemo(()=>s.map(z=>typeof z=="object"&&"id"in z?z.id:z),[s]),S=d!=null,D=d?N.indexOf(d.id):-1,E=m?N.indexOf(m.id):-1,$=b.useRef(N),V=!I5(N,$.current),B=E!==-1&&D===-1||V,H=T5(l);Bn(()=>{V&&S&&x(N)},[V,N,S,x]),b.useEffect(()=>{$.current=N},[N]);const M=b.useMemo(()=>({activeIndex:D,containerId:g,disabled:H,disableTransforms:B,items:N,overIndex:E,useDragOverlay:y,sortedRects:k5(N,p),strategy:a}),[D,g,H.draggable,H.droppable,B,N,E,p,y,a]);return Ne.createElement(t0.Provider,{value:M},r)}const O5=t=>{let{id:r,items:o,activeIndex:s,overIndex:a}=t;return Dd(o,s,a).indexOf(r)},_5=t=>{let{containerId:r,isSorting:o,wasDragging:s,index:a,items:l,newIndex:d,previousItems:f,previousContainerId:p,transition:m}=t;return!m||!s||f!==l&&a===d?!1:o?!0:d!==a&&r===p},L5={duration:200,easing:"ease"},n0="transform",B5=zs.Transition.toString({property:n0,duration:0,easing:"linear"}),F5={roleDescription:"sortable"};function $5(t){let{disabled:r,index:o,node:s,rect:a}=t;const[l,d]=b.useState(null),f=b.useRef(o);return Bn(()=>{if(!r&&o!==f.current&&s.current){const p=a.current;if(p){const m=Lo(s.current,{ignoreTransform:!0}),x={x:p.left-m.left,y:p.top-m.top,scaleX:p.width/m.width,scaleY:p.height/m.height};(x.x||x.y)&&d(x)}}o!==f.current&&(f.current=o)},[r,o,s,a]),b.useEffect(()=>{l&&d(null)},[l]),l}function z5(t){let{animateLayoutChanges:r=_5,attributes:o,disabled:s,data:a,getNewIndex:l=O5,id:d,strategy:f,resizeObserverConfig:p,transition:m=L5}=t;const{items:x,containerId:g,activeIndex:y,disabled:N,disableTransforms:S,sortedRects:D,overIndex:E,useDragOverlay:$,strategy:V}=b.useContext(t0),B=V5(s,N),H=x.indexOf(d),M=b.useMemo(()=>({sortable:{containerId:g,index:H,items:x},...a}),[g,a,H,x]),z=b.useMemo(()=>x.slice(x.indexOf(d)),[x,d]),{rect:R,node:L,isOver:J,setNodeRef:ne}=R5({id:d,data:M,disabled:B.droppable,resizeObserverConfig:{updateMeasurementsFor:z,...p}}),{active:ae,activatorEvent:k,activeNodeRect:O,attributes:G,setNodeRef:oe,listeners:ee,isDragging:le,over:Y,setActivatorNodeRef:Z,transform:Q}=D5({id:d,data:M,attributes:{...F5,...o},disabled:B.draggable}),A=l4(ne,oe),C=!!ae,F=C&&!S&&aa(y)&&aa(E),X=!$&&le,q=X&&F?Q:null,we=F?q??(f??V)({rects:D,activeNodeRect:O,activeIndex:y,overIndex:E,index:H}):null,ue=aa(y)&&aa(E)?l({id:d,items:x,activeIndex:y,overIndex:E}):H,pe=ae?.id,me=b.useRef({activeId:pe,items:x,newIndex:ue,containerId:g}),Te=x!==me.current.items,ve=r({active:ae,containerId:g,isDragging:le,isSorting:C,id:d,index:H,items:x,newIndex:me.current.newIndex,previousItems:me.current.items,previousContainerId:me.current.containerId,transition:m,wasDragging:me.current.activeId!=null}),Pe=$5({disabled:!ve,index:H,node:L,rect:R});return b.useEffect(()=>{C&&me.current.newIndex!==ue&&(me.current.newIndex=ue),g!==me.current.containerId&&(me.current.containerId=g),x!==me.current.items&&(me.current.items=x)},[C,ue,g,x]),b.useEffect(()=>{if(pe===me.current.activeId)return;if(pe!=null&&me.current.activeId==null){me.current.activeId=pe;return}const ke=setTimeout(()=>{me.current.activeId=pe},50);return()=>clearTimeout(ke)},[pe]),{active:ae,activeIndex:y,attributes:G,data:M,rect:R,index:H,newIndex:ue,items:x,isOver:J,isSorting:C,isDragging:le,listeners:ee,node:L,overIndex:E,over:Y,setNodeRef:A,setActivatorNodeRef:Z,setDroppableNodeRef:ne,setDraggableNodeRef:oe,transform:Pe??we,transition:Me()};function Me(){if(Pe||Te&&me.current.newIndex===H)return B5;if(!(X&&!wd(k)||!m)&&(C||ve))return zs.Transition.toString({...m,property:n0})}}function V5(t,r){var o,s;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(o=t?.draggable)!=null?o:r.draggable,droppable:(s=t?.droppable)!=null?s:r.droppable}}function ja(t){if(!t)return!1;const r=t.data.current;return!!(r&&"sortable"in r&&typeof r.sortable=="object"&&"containerId"in r.sortable&&"items"in r.sortable&&"index"in r.sortable)}const H5=[Oe.Down,Oe.Right,Oe.Up,Oe.Left],G5=(t,r)=>{let{context:{active:o,collisionRect:s,droppableRects:a,droppableContainers:l,over:d,scrollableAncestors:f}}=r;if(H5.includes(t.code)){if(t.preventDefault(),!o||!s)return;const p=[];l.getEnabled().forEach(g=>{if(!g||g!=null&&g.disabled)return;const y=a.get(g.id);if(y)switch(t.code){case Oe.Down:s.top<y.top&&p.push(g);break;case Oe.Up:s.top>y.top&&p.push(g);break;case Oe.Left:s.left>y.left&&p.push(g);break;case Oe.Right:s.left<y.left&&p.push(g);break}});const m=E4({collisionRect:s,droppableRects:a,droppableContainers:p});let x=$v(m,"id");if(x===d?.id&&m.length>1&&(x=m[1].id),x!=null){const g=l.get(o.id),y=l.get(x),N=y?a.get(y.id):null,S=y?.node.current;if(S&&N&&g&&y){const E=za(S).some((z,R)=>f[R]!==z),$=r0(g,y),V=U5(g,y),B=E||!$?{x:0,y:0}:{x:V?s.width-N.width:0,y:V?s.height-N.height:0},H={x:N.left,y:N.top};return B.x&&B.y?H:$s(H,B)}}}};function r0(t,r){return!ja(t)||!ja(r)?!1:t.data.current.sortable.containerId===r.data.current.sortable.containerId}function U5(t,r){return!ja(t)||!ja(r)||!r0(t,r)?!1:t.data.current.sortable.index<r.data.current.sortable.index}function W5(t,r,o){const s={...t};return r.top+t.y<=o.top?s.y=o.top-r.top:r.bottom+t.y>=o.top+o.height&&(s.y=o.top+o.height-r.bottom),r.left+t.x<=o.left?s.x=o.left-r.left:r.right+t.x>=o.left+o.width&&(s.x=o.left+o.width-r.right),s}const q5=t=>{let{containerNodeRect:r,draggingNodeRect:o,transform:s}=t;return!o||!r?s:W5(s,o,r)},K5=({children:t,onClick:r,onTouchStart:o,onTouchEnd:s,className:a="",variant:l="primary",size:d="md",disabled:f=!1,active:p=!1,"aria-label":m,"aria-expanded":x,type:g="button",title:y,style:N})=>{const S=`
    font-medium transition-all duration-200 rounded-md border
    focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#2a2f38]
    disabled:opacity-50 disabled:cursor-not-allowed
    flex items-center justify-center gap-1
  `,D={sm:"py-1 px-3 text-xs",md:"py-2 px-4 text-sm",lg:"py-3 px-6 text-base"},E={primary:p?"bg-blue-600 border-blue-500 text-white focus:ring-blue-500":"bg-blue-700 border-blue-600 hover:bg-blue-600 hover:border-blue-500 text-white focus:ring-blue-500",secondary:p?"bg-[#525a6b] border-gray-500 text-white focus:ring-gray-500":"bg-[#4a5262] border-gray-600 hover:bg-[#525a6b] hover:border-gray-500 text-white focus:ring-gray-500",danger:p?"bg-red-600 border-red-500 text-white focus:ring-red-500":"bg-red-700 border-red-600 hover:bg-red-600 hover:border-red-500 text-white focus:ring-red-500",success:p?"bg-green-600 border-green-500 text-white focus:ring-green-500":"bg-green-700 border-green-600 hover:bg-green-600 hover:border-green-500 text-white focus:ring-green-500"};return u.jsx("button",{type:g,onClick:r,onTouchStart:o,onTouchEnd:s,disabled:f,"aria-label":m,"aria-expanded":x,title:y,style:N,className:At(S,D[d],E[l],a),children:t})},dn=t=>t.split(",").map(r=>r.trim()),wr=t=>t.join(", "),_u=t=>t.trim()?/^[a-gA-G](##|#|bb|b)?(\d+)?$/.test(t.trim()):!0,ng=t=>{if(!t.trim())return t;const r=t.trim();if(!_u(r))return r;const o=r.match(/^([a-gA-G])(##|#|bb|b)?(\d*)$/);if(o){const[,s,a="",l]=o;return s.toUpperCase()+a.toLowerCase()+l}return r},Y5=({chords:t,onUpdateChord:r,onFetchOriginalChord:o,onChordClick:s})=>{const[a,l]=b.useState(null),[d,f]=b.useState(null),[p,m]=b.useState(""),[x,g]=b.useState(""),[y,N]=b.useState(""),S=async k=>{const O=k.name.replace(/\/[A-G](##|#|bb|b)?\d*/,"");if(t){const G=t.find(oe=>oe.chordName===O);if(G?.chordNoteNames)return G.chordNoteNames}if(k.originalKey&&k.originalMode&&o)try{const G=await o(O,k.originalKey,k.originalMode);if(G)return G}catch(G){console.warn("Failed to fetch original chord:",G)}return k.originalNotes||null},D=k=>{if(!p.trim()||!x)return!1;const O=k.replace(/\d+/,""),G=p.trim().replace(/\d+/,"");return O===G?!dn(x).some(le=>le.replace(/\d+/,"")===G):!1},E=async(k,O)=>{l(k),f({...O});try{const oe=await S(O);g(oe||O.notes)}catch(oe){console.warn("Failed to load original chord, using current notes:",oe),g(O.originalNotes||O.notes)}const G=O.name.match(/\/([A-G](##|#|bb|b)?\d*)/);m(G?G[1]:"")},$=()=>{if(a!==null&&d&&r){if(y)return;let k=d.name.replace(/\/[A-G](##|#|bb|b)?\d*/,""),O=d.notes;if(p.trim()){k+=`/${p.trim()}`;const oe=dn(O),ee=p.trim();if(oe.some(Y=>{const Z=Y.replace(/\d+/,""),Q=ee.replace(/\d+/,"");return Z===Q})){const Y=oe.filter(Q=>{const A=Q.replace(/\d+/,""),C=ee.replace(/\d+/,"");return A!==C}),Z=[ee,...Y];O=wr(Z)}else{const Y=[ee,...oe];O=wr(Y)}}const G={...d,name:k,notes:O,originalNotes:d.originalNotes||x};r(a,G)}V()},V=()=>{l(null),f(null),m(""),g(""),N("")},B=async k=>{if(!d||k===0)return;const O=dn(d.notes);k===1&&D(O[0])||([O[k],O[k-1]]=[O[k-1],O[k]],f({...d,notes:wr(O)}),await R(O))},H=async k=>{if(!d)return;const O=dn(d.notes);k!==O.length-1&&(k===0&&D(O[0])||([O[k],O[k+1]]=[O[k+1],O[k]],f({...d,notes:wr(O)}),await R(O)))},M=async()=>{if(m(""),d)try{console.log("Current editing chord:",d);const O=await S(d)||d.originalNotes||x;console.log("Reverting to original notes:",O),O?dn(O).every(ee=>/^[A-Ga-g]/.test(ee.trim()))?f({...d,notes:O}):console.warn("Original notes appear to be in invalid format, keeping current notes:",O):console.warn("No original notes found, keeping current notes")}catch(k){console.warn("Failed to revert to original chord:",k);const O=d.originalNotes||x;O&&dn(O).every(ee=>/^[A-Ga-g]/.test(ee.trim()))&&f({...d,notes:O})}},z=async k=>{if(d)try{const G=await S(d)||d.originalNotes||x;if(!G)return;if(!k.trim()){f({...d,notes:G});return}const oe=dn(G),ee=k.trim(),le=oe.some(Z=>{const Q=Z.replace(/\d+/,""),A=ee.replace(/\d+/,"");return Q===A});let Y;if(le){const Z=oe.filter(A=>{const C=A.replace(/\d+/,""),F=ee.replace(/\d+/,"");return C!==F}),Q=oe.find(A=>{const C=A.replace(/\d+/,""),F=ee.replace(/\d+/,"");return C===F});Y=Q?[Q,...Z]:[ee,...Z]}else Y=[ee,...oe];f({...d,notes:wr(Y)})}catch(O){console.warn("Failed to update chord with slash note:",O);const G=d.originalNotes||x;if(!G)return;if(!k.trim()){f({...d,notes:G});return}const oe=dn(G),le=[k.trim(),...oe];f({...d,notes:wr(le)})}},R=async k=>{if(!(!d||k.length===0))try{const G=await S(d)||d.originalNotes||x;if(!G)return;const oe=dn(G),ee=k[0],le=oe[0];m(ee!==le?ee:"")}catch(O){console.warn("Failed to detect slash note from order:",O);const G=d.originalNotes||x;if(!G)return;const oe=dn(G),ee=k[0],le=oe[0];m(ee!==le?ee:"")}};return{editingChordIndex:a,editingChord:d,slashNote:p,originalChordNotes:x,slashNoteError:y,handleEditChord:E,handleSaveEdit:$,handleCancelEdit:V,moveNoteUp:B,moveNoteDown:H,removeSlashNote:M,handleSlashNoteChange:async k=>{const O=k.trim();if(!O){N(""),m(""),await z("");return}if(!_u(O)){N("Invalid note. Use A-G with optional # or b (e.g., C, F#, Bb, D4)"),m(k);return}N("");const G=ng(O);m(G),await z(G)},handleDragEnd:async k=>{if(!k.destination||!d||k.source.index===k.destination.index)return;const O=dn(d.notes);if(k.source.index===0&&D(O[0])||k.destination.index===0&&D(O[0]))return;const[G]=O.splice(k.source.index,1);O.splice(k.destination.index,0,G),f({...d,notes:wr(O)}),await R(O)},handlePreviewChord:()=>{d&&s(d.notes,-1)},isSlashNote:k=>{if(!p.trim())return!1;const O=k.replace(/\d+/,""),G=p.trim().replace(/\d+/,"");return O===G},isManualSlashNote:D,parseNotes:dn,notesToString:wr,formatNoteName:ng,isValidNoteName:_u}},Q5=4,X5=8,Z5=({activeMidiNotes:t})=>{const r=Ne.useRef(null),[o,s]=Ne.useState(400),a=Ne.useMemo(()=>o<400?Math.max(300,o-20):o<768?Math.min(500,o-40):Math.min(600,o-60),[o]);Ne.useEffect(()=>{const m=()=>{r.current&&s(r.current.offsetWidth)};m();const x=new ResizeObserver(()=>{m()});return r.current&&x.observe(r.current),()=>{x.disconnect()}},[]),Ne.useEffect(()=>{const m=document.createElement("style");return m.textContent=`
            /* Disable all pointer events on piano keys to prevent hover/click interference */
            .ReactPiano__Key {
                pointer-events: none !important;
            }
            
            /* Ultra-specific CSS to override react-piano styles */
            div[class*="ReactPiano"] .ReactPiano__Key--active,
            div[class*="ReactPiano"] .ReactPiano__Key--active.ReactPiano__Key--natural,
            div[class*="ReactPiano"] .ReactPiano__Key--active.ReactPiano__Key--accidental,
            .ReactPiano__Key--active[class*="ReactPiano__Key"],
            .ReactPiano__Key--active[class*="ReactPiano__Key"]:hover,
            .ReactPiano__Key--active[class*="ReactPiano__Key"]:active,
            .ReactPiano__Key--active[class*="ReactPiano__Key"]:focus {
                background: #3b82f6 !important;
                background-color: #3b82f6 !important;
                background-image: none !important;
                color: white !important;
                border-color: #2563eb !important;
                border-top-color: #2563eb !important;
                border-left-color: #2563eb !important;
                border-right-color: #2563eb !important;
                border-bottom-color: #2563eb !important;
                box-shadow: none !important;
                transition: none !important;
            }
            
            /* Force natural (white) keys to stay blue */
            div[class*="ReactPiano"] .ReactPiano__Key--active.ReactPiano__Key--natural,
            .ReactPiano__Key--active.ReactPiano__Key--natural[class*="ReactPiano__Key"],
            .ReactPiano__Key--active.ReactPiano__Key--natural[class*="ReactPiano__Key"]:hover,
            .ReactPiano__Key--active.ReactPiano__Key--natural[class*="ReactPiano__Key"]:active,
            .ReactPiano__Key--active.ReactPiano__Key--natural[class*="ReactPiano__Key"]:focus {
                background: linear-gradient(to bottom, #3b82f6 0%, #2563eb 100%) !important;
                background-color: #3b82f6 !important;
                color: white !important;
                border-top: 1px solid #2563eb !important;
                border-left: 1px solid #2563eb !important;
                border-right: 1px solid #2563eb !important;
                border-bottom: 1px solid #1e40af !important;
                box-shadow: 
                    inset 0 0 0 1px rgba(37, 99, 235, 0.3),
                    inset 0 -3px 6px rgba(0,0,0,0.1) !important;
            }
            
            /* Force accidental (black) keys to stay blue */
            div[class*="ReactPiano"] .ReactPiano__Key--active.ReactPiano__Key--accidental,
            .ReactPiano__Key--active.ReactPiano__Key--accidental[class*="ReactPiano__Key"],
            .ReactPiano__Key--active.ReactPiano__Key--accidental[class*="ReactPiano__Key"]:hover,
            .ReactPiano__Key--active.ReactPiano__Key--accidental[class*="ReactPiano__Key"]:active,
            .ReactPiano__Key--active.ReactPiano__Key--accidental[class*="ReactPiano__Key"]:focus {
                background: linear-gradient(to bottom, #1d4ed8 0%, #1e40af 100%) !important;
                background-color: #1d4ed8 !important;
                color: white !important;
                border: 1px solid #1e40af !important;
                box-shadow: 
                    inset 0 0 0 1px rgba(30, 64, 175, 0.4),
                    inset 0 -2px 4px rgba(0,0,0,0.2) !important;
            }
            
            /* Override any CSS animations or transitions */
            .ReactPiano__Key--active * {
                transition: none !important;
                animation: none !important;
            }
            
            /* Nuclear option - override any inline styles that might be applied */
            .ReactPiano__Key--active[style] {
                background: #3b82f6 !important;
                background-color: #3b82f6 !important;
            }
            
            .ReactPiano__Key--active.ReactPiano__Key--natural[style] {
                background: linear-gradient(to bottom, #3b82f6 0%, #2563eb 100%) !important;
            }
            
            .ReactPiano__Key--active.ReactPiano__Key--accidental[style] {
                background: linear-gradient(to bottom, #1d4ed8 0%, #1e40af 100%) !important;
            }
        `,document.head.appendChild(m),()=>{document.head.removeChild(m)}},[]);const l=4,d=7,f=Pt.fromNote(`c${l}`),p=Pt.fromNote(`c${d}`);return u.jsx("div",{ref:r,className:"w-full",children:u.jsx(Hu,{noteRange:{first:f,last:p},playNote:()=>{},stopNote:()=>{},disabled:!1,width:a,activeNotes:t,className:"mx-auto"})})},J5=({editingChordIndex:t,editingChord:r,totalChords:o,chords:s,onUpdateChord:a,onFetchOriginalChord:l,onChordClick:d,onClose:f,onNavigateToChord:p})=>{const{editingChord:m,slashNote:x,slashNoteError:g,handleEditChord:y,handleSaveEdit:N,handleCancelEdit:S,moveNoteUp:D,moveNoteDown:E,removeSlashNote:$,handleSlashNoteChange:V,handleDragEnd:B,handlePreviewChord:H,isSlashNote:M,isManualSlashNote:z,parseNotes:R}=Y5({chords:s,onUpdateChord:a,onFetchOriginalChord:l,onChordClick:d});Ne.useEffect(()=>{y(t,r)},[t,r]);const L=()=>{N(),f()},J=()=>{S(),f()},ne=()=>{t>0&&p&&p(t-1)},ae=()=>{t<o-1&&p&&p(t+1)},k=Ne.useMemo(()=>{if(!m?.notes)return[];try{return pa(Q5,X5,m.notes).map(({note:le,octave:Y})=>{try{return Pt.fromNote(`${le}${Y}`)}catch(Z){return console.warn(`Failed to parse note: ${le}${Y}`,Z),null}}).filter(Boolean)}catch(ee){return console.warn("Failed to parse chord notes:",ee),[]}},[m?.notes]);if(!m)return null;const O=R(m.notes),G=t>0,oe=t<o-1;return u.jsxs("div",{className:"fixed inset-0 bg-[#1a1e24] bg-opacity-95 backdrop-blur-sm z-50 flex flex-col",children:[u.jsxs("div",{className:"flex-shrink-0 max-w-4xl mx-auto px-4 py-4 w-full",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[u.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-white truncate",children:["Edit: ",m.name.replace(/\/[A-G](##|#|bb|b)?\d*/,"")]}),u.jsxs("span",{className:"px-2 py-1 text-xs bg-slate-700 text-slate-300 rounded font-mono flex-shrink-0",children:[t+1," / ",o]})]}),u.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[u.jsxs(Sn,{onClick:L,variant:"primary",size:"sm",disabled:!!g,className:At("bg-green-600 hover:bg-green-700",g&&"opacity-50 cursor-not-allowed"),title:g?"Fix slash note error before saving":"Save changes",children:[u.jsx(yb,{className:"w-4 h-4 sm:mr-1"}),u.jsx("span",{className:"hidden sm:inline",children:"Save"})]}),u.jsxs(Sn,{onClick:J,variant:"secondary",size:"sm",children:[u.jsx("span",{className:"hidden sm:inline",children:"Cancel"}),u.jsx("span",{className:"sm:hidden",children:""})]})]})]}),u.jsx("div",{className:"flex items-center",children:p&&u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(Sn,{onClick:ne,variant:"secondary",size:"sm",disabled:!G,title:"Previous chord",className:"px-2",children:u.jsx(Nb,{className:"w-4 h-4"})}),u.jsx(Sn,{onClick:ae,variant:"secondary",size:"sm",disabled:!oe,title:"Next chord",className:"px-2",children:u.jsx(fg,{className:"w-4 h-4"})})]})}),u.jsxs("div",{className:"p-3 bg-[#2a2f38] rounded-lg border border-gray-600 mb-4 mt-4",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Slash Note (Bass Note)"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"text",value:x,onChange:ee=>V(ee.target.value),onBlur:ee=>V(ee.target.value),onKeyDown:ee=>{ee.key==="Enter"&&V(ee.currentTarget.value)},placeholder:"e.g., C4, F#, Bb3",className:At("flex-1 px-3 py-2 bg-[#1a1e24] border rounded text-white placeholder-gray-400 focus:outline-none transition-colors text-sm",g?"border-red-500 focus:border-red-400":"border-gray-600 focus:border-blue-500")}),x.trim()&&!g&&u.jsx("button",{onClick:$,className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded transition-colors",title:"Remove slash note",children:u.jsx(bu,{className:"w-4 h-4"})})]}),g?u.jsxs("p",{className:"text-xs text-red-400 mt-1 flex items-center space-x-1",children:[u.jsx(bu,{className:"w-3 h-3 flex-shrink-0"}),u.jsx("span",{children:g})]}):u.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Add bass note (e.g., Cmaj7/E)"}),O.length>0&&z(O[0])&&!g&&u.jsx("div",{className:"mt-2 p-2 bg-amber-500/10 border border-amber-500/30 rounded text-xs text-amber-300",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(_h,{className:"w-3 h-3"}),u.jsx("span",{children:"Slash note locked in first position"})]})})]}),u.jsx("div",{className:"bg-[#2a2f38] rounded-lg border border-gray-600 p-3 mb-4",children:u.jsx("div",{className:"bg-[#1a1e24] rounded p-2 flex justify-center overflow-x-auto",children:u.jsx(Z5,{activeMidiNotes:k})})})]}),u.jsx("div",{className:"flex-1 max-w-4xl mx-auto px-4 w-full overflow-hidden flex flex-col -mt-4",children:u.jsxs("div",{className:"bg-[#2a2f38] rounded-lg border border-gray-600 p-4 flex-1 flex flex-col min-h-0",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs(Sn,{onClick:H,variant:"secondary",size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",title:"Preview chord",children:[u.jsx(pg,{className:"w-4 h-4 sm:mr-1"}),u.jsx("span",{className:"hidden sm:inline",children:"Preview"})]}),u.jsxs("div",{className:"flex-1 text-center mx-4",children:[u.jsx("h3",{className:"text-lg font-medium text-white leading-tight",children:"Chord Notes"}),u.jsx("p",{className:"text-xs text-gray-400 leading-tight",children:"Drag to reorder"})]}),u.jsx("div",{className:"w-16 sm:w-20"})," "]}),u.jsx("div",{className:"flex-1 min-h-0",children:u.jsx(Sv,{onDragEnd:B,children:u.jsx(Mv,{droppableId:"notes-list",children:(ee,le)=>u.jsxs("div",{...ee.droppableProps,ref:ee.innerRef,className:At("space-y-3 transition-colors duration-200 overflow-y-auto h-full",{"bg-blue-500/5 rounded-lg p-2":le.isDraggingOver}),children:[O.map((Y,Z)=>{const Q=M(Y),C=z(Y)&&Z===0;return u.jsx(Pv,{draggableId:`${Y}-${Z}`,index:Z,isDragDisabled:C,children:(F,X)=>u.jsxs("div",{ref:F.innerRef,...F.draggableProps,...F.dragHandleProps,className:At("flex items-center space-x-3 p-3 rounded border transition-all duration-200",{"shadow-lg shadow-blue-500/20 border-blue-500 transform scale-105":X.isDragging,"cursor-grab":!X.isDragging&&!C,"cursor-grabbing":X.isDragging,"cursor-not-allowed":C,"bg-amber-500/10 border-amber-500/50":Q&&!X.isDragging,"hover:border-amber-400/70":Q&&!X.isDragging,"bg-amber-600/15 border-amber-600/60":C&&!X.isDragging,"bg-[#1a1e24] border-gray-600":!Q&&!C&&!X.isDragging,"hover:border-gray-500":!Q&&!C&&!X.isDragging}),style:F.draggableProps.style,children:[u.jsxs("div",{className:"flex-1 text-left",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("span",{className:"text-white font-mono text-lg font-semibold",children:Y}),u.jsxs("div",{className:"flex items-center space-x-2",children:[Q&&u.jsx("span",{className:"px-2 py-1 text-xs bg-amber-500/20 text-amber-300 rounded border border-amber-500/30 font-medium",children:"SLASH"}),C&&u.jsxs("span",{className:"px-2 py-1 text-xs bg-amber-600/20 text-amber-200 rounded border border-amber-600/30 font-medium flex items-center space-x-1",children:[u.jsx(_h,{className:"w-3 h-3"}),u.jsx("span",{children:"LOCKED"})]})]})]}),u.jsxs("div",{className:"text-xs text-slate-400 font-medium",children:["Note ",Z+1]})]}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("span",{className:"text-xs text-slate-400 mr-2",children:"Order:"}),u.jsx("button",{onClick:q=>{q.stopPropagation(),D(Z)},disabled:Z===0||C||Z===1&&z(O[0]),className:"p-1 text-slate-300 hover:text-white hover:bg-[#4a5262] rounded transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:C?"Cannot move locked slash note":Z===1&&z(O[0])?"Cannot move past locked slash note":"Move up",children:u.jsx(Ps,{className:"w-4 h-4"})}),u.jsx("button",{onClick:q=>{q.stopPropagation(),E(Z)},disabled:Z===O.length-1||C,className:"p-1 text-slate-300 hover:text-white hover:bg-[#4a5262] rounded transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:C?"Cannot move locked slash note":"Move down",children:u.jsx(Qr,{className:"w-4 h-4"})})]})]})},`${Y}-${Z}`)}),ee.placeholder]})})})})]})}),u.jsx("div",{className:"flex-shrink-0 h-4"})]})},eE=4,tE=7,Xt=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"ontouchstart"in window||navigator.maxTouchPoints>0,nE=({id:t,index:r,chord:o,onEdit:s,renderChordButton:a,getLiveItemWidth:l})=>{const{attributes:d,listeners:f,setNodeRef:p,transform:m,transition:x,isDragging:g}=z5({id:t}),y={transform:zs.Transform.toString(m),transition:g?"none":x},N={...d,style:{userSelect:"none",webkitUserSelect:"none",...y}};return u.jsx("div",{ref:p,...N,...f,className:"mobile-drag-item",style:{WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",...N.style},children:a(o,r,g,s)})},rE=()=>{const t=Cn(),r=Ln(),o=ko(),s=dg(),{addedChords:a,activeChordIndex:l,highlightedChordIndex:d}=r,{isDeleteMode:f,isLiveMode:p}=s,{globalPatternState:m}=o,{chords:x}=t,[g,y]=b.useState(!1),[N,S]=b.useState(null),[D,E]=b.useState(!1),$=b.useRef(null);b.useEffect(()=>{const C=()=>{const F=window.innerHeight,X=parseFloat(getComputedStyle(document.documentElement).fontSize);E(F<35*X)};return C(),window.addEventListener("resize",C,{passive:!0}),window.addEventListener("orientationchange",C,{passive:!0}),()=>{window.removeEventListener("resize",C),window.removeEventListener("orientationchange",C)}},[]),b.useEffect(()=>{if(p){const C=document.body.style.overflow,F=document.body.style.overscrollBehavior,X=document.body.style.touchAction;document.body.style.overflow="hidden",document.body.style.overscrollBehavior="none",document.body.style.touchAction="none";const q=()=>{setTimeout(()=>{if($.current&&p&&!g){const re=$.current;re.style.overflowY="hidden",re.style.touchAction="pan-y",re.offsetHeight,re.style.overflowY="auto",re.style.WebkitOverflowScrolling="touch"}},300)};return window.addEventListener("orientationchange",q),()=>{document.body.style.overflow=C,document.body.style.overscrollBehavior=F,document.body.style.touchAction=X,window.removeEventListener("orientationchange",q)}}},[p,g]),b.useEffect(()=>{if($.current&&p){const C=$.current;g?Xt()?(C.style.touchAction="pan-y",C.style.overflowY="auto",C.style.WebkitOverflowScrolling="auto"):(C.style.removeProperty("touchAction"),C.style.overflowY="auto",C.style.WebkitOverflowScrolling="touch"):(C.style.overflowY="auto",C.style.touchAction="pan-y",C.style.WebkitOverflowScrolling="touch")}},[g,p]);const V=N4(fu(Ed,{activationConstraint:Xt()?{delay:300,tolerance:8}:{distance:8}}),fu(Yv,{activationConstraint:{delay:400,tolerance:10}}),fu(Cd,{coordinateGetter:G5})),B=C=>{const{containerNodeRect:F,draggingNodeRect:X,transform:q}=C;if(!F||!X)return q;const re=Xt()?20:10,we=F.left+re,ue=F.right-re,pe=F.top+re,me=F.bottom-re,Te=X.left+q.x,ve=X.right+q.x,Pe=X.top+q.y,Me=X.bottom+q.y;let ke=q.x,Ge=q.y;return Te<we?ke=we-X.left:ve>ue&&(ke=ue-X.right),Pe<pe?Ge=pe-X.top:Me>me&&(Ge=me-X.bottom),{...q,x:ke,y:Ge}},H=b.useCallback((C,F,X)=>{if(s.isDeleteMode&&F!==void 0){r.removeChord(F);return}const q=pa(eE,tE,C);F!==void 0?(r.setTemporaryChord(null),r.setActiveChordIndex(F),o.globalPatternState.isPlaying||r.playNotes(q),r.setHighlightedChordIndex(F),setTimeout(()=>r.setHighlightedChordIndex(null),150)):(X&&r.setTemporaryChord({name:X,notes:C}),o.globalPatternState.isPlaying||r.playNotes(q))},[s.isDeleteMode,o.globalPatternState.isPlaying,r]),M=b.useCallback(()=>{r.clearAllChords(),o.setGlobalPatternState({isPlaying:!1}),s.setIsLiveMode(!1)},[r,o,s]),z=b.useCallback(()=>{o.setGlobalPatternState({isPlaying:!m.isPlaying})},[m.isPlaying,o]),R=()=>s.setIsDeleteMode(!f),L=()=>s.setIsLiveMode(!p),J=(C,F)=>{const X={name:F.name,notes:F.notes,pattern:F.pattern||["1","2","3","4"],originalKey:F.originalKey||t.key,originalMode:F.originalMode||t.mode,originalNotes:F.originalNotes||F.notes};r.updateChord(C,X)},ne=C=>S(C),ae=()=>S(null),k=C=>{C>=0&&C<a.length&&S(C)},O=()=>{if(document.body.classList.add("dragging"),Xt()){document.body.style.overflow="hidden",document.body.style.overscrollBehavior="none",document.body.style.touchAction="none",document.body.style.userSelect="none",document.body.style.webkitUserSelect="none",document.documentElement.style.overscrollBehavior="none",document.documentElement.style.touchAction="none";const C=document.querySelector('meta[name="viewport"]');C&&(C.setAttribute("data-original-content",C.getAttribute("content")||""),C.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"))}},G=()=>{if(document.body.classList.remove("dragging"),Xt()){document.body.style.overflow="",document.body.style.overscrollBehavior="",document.body.style.touchAction="",document.body.style.userSelect="",document.body.style.webkitUserSelect="",document.documentElement.style.overscrollBehavior="",document.documentElement.style.touchAction="";const C=document.querySelector('meta[name="viewport"]');if(C){const F=C.getAttribute("data-original-content");F&&(C.setAttribute("content",F),C.removeAttribute("data-original-content"))}}},oe=C=>{const{active:F,over:X}=C;if(document.body.classList.remove("dragging"),Xt()){document.body.style.overflow="",document.body.style.overscrollBehavior="",document.body.style.touchAction="",document.body.style.userSelect="",document.body.style.webkitUserSelect="",document.documentElement.style.overscrollBehavior="",document.documentElement.style.touchAction="";const q=document.querySelector('meta[name="viewport"]');if(q){const re=q.getAttribute("data-original-content");re&&(q.setAttribute("content",re),q.removeAttribute("data-original-content"))}}if(console.log("Drag end event:",{active:F.id,over:X?.id}),X&&F.id!==X.id){const q=parseInt(F.id.toString().replace("chord-","")),re=parseInt(X.id.toString().replace("chord-",""));if(console.log("Moving from index",q,"to index",re),!isNaN(q)&&!isNaN(re)&&q>=0&&q<a.length&&re>=0&&re<a.length){const we=Dd(a,q,re);console.log("Reordered chords:",we.map(ue=>ue.name)),r.setAddedChords(we),l!==null&&(l===q?r.setActiveChordIndex(re):q<l&&re>=l?r.setActiveChordIndex(l-1):q>l&&re<=l&&r.setActiveChordIndex(l+1))}}},ee=C=>{if(!C.destination)return;const F=C.source.index,X=C.destination.index;if(F===X)return;const q=Array.from(a),[re]=q.splice(F,1);q.splice(X,0,re),r.setAddedChords(q),l!==null&&(l===F?r.setActiveChordIndex(X):F<l&&X>=l?r.setActiveChordIndex(l-1):F>l&&X<=l&&r.setActiveChordIndex(l+1))};if(a.length===0)return null;const le=p?"fixed inset-0 bg-[#1a1e24] bg-opacity-95 backdrop-blur-sm z-50 flex flex-col":"fixed bottom-0 left-0 right-0 bg-[#2a2f38] border-t border-gray-600 shadow-2xl z-50";if(N!==null){const C=a[N];if(C)return u.jsx(J5,{editingChordIndex:N,editingChord:C,totalChords:a.length,chords:x,onUpdateChord:J,onFetchOriginalChord:r.handleFetchOriginalChord,onChordClick:H,onClose:ae,onNavigateToChord:k})}const Y=(C,F,X=!1,q)=>{const re=F===l,we=F===d,ue=Te=>{console.log("Button clicked!",{isEditMode:g,hasOnEdit:!!q,index:F}),Te.stopPropagation(),Te.preventDefault(),g&&q?(console.log("Opening editor for chord",F),q(F)):g||(console.log("Playing chord",F),H(C.notes,F))},pe=Te=>{g||(Te.currentTarget.style.transform="scale(0.95)")},me=Te=>{g||(Te.currentTarget.style.transform="")};return u.jsxs(K5,{onClick:ue,onTouchStart:pe,onTouchEnd:me,variant:f?"danger":g?"secondary":"primary",active:re&&!f&&!g,"aria-label":`Pattern: ${C.pattern.join("-")}`,className:At("relative w-full h-full mobile-drag-item",{"py-8 px-6 text-lg min-h-[120px] flex flex-col items-center justify-center":p&&!Xt(),"py-8 px-6 text-lg min-h-[140px] flex flex-col items-center justify-center":p&&Xt(),"py-4 px-2 text-sm min-w-[85px] bottom-nav-button chord-button space-x-1 mt-1 min-h-[60px] !min-w-[70px] flex flex-col items-center justify-center":!p,transform:we,"shadow-xl":p,"border-blue-500 hover:border-blue-400":g,"cursor-grab active:cursor-grabbing":g&&!Xt(),"opacity-80 shadow-2xl scale-105":X,"select-none":g}),style:{touchAction:g?void 0:"auto"},children:[f&&u.jsx(bu,{className:`absolute top-1 right-1 text-white bg-red-500 rounded-full shadow-sm ${p?"h-6 w-6":"h-4 w-4"}`}),g&&u.jsx(Lc,{className:`absolute top-1 right-1 text-white bg-blue-500 rounded-full shadow-sm p-0.5 ${p?"h-6 w-6":"h-4 w-4"}`}),g&&u.jsxs(u.Fragment,{children:[u.jsx(Lc,{className:"absolute top-1 right-1 opacity-0 h-full w-full shadow-sm"}),Xt()&&u.jsx("div",{className:"absolute inset-0 w-full bg-blue-500/5 border-2 border-blue-500/20 rounded-lg pointer-events-none"})]}),u.jsx("div",{className:`text-blue-200 font-bold ${p?"text-xl mb-2":"text-xs mb-1"}`,children:F+1}),u.jsx("div",{className:`leading-tight ${p?"text-base text-center text-white":"text-xs"}`,children:C.name}),p&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mt-4 text-xs text-center text-slate-300",children:C.notes.replace(/,/g,"  ")}),u.jsx("div",{className:"mt-1 font-mono text-xs text-center text-slate-300",children:C.pattern.join("-")})]})]},F)},Z=u.jsx("button",{onClick:()=>y(!g),className:At("flex items-center justify-center rounded-lg border-2 border-dashed transition-all duration-200 hover:scale-105",p?"w-full h-full min-h-[120px] py-8 px-6":"w-12 h-12",g?"border-blue-500 text-blue-400 bg-blue-500/10 hover:bg-blue-500/20":"border-gray-500 text-gray-400 hover:border-gray-400 hover:text-gray-300 hover:bg-gray-500/10"),title:g?"Exit edit mode":"Edit chords",style:{minHeight:p&&Xt()?"140px":void 0},children:u.jsx(Lc,{className:`${p?"w-8 h-8":"w-6 h-6"} ${g?"animate-spin":""}`})}),Q=p?u.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 auto-rows-max pt-0",children:[a.map((C,F)=>u.jsx("div",{children:Y(C,F)},F)),u.jsx("div",{children:Z})]}):u.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2 chord-sequence-scroll -mx-2 px-2",children:[a.map((C,F)=>u.jsx("div",{className:"flex-shrink-0",children:Y(C,F)},F)),u.jsx("div",{className:"flex-shrink-0 py-4 px-2 min-w-[85px] min-h-[60px] mt-1 flex items-center justify-center",children:Z})]}),A=p?u.jsx(C5,{sensors:V,collisionDetection:S4,onDragStart:O,onDragEnd:oe,onDragCancel:G,modifiers:[q5,B],children:u.jsx(M5,{items:a.map((C,F)=>`chord-${F}`),strategy:jd,children:u.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 auto-rows-max pt-0",style:{gap:"1rem"},children:[a.map((C,F)=>u.jsx(nE,{id:`chord-${F}`,index:F,chord:C,onEdit:ne,renderChordButton:Y,getLiveItemWidth:()=>"w-full"},`${C.name}-${C.notes}-${F}`)),u.jsx("div",{children:Z})]})})}):u.jsx(Sv,{onDragEnd:ee,children:u.jsx(Mv,{droppableId:"chord-list",direction:"horizontal",children:C=>u.jsxs("div",{ref:C.innerRef,...C.droppableProps,className:"flex pb-2 -mx-2 overflow-x-auto space-x-2 px-2 chord-sequence-scroll",children:[a.map((F,X)=>u.jsx(Pv,{draggableId:`chord-${X}`,index:X,children:(q,re)=>u.jsx("div",{ref:q.innerRef,...q.draggableProps,...q.dragHandleProps,className:"flex-shrink-0",children:Y(F,X,re.isDragging,ne)})},`chord-${X}`)),C.placeholder,u.jsx("div",{className:"flex-shrink-0 py-4 px-2 min-w-[85px] min-h-[60px] mt-1 flex items-center justify-center",children:Z})]})})});return u.jsxs("div",{className:le,style:p?{touchAction:"none",overscrollBehavior:"none"}:void 0,children:[u.jsx("style",{children:`
                .dragging {
                    overflow: hidden !important;
                    touch-action: none !important;
                    overscroll-behavior: none !important;
                    -webkit-overflow-scrolling: auto !important;
                }
                
                .dragging * {
                    pointer-events: none !important;
                }
                
                .dragging .mobile-drag-item,
                .dragging .mobile-drag-item * {
                    pointer-events: auto !important;
                }
                
                @media (max-width: 768px) {
                    .dragging {
                        -webkit-user-select: none !important;
                        user-select: none !important;
                    }
                }
            `}),u.jsxs("div",{className:`${p?"flex-shrink-0":""} max-w-7xl mx-auto px-4 ${p?D?"pt-2 z-10":"pt-4 z-10":"pt-2"} w-full`,children:[u.jsxs("div",{className:`flex items-center justify-between ${p?D?"mb-1":"mb-3":"mb-2"}`,children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[!p&&u.jsx(Sn,{onClick:z,variant:"icon",size:"icon",active:m.isPlaying,title:m.isPlaying?"Stop":"Play",children:m.isPlaying?u.jsx(Rs,{className:"w-4 h-4"}):u.jsx(pg,{className:"w-4 h-4"})}),p&&u.jsx(Sn,{onClick:z,variant:"play-stop",size:"sm",active:m.isPlaying,className:"shadow-lg",children:m.isPlaying?u.jsxs(u.Fragment,{children:[u.jsx(Rs,{className:"w-4 h-4"})," Stop"]}):u.jsxs(u.Fragment,{children:[u.jsx(ks,{className:"w-4 h-4"})," Play"]})})]}),u.jsxs("div",{className:"text-center sm:w-full sm:text-left sm:mx-4",children:[u.jsxs("div",{className:"hidden sm:block text-xs font-bold text-slate-300 uppercase tracking-wider",children:["chords ",g&&u.jsx("span",{className:"text-blue-400",children:"(drag to reorder)"})]}),u.jsxs("div",{className:"block sm:hidden text-xs text-slate-300 uppercase tracking-wider",children:["chords ",g&&u.jsx("span",{className:"text-blue-400",children:"(drag)"})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:L,className:At("w-[7em] h-8 flex items-center space-x-2 px-3 py-1.5 text-xs border rounded transition-all duration-200",p?"text-slate-200 bg-[#4a5262] border-gray-600 hover:bg-[#525a6b]":"text-slate-300 hover:text-slate-200 bg-[#4a5262] hover:bg-[#525a6b] border-gray-600"),children:p?u.jsxs(u.Fragment,{children:[u.jsx(mb,{className:"h-3 w-3"}),u.jsx("span",{children:"Collapse"})]}):u.jsxs(u.Fragment,{children:[u.jsx(vb,{className:"h-3 w-3"}),u.jsx("span",{children:"Expand"})]})}),!p&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>{p&&L(),M()},className:"w-[5em] h-8 flex items-center justify-center px-3 py-1.5 text-xs text-slate-300 hover:text-slate-200 bg-[#4a5262] hover:bg-[#525a6b] border border-gray-600 rounded transition-all duration-200",children:"Clear"}),u.jsxs("button",{onClick:R,className:At("w-[7em] h-8 flex items-center space-x-2 px-3 py-1.5 text-xs border rounded transition-all duration-200",f?"text-white bg-red-600 border-red-500 hover:bg-red-700":"text-slate-300 hover:text-slate-200 bg-[#4a5262] hover:bg-[#525a6b] border-gray-600"),children:[u.jsx(Fh,{className:"h-3 w-3"}),u.jsx("span",{children:f?"Done":"Delete"})]})]})]})]}),p&&!D&&u.jsxs("div",{className:"mb-4 text-sm text-center text-slate-400",children:[u.jsxs("div",{children:["Use 1-",Math.min(a.length,9)," or click chords"]}),u.jsxs("div",{className:"mt-2 text-xs",children:[u.jsx("span",{className:"inline-block w-3 h-3 mr-2 bg-blue-500 rounded-full"})," Active Chord",g&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"mx-2",children:""}),u.jsx("span",{className:"text-blue-400",children:"Drag chords to reorder"})]})]})]})]}),u.jsx("div",{ref:$,className:`flex-1 max-w-7xl mx-auto w-full ${p?`px-4 pb-8 ${D?"pt-1":"pt-2"} overflow-y-auto`:"px-2 pb-1"}`,style:p&&!g?{WebkitOverflowScrolling:"touch",touchAction:"pan-y",overscrollBehavior:"contain",position:"relative",zIndex:1}:p&&g?{WebkitOverflowScrolling:Xt()?"auto":"touch",touchAction:Xt()?"pan-y":"auto",overscrollBehavior:"contain",position:"relative",zIndex:1}:void 0,children:g?A:Q}),p&&u.jsx("div",{className:"flex-shrink-0 bg-[#2a2f38] border-t border-gray-600 px-4 py-3",children:u.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[u.jsxs("div",{className:"text-xs font-medium text-slate-400",children:[a.length," chord",a.length!==1?"s":""," loaded",g&&u.jsx("span",{className:"ml-2 text-blue-400",children:" Edit Mode: Click chords to edit"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:M,className:"w-[5em] h-8 flex items-center justify-center px-3 py-1.5 text-xs text-slate-300 hover:text-slate-200 bg-[#4a5262] hover:bg-[#525a6b] border border-gray-600 rounded transition-all duration-200",children:"Clear"}),u.jsxs("button",{onClick:R,className:At("w-[7em] h-8 flex items-center space-x-2 px-3 py-1.5 text-xs border rounded transition-all duration-200",f?"text-white bg-red-600 border-red-500 hover:bg-red-700":"text-slate-300 hover:text-slate-200 bg-[#4a5262] hover:bg-[#525a6b] border-gray-600"),children:[u.jsx(Fh,{className:"h-3 w-3"}),u.jsx("span",{children:f?"Done":"Delete"})]})]})]})})]})},oE=()=>({transposeChords:b.useCallback(async(r,o,s,a)=>{console.log("Transposing from",r,o,"to",s,a);const l=Ln.getState().addedChords;if(console.log("Current chords to transpose:",l.length),l.length===0)return;const d=r!==s?lg(r,s):0,[f,p]=await Promise.all([Sr.getModeKeyChords(s,a),Sr.getAllDistinctChords()]),m=l.map(x=>{const g=d!==0?ug(x.name,d):x.name;let y=f.find(N=>N.chordName===g)||p.find(N=>N.chordName===g);if(y||console.log(`Chord ${g} not in ${s} ${a}, found in all chords:`,!1),y?.chordNoteNames)return{...x,name:g,notes:y.chordNoteNames,originalKey:s,originalMode:a,originalNotes:y.chordNoteNames};{console.log(`Chord ${g} not found, manually transposing notes`);const N=d!==0?fa(x.notes,d):x.notes;return{...x,name:g,notes:N,originalNotes:x.originalNotes?d!==0?fa(x.originalNotes,d):x.originalNotes:N}}});Ln.getState().setAddedChords(m),console.log("Transpose complete")},[])}),rg=({currentKey:t,mode:r,modes:o,pianoSettings:s,availableInstruments:a,isPlayingScale:l,scaleNotes:d,transposeEnabled:f,isDesktop:p=!1,onKeyChange:m,onModeChange:x,onInstrumentChange:g,onToggleTranspose:y,onToggleScalePlayback:N})=>{const S={key:p?"w-[5rem]":"w-[6em]",mode:p?"w-[11rem]":"w-[14rem]",voice:"w-[14rem]"},D=p?"flex flex-col bg-[#3d434f]/30 border border-gray-600/30 rounded-lg px-6 py-4":"space-y-4",E=p?"w-px h-8 bg-gray-600/50 mx-8":"hidden",$=p?"text-sm text-slate-300 font-medium whitespace-nowrap":"text-sm text-slate-300 font-medium whitespace-nowrap w-16 flex items-center";return p?u.jsxs("div",{className:D,children:[u.jsxs("div",{className:"flex items-center",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:$,children:"Key:"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Nn,{value:t,className:S.key,buttonClassName:"px-3 py-1.5 text-center font-medium text-xs h-10 flex items-center justify-center",menuClassName:`min-w-[${S.key}]`,onChange:m,showSearch:!1,options:["C","C#","D","Eb","E","F","F#","G","G#","A","A#","B"]}),u.jsx(Sn,{onClick:N,variant:"play-stop",size:"icon",className:"!w-8 !h-8 flex items-center justify-center ml-1",active:l,title:l?"Stop scale":`Play ${t} ${r} scale`,disabled:!d||d.length===0,children:l?u.jsx(Rs,{className:"w-6 h-6"}):u.jsx(ks,{className:"w-6 h-6"})})]})]}),u.jsx("div",{className:E}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:$,children:"Mode:"}),o&&u.jsx(Nn,{value:r,className:S.mode,buttonClassName:"px-3 py-1.5 text-left font-medium text-xs h-10 flex items-center",menuClassName:`min-w-[${S.mode}]`,onChange:x,showSearch:!0,options:o})]}),u.jsx("div",{className:E}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:$,children:"Voice:"}),u.jsx(Nn,{value:s.instrumentName.replaceAll("_"," "),className:S.voice,buttonClassName:"px-3 py-1.5 text-left font-medium text-xs h-10 flex items-center",menuClassName:"min-w-[11rem]",onChange:g,showSearch:!0,options:a.map(V=>V.replaceAll("_"," "))})]})]}),u.jsx("div",{className:"flex items-start mt-3",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-sm text-slate-300 font-medium whitespace-nowrap invisible",children:"Key:"}),u.jsx("button",{onClick:y,className:`relative flex items-center justify-center px-4 py-2 rounded-lg text-xs font-medium uppercase tracking-wide transition-all duration-200 border ${f?"bg-gradient-to-r from-blue-600 to-blue-700 text-white border-blue-600 shadow-lg shadow-blue-600/25":"bg-[#3d434f] text-slate-400 border-gray-600 hover:bg-[#4a5262] hover:text-slate-300"}`,title:"When enabled, changing key or mode will transpose all added chords",children:u.jsxs("div",{className:`flex items-center gap-2 ${f?"text-white":""}`,children:[u.jsx("div",{className:`w-2 h-2 rounded-full transition-colors duration-200 ${f?"bg-white":"bg-slate-500"}`}),u.jsx("span",{children:"Transpose"})]})})]})})]}):u.jsxs("div",{className:D,children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("span",{className:`${$} mt-2`,children:"Key:"}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Nn,{value:t,className:S.key,buttonClassName:"px-3 py-1.5 text-center font-medium text-xs h-10 flex items-center justify-center",menuClassName:"min-w-[6rem]",onChange:m,showSearch:!1,options:["C","C#","D","Eb","E","F","F#","G","G#","A","A#","B"]}),u.jsx(Sn,{onClick:N,variant:"play-stop",size:"icon",className:"!w-8 !h-8 flex items-center justify-center ml-1",active:l,title:l?"Stop scale":`Play ${t} ${r} scale`,disabled:!d||d.length===0,children:l?u.jsx(Rs,{className:"w-6 h-6"}):u.jsx(ks,{className:"w-6 h-6"})})]}),u.jsx("button",{onClick:y,className:`relative flex items-center justify-center px-4 py-2 rounded-lg text-xs font-medium uppercase tracking-wide transition-all duration-200 border max-w-[13em] ${f?"bg-gradient-to-r from-blue-600 to-blue-700 text-white border-blue-600 shadow-lg shadow-blue-600/25":"bg-[#3d434f] text-slate-400 border-gray-600 hover:bg-[#4a5262] hover:text-slate-300"}`,title:"When enabled, changing key or mode will transpose all added chords",children:u.jsxs("div",{className:`flex items-center gap-2 ${f?"text-white":""}`,children:[u.jsx("div",{className:`w-2 h-2 rounded-full transition-colors duration-200 ${f?"bg-white":"bg-slate-500"}`}),u.jsx("span",{children:"Transpose"})]})})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:$,children:"Mode:"}),o&&u.jsx(Nn,{value:r,className:S.mode,buttonClassName:"px-3 py-1.5 text-left font-medium text-xs h-10 flex items-center",menuClassName:`min-w-[${S.mode}]`,onChange:x,showSearch:!0,options:o})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:$,children:"Voice:"}),u.jsx(Nn,{value:s.instrumentName.replaceAll("_"," "),className:S.voice,buttonClassName:"px-3 py-1.5 text-left font-medium text-xs h-10 flex items-center",menuClassName:"min-w-[11rem]",onChange:g,showSearch:!0,options:a.map(V=>V.replaceAll("_"," "))})]})]})},sE=(t,r=4)=>{const o={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11};return(r+1)*12+(o[t]??0)},iE=({className:t="",onKeyChange:r,onModeChange:o,onInstrumentChange:s})=>{const a=Cn(q=>q.key),l=Cn(q=>q.mode),d=Cn(q=>q.modes),f=Cn(q=>q.scaleNotes),p=Cs(q=>q.pianoSettings),m=Cs(q=>q.availableInstruments),x=Ln(q=>q.isPlayingScale),g=ko(q=>q.globalPatternState),{setKey:y,setMode:N}=Cn(),{setPianoInstrument:S,setCutOffPreviousNotes:D,setEq:E,setOctaveOffset:$,setReverbLevel:V,setNoteDuration:B,setVolume:H,setChorusLevel:M,setDelayLevel:z}=Cs(),{setIsPlayingScale:R,clearScalePlaybackTimeouts:L,setActiveNotes:J}=Ln(),[ne,ae]=b.useState(!1),[k,O]=b.useState(!1),{transposeChords:G}=oE(),oe=b.useRef([]),ee=b.useRef(!1),le=q=>{const re=q.replaceAll(" ","_");s?s(re):S(re)},Y=async q=>{r?r(q):(k&&await G(a,l,q,l),y(q))},Z=async q=>{o?o(q):(k&&await G(a,l,a,q),N(q))},Q=b.useCallback(()=>{oe.current.forEach(q=>clearTimeout(q)),oe.current=[],ee.current=!1},[]),A=b.useCallback(q=>6e4/q/2,[]),C=b.useCallback(()=>{if(!f||f.length===0){console.warn("No scale notes available to play");return}Q();const q=g?.bpm||120,re=A(q);ee.current=!0,R(!0);const we=[...f];if(f.length>0){const Pe=f[0];we.push({...Pe,seqNote:Pe.seqNote?Pe.seqNote+12:void 0})}const ue=we.map(Pe=>{const Me=Yr(Pe.noteName)||"C",ke=4,Ge=Pe.seqNote?Pe.seqNote:sE(Me,ke);return{note:Me,octave:ke,sortValue:Ge}}).sort((Pe,Me)=>Pe.sortValue-Me.sortValue),pe=Pe=>({C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11})[Pe]??0,me=[];let Te=4,ve=-1;for(let Pe=0;Pe<ue.length;Pe++){const Me=ue[Pe],ke=pe(Me.note);(ve!==-1&&ve===11&&ke<=11&&ke<ve||ve!==-1&&ke<ve&&!(ve===11&&ke===0))&&Te++,me.push({note:Me.note,octave:Te}),ve=ke}me.forEach((Pe,Me)=>{const ke=setTimeout(()=>{if(!ee.current)return;console.log(Pe),J([Pe]);const Ge=setTimeout(()=>{ee.current&&J([])},re*.8);if(oe.current.push(Ge),Me===me.length-1){const bt=setTimeout(()=>{ee.current&&F()},re);oe.current.push(bt)}},Me*re);oe.current.push(ke)})},[f,g,R,J,Q,A]),F=b.useCallback(()=>{Q(),J([]),R(!1),L&&L()},[Q,J,R,L]),X=b.useCallback(()=>{x||ee.current?F():C()},[x,C,F]);return Ne.useEffect(()=>()=>Q(),[Q]),u.jsx("div",{className:`w-full max-w-7xl mx-auto px-2 sm:mt-4 mt-0 mb-2 ${t}`,children:u.jsxs("div",{className:"bg-[#3d434f] border border-gray-600 rounded-lg overflow-hidden",children:[u.jsx("div",{className:"px-4 py-3 border-b border-gray-600",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-sm font-bold text-slate-300 uppercase tracking-wider",children:"Controls"}),u.jsx("button",{onClick:()=>ae(!ne),className:"w-[7em] h-8 flex items-center space-x-2 px-3 py-1.5 text-xs text-slate-300 hover:text-slate-200 bg-[#4a5262] hover:bg-[#525a6b] border border-gray-600 rounded transition-all duration-200",children:ne?u.jsxs(u.Fragment,{children:[u.jsx(Ps,{className:"w-3 h-3"}),u.jsx("span",{children:"Settings"})]}):u.jsxs(u.Fragment,{children:[u.jsx(Qr,{className:"w-3 h-3"}),u.jsx("span",{children:"Settings"})]})})]})}),u.jsx("div",{className:"p-6 py-4 bg-[#444b59]",children:u.jsxs("div",{className:"flex flex-col xl:flex-row xl:items-start xl:justify-center gap-6",children:[u.jsx("div",{className:"hidden xl:flex items-start",children:u.jsx(rg,{currentKey:a,mode:l,modes:d,pianoSettings:p,availableInstruments:m,isPlayingScale:x,scaleNotes:f,transposeEnabled:k,isDesktop:!0,onKeyChange:Y,onModeChange:Z,onInstrumentChange:le,onToggleTranspose:()=>O(!k),onToggleScalePlayback:X})}),u.jsx("div",{className:"xl:hidden",children:u.jsx(rg,{currentKey:a,mode:l,modes:d,pianoSettings:p,availableInstruments:m,isPlayingScale:x,scaleNotes:f,transposeEnabled:k,isDesktop:!1,onKeyChange:Y,onModeChange:Z,onInstrumentChange:le,onToggleTranspose:()=>O(!k),onToggleScalePlayback:X})})]})}),u.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${ne?" opacity-100":"max-h-0 opacity-0"}`,children:u.jsxs("div",{className:"border-t border-gray-600 bg-[#3d434f]",children:[u.jsx("div",{className:"px-4 py-3 border-b border-gray-600",children:u.jsx("h3",{className:"text-left text-sm font-medium text-slate-200 uppercase tracking-wider",children:"Piano Settings"})}),u.jsx("div",{className:"p-6 bg-[#444b59]",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-x-8",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsx(Nr,{label:"Volume",value:p.volume,min:0,max:1,step:.05,onChange:H,showPercentage:!0}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:"Octave Shift"}),u.jsxs("div",{className:"flex items-center justify-between bg-[#3d434f] border border-gray-600 rounded-md p-1.5",children:[u.jsx("button",{onClick:()=>$(Math.max(-3,p.octaveOffset-1)),className:"w-6 h-6 flex items-center justify-center text-slate-300 hover:text-slate-200 hover:bg-[#4a5262] rounded transition-colors",disabled:p.octaveOffset<=-3,children:""}),u.jsx("span",{className:"font-mono text-xs text-slate-200 px-2",children:p.octaveOffset===0?"Normal":`${p.octaveOffset>0?"+":""}${p.octaveOffset} octave${Math.abs(p.octaveOffset)>1?"s":""}`}),u.jsx("button",{onClick:()=>$(Math.min(3,p.octaveOffset+1)),className:"w-6 h-6 flex items-center justify-center text-slate-300 hover:text-slate-200 hover:bg-[#4a5262] rounded transition-colors",disabled:p.octaveOffset>=3,children:"+"})]})]}),u.jsx(Nr,{label:"Reverb",value:p.reverbLevel,min:0,max:1,step:.05,onChange:V,showPercentage:!0}),u.jsx(Nr,{label:"Note Duration",value:p.noteDuration,min:.1,max:1,step:.05,onChange:B,showPercentage:!0}),u.jsx("div",{children:u.jsxs("label",{className:"flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",className:"w-3.5 h-3.5 text-blue-600 bg-[#3d434f] border-gray-600 rounded focus:ring-blue-500 focus:ring-1",checked:p.cutOffPreviousNotes,onChange:q=>D(q.target.checked)}),u.jsx("span",{className:"ml-2 text-xs text-slate-300 uppercase tracking-wide",children:"Cut off previous notes"})]})})]}),u.jsxs("div",{className:"space-y-4 mt-6 lg:mt-0",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-medium text-slate-200 mb-4 uppercase tracking-wide",children:"Equalizer"}),u.jsx("div",{className:"space-y-3",children:[{label:"Bass",key:"bass"},{label:"Mid",key:"mid"},{label:"Treble",key:"treble"}].map(({label:q,key:re})=>u.jsx(Nr,{label:q,value:p.eq[re],min:-24,max:24,step:.5,variant:"split",onChange:we=>{const ue={...p.eq,[re]:we};E(ue)},formatValue:we=>`${we>0?"+":""}${we.toFixed(1)}dB`},re))})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(Nr,{label:"Chorus",value:p.chorusLevel,min:0,max:1,step:.05,onChange:M,showPercentage:!0}),u.jsx(Nr,{label:"Delay",value:p.delayLevel,min:0,max:1,step:.05,onChange:z,showPercentage:!0})]})]})]})})]})})]})})},aE=({isOpen:t,onClose:r,onOpenHelp:o})=>{const s=()=>{r(),o()};return u.jsx(Yu,{isOpen:t,onClose:r,title:"About",className:"max-w-2xl max-h-[85vh]",fixedHeader:!0,children:u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsx("div",{className:"bg-[#2a2f38] rounded-lg border border-gray-600 overflow-hidden",children:u.jsxs("div",{className:"p-4 text-sm leading-relaxed space-y-3 text-slate-300 text-left",children:[u.jsx("p",{children:"Modal Chord Buildr is a music learning, composition, and performance tool built with React. The app provides an intuitive interface for exploring musical scales and building chord progressions, while also offering basic synth and sequencer functionality."}),u.jsxs("p",{children:["For more details on how to use this app, please refer to the"," ",u.jsx("button",{onClick:s,className:"font-semibold text-blue-400 hover:text-blue-300 underline underline-offset-2 transition-colors cursor-pointer",children:"Help & Guide"})," ","documentation."]})]})}),u.jsxs("div",{className:"bg-[#2a2f38] rounded-lg border border-gray-600 overflow-hidden",children:[u.jsx("div",{className:"bg-[#444b59] px-4 py-3 border-b border-gray-600",children:u.jsx("h4",{className:"text-sm font-semibold text-white uppercase tracking-wide",children:"Key Features"})}),u.jsx("div",{className:"p-4",children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded-md hover:bg-[#3d434f]/50 transition-colors",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),u.jsx("span",{className:"text-sm text-slate-300 text-left",children:"Interactive piano with multiple instruments and audio effects"})]}),u.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded-md hover:bg-[#3d434f]/50 transition-colors",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),u.jsx("span",{className:"text-sm text-slate-300 text-left",children:"Pattern sequencer with customizable rhythmic patterns"})]}),u.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded-md hover:bg-[#3d434f]/50 transition-colors",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),u.jsx("span",{className:"text-sm text-slate-300 text-left",children:"Extensive chord explorer with mode-based chord generation"})]}),u.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded-md hover:bg-[#3d434f]/50 transition-colors",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),u.jsx("span",{className:"text-sm text-slate-300 text-left",children:"Real-time visualization of scale notes and chord relationships"})]}),u.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded-md hover:bg-[#3d434f]/50 transition-colors",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),u.jsx("span",{className:"text-sm text-slate-300 text-left",children:"Live mode for performance and improvisation"})]})]})})]}),u.jsxs("div",{className:"bg-[#2a2f38] rounded-lg border border-gray-600 overflow-hidden",children:[u.jsx("div",{className:"bg-[#444b59] px-4 py-3 border-b border-gray-600",children:u.jsx("h4",{className:"text-sm font-semibold text-white uppercase tracking-wide",children:"Links"})}),u.jsxs("div",{className:"p-4 space-y-3",children:[u.jsxs("a",{href:"https://github.com/jekrch/chord-analyzr",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-3 rounded-lg bg-[#3d434f]/50 hover:bg-[#4a5262]/70 transition-all duration-200 group",children:[u.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-700 group-hover:bg-gray-600 transition-colors",children:u.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 0C4.477 0 0 4.484 0 10.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0110 4.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.203 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.942.359.31.678.921.678 1.856 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0020 10.017C20 4.484 15.522 0 10 0z",clipRule:"evenodd"})})}),u.jsxs("div",{className:"flex-1 text-left",children:[u.jsx("div",{className:"text-sm font-medium text-white group-hover:text-blue-200 transition-colors",children:"GitHub Repository"}),u.jsx("div",{className:"text-xs text-slate-400",children:"View source code and documentation"})]})]}),u.jsxs("a",{href:"https://jacobkrch.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-3 rounded-lg bg-[#3d434f]/50 hover:bg-[#4a5262]/70 transition-all duration-200 group",children:[u.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-blue-600 group-hover:bg-blue-500 transition-colors",children:u.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})}),u.jsx("div",{className:"flex-1 text-left",children:u.jsx("div",{className:"text-sm font-medium text-white group-hover:text-blue-200 transition-colors",children:"jacobkrch.com"})})]})]})]}),u.jsx("div",{className:"pt-4 border-t border-gray-600/50",children:u.jsx("p",{className:"text-xs text-slate-400 text-left",children:" 2025 Jacob Krch. All rights reserved."})})]})})},Xn=({title:t,children:r,defaultOpen:o=!1})=>{const[s,a]=b.useState(o);return u.jsxs("div",{className:"bg-[#2a2f38] rounded-lg border border-gray-600 overflow-hidden mb-4",children:[u.jsxs("button",{onClick:()=>a(!s),className:"w-full flex items-center justify-between p-4 text-left bg-[#444b59] border-b border-gray-600 hover:bg-[#4a5262] transition-all duration-200",children:[u.jsx("h4",{className:"text-sm font-semibold text-white uppercase tracking-wide",children:t}),s?u.jsx(Qr,{className:"w-4 h-4 text-slate-300 flex-shrink-0"}):u.jsx(fg,{className:"w-4 h-4 text-slate-300 flex-shrink-0"})]}),s&&u.jsx("div",{className:"p-4 text-slate-300",children:r})]})},lE=({isOpen:t,onClose:r})=>u.jsx(Yu,{isOpen:t,onClose:r,title:"Help & Guide",className:"max-w-4xl max-h-[85vh]",fixedHeader:!0,children:u.jsxs("div",{className:"p-6 space-y-4",children:[u.jsx(Xn,{title:"Quick Start",defaultOpen:!0,children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-start space-x-4 p-3 rounded-lg bg-[#3d434f]/30 hover:bg-[#3d434f]/50 transition-colors",children:[u.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-blue-600 text-white text-sm font-bold flex-shrink-0",children:"1"}),u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-sm font-semibold text-white mb-1",children:"Choose a Key & Mode"}),u.jsx("div",{className:"text-sm text-slate-300",children:"Use the Controls section to select your musical key and mode (like C Ionian, D# Lydian, etc.)"})]})]}),u.jsxs("div",{className:"flex items-start space-x-4 p-3 rounded-lg bg-[#3d434f]/30 hover:bg-[#3d434f]/50 transition-colors",children:[u.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-blue-600 text-white text-sm font-bold flex-shrink-0",children:"2"}),u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-sm font-semibold text-white mb-1",children:"Explore Chords"}),u.jsx("div",{className:"text-sm text-slate-300",children:"Browse the Chord Explorer below to discover chords that fit your chosen key/mode"})]})]}),u.jsxs("div",{className:"flex items-start space-x-4 p-3 rounded-lg bg-[#3d434f]/30 hover:bg-[#3d434f]/50 transition-colors",children:[u.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-blue-600 text-white text-sm font-bold flex-shrink-0",children:"3"}),u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-sm font-semibold text-white mb-1",children:"Build Sequences"}),u.jsx("div",{className:"text-sm text-slate-300",children:"Click the + button on chords to add them to your sequence"})]})]}),u.jsxs("div",{className:"flex items-start space-x-4 p-3 rounded-lg bg-[#3d434f]/30 hover:bg-[#3d434f]/50 transition-colors",children:[u.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-blue-600 text-white text-sm font-bold flex-shrink-0",children:"4"}),u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-sm font-semibold text-white mb-1",children:"Create Patterns"}),u.jsx("div",{className:"text-sm text-slate-300",children:"Use the Sequencer to create rhythmic patterns for your chords"})]})]}),u.jsxs("div",{className:"flex items-start space-x-4 p-3 rounded-lg bg-[#3d434f]/30 hover:bg-[#3d434f]/50 transition-colors",children:[u.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-blue-600 text-white text-sm font-bold flex-shrink-0",children:"5"}),u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-sm font-semibold text-white mb-1",children:"Play & Perform"}),u.jsx("div",{className:"text-sm text-slate-300",children:"Hit Play to hear your creation, or use Live Mode for real-time performance"})]})]})]})}),u.jsx(Xn,{title:"Keyboard Shortcuts",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsx("h5",{className:"text-white font-semibold text-sm border-b border-gray-600 pb-2 text-left",children:"Playback Control"}),u.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md bg-[#3d434f]/30",children:[u.jsx("span",{className:"text-sm text-left",children:"Play/Pause sequencer"}),u.jsx("kbd",{className:"px-2 py-1 bg-gray-700 rounded text-xs font-mono",children:"Space"})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("h5",{className:"text-white font-semibold text-sm border-b border-gray-600 pb-2 text-left",children:"Navigation"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md bg-[#3d434f]/30",children:[u.jsx("span",{className:"text-sm text-left",children:"Expand chord buttons"}),u.jsx("kbd",{className:"px-2 py-1 bg-gray-700 rounded text-xs font-mono",children:"L"})]}),u.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md bg-[#3d434f]/30",children:[u.jsx("span",{className:"text-sm text-left",children:"Select chord from sequence"}),u.jsx("kbd",{className:"px-2 py-1 bg-gray-700 rounded text-xs font-mono",children:"1-9"})]})]})]})]})}),u.jsx(Xn,{title:"Piano & Audio Controls",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[u.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Piano Interaction"}),u.jsx("p",{className:"text-sm text-left",children:"Click piano keys to play individual notes. The piano highlights scale notes and chord tones based on your current selection."})]}),u.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[u.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Audio Settings"}),u.jsx("p",{className:"text-sm mb-3 text-left",children:"Access comprehensive audio controls through the Settings panel in the Controls section:"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-start space-x-2 text-sm",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),u.jsxs("div",{className:"text-left",children:[u.jsx("strong",{className:"text-white",children:"Voice:"})," ",u.jsx("span",{className:"text-slate-300",children:"Choose from multiple instrument sounds"})]})]}),u.jsxs("div",{className:"flex items-start space-x-2 text-sm",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),u.jsxs("div",{className:"text-left",children:[u.jsx("strong",{className:"text-white",children:"Volume & Octave:"})," ",u.jsx("span",{className:"text-slate-300",children:"Adjust overall volume and pitch range"})]})]}),u.jsxs("div",{className:"flex items-start space-x-2 text-sm",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),u.jsxs("div",{className:"text-left",children:[u.jsx("strong",{className:"text-white",children:"Effects:"})," ",u.jsx("span",{className:"text-slate-300",children:"Add reverb, chorus, and delay"})]})]}),u.jsxs("div",{className:"flex items-start space-x-2 text-sm",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),u.jsxs("div",{className:"text-left",children:[u.jsx("strong",{className:"text-white",children:"Equalizer:"})," ",u.jsx("span",{className:"text-slate-300",children:"Shape the sound with bass, mid, and treble controls"})]})]}),u.jsxs("div",{className:"flex items-start space-x-2 text-sm",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),u.jsxs("div",{className:"text-left",children:[u.jsx("strong",{className:"text-white",children:"Note Duration:"})," ",u.jsx("span",{className:"text-slate-300",children:"Control how long notes ring out"})]})]})]})]})]})}),u.jsx(Xn,{title:"Pattern Sequencer",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[u.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Understanding Patterns"}),u.jsx("p",{className:"text-sm mb-3 text-left",children:"Patterns control which chord tones play at different time steps. Each step can be:"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-md bg-[#2a2f38]",children:[u.jsx("code",{className:"px-2 py-1 bg-gray-700 rounded text-xs font-mono text-white min-w-[4rem] text-center",children:""}),u.jsx("span",{className:"text-sm text-slate-300 text-left",children:"Rest/silence"})]}),u.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-md bg-[#2a2f38]",children:[u.jsx("code",{className:"px-2 py-1 bg-gray-700 rounded text-xs font-mono text-white min-w-[4rem] text-center",children:"1, 2, 3..."}),u.jsx("span",{className:"text-sm text-slate-300 text-left",children:"Play the 1st, 2nd, 3rd... note of the chord"})]}),u.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-md bg-[#2a2f38]",children:[u.jsx("code",{className:"px-2 py-1 bg-gray-700 rounded text-xs font-mono text-white min-w-[4rem] text-center",children:"1, 2..."}),u.jsx("span",{className:"text-sm text-slate-300 text-left",children:"Play the note one octave higher"})]})]})]}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:u.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[u.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Pattern Controls"}),u.jsxs("div",{className:"space-y-2 text-sm text-left",children:[u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Add/Remove Steps:"})," Use the +/- buttons to change pattern length"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Pattern Presets:"})," Choose from pre-built patterns or create your own"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Timing:"})," Adjust BPM, subdivision, and swing feel"]})]})]})})]})}),u.jsx(Xn,{title:"Chord Explorer & Sequences",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[u.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Finding Chords"}),u.jsx("p",{className:"text-sm mb-3 text-left",children:"The Chord Explorer shows all chords that fit your selected key and mode. You can:"}),u.jsxs("div",{className:"space-y-2 text-sm text-left",children:[u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Filter by root note"})," to find specific chord types"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Search"})," for chord names or note combinations"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Click to preview"})," any chord"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Click "})," to see the individual notes in a chord"]})]})]}),u.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[u.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Building Sequences"}),u.jsxs("p",{className:"text-sm mb-3 text-left",children:["Add chords to your sequence using the ",u.jsx("span",{className:"text-green-400 font-bold",children:"+"})," button. Your chord sequence appears at the bottom where you can:"]}),u.jsxs("div",{className:"space-y-2 text-sm text-left",children:[u.jsx("div",{children:"Click any chord to play it immediately"}),u.jsx("div",{children:"Use numbers 1-9 to jump between chords"}),u.jsx("div",{children:"Toggle Delete mode to remove unwanted chords"}),u.jsx("div",{children:"Clear all chords to start fresh"}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-blue-400",children:"Click the gear icon"})," to enter Edit mode and modify chords"]})]})]})]})}),u.jsx(Xn,{title:"Chord Editing",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[u.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Edit Mode"}),u.jsxs("p",{className:"text-sm mb-3 text-left",children:["Click the ",u.jsx("span",{className:"text-blue-400 font-bold",children:"gear icon"})," next to your chord sequence to enter Edit Mode. In this mode, you can:"]}),u.jsxs("div",{className:"space-y-2 text-sm text-left",children:[u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Click any chord"})," to open the chord editor"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Modify chord voicings"})," by reordering notes"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Add slash chords"})," to change the bass note"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Preview changes"})," before saving them"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[u.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Slash Chords"}),u.jsx("p",{className:"text-sm mb-3 text-left",children:"Create slash chords (like C/E) by specifying a bass note:"}),u.jsxs("div",{className:"space-y-2 text-sm text-left",children:[u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Bass Note Field:"})," Enter a note name (e.g., E, Gb, C)"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Automatic Voicing:"})," The bass note moves to the lowest position"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Chord Name:"})," Updates to show the slash notation (C/E)"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Remove Bass:"})," Clear the field to return to original chord"]})]})]}),u.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[u.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Note Reordering"}),u.jsx("p",{className:"text-sm mb-3 text-left",children:"Change the order of chord notes for different voicings:"}),u.jsxs("div",{className:"space-y-2 text-sm text-left",children:[u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Drag & Drop:"})," Drag notes to reorder them"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Arrow Buttons:"})," Use up/down arrows to move notes"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Auto-Detection:"})," Slash note updates automatically when you change the bass"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Visual Feedback:"})," Slash notes are highlighted in amber"]})]})]})]}),u.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[u.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Editor Controls"}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2 text-sm text-left",children:[u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Preview:"})," Click the play button to hear your changes"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Save:"})," Green checkmark to confirm edits"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Cancel:"})," Discard changes and close editor"]})]}),u.jsxs("div",{className:"space-y-2 text-sm text-left",children:[u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Original Notes:"})," Editor preserves original chord voicing"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Real-time Updates:"})," Changes reflect immediately in the editor"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Full-screen:"})," Editor takes over the entire interface for focused editing"]})]})]})]})]})}),u.jsx(Xn,{title:"Live Mode",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[u.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Performance Mode"}),u.jsx("p",{className:"text-sm mb-3 text-left",children:"Live Mode expands your chord sequence into a full-screen performance interface perfect for:"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded-md bg-[#2a2f38]",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),u.jsxs("div",{className:"text-sm text-left",children:[u.jsx("strong",{className:"text-white",children:"Live performance:"})," ",u.jsx("span",{className:"text-slate-300",children:"Large, touch-friendly chord buttons"})]})]}),u.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded-md bg-[#2a2f38]",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),u.jsxs("div",{className:"text-sm text-left",children:[u.jsx("strong",{className:"text-white",children:"Practice sessions:"})," ",u.jsx("span",{className:"text-slate-300",children:"Easy chord switching with visual feedback"})]})]}),u.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded-md bg-[#2a2f38]",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),u.jsxs("div",{className:"text-sm text-left",children:[u.jsx("strong",{className:"text-white",children:"Composition:"})," ",u.jsx("span",{className:"text-slate-300",children:"Hear chord progressions in real-time"})]})]})]})]}),u.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[u.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Using Live Mode"}),u.jsxs("div",{className:"space-y-2 text-sm text-left",children:[u.jsx("div",{children:'Click "Expand" in the chord sequence to enter Live Mode'}),u.jsx("div",{children:"Use keyboard numbers 1-9 or click/tap chord buttons"}),u.jsx("div",{children:"The sequencer continues playing your patterns"}),u.jsx("div",{children:"Active chord is highlighted in blue"})]})]})]})}),u.jsxs(Xn,{title:"Interface Tips",children:[u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[u.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Navigation"}),u.jsxs("div",{className:"space-y-2 text-sm text-left",children:[u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Sequencer Header:"})," Click to show/hide the pattern editor"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Settings Panels:"})," Most sections have expandable settings"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Status Indicators:"})," Top bar shows current key, mode, and playback status"]})]})]})}),u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[u.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Visual Feedback"}),u.jsxs("div",{className:"space-y-2 text-sm text-left",children:[u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Piano Keys:"})," Scale notes are highlighted in blue"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Chord Tones:"})," Active chord notes show in brighter colors"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Step Indicator:"})," Shows current position in the pattern"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Animations:"})," Visual feedback for chord changes and playback"]})]})]})})]}),u.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30 mt-4",children:[u.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Responsive Design"}),u.jsx("p",{className:"text-sm text-left",children:"The interface adapts to different screen sizes. On mobile devices, some controls are simplified and touch-optimized for better usability."})]})]}),u.jsx(Xn,{title:"Troubleshooting",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[u.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Audio Issues"}),u.jsxs("div",{className:"space-y-2 text-sm text-left",children:[u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"No sound:"})," Check device volume and ensure audio isn't muted"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"iOS devices:"})," Tap any button first to initialize audio"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Distorted audio:"})," Lower the volume setting in piano controls"]})]})]}),u.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[u.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Performance"}),u.jsxs("div",{className:"space-y-2 text-sm text-left",children:[u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Lag or glitches:"})," Close other browser tabs using audio"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Mobile performance:"})," Use lower reverb/effect settings for better performance"]})]})]})]})}),u.jsx("div",{className:"mt-8 pt-6 border-t border-gray-600/50",children:u.jsx("p",{className:"text-xs text-slate-400 text-left",children:"Need more help? Check the GitHub repository for detailed documentation and examples."})})]})}),og=()=>{const[t,r]=b.useState(!1),[o,s]=b.useState(!1),[a,l]=b.useState(!1),d=b.useRef(null),f=b.useRef(null),p=Cn(),{key:m,mode:x}=p;b.useEffect(()=>{const N=S=>{d.current&&f.current&&!d.current.contains(S.target)&&!f.current.contains(S.target)&&l(!1)};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]);const g=N=>{N(),l(!1)},y=()=>{s(!0)};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"bg-[#3d434f] border-b border-gray-600",children:u.jsx("div",{className:"relative",children:u.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"relative flex items-center mt-2",children:[u.jsx("div",{className:"relative w-12 h-12",children:u.jsxs("svg",{viewBox:"0 0 48 48",className:"w-12 h-12",children:[u.jsx("polygon",{points:"24,2 38,12 38,28 24,38 10,28 10,12",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-slate-300"}),u.jsx("circle",{cx:"18",cy:"20",r:"2",fill:"currentColor",className:"text-slate-400"}),u.jsx("circle",{cx:"30",cy:"20",r:"2",fill:"currentColor",className:"text-slate-400"}),u.jsx("circle",{cx:"24",cy:"28",r:"2",fill:"currentColor",className:"text-slate-400"}),u.jsx("line",{x1:"18",y1:"20",x2:"24",y2:"28",stroke:"currentColor",strokeWidth:"1.5",className:"text-slate-400"}),u.jsx("line",{x1:"30",y1:"20",x2:"24",y2:"28",stroke:"currentColor",strokeWidth:"1.5",className:"text-slate-400"}),u.jsx("line",{x1:"18",y1:"20",x2:"30",y2:"20",stroke:"currentColor",strokeWidth:"1.5",className:"text-slate-400"})]})}),u.jsx("div",{className:"absolute -top-1 -right-0 w-2 h-2 border border-slate-400 transform rotate-39"})]}),u.jsx("div",{className:"flex items-center space-x-3",children:u.jsxs("div",{className:"flex flex-col items-start",children:[u.jsx("h1",{className:"text-xl font-bold text-blue-500 tracking-tight leading-none",children:"modal"}),u.jsxs("div",{className:"flex items-center space-x-0.5",children:[u.jsx("span",{className:"text-xs text-slate-400 font-medium uppercase tracking-widest",children:"chord"}),u.jsx("div",{className:"w-1 h-1 mr-[0.2em] bg-slate-400"}),u.jsx("span",{className:"text-xs text-slate-400 font-medium uppercase tracking-widest",children:"buildr"})]})]})})]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"hidden sm:flex items-center space-x-2 text-sm",children:[u.jsx("div",{className:"px-2 py-0.5 bg-[#444b59] border border-gray-600 rounded text-slate-300 font-mono",children:m}),u.jsx("div",{className:"w-px h-4 bg-slate-600"}),u.jsx("div",{className:"px-2 py-1 bg-[#444b59] border border-gray-600 rounded text-slate-300 text-xs font-mono",children:x})]}),u.jsxs("div",{className:"relative",children:[u.jsx("button",{ref:f,onClick:()=>l(!a),className:"w-9 h-9 flex items-center justify-center text-slate-400 hover:text-slate-200 hover:bg-[#4a5262] rounded-lg transition-all duration-200 border border-transparent hover:border-gray-600",title:"Menu",children:u.jsx(jb,{className:"w-5 h-5"})}),a&&u.jsx("div",{ref:d,className:"absolute right-0 mt-2 w-64 bg-[#3d434f] border border-gray-600 rounded-lg shadow-xl z-50 overflow-hidden",children:u.jsxs("div",{className:"py-2",children:[u.jsxs("button",{onClick:()=>g(()=>r(!0)),className:"w-full px-4 py-2.5 text-left flex items-center space-x-3 text-slate-400 hover:text-slate-200 hover:bg-[#4a5262] transition-all duration-150",children:[u.jsx(Pb,{className:"w-4 h-4 flex-shrink-0"}),u.jsx("span",{className:"text-sm font-medium",children:"About"})]}),u.jsxs("button",{onClick:()=>g(()=>s(!0)),className:"w-full px-4 py-2.5 text-left flex items-center space-x-3 text-slate-400 hover:text-slate-200 hover:bg-[#4a5262] transition-all duration-150",children:[u.jsx(hg,{className:"w-4 h-4 flex-shrink-0"}),u.jsx("span",{className:"text-sm font-medium",children:"Help"})]})]})})]})]})]})})}),u.jsx(aE,{isOpen:t,onClose:()=>r(!1),onOpenHelp:y}),u.jsx(lE,{isOpen:o,onClose:()=>s(!1)})]})},cE=(t,r,o,s)=>t?s:r!==null&&o[r]?.pattern?o[r].pattern:s,uE=()=>{const{globalPatternState:t,currentlyActivePattern:r}=ko(),{temporaryChord:o,activeChordIndex:s,addedChords:a}=Ln(),{isPlaying:l,bpm:d,currentStep:f}=t,p=b.useMemo(()=>cE(o,s,a,r),[o,s,a,r]);if(!l)return null;const m=p.length>0?p.length:1,x=f%m+1;return u.jsx("div",{className:"w-full px-2 mx-auto items-center",children:u.jsx("div",{className:"px-6 py-3 bg-green-900 bg-opacity-50 rounded-lg border border-green-700 w-full max-w-7xl mx-auto",children:u.jsxs("div",{className:"text-sm text-green-300 flex items-center justify-center space-x-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse mr-2"}),u.jsx("span",{className:"font-medium",children:"Sequencer Active"})]}),u.jsxs("div",{className:"text-xs opacity-80",children:["Pattern: ",p.join("-")," |",` ${d}`," BPM | Step ",x,"/",m,o&&u.jsxs("span",{className:"ml-2 text-yellow-300",children:[" ",o.name]}),!o&&s!==null&&u.jsxs("span",{className:"ml-2 text-purple-300",children:[" ",a[s]?.name]}),!o&&s===null&&u.jsx("span",{className:"ml-2 text-cyan-300",children:" Global pattern"})]})]})})})};function dE(){const{isLiveMode:t,handleChordClick:r,addChordClick:o}=pb(),s=b.useRef(null),a=b.useRef(!1),[l,d]=b.useState(!1),f=b.useRef(!1),p=b.useRef(null),m=b.useCallback(()=>{const g=window.innerHeight,y=parseFloat(getComputedStyle(document.documentElement).fontSize),N=g<35*y;N!==f.current&&(f.current=N,d(N),setTimeout(()=>{p.current&&(p.current.style.overflow="hidden",p.current.offsetHeight,p.current.style.overflow="auto")},50))},[]);b.useEffect(()=>{let g;const y=()=>{clearTimeout(g),g=setTimeout(m,100)},N=()=>{setTimeout(()=>{if(m(),p.current&&/Mobi|Android/i.test(navigator.userAgent)){const S=p.current;S.style.overflowY="hidden",S.style.touchAction="pan-y",S.offsetHeight,S.style.overflowY="auto",S.style.WebkitOverflowScrolling="touch"}},250)};return m(),window.addEventListener("resize",y,{passive:!0}),window.addEventListener("orientationchange",N,{passive:!0}),()=>{clearTimeout(g),window.removeEventListener("resize",y),window.removeEventListener("orientationchange",N)}},[m]),b.useEffect(()=>{if(p.current){const g=p.current;g.style.WebkitOverflowScrolling="touch",g.style.touchAction="pan-y",g.style.overscrollBehavior="contain"}},[l]);const x=async()=>{if(!a.current)try{await s.current?.play(),a.current=!0,document.removeEventListener("touchstart",x),document.removeEventListener("mousedown",x),document.removeEventListener("click",x)}catch(g){console.error("failed to initialize audio:",g)}};return b.useEffect(()=>(document.addEventListener("touchstart",x),document.addEventListener("mousedown",x),document.addEventListener("click",x),()=>{document.removeEventListener("touchstart",x),document.removeEventListener("mousedown",x),document.removeEventListener("click",x)}),[]),u.jsxs("div",{className:"select-none text-center bg-[#282c34] min-h-screen h-screen w-screen overflow-hidden flex flex-col",children:[u.jsx("audio",{ref:s,preload:"auto",children:u.jsx("source",{src:"/silence.mp3",type:"audio/mp3"})}),!l&&u.jsx("div",{className:"flex-shrink-0",children:u.jsx(og,{})}),u.jsxs("div",{ref:p,className:"flex-1 overflow-y-auto flex flex-col",style:{WebkitOverflowScrolling:"touch",touchAction:"pan-y",overscrollBehavior:"contain"},children:[l&&u.jsx("div",{className:"flex-shrink-0",children:u.jsx(og,{})}),u.jsxs("div",{className:`flex flex-col items-center justify-start text-[calc(10px+2vmin)] text-white p-4 space-y-6 pb-32 ${l?"":"mt-2"} ${t?"pointer-events-none opacity-30":""}`,children:[u.jsx("div",{className:"w-full max-w-7xl",children:u.jsx(V1,{hideConfigControls:!0})}),u.jsx(iE,{}),u.jsx(W1,{}),u.jsx(uE,{}),u.jsx("div",{className:"w-full max-w-7xl mb-20 mt-2",children:u.jsx(Ub,{onChordClick:r,addChordClick:o})})]})]}),u.jsx("div",{className:"flex-shrink-0",children:u.jsx(rE,{})})]})}sy.createRoot(document.getElementById("root")).render(u.jsx(Ne.StrictMode,{children:u.jsx(dE,{})}));
