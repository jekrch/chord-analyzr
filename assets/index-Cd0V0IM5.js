(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function o(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=o(a);fetch(a.href,l)}})();var Ji=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Vx(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var r=t.default;if(typeof r=="function"){var o=function s(){var a=!1;try{a=this instanceof s}catch{}return a?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};o.prototype=r.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var a=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(o,s,a.get?a:{enumerable:!0,get:function(){return t[s]}})}),o}var wc={exports:{}},ms={},Nc={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sh;function Gx(){if(sh)return ke;sh=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.iterator;function y(D){return D===null||typeof D!="object"?null:(D=v&&D[v]||D["@@iterator"],typeof D=="function"?D:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,j={};function E(D,C,K){this.props=D,this.context=C,this.refs=j,this.updater=K||N}E.prototype.isReactComponent={},E.prototype.setState=function(D,C){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,C,"setState")},E.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function W(){}W.prototype=E.prototype;function V(D,C,K){this.props=D,this.context=C,this.refs=j,this.updater=K||N}var B=V.prototype=new W;B.constructor=V,S(B,E.prototype),B.isPureReactComponent=!0;var z=Array.isArray,T=Object.prototype.hasOwnProperty,$={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function F(D,C,K){var re,pe={},me=null,Ee=null;if(C!=null)for(re in C.ref!==void 0&&(Ee=C.ref),C.key!==void 0&&(me=""+C.key),C)T.call(C,re)&&!R.hasOwnProperty(re)&&(pe[re]=C[re]);var le=arguments.length-2;if(le===1)pe.children=K;else if(1<le){for(var de=Array(le),ue=0;ue<le;ue++)de[ue]=arguments[ue+2];pe.children=de}if(D&&D.defaultProps)for(re in le=D.defaultProps,le)pe[re]===void 0&&(pe[re]=le[re]);return{$$typeof:t,type:D,key:me,ref:Ee,props:pe,_owner:$.current}}function X(D,C){return{$$typeof:t,type:D.type,key:C,ref:D.ref,props:D.props,_owner:D._owner}}function ee(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function ie(D){var C={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(K){return C[K]})}var k=/\/+/g;function O(D,C){return typeof D=="object"&&D!==null&&D.key!=null?ie(""+D.key):C.toString(36)}function G(D,C,K,re,pe){var me=typeof D;(me==="undefined"||me==="boolean")&&(D=null);var Ee=!1;if(D===null)Ee=!0;else switch(me){case"string":case"number":Ee=!0;break;case"object":switch(D.$$typeof){case t:case r:Ee=!0}}if(Ee)return Ee=D,pe=pe(Ee),D=re===""?"."+O(Ee,0):re,z(pe)?(K="",D!=null&&(K=D.replace(k,"$&/")+"/"),G(pe,C,K,"",function(ue){return ue})):pe!=null&&(ee(pe)&&(pe=X(pe,K+(!pe.key||Ee&&Ee.key===pe.key?"":(""+pe.key).replace(k,"$&/")+"/")+D)),C.push(pe)),1;if(Ee=0,re=re===""?".":re+":",z(D))for(var le=0;le<D.length;le++){me=D[le];var de=re+O(me,le);Ee+=G(me,C,K,de,pe)}else if(de=y(D),typeof de=="function")for(D=de.call(D),le=0;!(me=D.next()).done;)me=me.value,de=re+O(me,le++),Ee+=G(me,C,K,de,pe);else if(me==="object")throw C=String(D),Error("Objects are not valid as a React child (found: "+(C==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":C)+"). If you meant to render a collection of children, use an array instead.");return Ee}function te(D,C,K){if(D==null)return D;var re=[],pe=0;return G(D,re,"","",function(me){return C.call(K,me,pe++)}),re}function J(D){if(D._status===-1){var C=D._result;C=C(),C.then(function(K){(D._status===0||D._status===-1)&&(D._status=1,D._result=K)},function(K){(D._status===0||D._status===-1)&&(D._status=2,D._result=K)}),D._status===-1&&(D._status=0,D._result=C)}if(D._status===1)return D._result.default;throw D._result}var se={current:null},Q={transition:null},H={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:Q,ReactCurrentOwner:$};function _(){throw Error("act(...) is not supported in production builds of React.")}return ke.Children={map:te,forEach:function(D,C,K){te(D,function(){C.apply(this,arguments)},K)},count:function(D){var C=0;return te(D,function(){C++}),C},toArray:function(D){return te(D,function(C){return C})||[]},only:function(D){if(!ee(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},ke.Component=E,ke.Fragment=o,ke.Profiler=a,ke.PureComponent=V,ke.StrictMode=s,ke.Suspense=p,ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,ke.act=_,ke.cloneElement=function(D,C,K){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var re=S({},D.props),pe=D.key,me=D.ref,Ee=D._owner;if(C!=null){if(C.ref!==void 0&&(me=C.ref,Ee=$.current),C.key!==void 0&&(pe=""+C.key),D.type&&D.type.defaultProps)var le=D.type.defaultProps;for(de in C)T.call(C,de)&&!R.hasOwnProperty(de)&&(re[de]=C[de]===void 0&&le!==void 0?le[de]:C[de])}var de=arguments.length-2;if(de===1)re.children=K;else if(1<de){le=Array(de);for(var ue=0;ue<de;ue++)le[ue]=arguments[ue+2];re.children=le}return{$$typeof:t,type:D.type,key:pe,ref:me,props:re,_owner:Ee}},ke.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:l,_context:D},D.Consumer=D},ke.createElement=F,ke.createFactory=function(D){var C=F.bind(null,D);return C.type=D,C},ke.createRef=function(){return{current:null}},ke.forwardRef=function(D){return{$$typeof:f,render:D}},ke.isValidElement=ee,ke.lazy=function(D){return{$$typeof:x,_payload:{_status:-1,_result:D},_init:J}},ke.memo=function(D,C){return{$$typeof:m,type:D,compare:C===void 0?null:C}},ke.startTransition=function(D){var C=Q.transition;Q.transition={};try{D()}finally{Q.transition=C}},ke.unstable_act=_,ke.useCallback=function(D,C){return se.current.useCallback(D,C)},ke.useContext=function(D){return se.current.useContext(D)},ke.useDebugValue=function(){},ke.useDeferredValue=function(D){return se.current.useDeferredValue(D)},ke.useEffect=function(D,C){return se.current.useEffect(D,C)},ke.useId=function(){return se.current.useId()},ke.useImperativeHandle=function(D,C,K){return se.current.useImperativeHandle(D,C,K)},ke.useInsertionEffect=function(D,C){return se.current.useInsertionEffect(D,C)},ke.useLayoutEffect=function(D,C){return se.current.useLayoutEffect(D,C)},ke.useMemo=function(D,C){return se.current.useMemo(D,C)},ke.useReducer=function(D,C,K){return se.current.useReducer(D,C,K)},ke.useRef=function(D){return se.current.useRef(D)},ke.useState=function(D){return se.current.useState(D)},ke.useSyncExternalStore=function(D,C,K){return se.current.useSyncExternalStore(D,C,K)},ke.useTransition=function(){return se.current.useTransition()},ke.version="18.3.1",ke}var ih;function Ea(){return ih||(ih=1,Nc.exports=Gx()),Nc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ah;function Hx(){if(ah)return ms;ah=1;var t=Ea(),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function d(f,p,m){var x,v={},y=null,N=null;m!==void 0&&(y=""+m),p.key!==void 0&&(y=""+p.key),p.ref!==void 0&&(N=p.ref);for(x in p)s.call(p,x)&&!l.hasOwnProperty(x)&&(v[x]=p[x]);if(f&&f.defaultProps)for(x in p=f.defaultProps,p)v[x]===void 0&&(v[x]=p[x]);return{$$typeof:r,type:f,key:y,ref:N,props:v,_owner:a.current}}return ms.Fragment=o,ms.jsx=d,ms.jsxs=d,ms}var lh;function Ux(){return lh||(lh=1,wc.exports=Hx()),wc.exports}var u=Ux(),b=Ea();const we=Dr(b);var ea={},Cc={exports:{}},Vt={},Sc={exports:{}},Ec={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ch;function Wx(){return ch||(ch=1,function(t){function r(Q,H){var _=Q.length;Q.push(H);e:for(;0<_;){var D=_-1>>>1,C=Q[D];if(0<a(C,H))Q[D]=H,Q[_]=C,_=D;else break e}}function o(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var H=Q[0],_=Q.pop();if(_!==H){Q[0]=_;e:for(var D=0,C=Q.length,K=C>>>1;D<K;){var re=2*(D+1)-1,pe=Q[re],me=re+1,Ee=Q[me];if(0>a(pe,_))me<C&&0>a(Ee,pe)?(Q[D]=Ee,Q[me]=_,D=me):(Q[D]=pe,Q[re]=_,D=re);else if(me<C&&0>a(Ee,_))Q[D]=Ee,Q[me]=_,D=me;else break e}}return H}function a(Q,H){var _=Q.sortIndex-H.sortIndex;return _!==0?_:Q.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var d=Date,f=d.now();t.unstable_now=function(){return d.now()-f}}var p=[],m=[],x=1,v=null,y=3,N=!1,S=!1,j=!1,E=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(Q){for(var H=o(m);H!==null;){if(H.callback===null)s(m);else if(H.startTime<=Q)s(m),H.sortIndex=H.expirationTime,r(p,H);else break;H=o(m)}}function z(Q){if(j=!1,B(Q),!S)if(o(p)!==null)S=!0,J(T);else{var H=o(m);H!==null&&se(z,H.startTime-Q)}}function T(Q,H){S=!1,j&&(j=!1,W(F),F=-1),N=!0;var _=y;try{for(B(H),v=o(p);v!==null&&(!(v.expirationTime>H)||Q&&!ie());){var D=v.callback;if(typeof D=="function"){v.callback=null,y=v.priorityLevel;var C=D(v.expirationTime<=H);H=t.unstable_now(),typeof C=="function"?v.callback=C:v===o(p)&&s(p),B(H)}else s(p);v=o(p)}if(v!==null)var K=!0;else{var re=o(m);re!==null&&se(z,re.startTime-H),K=!1}return K}finally{v=null,y=_,N=!1}}var $=!1,R=null,F=-1,X=5,ee=-1;function ie(){return!(t.unstable_now()-ee<X)}function k(){if(R!==null){var Q=t.unstable_now();ee=Q;var H=!0;try{H=R(!0,Q)}finally{H?O():($=!1,R=null)}}else $=!1}var O;if(typeof V=="function")O=function(){V(k)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,te=G.port2;G.port1.onmessage=k,O=function(){te.postMessage(null)}}else O=function(){E(k,0)};function J(Q){R=Q,$||($=!0,O())}function se(Q,H){F=E(function(){Q(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){S||N||(S=!0,J(T))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return o(p)},t.unstable_next=function(Q){switch(y){case 1:case 2:case 3:var H=3;break;default:H=y}var _=y;y=H;try{return Q()}finally{y=_}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,H){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var _=y;y=Q;try{return H()}finally{y=_}},t.unstable_scheduleCallback=function(Q,H,_){var D=t.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?D+_:D):_=D,Q){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=_+C,Q={id:x++,callback:H,priorityLevel:Q,startTime:_,expirationTime:C,sortIndex:-1},_>D?(Q.sortIndex=_,r(m,Q),o(p)===null&&Q===o(m)&&(j?(W(F),F=-1):j=!0,se(z,_-D))):(Q.sortIndex=C,r(p,Q),S||N||(S=!0,J(T))),Q},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(Q){var H=y;return function(){var _=y;y=H;try{return Q.apply(this,arguments)}finally{y=_}}}}(Ec)),Ec}var uh;function qx(){return uh||(uh=1,Sc.exports=Wx()),Sc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dh;function Kx(){if(dh)return Vt;dh=1;var t=Ea(),r=qx();function o(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,n){d(e,n),d(e+"Capture",n)}function d(e,n){for(a[e]=n,e=0;e<n.length;e++)s.add(n[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},v={};function y(e){return p.call(v,e)?!0:p.call(x,e)?!1:m.test(e)?v[e]=!0:(x[e]=!0,!1)}function N(e,n,i,c){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return c?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function S(e,n,i,c){if(n===null||typeof n>"u"||N(e,n,i,c))return!0;if(c)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function j(e,n,i,c,h,g,w){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=i,this.propertyName=e,this.type=n,this.sanitizeURL=g,this.removeEmptyString=w}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){E[e]=new j(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];E[n]=new j(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){E[e]=new j(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){E[e]=new j(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){E[e]=new j(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){E[e]=new j(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){E[e]=new j(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){E[e]=new j(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){E[e]=new j(e,5,!1,e.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function V(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(W,V);E[n]=new j(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(W,V);E[n]=new j(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(W,V);E[n]=new j(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){E[e]=new j(e,1,!1,e.toLowerCase(),null,!1,!1)}),E.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){E[e]=new j(e,1,!1,e.toLowerCase(),null,!0,!0)});function B(e,n,i,c){var h=E.hasOwnProperty(n)?E[n]:null;(h!==null?h.type!==0:c||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(S(n,i,h,c)&&(i=null),c||h===null?y(n)&&(i===null?e.removeAttribute(n):e.setAttribute(n,""+i)):h.mustUseProperty?e[h.propertyName]=i===null?h.type===3?!1:"":i:(n=h.attributeName,c=h.attributeNamespace,i===null?e.removeAttribute(n):(h=h.type,i=h===3||h===4&&i===!0?"":""+i,c?e.setAttributeNS(c,n,i):e.setAttribute(n,i))))}var z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),$=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),ee=Symbol.for("react.provider"),ie=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),Q=Symbol.iterator;function H(e){return e===null||typeof e!="object"?null:(e=Q&&e[Q]||e["@@iterator"],typeof e=="function"?e:null)}var _=Object.assign,D;function C(e){if(D===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);D=n&&n[1]||""}return`
`+D+e}var K=!1;function re(e,n){if(!e||K)return"";K=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(Y){var c=Y}Reflect.construct(e,[],n)}else{try{n.call()}catch(Y){c=Y}e.call(n.prototype)}else{try{throw Error()}catch(Y){c=Y}e()}}catch(Y){if(Y&&c&&typeof Y.stack=="string"){for(var h=Y.stack.split(`
`),g=c.stack.split(`
`),w=h.length-1,A=g.length-1;1<=w&&0<=A&&h[w]!==g[A];)A--;for(;1<=w&&0<=A;w--,A--)if(h[w]!==g[A]){if(w!==1||A!==1)do if(w--,A--,0>A||h[w]!==g[A]){var P=`
`+h[w].replace(" at new "," at ");return e.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",e.displayName)),P}while(1<=w&&0<=A);break}}}finally{K=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?C(e):""}function pe(e){switch(e.tag){case 5:return C(e.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 2:case 15:return e=re(e.type,!1),e;case 11:return e=re(e.type.render,!1),e;case 1:return e=re(e.type,!0),e;default:return""}}function me(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case $:return"Portal";case X:return"Profiler";case F:return"StrictMode";case O:return"Suspense";case G:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ie:return(e.displayName||"Context")+".Consumer";case ee:return(e._context.displayName||"Context")+".Provider";case k:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case te:return n=e.displayName||null,n!==null?n:me(e.type)||"Memo";case J:n=e._payload,e=e._init;try{return me(e(n))}catch{}}return null}function Ee(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(n);case 8:return n===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function le(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function de(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ue(e){var n=de(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),c=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var h=i.get,g=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(w){c=""+w,g.call(this,w)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Re(e){e._valueTracker||(e._valueTracker=ue(e))}function ge(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),c="";return e&&(c=de(e)?e.checked?"true":"false":e.value),e=c,e!==i?(n.setValue(e),!0):!1}function Te(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qe(e,n){var i=n.checked;return _({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Ke(e,n){var i=n.defaultValue==null?"":n.defaultValue,c=n.checked!=null?n.checked:n.defaultChecked;i=le(n.value!=null?n.value:i),e._wrapperState={initialChecked:c,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function at(e,n){n=n.checked,n!=null&&B(e,"checked",n,!1)}function Tt(e,n){at(e,n);var i=le(n.value),c=n.type;if(i!=null)c==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(c==="submit"||c==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?tn(e,n.type,i):n.hasOwnProperty("defaultValue")&&tn(e,n.type,le(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function en(e,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var c=n.type;if(!(c!=="submit"&&c!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,i||n===e.value||(e.value=n),e.defaultValue=n}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function tn(e,n,i){(n!=="number"||Te(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var lt=Array.isArray;function bt(e,n,i,c){if(e=e.options,n){n={};for(var h=0;h<i.length;h++)n["$"+i[h]]=!0;for(i=0;i<e.length;i++)h=n.hasOwnProperty("$"+e[i].value),e[i].selected!==h&&(e[i].selected=h),h&&c&&(e[i].defaultSelected=!0)}else{for(i=""+le(i),n=null,h=0;h<e.length;h++){if(e[h].value===i){e[h].selected=!0,c&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Dn(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(o(91));return _({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function jr(e,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(o(92));if(lt(i)){if(1<i.length)throw Error(o(93));i=i[0]}n=i}n==null&&(n=""),i=n}e._wrapperState={initialValue:le(i)}}function Ar(e,n){var i=le(n.value),c=le(n.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),n.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),c!=null&&(e.defaultValue=""+c)}function Qr(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Bn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ht(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Bn(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ut,jn=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,c,h){MSApp.execUnsafeLocalFunction(function(){return e(n,i,c,h)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Ut=Ut||document.createElement("div"),Ut.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Ut.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function An(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var wt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xr=["Webkit","ms","Moz","O"];Object.keys(wt).forEach(function(e){Xr.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),wt[n]=wt[e]})});function Zr(e,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||wt.hasOwnProperty(e)&&wt[e]?(""+n).trim():n+"px"}function Jr(e,n){e=e.style;for(var i in n)if(n.hasOwnProperty(i)){var c=i.indexOf("--")===0,h=Zr(i,n[i],c);i==="float"&&(i="cssFloat"),c?e.setProperty(i,h):e[i]=h}}var Pr=_({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jn(e,n){if(n){if(Pr[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(o(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(o(61))}if(n.style!=null&&typeof n.style!="object")throw Error(o(62))}}function Fn(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $n=null;function Rr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var er=null,Pn=null,L=null;function Z(e){if(e=es(e)){if(typeof er!="function")throw Error(o(280));var n=e.stateNode;n&&(n=hi(n),er(e.stateNode,e.type,n))}}function he(e){Pn?L?L.push(e):L=[e]:Pn=e}function Pe(){if(Pn){var e=Pn,n=L;if(L=Pn=null,Z(e),n)for(e=0;e<n.length;e++)Z(n[e])}}function _e(e,n){return e(n)}function Be(){}var Ye=!1;function Pt(e,n,i){if(Ye)return e(n,i);Ye=!0;try{return _e(e,n,i)}finally{Ye=!1,(Pn!==null||L!==null)&&(Be(),Pe())}}function ze(e,n){var i=e.stateNode;if(i===null)return null;var c=hi(i);if(c===null)return null;i=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(o(231,n,typeof i));return i}var Ot=!1;if(f)try{var Qe={};Object.defineProperty(Qe,"passive",{get:function(){Ot=!0}}),window.addEventListener("test",Qe,Qe),window.removeEventListener("test",Qe,Qe)}catch{Ot=!1}function Nt(e,n,i,c,h,g,w,A,P){var Y=Array.prototype.slice.call(arguments,3);try{n.apply(i,Y)}catch(oe){this.onError(oe)}}var _t=!1,Rn=null,Wt=!1,zn=null,Oo={onError:function(e){_t=!0,Rn=e}};function Qv(e,n,i,c,h,g,w,A,P){_t=!1,Rn=null,Nt.apply(Oo,arguments)}function Xv(e,n,i,c,h,g,w,A,P){if(Qv.apply(this,arguments),_t){if(_t){var Y=Rn;_t=!1,Rn=null}else throw Error(o(198));Wt||(Wt=!0,zn=Y)}}function kr(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function jd(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Ad(e){if(kr(e)!==e)throw Error(o(188))}function Zv(e){var n=e.alternate;if(!n){if(n=kr(e),n===null)throw Error(o(188));return n!==e?null:e}for(var i=e,c=n;;){var h=i.return;if(h===null)break;var g=h.alternate;if(g===null){if(c=h.return,c!==null){i=c;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===i)return Ad(h),e;if(g===c)return Ad(h),n;g=g.sibling}throw Error(o(188))}if(i.return!==c.return)i=h,c=g;else{for(var w=!1,A=h.child;A;){if(A===i){w=!0,i=h,c=g;break}if(A===c){w=!0,c=h,i=g;break}A=A.sibling}if(!w){for(A=g.child;A;){if(A===i){w=!0,i=g,c=h;break}if(A===c){w=!0,c=g,i=h;break}A=A.sibling}if(!w)throw Error(o(189))}}if(i.alternate!==c)throw Error(o(190))}if(i.tag!==3)throw Error(o(188));return i.stateNode.current===i?e:n}function Pd(e){return e=Zv(e),e!==null?Rd(e):null}function Rd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Rd(e);if(n!==null)return n;e=e.sibling}return null}var kd=r.unstable_scheduleCallback,Id=r.unstable_cancelCallback,Jv=r.unstable_shouldYield,e0=r.unstable_requestPaint,et=r.unstable_now,t0=r.unstable_getCurrentPriorityLevel,za=r.unstable_ImmediatePriority,Md=r.unstable_UserBlockingPriority,Ks=r.unstable_NormalPriority,n0=r.unstable_LowPriority,Td=r.unstable_IdlePriority,Ys=null,kn=null;function r0(e){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(Ys,e,void 0,(e.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:i0,o0=Math.log,s0=Math.LN2;function i0(e){return e>>>=0,e===0?32:31-(o0(e)/s0|0)|0}var Qs=64,Xs=4194304;function _o(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zs(e,n){var i=e.pendingLanes;if(i===0)return 0;var c=0,h=e.suspendedLanes,g=e.pingedLanes,w=i&268435455;if(w!==0){var A=w&~h;A!==0?c=_o(A):(g&=w,g!==0&&(c=_o(g)))}else w=i&~h,w!==0?c=_o(w):g!==0&&(c=_o(g));if(c===0)return 0;if(n!==0&&n!==c&&(n&h)===0&&(h=c&-c,g=n&-n,h>=g||h===16&&(g&4194240)!==0))return n;if((c&4)!==0&&(c|=i&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=c;0<n;)i=31-hn(n),h=1<<i,c|=e[i],n&=~h;return c}function a0(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function l0(e,n){for(var i=e.suspendedLanes,c=e.pingedLanes,h=e.expirationTimes,g=e.pendingLanes;0<g;){var w=31-hn(g),A=1<<w,P=h[w];P===-1?((A&i)===0||(A&c)!==0)&&(h[w]=a0(A,n)):P<=n&&(e.expiredLanes|=A),g&=~A}}function Va(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Od(){var e=Qs;return Qs<<=1,(Qs&4194240)===0&&(Qs=64),e}function Ga(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Lo(e,n,i){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-hn(n),e[n]=i}function c0(e,n){var i=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var c=e.eventTimes;for(e=e.expirationTimes;0<i;){var h=31-hn(i),g=1<<h;n[h]=0,c[h]=-1,e[h]=-1,i&=~g}}function Ha(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var c=31-hn(i),h=1<<c;h&n|e[c]&n&&(e[c]|=n),i&=~h}}var $e=0;function _d(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ld,Ua,Bd,Fd,$d,Wa=!1,Js=[],tr=null,nr=null,rr=null,Bo=new Map,Fo=new Map,or=[],u0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zd(e,n){switch(e){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":Bo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fo.delete(n.pointerId)}}function $o(e,n,i,c,h,g){return e===null||e.nativeEvent!==g?(e={blockedOn:n,domEventName:i,eventSystemFlags:c,nativeEvent:g,targetContainers:[h]},n!==null&&(n=es(n),n!==null&&Ua(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function d0(e,n,i,c,h){switch(n){case"focusin":return tr=$o(tr,e,n,i,c,h),!0;case"dragenter":return nr=$o(nr,e,n,i,c,h),!0;case"mouseover":return rr=$o(rr,e,n,i,c,h),!0;case"pointerover":var g=h.pointerId;return Bo.set(g,$o(Bo.get(g)||null,e,n,i,c,h)),!0;case"gotpointercapture":return g=h.pointerId,Fo.set(g,$o(Fo.get(g)||null,e,n,i,c,h)),!0}return!1}function Vd(e){var n=Ir(e.target);if(n!==null){var i=kr(n);if(i!==null){if(n=i.tag,n===13){if(n=jd(i),n!==null){e.blockedOn=n,$d(e.priority,function(){Bd(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ei(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=Ka(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var c=new i.constructor(i.type,i);$n=c,i.target.dispatchEvent(c),$n=null}else return n=es(i),n!==null&&Ua(n),e.blockedOn=i,!1;n.shift()}return!0}function Gd(e,n,i){ei(e)&&i.delete(n)}function f0(){Wa=!1,tr!==null&&ei(tr)&&(tr=null),nr!==null&&ei(nr)&&(nr=null),rr!==null&&ei(rr)&&(rr=null),Bo.forEach(Gd),Fo.forEach(Gd)}function zo(e,n){e.blockedOn===n&&(e.blockedOn=null,Wa||(Wa=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,f0)))}function Vo(e){function n(h){return zo(h,e)}if(0<Js.length){zo(Js[0],e);for(var i=1;i<Js.length;i++){var c=Js[i];c.blockedOn===e&&(c.blockedOn=null)}}for(tr!==null&&zo(tr,e),nr!==null&&zo(nr,e),rr!==null&&zo(rr,e),Bo.forEach(n),Fo.forEach(n),i=0;i<or.length;i++)c=or[i],c.blockedOn===e&&(c.blockedOn=null);for(;0<or.length&&(i=or[0],i.blockedOn===null);)Vd(i),i.blockedOn===null&&or.shift()}var eo=z.ReactCurrentBatchConfig,ti=!0;function p0(e,n,i,c){var h=$e,g=eo.transition;eo.transition=null;try{$e=1,qa(e,n,i,c)}finally{$e=h,eo.transition=g}}function h0(e,n,i,c){var h=$e,g=eo.transition;eo.transition=null;try{$e=4,qa(e,n,i,c)}finally{$e=h,eo.transition=g}}function qa(e,n,i,c){if(ti){var h=Ka(e,n,i,c);if(h===null)dl(e,n,c,ni,i),zd(e,c);else if(d0(h,e,n,i,c))c.stopPropagation();else if(zd(e,c),n&4&&-1<u0.indexOf(e)){for(;h!==null;){var g=es(h);if(g!==null&&Ld(g),g=Ka(e,n,i,c),g===null&&dl(e,n,c,ni,i),g===h)break;h=g}h!==null&&c.stopPropagation()}else dl(e,n,c,null,i)}}var ni=null;function Ka(e,n,i,c){if(ni=null,e=Rr(c),e=Ir(e),e!==null)if(n=kr(e),n===null)e=null;else if(i=n.tag,i===13){if(e=jd(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return ni=e,null}function Hd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(t0()){case za:return 1;case Md:return 4;case Ks:case n0:return 16;case Td:return 536870912;default:return 16}default:return 16}}var sr=null,Ya=null,ri=null;function Ud(){if(ri)return ri;var e,n=Ya,i=n.length,c,h="value"in sr?sr.value:sr.textContent,g=h.length;for(e=0;e<i&&n[e]===h[e];e++);var w=i-e;for(c=1;c<=w&&n[i-c]===h[g-c];c++);return ri=h.slice(e,1<c?1-c:void 0)}function oi(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function si(){return!0}function Wd(){return!1}function qt(e){function n(i,c,h,g,w){this._reactName=i,this._targetInst=h,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(i=e[A],this[A]=i?i(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?si:Wd,this.isPropagationStopped=Wd,this}return _(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),n}var to={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qa=qt(to),Go=_({},to,{view:0,detail:0}),m0=qt(Go),Xa,Za,Ho,ii=_({},Go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:el,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ho&&(Ho&&e.type==="mousemove"?(Xa=e.screenX-Ho.screenX,Za=e.screenY-Ho.screenY):Za=Xa=0,Ho=e),Xa)},movementY:function(e){return"movementY"in e?e.movementY:Za}}),qd=qt(ii),g0=_({},ii,{dataTransfer:0}),v0=qt(g0),x0=_({},Go,{relatedTarget:0}),Ja=qt(x0),y0=_({},to,{animationName:0,elapsedTime:0,pseudoElement:0}),b0=qt(y0),w0=_({},to,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),N0=qt(w0),C0=_({},to,{data:0}),Kd=qt(C0),S0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},E0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},D0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function j0(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=D0[e])?!!n[e]:!1}function el(){return j0}var A0=_({},Go,{key:function(e){if(e.key){var n=S0[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=oi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?E0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:el,charCode:function(e){return e.type==="keypress"?oi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),P0=qt(A0),R0=_({},ii,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yd=qt(R0),k0=_({},Go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:el}),I0=qt(k0),M0=_({},to,{propertyName:0,elapsedTime:0,pseudoElement:0}),T0=qt(M0),O0=_({},ii,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_0=qt(O0),L0=[9,13,27,32],tl=f&&"CompositionEvent"in window,Uo=null;f&&"documentMode"in document&&(Uo=document.documentMode);var B0=f&&"TextEvent"in window&&!Uo,Qd=f&&(!tl||Uo&&8<Uo&&11>=Uo),Xd=" ",Zd=!1;function Jd(e,n){switch(e){case"keyup":return L0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ef(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var no=!1;function F0(e,n){switch(e){case"compositionend":return ef(n);case"keypress":return n.which!==32?null:(Zd=!0,Xd);case"textInput":return e=n.data,e===Xd&&Zd?null:e;default:return null}}function $0(e,n){if(no)return e==="compositionend"||!tl&&Jd(e,n)?(e=Ud(),ri=Ya=sr=null,no=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Qd&&n.locale!=="ko"?null:n.data;default:return null}}var z0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!z0[e.type]:n==="textarea"}function nf(e,n,i,c){he(c),n=di(n,"onChange"),0<n.length&&(i=new Qa("onChange","change",null,i,c),e.push({event:i,listeners:n}))}var Wo=null,qo=null;function V0(e){wf(e,0)}function ai(e){var n=ao(e);if(ge(n))return e}function G0(e,n){if(e==="change")return n}var rf=!1;if(f){var nl;if(f){var rl="oninput"in document;if(!rl){var of=document.createElement("div");of.setAttribute("oninput","return;"),rl=typeof of.oninput=="function"}nl=rl}else nl=!1;rf=nl&&(!document.documentMode||9<document.documentMode)}function sf(){Wo&&(Wo.detachEvent("onpropertychange",af),qo=Wo=null)}function af(e){if(e.propertyName==="value"&&ai(qo)){var n=[];nf(n,qo,e,Rr(e)),Pt(V0,n)}}function H0(e,n,i){e==="focusin"?(sf(),Wo=n,qo=i,Wo.attachEvent("onpropertychange",af)):e==="focusout"&&sf()}function U0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ai(qo)}function W0(e,n){if(e==="click")return ai(n)}function q0(e,n){if(e==="input"||e==="change")return ai(n)}function K0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var mn=typeof Object.is=="function"?Object.is:K0;function Ko(e,n){if(mn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),c=Object.keys(n);if(i.length!==c.length)return!1;for(c=0;c<i.length;c++){var h=i[c];if(!p.call(n,h)||!mn(e[h],n[h]))return!1}return!0}function lf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cf(e,n){var i=lf(e);e=0;for(var c;i;){if(i.nodeType===3){if(c=e+i.textContent.length,e<=n&&c>=n)return{node:i,offset:n-e};e=c}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=lf(i)}}function uf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?uf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function df(){for(var e=window,n=Te();n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=Te(e.document)}return n}function ol(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Y0(e){var n=df(),i=e.focusedElem,c=e.selectionRange;if(n!==i&&i&&i.ownerDocument&&uf(i.ownerDocument.documentElement,i)){if(c!==null&&ol(i)){if(n=c.start,e=c.end,e===void 0&&(e=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(e,i.value.length);else if(e=(n=i.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var h=i.textContent.length,g=Math.min(c.start,h);c=c.end===void 0?g:Math.min(c.end,h),!e.extend&&g>c&&(h=c,c=g,g=h),h=cf(i,g);var w=cf(i,c);h&&w&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==w.node||e.focusOffset!==w.offset)&&(n=n.createRange(),n.setStart(h.node,h.offset),e.removeAllRanges(),g>c?(e.addRange(n),e.extend(w.node,w.offset)):(n.setEnd(w.node,w.offset),e.addRange(n)))}}for(n=[],e=i;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)e=n[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Q0=f&&"documentMode"in document&&11>=document.documentMode,ro=null,sl=null,Yo=null,il=!1;function ff(e,n,i){var c=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;il||ro==null||ro!==Te(c)||(c=ro,"selectionStart"in c&&ol(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Yo&&Ko(Yo,c)||(Yo=c,c=di(sl,"onSelect"),0<c.length&&(n=new Qa("onSelect","select",null,n,i),e.push({event:n,listeners:c}),n.target=ro)))}function li(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var oo={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionend:li("Transition","TransitionEnd")},al={},pf={};f&&(pf=document.createElement("div").style,"AnimationEvent"in window||(delete oo.animationend.animation,delete oo.animationiteration.animation,delete oo.animationstart.animation),"TransitionEvent"in window||delete oo.transitionend.transition);function ci(e){if(al[e])return al[e];if(!oo[e])return e;var n=oo[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in pf)return al[e]=n[i];return e}var hf=ci("animationend"),mf=ci("animationiteration"),gf=ci("animationstart"),vf=ci("transitionend"),xf=new Map,yf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ir(e,n){xf.set(e,n),l(n,[e])}for(var ll=0;ll<yf.length;ll++){var cl=yf[ll],X0=cl.toLowerCase(),Z0=cl[0].toUpperCase()+cl.slice(1);ir(X0,"on"+Z0)}ir(hf,"onAnimationEnd"),ir(mf,"onAnimationIteration"),ir(gf,"onAnimationStart"),ir("dblclick","onDoubleClick"),ir("focusin","onFocus"),ir("focusout","onBlur"),ir(vf,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qo));function bf(e,n,i){var c=e.type||"unknown-event";e.currentTarget=i,Xv(c,n,void 0,e),e.currentTarget=null}function wf(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var c=e[i],h=c.event;c=c.listeners;e:{var g=void 0;if(n)for(var w=c.length-1;0<=w;w--){var A=c[w],P=A.instance,Y=A.currentTarget;if(A=A.listener,P!==g&&h.isPropagationStopped())break e;bf(h,A,Y),g=P}else for(w=0;w<c.length;w++){if(A=c[w],P=A.instance,Y=A.currentTarget,A=A.listener,P!==g&&h.isPropagationStopped())break e;bf(h,A,Y),g=P}}}if(Wt)throw e=zn,Wt=!1,zn=null,e}function Ge(e,n){var i=n[vl];i===void 0&&(i=n[vl]=new Set);var c=e+"__bubble";i.has(c)||(Nf(n,e,2,!1),i.add(c))}function ul(e,n,i){var c=0;n&&(c|=4),Nf(i,e,c,n)}var ui="_reactListening"+Math.random().toString(36).slice(2);function Xo(e){if(!e[ui]){e[ui]=!0,s.forEach(function(i){i!=="selectionchange"&&(J0.has(i)||ul(i,!1,e),ul(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ui]||(n[ui]=!0,ul("selectionchange",!1,n))}}function Nf(e,n,i,c){switch(Hd(n)){case 1:var h=p0;break;case 4:h=h0;break;default:h=qa}i=h.bind(null,n,i,e),h=void 0,!Ot||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),c?h!==void 0?e.addEventListener(n,i,{capture:!0,passive:h}):e.addEventListener(n,i,!0):h!==void 0?e.addEventListener(n,i,{passive:h}):e.addEventListener(n,i,!1)}function dl(e,n,i,c,h){var g=c;if((n&1)===0&&(n&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var A=c.stateNode.containerInfo;if(A===h||A.nodeType===8&&A.parentNode===h)break;if(w===4)for(w=c.return;w!==null;){var P=w.tag;if((P===3||P===4)&&(P=w.stateNode.containerInfo,P===h||P.nodeType===8&&P.parentNode===h))return;w=w.return}for(;A!==null;){if(w=Ir(A),w===null)return;if(P=w.tag,P===5||P===6){c=g=w;continue e}A=A.parentNode}}c=c.return}Pt(function(){var Y=g,oe=Rr(i),ae=[];e:{var ne=xf.get(e);if(ne!==void 0){var ve=Qa,ye=e;switch(e){case"keypress":if(oi(i)===0)break e;case"keydown":case"keyup":ve=P0;break;case"focusin":ye="focus",ve=Ja;break;case"focusout":ye="blur",ve=Ja;break;case"beforeblur":case"afterblur":ve=Ja;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=qd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=v0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=I0;break;case hf:case mf:case gf:ve=b0;break;case vf:ve=T0;break;case"scroll":ve=m0;break;case"wheel":ve=_0;break;case"copy":case"cut":case"paste":ve=N0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=Yd}var be=(n&4)!==0,tt=!be&&e==="scroll",U=be?ne!==null?ne+"Capture":null:ne;be=[];for(var I=Y,q;I!==null;){q=I;var ce=q.stateNode;if(q.tag===5&&ce!==null&&(q=ce,U!==null&&(ce=ze(I,U),ce!=null&&be.push(Zo(I,ce,q)))),tt)break;I=I.return}0<be.length&&(ne=new ve(ne,ye,null,i,oe),ae.push({event:ne,listeners:be}))}}if((n&7)===0){e:{if(ne=e==="mouseover"||e==="pointerover",ve=e==="mouseout"||e==="pointerout",ne&&i!==$n&&(ye=i.relatedTarget||i.fromElement)&&(Ir(ye)||ye[Vn]))break e;if((ve||ne)&&(ne=oe.window===oe?oe:(ne=oe.ownerDocument)?ne.defaultView||ne.parentWindow:window,ve?(ye=i.relatedTarget||i.toElement,ve=Y,ye=ye?Ir(ye):null,ye!==null&&(tt=kr(ye),ye!==tt||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(ve=null,ye=Y),ve!==ye)){if(be=qd,ce="onMouseLeave",U="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(be=Yd,ce="onPointerLeave",U="onPointerEnter",I="pointer"),tt=ve==null?ne:ao(ve),q=ye==null?ne:ao(ye),ne=new be(ce,I+"leave",ve,i,oe),ne.target=tt,ne.relatedTarget=q,ce=null,Ir(oe)===Y&&(be=new be(U,I+"enter",ye,i,oe),be.target=q,be.relatedTarget=tt,ce=be),tt=ce,ve&&ye)t:{for(be=ve,U=ye,I=0,q=be;q;q=so(q))I++;for(q=0,ce=U;ce;ce=so(ce))q++;for(;0<I-q;)be=so(be),I--;for(;0<q-I;)U=so(U),q--;for(;I--;){if(be===U||U!==null&&be===U.alternate)break t;be=so(be),U=so(U)}be=null}else be=null;ve!==null&&Cf(ae,ne,ve,be,!1),ye!==null&&tt!==null&&Cf(ae,tt,ye,be,!0)}}e:{if(ne=Y?ao(Y):window,ve=ne.nodeName&&ne.nodeName.toLowerCase(),ve==="select"||ve==="input"&&ne.type==="file")var Ne=G0;else if(tf(ne))if(rf)Ne=q0;else{Ne=U0;var De=H0}else(ve=ne.nodeName)&&ve.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(Ne=W0);if(Ne&&(Ne=Ne(e,Y))){nf(ae,Ne,i,oe);break e}De&&De(e,ne,Y),e==="focusout"&&(De=ne._wrapperState)&&De.controlled&&ne.type==="number"&&tn(ne,"number",ne.value)}switch(De=Y?ao(Y):window,e){case"focusin":(tf(De)||De.contentEditable==="true")&&(ro=De,sl=Y,Yo=null);break;case"focusout":Yo=sl=ro=null;break;case"mousedown":il=!0;break;case"contextmenu":case"mouseup":case"dragend":il=!1,ff(ae,i,oe);break;case"selectionchange":if(Q0)break;case"keydown":case"keyup":ff(ae,i,oe)}var je;if(tl)e:{switch(e){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else no?Jd(e,i)&&(Ae="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Ae="onCompositionStart");Ae&&(Qd&&i.locale!=="ko"&&(no||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&no&&(je=Ud()):(sr=oe,Ya="value"in sr?sr.value:sr.textContent,no=!0)),De=di(Y,Ae),0<De.length&&(Ae=new Kd(Ae,e,null,i,oe),ae.push({event:Ae,listeners:De}),je?Ae.data=je:(je=ef(i),je!==null&&(Ae.data=je)))),(je=B0?F0(e,i):$0(e,i))&&(Y=di(Y,"onBeforeInput"),0<Y.length&&(oe=new Kd("onBeforeInput","beforeinput",null,i,oe),ae.push({event:oe,listeners:Y}),oe.data=je))}wf(ae,n)})}function Zo(e,n,i){return{instance:e,listener:n,currentTarget:i}}function di(e,n){for(var i=n+"Capture",c=[];e!==null;){var h=e,g=h.stateNode;h.tag===5&&g!==null&&(h=g,g=ze(e,i),g!=null&&c.unshift(Zo(e,g,h)),g=ze(e,n),g!=null&&c.push(Zo(e,g,h))),e=e.return}return c}function so(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Cf(e,n,i,c,h){for(var g=n._reactName,w=[];i!==null&&i!==c;){var A=i,P=A.alternate,Y=A.stateNode;if(P!==null&&P===c)break;A.tag===5&&Y!==null&&(A=Y,h?(P=ze(i,g),P!=null&&w.unshift(Zo(i,P,A))):h||(P=ze(i,g),P!=null&&w.push(Zo(i,P,A)))),i=i.return}w.length!==0&&e.push({event:n,listeners:w})}var ex=/\r\n?/g,tx=/\u0000|\uFFFD/g;function Sf(e){return(typeof e=="string"?e:""+e).replace(ex,`
`).replace(tx,"")}function fi(e,n,i){if(n=Sf(n),Sf(e)!==n&&i)throw Error(o(425))}function pi(){}var fl=null,pl=null;function hl(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ml=typeof setTimeout=="function"?setTimeout:void 0,nx=typeof clearTimeout=="function"?clearTimeout:void 0,Ef=typeof Promise=="function"?Promise:void 0,rx=typeof queueMicrotask=="function"?queueMicrotask:typeof Ef<"u"?function(e){return Ef.resolve(null).then(e).catch(ox)}:ml;function ox(e){setTimeout(function(){throw e})}function gl(e,n){var i=n,c=0;do{var h=i.nextSibling;if(e.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(c===0){e.removeChild(h),Vo(n);return}c--}else i!=="$"&&i!=="$?"&&i!=="$!"||c++;i=h}while(i);Vo(n)}function ar(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Df(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}var io=Math.random().toString(36).slice(2),In="__reactFiber$"+io,Jo="__reactProps$"+io,Vn="__reactContainer$"+io,vl="__reactEvents$"+io,sx="__reactListeners$"+io,ix="__reactHandles$"+io;function Ir(e){var n=e[In];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Vn]||i[In]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=Df(e);e!==null;){if(i=e[In])return i;e=Df(e)}return n}e=i,i=e.parentNode}return null}function es(e){return e=e[In]||e[Vn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ao(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function hi(e){return e[Jo]||null}var xl=[],lo=-1;function lr(e){return{current:e}}function He(e){0>lo||(e.current=xl[lo],xl[lo]=null,lo--)}function Ve(e,n){lo++,xl[lo]=e.current,e.current=n}var cr={},Ct=lr(cr),Lt=lr(!1),Mr=cr;function co(e,n){var i=e.type.contextTypes;if(!i)return cr;var c=e.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===n)return c.__reactInternalMemoizedMaskedChildContext;var h={},g;for(g in i)h[g]=n[g];return c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=h),h}function Bt(e){return e=e.childContextTypes,e!=null}function mi(){He(Lt),He(Ct)}function jf(e,n,i){if(Ct.current!==cr)throw Error(o(168));Ve(Ct,n),Ve(Lt,i)}function Af(e,n,i){var c=e.stateNode;if(n=n.childContextTypes,typeof c.getChildContext!="function")return i;c=c.getChildContext();for(var h in c)if(!(h in n))throw Error(o(108,Ee(e)||"Unknown",h));return _({},i,c)}function gi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cr,Mr=Ct.current,Ve(Ct,e),Ve(Lt,Lt.current),!0}function Pf(e,n,i){var c=e.stateNode;if(!c)throw Error(o(169));i?(e=Af(e,n,Mr),c.__reactInternalMemoizedMergedChildContext=e,He(Lt),He(Ct),Ve(Ct,e)):He(Lt),Ve(Lt,i)}var Gn=null,vi=!1,yl=!1;function Rf(e){Gn===null?Gn=[e]:Gn.push(e)}function ax(e){vi=!0,Rf(e)}function ur(){if(!yl&&Gn!==null){yl=!0;var e=0,n=$e;try{var i=Gn;for($e=1;e<i.length;e++){var c=i[e];do c=c(!0);while(c!==null)}Gn=null,vi=!1}catch(h){throw Gn!==null&&(Gn=Gn.slice(e+1)),kd(za,ur),h}finally{$e=n,yl=!1}}return null}var uo=[],fo=0,xi=null,yi=0,nn=[],rn=0,Tr=null,Hn=1,Un="";function Or(e,n){uo[fo++]=yi,uo[fo++]=xi,xi=e,yi=n}function kf(e,n,i){nn[rn++]=Hn,nn[rn++]=Un,nn[rn++]=Tr,Tr=e;var c=Hn;e=Un;var h=32-hn(c)-1;c&=~(1<<h),i+=1;var g=32-hn(n)+h;if(30<g){var w=h-h%5;g=(c&(1<<w)-1).toString(32),c>>=w,h-=w,Hn=1<<32-hn(n)+h|i<<h|c,Un=g+e}else Hn=1<<g|i<<h|c,Un=e}function bl(e){e.return!==null&&(Or(e,1),kf(e,1,0))}function wl(e){for(;e===xi;)xi=uo[--fo],uo[fo]=null,yi=uo[--fo],uo[fo]=null;for(;e===Tr;)Tr=nn[--rn],nn[rn]=null,Un=nn[--rn],nn[rn]=null,Hn=nn[--rn],nn[rn]=null}var Kt=null,Yt=null,Ue=!1,gn=null;function If(e,n){var i=ln(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=e,n=e.deletions,n===null?(e.deletions=[i],e.flags|=16):n.push(i)}function Mf(e,n){switch(e.tag){case 5:var i=e.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Kt=e,Yt=ar(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Kt=e,Yt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=Tr!==null?{id:Hn,overflow:Un}:null,e.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=ln(18,null,null,0),i.stateNode=n,i.return=e,e.child=i,Kt=e,Yt=null,!0):!1;default:return!1}}function Nl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Cl(e){if(Ue){var n=Yt;if(n){var i=n;if(!Mf(e,n)){if(Nl(e))throw Error(o(418));n=ar(i.nextSibling);var c=Kt;n&&Mf(e,n)?If(c,i):(e.flags=e.flags&-4097|2,Ue=!1,Kt=e)}}else{if(Nl(e))throw Error(o(418));e.flags=e.flags&-4097|2,Ue=!1,Kt=e}}}function Tf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Kt=e}function bi(e){if(e!==Kt)return!1;if(!Ue)return Tf(e),Ue=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!hl(e.type,e.memoizedProps)),n&&(n=Yt)){if(Nl(e))throw Of(),Error(o(418));for(;n;)If(e,n),n=ar(n.nextSibling)}if(Tf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(n===0){Yt=ar(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}e=e.nextSibling}Yt=null}}else Yt=Kt?ar(e.stateNode.nextSibling):null;return!0}function Of(){for(var e=Yt;e;)e=ar(e.nextSibling)}function po(){Yt=Kt=null,Ue=!1}function Sl(e){gn===null?gn=[e]:gn.push(e)}var lx=z.ReactCurrentBatchConfig;function ts(e,n,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(o(309));var c=i.stateNode}if(!c)throw Error(o(147,e));var h=c,g=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===g?n.ref:(n=function(w){var A=h.refs;w===null?delete A[g]:A[g]=w},n._stringRef=g,n)}if(typeof e!="string")throw Error(o(284));if(!i._owner)throw Error(o(290,e))}return e}function wi(e,n){throw e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function _f(e){var n=e._init;return n(e._payload)}function Lf(e){function n(U,I){if(e){var q=U.deletions;q===null?(U.deletions=[I],U.flags|=16):q.push(I)}}function i(U,I){if(!e)return null;for(;I!==null;)n(U,I),I=I.sibling;return null}function c(U,I){for(U=new Map;I!==null;)I.key!==null?U.set(I.key,I):U.set(I.index,I),I=I.sibling;return U}function h(U,I){return U=xr(U,I),U.index=0,U.sibling=null,U}function g(U,I,q){return U.index=q,e?(q=U.alternate,q!==null?(q=q.index,q<I?(U.flags|=2,I):q):(U.flags|=2,I)):(U.flags|=1048576,I)}function w(U){return e&&U.alternate===null&&(U.flags|=2),U}function A(U,I,q,ce){return I===null||I.tag!==6?(I=mc(q,U.mode,ce),I.return=U,I):(I=h(I,q),I.return=U,I)}function P(U,I,q,ce){var Ne=q.type;return Ne===R?oe(U,I,q.props.children,ce,q.key):I!==null&&(I.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===J&&_f(Ne)===I.type)?(ce=h(I,q.props),ce.ref=ts(U,I,q),ce.return=U,ce):(ce=Ui(q.type,q.key,q.props,null,U.mode,ce),ce.ref=ts(U,I,q),ce.return=U,ce)}function Y(U,I,q,ce){return I===null||I.tag!==4||I.stateNode.containerInfo!==q.containerInfo||I.stateNode.implementation!==q.implementation?(I=gc(q,U.mode,ce),I.return=U,I):(I=h(I,q.children||[]),I.return=U,I)}function oe(U,I,q,ce,Ne){return I===null||I.tag!==7?(I=Gr(q,U.mode,ce,Ne),I.return=U,I):(I=h(I,q),I.return=U,I)}function ae(U,I,q){if(typeof I=="string"&&I!==""||typeof I=="number")return I=mc(""+I,U.mode,q),I.return=U,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case T:return q=Ui(I.type,I.key,I.props,null,U.mode,q),q.ref=ts(U,null,I),q.return=U,q;case $:return I=gc(I,U.mode,q),I.return=U,I;case J:var ce=I._init;return ae(U,ce(I._payload),q)}if(lt(I)||H(I))return I=Gr(I,U.mode,q,null),I.return=U,I;wi(U,I)}return null}function ne(U,I,q,ce){var Ne=I!==null?I.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return Ne!==null?null:A(U,I,""+q,ce);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case T:return q.key===Ne?P(U,I,q,ce):null;case $:return q.key===Ne?Y(U,I,q,ce):null;case J:return Ne=q._init,ne(U,I,Ne(q._payload),ce)}if(lt(q)||H(q))return Ne!==null?null:oe(U,I,q,ce,null);wi(U,q)}return null}function ve(U,I,q,ce,Ne){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return U=U.get(q)||null,A(I,U,""+ce,Ne);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case T:return U=U.get(ce.key===null?q:ce.key)||null,P(I,U,ce,Ne);case $:return U=U.get(ce.key===null?q:ce.key)||null,Y(I,U,ce,Ne);case J:var De=ce._init;return ve(U,I,q,De(ce._payload),Ne)}if(lt(ce)||H(ce))return U=U.get(q)||null,oe(I,U,ce,Ne,null);wi(I,ce)}return null}function ye(U,I,q,ce){for(var Ne=null,De=null,je=I,Ae=I=0,dt=null;je!==null&&Ae<q.length;Ae++){je.index>Ae?(dt=je,je=null):dt=je.sibling;var Le=ne(U,je,q[Ae],ce);if(Le===null){je===null&&(je=dt);break}e&&je&&Le.alternate===null&&n(U,je),I=g(Le,I,Ae),De===null?Ne=Le:De.sibling=Le,De=Le,je=dt}if(Ae===q.length)return i(U,je),Ue&&Or(U,Ae),Ne;if(je===null){for(;Ae<q.length;Ae++)je=ae(U,q[Ae],ce),je!==null&&(I=g(je,I,Ae),De===null?Ne=je:De.sibling=je,De=je);return Ue&&Or(U,Ae),Ne}for(je=c(U,je);Ae<q.length;Ae++)dt=ve(je,U,Ae,q[Ae],ce),dt!==null&&(e&&dt.alternate!==null&&je.delete(dt.key===null?Ae:dt.key),I=g(dt,I,Ae),De===null?Ne=dt:De.sibling=dt,De=dt);return e&&je.forEach(function(yr){return n(U,yr)}),Ue&&Or(U,Ae),Ne}function be(U,I,q,ce){var Ne=H(q);if(typeof Ne!="function")throw Error(o(150));if(q=Ne.call(q),q==null)throw Error(o(151));for(var De=Ne=null,je=I,Ae=I=0,dt=null,Le=q.next();je!==null&&!Le.done;Ae++,Le=q.next()){je.index>Ae?(dt=je,je=null):dt=je.sibling;var yr=ne(U,je,Le.value,ce);if(yr===null){je===null&&(je=dt);break}e&&je&&yr.alternate===null&&n(U,je),I=g(yr,I,Ae),De===null?Ne=yr:De.sibling=yr,De=yr,je=dt}if(Le.done)return i(U,je),Ue&&Or(U,Ae),Ne;if(je===null){for(;!Le.done;Ae++,Le=q.next())Le=ae(U,Le.value,ce),Le!==null&&(I=g(Le,I,Ae),De===null?Ne=Le:De.sibling=Le,De=Le);return Ue&&Or(U,Ae),Ne}for(je=c(U,je);!Le.done;Ae++,Le=q.next())Le=ve(je,U,Ae,Le.value,ce),Le!==null&&(e&&Le.alternate!==null&&je.delete(Le.key===null?Ae:Le.key),I=g(Le,I,Ae),De===null?Ne=Le:De.sibling=Le,De=Le);return e&&je.forEach(function(zx){return n(U,zx)}),Ue&&Or(U,Ae),Ne}function tt(U,I,q,ce){if(typeof q=="object"&&q!==null&&q.type===R&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case T:e:{for(var Ne=q.key,De=I;De!==null;){if(De.key===Ne){if(Ne=q.type,Ne===R){if(De.tag===7){i(U,De.sibling),I=h(De,q.props.children),I.return=U,U=I;break e}}else if(De.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===J&&_f(Ne)===De.type){i(U,De.sibling),I=h(De,q.props),I.ref=ts(U,De,q),I.return=U,U=I;break e}i(U,De);break}else n(U,De);De=De.sibling}q.type===R?(I=Gr(q.props.children,U.mode,ce,q.key),I.return=U,U=I):(ce=Ui(q.type,q.key,q.props,null,U.mode,ce),ce.ref=ts(U,I,q),ce.return=U,U=ce)}return w(U);case $:e:{for(De=q.key;I!==null;){if(I.key===De)if(I.tag===4&&I.stateNode.containerInfo===q.containerInfo&&I.stateNode.implementation===q.implementation){i(U,I.sibling),I=h(I,q.children||[]),I.return=U,U=I;break e}else{i(U,I);break}else n(U,I);I=I.sibling}I=gc(q,U.mode,ce),I.return=U,U=I}return w(U);case J:return De=q._init,tt(U,I,De(q._payload),ce)}if(lt(q))return ye(U,I,q,ce);if(H(q))return be(U,I,q,ce);wi(U,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,I!==null&&I.tag===6?(i(U,I.sibling),I=h(I,q),I.return=U,U=I):(i(U,I),I=mc(q,U.mode,ce),I.return=U,U=I),w(U)):i(U,I)}return tt}var ho=Lf(!0),Bf=Lf(!1),Ni=lr(null),Ci=null,mo=null,El=null;function Dl(){El=mo=Ci=null}function jl(e){var n=Ni.current;He(Ni),e._currentValue=n}function Al(e,n,i){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===i)break;e=e.return}}function go(e,n){Ci=e,El=mo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(Ft=!0),e.firstContext=null)}function on(e){var n=e._currentValue;if(El!==e)if(e={context:e,memoizedValue:n,next:null},mo===null){if(Ci===null)throw Error(o(308));mo=e,Ci.dependencies={lanes:0,firstContext:e}}else mo=mo.next=e;return n}var _r=null;function Pl(e){_r===null?_r=[e]:_r.push(e)}function Ff(e,n,i,c){var h=n.interleaved;return h===null?(i.next=i,Pl(n)):(i.next=h.next,h.next=i),n.interleaved=i,Wn(e,c)}function Wn(e,n){e.lanes|=n;var i=e.alternate;for(i!==null&&(i.lanes|=n),i=e,e=e.return;e!==null;)e.childLanes|=n,i=e.alternate,i!==null&&(i.childLanes|=n),i=e,e=e.return;return i.tag===3?i.stateNode:null}var dr=!1;function Rl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $f(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function fr(e,n,i){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Oe&2)!==0){var h=c.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),c.pending=n,Wn(e,i)}return h=c.interleaved,h===null?(n.next=n,Pl(c)):(n.next=h.next,h.next=n),c.interleaved=n,Wn(e,i)}function Si(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var c=n.lanes;c&=e.pendingLanes,i|=c,n.lanes=i,Ha(e,i)}}function zf(e,n){var i=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,i===c)){var h=null,g=null;if(i=i.firstBaseUpdate,i!==null){do{var w={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};g===null?h=g=w:g=g.next=w,i=i.next}while(i!==null);g===null?h=g=n:g=g.next=n}else h=g=n;i={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:c.shared,effects:c.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}function Ei(e,n,i,c){var h=e.updateQueue;dr=!1;var g=h.firstBaseUpdate,w=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var P=A,Y=P.next;P.next=null,w===null?g=Y:w.next=Y,w=P;var oe=e.alternate;oe!==null&&(oe=oe.updateQueue,A=oe.lastBaseUpdate,A!==w&&(A===null?oe.firstBaseUpdate=Y:A.next=Y,oe.lastBaseUpdate=P))}if(g!==null){var ae=h.baseState;w=0,oe=Y=P=null,A=g;do{var ne=A.lane,ve=A.eventTime;if((c&ne)===ne){oe!==null&&(oe=oe.next={eventTime:ve,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var ye=e,be=A;switch(ne=n,ve=i,be.tag){case 1:if(ye=be.payload,typeof ye=="function"){ae=ye.call(ve,ae,ne);break e}ae=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=be.payload,ne=typeof ye=="function"?ye.call(ve,ae,ne):ye,ne==null)break e;ae=_({},ae,ne);break e;case 2:dr=!0}}A.callback!==null&&A.lane!==0&&(e.flags|=64,ne=h.effects,ne===null?h.effects=[A]:ne.push(A))}else ve={eventTime:ve,lane:ne,tag:A.tag,payload:A.payload,callback:A.callback,next:null},oe===null?(Y=oe=ve,P=ae):oe=oe.next=ve,w|=ne;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;ne=A,A=ne.next,ne.next=null,h.lastBaseUpdate=ne,h.shared.pending=null}}while(!0);if(oe===null&&(P=ae),h.baseState=P,h.firstBaseUpdate=Y,h.lastBaseUpdate=oe,n=h.shared.interleaved,n!==null){h=n;do w|=h.lane,h=h.next;while(h!==n)}else g===null&&(h.shared.lanes=0);Fr|=w,e.lanes=w,e.memoizedState=ae}}function Vf(e,n,i){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var c=e[n],h=c.callback;if(h!==null){if(c.callback=null,c=i,typeof h!="function")throw Error(o(191,h));h.call(c)}}}var ns={},Mn=lr(ns),rs=lr(ns),os=lr(ns);function Lr(e){if(e===ns)throw Error(o(174));return e}function kl(e,n){switch(Ve(os,n),Ve(rs,e),Ve(Mn,ns),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Ht(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Ht(n,e)}He(Mn),Ve(Mn,n)}function vo(){He(Mn),He(rs),He(os)}function Gf(e){Lr(os.current);var n=Lr(Mn.current),i=Ht(n,e.type);n!==i&&(Ve(rs,e),Ve(Mn,i))}function Il(e){rs.current===e&&(He(Mn),He(rs))}var Xe=lr(0);function Di(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ml=[];function Tl(){for(var e=0;e<Ml.length;e++)Ml[e]._workInProgressVersionPrimary=null;Ml.length=0}var ji=z.ReactCurrentDispatcher,Ol=z.ReactCurrentBatchConfig,Br=0,Ze=null,rt=null,ct=null,Ai=!1,ss=!1,is=0,cx=0;function St(){throw Error(o(321))}function _l(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!mn(e[i],n[i]))return!1;return!0}function Ll(e,n,i,c,h,g){if(Br=g,Ze=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,ji.current=e===null||e.memoizedState===null?px:hx,e=i(c,h),ss){g=0;do{if(ss=!1,is=0,25<=g)throw Error(o(301));g+=1,ct=rt=null,n.updateQueue=null,ji.current=mx,e=i(c,h)}while(ss)}if(ji.current=ki,n=rt!==null&&rt.next!==null,Br=0,ct=rt=Ze=null,Ai=!1,n)throw Error(o(300));return e}function Bl(){var e=is!==0;return is=0,e}function Tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Ze.memoizedState=ct=e:ct=ct.next=e,ct}function sn(){if(rt===null){var e=Ze.alternate;e=e!==null?e.memoizedState:null}else e=rt.next;var n=ct===null?Ze.memoizedState:ct.next;if(n!==null)ct=n,rt=e;else{if(e===null)throw Error(o(310));rt=e,e={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},ct===null?Ze.memoizedState=ct=e:ct=ct.next=e}return ct}function as(e,n){return typeof n=="function"?n(e):n}function Fl(e){var n=sn(),i=n.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var c=rt,h=c.baseQueue,g=i.pending;if(g!==null){if(h!==null){var w=h.next;h.next=g.next,g.next=w}c.baseQueue=h=g,i.pending=null}if(h!==null){g=h.next,c=c.baseState;var A=w=null,P=null,Y=g;do{var oe=Y.lane;if((Br&oe)===oe)P!==null&&(P=P.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),c=Y.hasEagerState?Y.eagerState:e(c,Y.action);else{var ae={lane:oe,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};P===null?(A=P=ae,w=c):P=P.next=ae,Ze.lanes|=oe,Fr|=oe}Y=Y.next}while(Y!==null&&Y!==g);P===null?w=c:P.next=A,mn(c,n.memoizedState)||(Ft=!0),n.memoizedState=c,n.baseState=w,n.baseQueue=P,i.lastRenderedState=c}if(e=i.interleaved,e!==null){h=e;do g=h.lane,Ze.lanes|=g,Fr|=g,h=h.next;while(h!==e)}else h===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function $l(e){var n=sn(),i=n.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var c=i.dispatch,h=i.pending,g=n.memoizedState;if(h!==null){i.pending=null;var w=h=h.next;do g=e(g,w.action),w=w.next;while(w!==h);mn(g,n.memoizedState)||(Ft=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),i.lastRenderedState=g}return[g,c]}function Hf(){}function Uf(e,n){var i=Ze,c=sn(),h=n(),g=!mn(c.memoizedState,h);if(g&&(c.memoizedState=h,Ft=!0),c=c.queue,zl(Kf.bind(null,i,c,e),[e]),c.getSnapshot!==n||g||ct!==null&&ct.memoizedState.tag&1){if(i.flags|=2048,ls(9,qf.bind(null,i,c,h,n),void 0,null),ut===null)throw Error(o(349));(Br&30)!==0||Wf(i,n,h)}return h}function Wf(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=Ze.updateQueue,n===null?(n={lastEffect:null,stores:null},Ze.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function qf(e,n,i,c){n.value=i,n.getSnapshot=c,Yf(n)&&Qf(e)}function Kf(e,n,i){return i(function(){Yf(n)&&Qf(e)})}function Yf(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!mn(e,i)}catch{return!0}}function Qf(e){var n=Wn(e,1);n!==null&&bn(n,e,1,-1)}function Xf(e){var n=Tn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:e},n.queue=e,e=e.dispatch=fx.bind(null,Ze,e),[n.memoizedState,e]}function ls(e,n,i,c){return e={tag:e,create:n,destroy:i,deps:c,next:null},n=Ze.updateQueue,n===null?(n={lastEffect:null,stores:null},Ze.updateQueue=n,n.lastEffect=e.next=e):(i=n.lastEffect,i===null?n.lastEffect=e.next=e:(c=i.next,i.next=e,e.next=c,n.lastEffect=e)),e}function Zf(){return sn().memoizedState}function Pi(e,n,i,c){var h=Tn();Ze.flags|=e,h.memoizedState=ls(1|n,i,void 0,c===void 0?null:c)}function Ri(e,n,i,c){var h=sn();c=c===void 0?null:c;var g=void 0;if(rt!==null){var w=rt.memoizedState;if(g=w.destroy,c!==null&&_l(c,w.deps)){h.memoizedState=ls(n,i,g,c);return}}Ze.flags|=e,h.memoizedState=ls(1|n,i,g,c)}function Jf(e,n){return Pi(8390656,8,e,n)}function zl(e,n){return Ri(2048,8,e,n)}function ep(e,n){return Ri(4,2,e,n)}function tp(e,n){return Ri(4,4,e,n)}function np(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function rp(e,n,i){return i=i!=null?i.concat([e]):null,Ri(4,4,np.bind(null,n,e),i)}function Vl(){}function op(e,n){var i=sn();n=n===void 0?null:n;var c=i.memoizedState;return c!==null&&n!==null&&_l(n,c[1])?c[0]:(i.memoizedState=[e,n],e)}function sp(e,n){var i=sn();n=n===void 0?null:n;var c=i.memoizedState;return c!==null&&n!==null&&_l(n,c[1])?c[0]:(e=e(),i.memoizedState=[e,n],e)}function ip(e,n,i){return(Br&21)===0?(e.baseState&&(e.baseState=!1,Ft=!0),e.memoizedState=i):(mn(i,n)||(i=Od(),Ze.lanes|=i,Fr|=i,e.baseState=!0),n)}function ux(e,n){var i=$e;$e=i!==0&&4>i?i:4,e(!0);var c=Ol.transition;Ol.transition={};try{e(!1),n()}finally{$e=i,Ol.transition=c}}function ap(){return sn().memoizedState}function dx(e,n,i){var c=gr(e);if(i={lane:c,action:i,hasEagerState:!1,eagerState:null,next:null},lp(e))cp(n,i);else if(i=Ff(e,n,i,c),i!==null){var h=kt();bn(i,e,c,h),up(i,n,c)}}function fx(e,n,i){var c=gr(e),h={lane:c,action:i,hasEagerState:!1,eagerState:null,next:null};if(lp(e))cp(n,h);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var w=n.lastRenderedState,A=g(w,i);if(h.hasEagerState=!0,h.eagerState=A,mn(A,w)){var P=n.interleaved;P===null?(h.next=h,Pl(n)):(h.next=P.next,P.next=h),n.interleaved=h;return}}catch{}finally{}i=Ff(e,n,h,c),i!==null&&(h=kt(),bn(i,e,c,h),up(i,n,c))}}function lp(e){var n=e.alternate;return e===Ze||n!==null&&n===Ze}function cp(e,n){ss=Ai=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function up(e,n,i){if((i&4194240)!==0){var c=n.lanes;c&=e.pendingLanes,i|=c,n.lanes=i,Ha(e,i)}}var ki={readContext:on,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},px={readContext:on,useCallback:function(e,n){return Tn().memoizedState=[e,n===void 0?null:n],e},useContext:on,useEffect:Jf,useImperativeHandle:function(e,n,i){return i=i!=null?i.concat([e]):null,Pi(4194308,4,np.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Pi(4194308,4,e,n)},useInsertionEffect:function(e,n){return Pi(4,2,e,n)},useMemo:function(e,n){var i=Tn();return n=n===void 0?null:n,e=e(),i.memoizedState=[e,n],e},useReducer:function(e,n,i){var c=Tn();return n=i!==void 0?i(n):n,c.memoizedState=c.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},c.queue=e,e=e.dispatch=dx.bind(null,Ze,e),[c.memoizedState,e]},useRef:function(e){var n=Tn();return e={current:e},n.memoizedState=e},useState:Xf,useDebugValue:Vl,useDeferredValue:function(e){return Tn().memoizedState=e},useTransition:function(){var e=Xf(!1),n=e[0];return e=ux.bind(null,e[1]),Tn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,i){var c=Ze,h=Tn();if(Ue){if(i===void 0)throw Error(o(407));i=i()}else{if(i=n(),ut===null)throw Error(o(349));(Br&30)!==0||Wf(c,n,i)}h.memoizedState=i;var g={value:i,getSnapshot:n};return h.queue=g,Jf(Kf.bind(null,c,g,e),[e]),c.flags|=2048,ls(9,qf.bind(null,c,g,i,n),void 0,null),i},useId:function(){var e=Tn(),n=ut.identifierPrefix;if(Ue){var i=Un,c=Hn;i=(c&~(1<<32-hn(c)-1)).toString(32)+i,n=":"+n+"R"+i,i=is++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=cx++,n=":"+n+"r"+i.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},hx={readContext:on,useCallback:op,useContext:on,useEffect:zl,useImperativeHandle:rp,useInsertionEffect:ep,useLayoutEffect:tp,useMemo:sp,useReducer:Fl,useRef:Zf,useState:function(){return Fl(as)},useDebugValue:Vl,useDeferredValue:function(e){var n=sn();return ip(n,rt.memoizedState,e)},useTransition:function(){var e=Fl(as)[0],n=sn().memoizedState;return[e,n]},useMutableSource:Hf,useSyncExternalStore:Uf,useId:ap,unstable_isNewReconciler:!1},mx={readContext:on,useCallback:op,useContext:on,useEffect:zl,useImperativeHandle:rp,useInsertionEffect:ep,useLayoutEffect:tp,useMemo:sp,useReducer:$l,useRef:Zf,useState:function(){return $l(as)},useDebugValue:Vl,useDeferredValue:function(e){var n=sn();return rt===null?n.memoizedState=e:ip(n,rt.memoizedState,e)},useTransition:function(){var e=$l(as)[0],n=sn().memoizedState;return[e,n]},useMutableSource:Hf,useSyncExternalStore:Uf,useId:ap,unstable_isNewReconciler:!1};function vn(e,n){if(e&&e.defaultProps){n=_({},n),e=e.defaultProps;for(var i in e)n[i]===void 0&&(n[i]=e[i]);return n}return n}function Gl(e,n,i,c){n=e.memoizedState,i=i(c,n),i=i==null?n:_({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ii={isMounted:function(e){return(e=e._reactInternals)?kr(e)===e:!1},enqueueSetState:function(e,n,i){e=e._reactInternals;var c=kt(),h=gr(e),g=qn(c,h);g.payload=n,i!=null&&(g.callback=i),n=fr(e,g,h),n!==null&&(bn(n,e,h,c),Si(n,e,h))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var c=kt(),h=gr(e),g=qn(c,h);g.tag=1,g.payload=n,i!=null&&(g.callback=i),n=fr(e,g,h),n!==null&&(bn(n,e,h,c),Si(n,e,h))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=kt(),c=gr(e),h=qn(i,c);h.tag=2,n!=null&&(h.callback=n),n=fr(e,h,c),n!==null&&(bn(n,e,c,i),Si(n,e,c))}};function dp(e,n,i,c,h,g,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,g,w):n.prototype&&n.prototype.isPureReactComponent?!Ko(i,c)||!Ko(h,g):!0}function fp(e,n,i){var c=!1,h=cr,g=n.contextType;return typeof g=="object"&&g!==null?g=on(g):(h=Bt(n)?Mr:Ct.current,c=n.contextTypes,g=(c=c!=null)?co(e,h):cr),n=new n(i,g),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Ii,e.stateNode=n,n._reactInternals=e,c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=g),n}function pp(e,n,i,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,c),n.state!==e&&Ii.enqueueReplaceState(n,n.state,null)}function Hl(e,n,i,c){var h=e.stateNode;h.props=i,h.state=e.memoizedState,h.refs={},Rl(e);var g=n.contextType;typeof g=="object"&&g!==null?h.context=on(g):(g=Bt(n)?Mr:Ct.current,h.context=co(e,g)),h.state=e.memoizedState,g=n.getDerivedStateFromProps,typeof g=="function"&&(Gl(e,n,g,i),h.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(n=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),n!==h.state&&Ii.enqueueReplaceState(h,h.state,null),Ei(e,i,h,c),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function xo(e,n){try{var i="",c=n;do i+=pe(c),c=c.return;while(c);var h=i}catch(g){h=`
Error generating stack: `+g.message+`
`+g.stack}return{value:e,source:n,stack:h,digest:null}}function Ul(e,n,i){return{value:e,source:null,stack:i??null,digest:n??null}}function Wl(e,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var gx=typeof WeakMap=="function"?WeakMap:Map;function hp(e,n,i){i=qn(-1,i),i.tag=3,i.payload={element:null};var c=n.value;return i.callback=function(){Fi||(Fi=!0,ac=c),Wl(e,n)},i}function mp(e,n,i){i=qn(-1,i),i.tag=3;var c=e.type.getDerivedStateFromError;if(typeof c=="function"){var h=n.value;i.payload=function(){return c(h)},i.callback=function(){Wl(e,n)}}var g=e.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(i.callback=function(){Wl(e,n),typeof c!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var w=n.stack;this.componentDidCatch(n.value,{componentStack:w!==null?w:""})}),i}function gp(e,n,i){var c=e.pingCache;if(c===null){c=e.pingCache=new gx;var h=new Set;c.set(n,h)}else h=c.get(n),h===void 0&&(h=new Set,c.set(n,h));h.has(i)||(h.add(i),e=Rx.bind(null,e,n,i),n.then(e,e))}function vp(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function xp(e,n,i,c,h){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=qn(-1,1),n.tag=2,fr(i,n,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=h,e)}var vx=z.ReactCurrentOwner,Ft=!1;function Rt(e,n,i,c){n.child=e===null?Bf(n,null,i,c):ho(n,e.child,i,c)}function yp(e,n,i,c,h){i=i.render;var g=n.ref;return go(n,h),c=Ll(e,n,i,c,g,h),i=Bl(),e!==null&&!Ft?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,Kn(e,n,h)):(Ue&&i&&bl(n),n.flags|=1,Rt(e,n,c,h),n.child)}function bp(e,n,i,c,h){if(e===null){var g=i.type;return typeof g=="function"&&!hc(g)&&g.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=g,wp(e,n,g,c,h)):(e=Ui(i.type,null,c,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(g=e.child,(e.lanes&h)===0){var w=g.memoizedProps;if(i=i.compare,i=i!==null?i:Ko,i(w,c)&&e.ref===n.ref)return Kn(e,n,h)}return n.flags|=1,e=xr(g,c),e.ref=n.ref,e.return=n,n.child=e}function wp(e,n,i,c,h){if(e!==null){var g=e.memoizedProps;if(Ko(g,c)&&e.ref===n.ref)if(Ft=!1,n.pendingProps=c=g,(e.lanes&h)!==0)(e.flags&131072)!==0&&(Ft=!0);else return n.lanes=e.lanes,Kn(e,n,h)}return ql(e,n,i,c,h)}function Np(e,n,i){var c=n.pendingProps,h=c.children,g=e!==null?e.memoizedState:null;if(c.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(bo,Qt),Qt|=i;else{if((i&1073741824)===0)return e=g!==null?g.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Ve(bo,Qt),Qt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:i,Ve(bo,Qt),Qt|=c}else g!==null?(c=g.baseLanes|i,n.memoizedState=null):c=i,Ve(bo,Qt),Qt|=c;return Rt(e,n,h,i),n.child}function Cp(e,n){var i=n.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function ql(e,n,i,c,h){var g=Bt(i)?Mr:Ct.current;return g=co(n,g),go(n,h),i=Ll(e,n,i,c,g,h),c=Bl(),e!==null&&!Ft?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,Kn(e,n,h)):(Ue&&c&&bl(n),n.flags|=1,Rt(e,n,i,h),n.child)}function Sp(e,n,i,c,h){if(Bt(i)){var g=!0;gi(n)}else g=!1;if(go(n,h),n.stateNode===null)Ti(e,n),fp(n,i,c),Hl(n,i,c,h),c=!0;else if(e===null){var w=n.stateNode,A=n.memoizedProps;w.props=A;var P=w.context,Y=i.contextType;typeof Y=="object"&&Y!==null?Y=on(Y):(Y=Bt(i)?Mr:Ct.current,Y=co(n,Y));var oe=i.getDerivedStateFromProps,ae=typeof oe=="function"||typeof w.getSnapshotBeforeUpdate=="function";ae||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==c||P!==Y)&&pp(n,w,c,Y),dr=!1;var ne=n.memoizedState;w.state=ne,Ei(n,c,w,h),P=n.memoizedState,A!==c||ne!==P||Lt.current||dr?(typeof oe=="function"&&(Gl(n,i,oe,c),P=n.memoizedState),(A=dr||dp(n,i,A,c,ne,P,Y))?(ae||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(n.flags|=4194308)):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=P),w.props=c,w.state=P,w.context=Y,c=A):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{w=n.stateNode,$f(e,n),A=n.memoizedProps,Y=n.type===n.elementType?A:vn(n.type,A),w.props=Y,ae=n.pendingProps,ne=w.context,P=i.contextType,typeof P=="object"&&P!==null?P=on(P):(P=Bt(i)?Mr:Ct.current,P=co(n,P));var ve=i.getDerivedStateFromProps;(oe=typeof ve=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==ae||ne!==P)&&pp(n,w,c,P),dr=!1,ne=n.memoizedState,w.state=ne,Ei(n,c,w,h);var ye=n.memoizedState;A!==ae||ne!==ye||Lt.current||dr?(typeof ve=="function"&&(Gl(n,i,ve,c),ye=n.memoizedState),(Y=dr||dp(n,i,Y,c,ne,ye,P)||!1)?(oe||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,ye,P),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,ye,P)),typeof w.componentDidUpdate=="function"&&(n.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof w.componentDidUpdate!="function"||A===e.memoizedProps&&ne===e.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&ne===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=ye),w.props=c,w.state=ye,w.context=P,c=Y):(typeof w.componentDidUpdate!="function"||A===e.memoizedProps&&ne===e.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&ne===e.memoizedState||(n.flags|=1024),c=!1)}return Kl(e,n,i,c,g,h)}function Kl(e,n,i,c,h,g){Cp(e,n);var w=(n.flags&128)!==0;if(!c&&!w)return h&&Pf(n,i,!1),Kn(e,n,g);c=n.stateNode,vx.current=n;var A=w&&typeof i.getDerivedStateFromError!="function"?null:c.render();return n.flags|=1,e!==null&&w?(n.child=ho(n,e.child,null,g),n.child=ho(n,null,A,g)):Rt(e,n,A,g),n.memoizedState=c.state,h&&Pf(n,i,!0),n.child}function Ep(e){var n=e.stateNode;n.pendingContext?jf(e,n.pendingContext,n.pendingContext!==n.context):n.context&&jf(e,n.context,!1),kl(e,n.containerInfo)}function Dp(e,n,i,c,h){return po(),Sl(h),n.flags|=256,Rt(e,n,i,c),n.child}var Yl={dehydrated:null,treeContext:null,retryLane:0};function Ql(e){return{baseLanes:e,cachePool:null,transitions:null}}function jp(e,n,i){var c=n.pendingProps,h=Xe.current,g=!1,w=(n.flags&128)!==0,A;if((A=w)||(A=e!==null&&e.memoizedState===null?!1:(h&2)!==0),A?(g=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),Ve(Xe,h&1),e===null)return Cl(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(w=c.children,e=c.fallback,g?(c=n.mode,g=n.child,w={mode:"hidden",children:w},(c&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=w):g=Wi(w,c,0,null),e=Gr(e,c,i,null),g.return=n,e.return=n,g.sibling=e,n.child=g,n.child.memoizedState=Ql(i),n.memoizedState=Yl,e):Xl(n,w));if(h=e.memoizedState,h!==null&&(A=h.dehydrated,A!==null))return xx(e,n,w,c,A,h,i);if(g){g=c.fallback,w=n.mode,h=e.child,A=h.sibling;var P={mode:"hidden",children:c.children};return(w&1)===0&&n.child!==h?(c=n.child,c.childLanes=0,c.pendingProps=P,n.deletions=null):(c=xr(h,P),c.subtreeFlags=h.subtreeFlags&14680064),A!==null?g=xr(A,g):(g=Gr(g,w,i,null),g.flags|=2),g.return=n,c.return=n,c.sibling=g,n.child=c,c=g,g=n.child,w=e.child.memoizedState,w=w===null?Ql(i):{baseLanes:w.baseLanes|i,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=e.childLanes&~i,n.memoizedState=Yl,c}return g=e.child,e=g.sibling,c=xr(g,{mode:"visible",children:c.children}),(n.mode&1)===0&&(c.lanes=i),c.return=n,c.sibling=null,e!==null&&(i=n.deletions,i===null?(n.deletions=[e],n.flags|=16):i.push(e)),n.child=c,n.memoizedState=null,c}function Xl(e,n){return n=Wi({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Mi(e,n,i,c){return c!==null&&Sl(c),ho(n,e.child,null,i),e=Xl(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function xx(e,n,i,c,h,g,w){if(i)return n.flags&256?(n.flags&=-257,c=Ul(Error(o(422))),Mi(e,n,w,c)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(g=c.fallback,h=n.mode,c=Wi({mode:"visible",children:c.children},h,0,null),g=Gr(g,h,w,null),g.flags|=2,c.return=n,g.return=n,c.sibling=g,n.child=c,(n.mode&1)!==0&&ho(n,e.child,null,w),n.child.memoizedState=Ql(w),n.memoizedState=Yl,g);if((n.mode&1)===0)return Mi(e,n,w,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var A=c.dgst;return c=A,g=Error(o(419)),c=Ul(g,c,void 0),Mi(e,n,w,c)}if(A=(w&e.childLanes)!==0,Ft||A){if(c=ut,c!==null){switch(w&-w){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(c.suspendedLanes|w))!==0?0:h,h!==0&&h!==g.retryLane&&(g.retryLane=h,Wn(e,h),bn(c,e,h,-1))}return pc(),c=Ul(Error(o(421))),Mi(e,n,w,c)}return h.data==="$?"?(n.flags|=128,n.child=e.child,n=kx.bind(null,e),h._reactRetry=n,null):(e=g.treeContext,Yt=ar(h.nextSibling),Kt=n,Ue=!0,gn=null,e!==null&&(nn[rn++]=Hn,nn[rn++]=Un,nn[rn++]=Tr,Hn=e.id,Un=e.overflow,Tr=n),n=Xl(n,c.children),n.flags|=4096,n)}function Ap(e,n,i){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),Al(e.return,n,i)}function Zl(e,n,i,c,h){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:i,tailMode:h}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=i,g.tailMode=h)}function Pp(e,n,i){var c=n.pendingProps,h=c.revealOrder,g=c.tail;if(Rt(e,n,c.children,i),c=Xe.current,(c&2)!==0)c=c&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ap(e,i,n);else if(e.tag===19)Ap(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}if(Ve(Xe,c),(n.mode&1)===0)n.memoizedState=null;else switch(h){case"forwards":for(i=n.child,h=null;i!==null;)e=i.alternate,e!==null&&Di(e)===null&&(h=i),i=i.sibling;i=h,i===null?(h=n.child,n.child=null):(h=i.sibling,i.sibling=null),Zl(n,!1,h,i,g);break;case"backwards":for(i=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Di(e)===null){n.child=h;break}e=h.sibling,h.sibling=i,i=h,h=e}Zl(n,!0,i,null,g);break;case"together":Zl(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ti(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Kn(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Fr|=n.lanes,(i&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,i=xr(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=xr(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function yx(e,n,i){switch(n.tag){case 3:Ep(n),po();break;case 5:Gf(n);break;case 1:Bt(n.type)&&gi(n);break;case 4:kl(n,n.stateNode.containerInfo);break;case 10:var c=n.type._context,h=n.memoizedProps.value;Ve(Ni,c._currentValue),c._currentValue=h;break;case 13:if(c=n.memoizedState,c!==null)return c.dehydrated!==null?(Ve(Xe,Xe.current&1),n.flags|=128,null):(i&n.child.childLanes)!==0?jp(e,n,i):(Ve(Xe,Xe.current&1),e=Kn(e,n,i),e!==null?e.sibling:null);Ve(Xe,Xe.current&1);break;case 19:if(c=(i&n.childLanes)!==0,(e.flags&128)!==0){if(c)return Pp(e,n,i);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ve(Xe,Xe.current),c)break;return null;case 22:case 23:return n.lanes=0,Np(e,n,i)}return Kn(e,n,i)}var Rp,Jl,kp,Ip;Rp=function(e,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Jl=function(){},kp=function(e,n,i,c){var h=e.memoizedProps;if(h!==c){e=n.stateNode,Lr(Mn.current);var g=null;switch(i){case"input":h=qe(e,h),c=qe(e,c),g=[];break;case"select":h=_({},h,{value:void 0}),c=_({},c,{value:void 0}),g=[];break;case"textarea":h=Dn(e,h),c=Dn(e,c),g=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(e.onclick=pi)}Jn(i,c);var w;i=null;for(Y in h)if(!c.hasOwnProperty(Y)&&h.hasOwnProperty(Y)&&h[Y]!=null)if(Y==="style"){var A=h[Y];for(w in A)A.hasOwnProperty(w)&&(i||(i={}),i[w]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(a.hasOwnProperty(Y)?g||(g=[]):(g=g||[]).push(Y,null));for(Y in c){var P=c[Y];if(A=h?.[Y],c.hasOwnProperty(Y)&&P!==A&&(P!=null||A!=null))if(Y==="style")if(A){for(w in A)!A.hasOwnProperty(w)||P&&P.hasOwnProperty(w)||(i||(i={}),i[w]="");for(w in P)P.hasOwnProperty(w)&&A[w]!==P[w]&&(i||(i={}),i[w]=P[w])}else i||(g||(g=[]),g.push(Y,i)),i=P;else Y==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,A=A?A.__html:void 0,P!=null&&A!==P&&(g=g||[]).push(Y,P)):Y==="children"?typeof P!="string"&&typeof P!="number"||(g=g||[]).push(Y,""+P):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(a.hasOwnProperty(Y)?(P!=null&&Y==="onScroll"&&Ge("scroll",e),g||A===P||(g=[])):(g=g||[]).push(Y,P))}i&&(g=g||[]).push("style",i);var Y=g;(n.updateQueue=Y)&&(n.flags|=4)}},Ip=function(e,n,i,c){i!==c&&(n.flags|=4)};function cs(e,n){if(!Ue)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Et(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,c=0;if(n)for(var h=e.child;h!==null;)i|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)i|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=c,e.childLanes=i,n}function bx(e,n,i){var c=n.pendingProps;switch(wl(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(n),null;case 1:return Bt(n.type)&&mi(),Et(n),null;case 3:return c=n.stateNode,vo(),He(Lt),He(Ct),Tl(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(e===null||e.child===null)&&(bi(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,gn!==null&&(uc(gn),gn=null))),Jl(e,n),Et(n),null;case 5:Il(n);var h=Lr(os.current);if(i=n.type,e!==null&&n.stateNode!=null)kp(e,n,i,c,h),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!c){if(n.stateNode===null)throw Error(o(166));return Et(n),null}if(e=Lr(Mn.current),bi(n)){c=n.stateNode,i=n.type;var g=n.memoizedProps;switch(c[In]=n,c[Jo]=g,e=(n.mode&1)!==0,i){case"dialog":Ge("cancel",c),Ge("close",c);break;case"iframe":case"object":case"embed":Ge("load",c);break;case"video":case"audio":for(h=0;h<Qo.length;h++)Ge(Qo[h],c);break;case"source":Ge("error",c);break;case"img":case"image":case"link":Ge("error",c),Ge("load",c);break;case"details":Ge("toggle",c);break;case"input":Ke(c,g),Ge("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},Ge("invalid",c);break;case"textarea":jr(c,g),Ge("invalid",c)}Jn(i,g),h=null;for(var w in g)if(g.hasOwnProperty(w)){var A=g[w];w==="children"?typeof A=="string"?c.textContent!==A&&(g.suppressHydrationWarning!==!0&&fi(c.textContent,A,e),h=["children",A]):typeof A=="number"&&c.textContent!==""+A&&(g.suppressHydrationWarning!==!0&&fi(c.textContent,A,e),h=["children",""+A]):a.hasOwnProperty(w)&&A!=null&&w==="onScroll"&&Ge("scroll",c)}switch(i){case"input":Re(c),en(c,g,!0);break;case"textarea":Re(c),Qr(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=pi)}c=h,n.updateQueue=c,c!==null&&(n.flags|=4)}else{w=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Bn(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=w.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof c.is=="string"?e=w.createElement(i,{is:c.is}):(e=w.createElement(i),i==="select"&&(w=e,c.multiple?w.multiple=!0:c.size&&(w.size=c.size))):e=w.createElementNS(e,i),e[In]=n,e[Jo]=c,Rp(e,n,!1,!1),n.stateNode=e;e:{switch(w=Fn(i,c),i){case"dialog":Ge("cancel",e),Ge("close",e),h=c;break;case"iframe":case"object":case"embed":Ge("load",e),h=c;break;case"video":case"audio":for(h=0;h<Qo.length;h++)Ge(Qo[h],e);h=c;break;case"source":Ge("error",e),h=c;break;case"img":case"image":case"link":Ge("error",e),Ge("load",e),h=c;break;case"details":Ge("toggle",e),h=c;break;case"input":Ke(e,c),h=qe(e,c),Ge("invalid",e);break;case"option":h=c;break;case"select":e._wrapperState={wasMultiple:!!c.multiple},h=_({},c,{value:void 0}),Ge("invalid",e);break;case"textarea":jr(e,c),h=Dn(e,c),Ge("invalid",e);break;default:h=c}Jn(i,h),A=h;for(g in A)if(A.hasOwnProperty(g)){var P=A[g];g==="style"?Jr(e,P):g==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&jn(e,P)):g==="children"?typeof P=="string"?(i!=="textarea"||P!=="")&&An(e,P):typeof P=="number"&&An(e,""+P):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(a.hasOwnProperty(g)?P!=null&&g==="onScroll"&&Ge("scroll",e):P!=null&&B(e,g,P,w))}switch(i){case"input":Re(e),en(e,c,!1);break;case"textarea":Re(e),Qr(e);break;case"option":c.value!=null&&e.setAttribute("value",""+le(c.value));break;case"select":e.multiple=!!c.multiple,g=c.value,g!=null?bt(e,!!c.multiple,g,!1):c.defaultValue!=null&&bt(e,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=pi)}switch(i){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Et(n),null;case 6:if(e&&n.stateNode!=null)Ip(e,n,e.memoizedProps,c);else{if(typeof c!="string"&&n.stateNode===null)throw Error(o(166));if(i=Lr(os.current),Lr(Mn.current),bi(n)){if(c=n.stateNode,i=n.memoizedProps,c[In]=n,(g=c.nodeValue!==i)&&(e=Kt,e!==null))switch(e.tag){case 3:fi(c.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fi(c.nodeValue,i,(e.mode&1)!==0)}g&&(n.flags|=4)}else c=(i.nodeType===9?i:i.ownerDocument).createTextNode(c),c[In]=n,n.stateNode=c}return Et(n),null;case 13:if(He(Xe),c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&Yt!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Of(),po(),n.flags|=98560,g=!1;else if(g=bi(n),c!==null&&c.dehydrated!==null){if(e===null){if(!g)throw Error(o(318));if(g=n.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(o(317));g[In]=n}else po(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Et(n),g=!1}else gn!==null&&(uc(gn),gn=null),g=!0;if(!g)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=i,n):(c=c!==null,c!==(e!==null&&e.memoizedState!==null)&&c&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(Xe.current&1)!==0?ot===0&&(ot=3):pc())),n.updateQueue!==null&&(n.flags|=4),Et(n),null);case 4:return vo(),Jl(e,n),e===null&&Xo(n.stateNode.containerInfo),Et(n),null;case 10:return jl(n.type._context),Et(n),null;case 17:return Bt(n.type)&&mi(),Et(n),null;case 19:if(He(Xe),g=n.memoizedState,g===null)return Et(n),null;if(c=(n.flags&128)!==0,w=g.rendering,w===null)if(c)cs(g,!1);else{if(ot!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(w=Di(e),w!==null){for(n.flags|=128,cs(g,!1),c=w.updateQueue,c!==null&&(n.updateQueue=c,n.flags|=4),n.subtreeFlags=0,c=i,i=n.child;i!==null;)g=i,e=c,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=e,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,e=w.dependencies,g.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Ve(Xe,Xe.current&1|2),n.child}e=e.sibling}g.tail!==null&&et()>wo&&(n.flags|=128,c=!0,cs(g,!1),n.lanes=4194304)}else{if(!c)if(e=Di(w),e!==null){if(n.flags|=128,c=!0,i=e.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),cs(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!Ue)return Et(n),null}else 2*et()-g.renderingStartTime>wo&&i!==1073741824&&(n.flags|=128,c=!0,cs(g,!1),n.lanes=4194304);g.isBackwards?(w.sibling=n.child,n.child=w):(i=g.last,i!==null?i.sibling=w:n.child=w,g.last=w)}return g.tail!==null?(n=g.tail,g.rendering=n,g.tail=n.sibling,g.renderingStartTime=et(),n.sibling=null,i=Xe.current,Ve(Xe,c?i&1|2:i&1),n):(Et(n),null);case 22:case 23:return fc(),c=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==c&&(n.flags|=8192),c&&(n.mode&1)!==0?(Qt&1073741824)!==0&&(Et(n),n.subtreeFlags&6&&(n.flags|=8192)):Et(n),null;case 24:return null;case 25:return null}throw Error(o(156,n.tag))}function wx(e,n){switch(wl(n),n.tag){case 1:return Bt(n.type)&&mi(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return vo(),He(Lt),He(Ct),Tl(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return Il(n),null;case 13:if(He(Xe),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));po()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return He(Xe),null;case 4:return vo(),null;case 10:return jl(n.type._context),null;case 22:case 23:return fc(),null;case 24:return null;default:return null}}var Oi=!1,Dt=!1,Nx=typeof WeakSet=="function"?WeakSet:Set,xe=null;function yo(e,n){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(c){Je(e,n,c)}else i.current=null}function ec(e,n,i){try{i()}catch(c){Je(e,n,c)}}var Mp=!1;function Cx(e,n){if(fl=ti,e=df(),ol(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var c=i.getSelection&&i.getSelection();if(c&&c.rangeCount!==0){i=c.anchorNode;var h=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{i.nodeType,g.nodeType}catch{i=null;break e}var w=0,A=-1,P=-1,Y=0,oe=0,ae=e,ne=null;t:for(;;){for(var ve;ae!==i||h!==0&&ae.nodeType!==3||(A=w+h),ae!==g||c!==0&&ae.nodeType!==3||(P=w+c),ae.nodeType===3&&(w+=ae.nodeValue.length),(ve=ae.firstChild)!==null;)ne=ae,ae=ve;for(;;){if(ae===e)break t;if(ne===i&&++Y===h&&(A=w),ne===g&&++oe===c&&(P=w),(ve=ae.nextSibling)!==null)break;ae=ne,ne=ae.parentNode}ae=ve}i=A===-1||P===-1?null:{start:A,end:P}}else i=null}i=i||{start:0,end:0}}else i=null;for(pl={focusedElem:e,selectionRange:i},ti=!1,xe=n;xe!==null;)if(n=xe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,xe=e;else for(;xe!==null;){n=xe;try{var ye=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var be=ye.memoizedProps,tt=ye.memoizedState,U=n.stateNode,I=U.getSnapshotBeforeUpdate(n.elementType===n.type?be:vn(n.type,be),tt);U.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var q=n.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ce){Je(n,n.return,ce)}if(e=n.sibling,e!==null){e.return=n.return,xe=e;break}xe=n.return}return ye=Mp,Mp=!1,ye}function us(e,n,i){var c=n.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&e)===e){var g=h.destroy;h.destroy=void 0,g!==void 0&&ec(n,i,g)}h=h.next}while(h!==c)}}function _i(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var c=i.create;i.destroy=c()}i=i.next}while(i!==n)}}function tc(e){var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof n=="function"?n(e):n.current=e}}function Tp(e){var n=e.alternate;n!==null&&(e.alternate=null,Tp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[In],delete n[Jo],delete n[vl],delete n[sx],delete n[ix])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Op(e){return e.tag===5||e.tag===3||e.tag===4}function _p(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Op(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nc(e,n,i){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(e,i)):(n=i,n.appendChild(e)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=pi));else if(c!==4&&(e=e.child,e!==null))for(nc(e,n,i),e=e.sibling;e!==null;)nc(e,n,i),e=e.sibling}function rc(e,n,i){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(c!==4&&(e=e.child,e!==null))for(rc(e,n,i),e=e.sibling;e!==null;)rc(e,n,i),e=e.sibling}var gt=null,xn=!1;function pr(e,n,i){for(i=i.child;i!==null;)Lp(e,n,i),i=i.sibling}function Lp(e,n,i){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(Ys,i)}catch{}switch(i.tag){case 5:Dt||yo(i,n);case 6:var c=gt,h=xn;gt=null,pr(e,n,i),gt=c,xn=h,gt!==null&&(xn?(e=gt,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):gt.removeChild(i.stateNode));break;case 18:gt!==null&&(xn?(e=gt,i=i.stateNode,e.nodeType===8?gl(e.parentNode,i):e.nodeType===1&&gl(e,i),Vo(e)):gl(gt,i.stateNode));break;case 4:c=gt,h=xn,gt=i.stateNode.containerInfo,xn=!0,pr(e,n,i),gt=c,xn=h;break;case 0:case 11:case 14:case 15:if(!Dt&&(c=i.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var g=h,w=g.destroy;g=g.tag,w!==void 0&&((g&2)!==0||(g&4)!==0)&&ec(i,n,w),h=h.next}while(h!==c)}pr(e,n,i);break;case 1:if(!Dt&&(yo(i,n),c=i.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=i.memoizedProps,c.state=i.memoizedState,c.componentWillUnmount()}catch(A){Je(i,n,A)}pr(e,n,i);break;case 21:pr(e,n,i);break;case 22:i.mode&1?(Dt=(c=Dt)||i.memoizedState!==null,pr(e,n,i),Dt=c):pr(e,n,i);break;default:pr(e,n,i)}}function Bp(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Nx),n.forEach(function(c){var h=Ix.bind(null,e,c);i.has(c)||(i.add(c),c.then(h,h))})}}function yn(e,n){var i=n.deletions;if(i!==null)for(var c=0;c<i.length;c++){var h=i[c];try{var g=e,w=n,A=w;e:for(;A!==null;){switch(A.tag){case 5:gt=A.stateNode,xn=!1;break e;case 3:gt=A.stateNode.containerInfo,xn=!0;break e;case 4:gt=A.stateNode.containerInfo,xn=!0;break e}A=A.return}if(gt===null)throw Error(o(160));Lp(g,w,h),gt=null,xn=!1;var P=h.alternate;P!==null&&(P.return=null),h.return=null}catch(Y){Je(h,n,Y)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Fp(n,e),n=n.sibling}function Fp(e,n){var i=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yn(n,e),On(e),c&4){try{us(3,e,e.return),_i(3,e)}catch(be){Je(e,e.return,be)}try{us(5,e,e.return)}catch(be){Je(e,e.return,be)}}break;case 1:yn(n,e),On(e),c&512&&i!==null&&yo(i,i.return);break;case 5:if(yn(n,e),On(e),c&512&&i!==null&&yo(i,i.return),e.flags&32){var h=e.stateNode;try{An(h,"")}catch(be){Je(e,e.return,be)}}if(c&4&&(h=e.stateNode,h!=null)){var g=e.memoizedProps,w=i!==null?i.memoizedProps:g,A=e.type,P=e.updateQueue;if(e.updateQueue=null,P!==null)try{A==="input"&&g.type==="radio"&&g.name!=null&&at(h,g),Fn(A,w);var Y=Fn(A,g);for(w=0;w<P.length;w+=2){var oe=P[w],ae=P[w+1];oe==="style"?Jr(h,ae):oe==="dangerouslySetInnerHTML"?jn(h,ae):oe==="children"?An(h,ae):B(h,oe,ae,Y)}switch(A){case"input":Tt(h,g);break;case"textarea":Ar(h,g);break;case"select":var ne=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!g.multiple;var ve=g.value;ve!=null?bt(h,!!g.multiple,ve,!1):ne!==!!g.multiple&&(g.defaultValue!=null?bt(h,!!g.multiple,g.defaultValue,!0):bt(h,!!g.multiple,g.multiple?[]:"",!1))}h[Jo]=g}catch(be){Je(e,e.return,be)}}break;case 6:if(yn(n,e),On(e),c&4){if(e.stateNode===null)throw Error(o(162));h=e.stateNode,g=e.memoizedProps;try{h.nodeValue=g}catch(be){Je(e,e.return,be)}}break;case 3:if(yn(n,e),On(e),c&4&&i!==null&&i.memoizedState.isDehydrated)try{Vo(n.containerInfo)}catch(be){Je(e,e.return,be)}break;case 4:yn(n,e),On(e);break;case 13:yn(n,e),On(e),h=e.child,h.flags&8192&&(g=h.memoizedState!==null,h.stateNode.isHidden=g,!g||h.alternate!==null&&h.alternate.memoizedState!==null||(ic=et())),c&4&&Bp(e);break;case 22:if(oe=i!==null&&i.memoizedState!==null,e.mode&1?(Dt=(Y=Dt)||oe,yn(n,e),Dt=Y):yn(n,e),On(e),c&8192){if(Y=e.memoizedState!==null,(e.stateNode.isHidden=Y)&&!oe&&(e.mode&1)!==0)for(xe=e,oe=e.child;oe!==null;){for(ae=xe=oe;xe!==null;){switch(ne=xe,ve=ne.child,ne.tag){case 0:case 11:case 14:case 15:us(4,ne,ne.return);break;case 1:yo(ne,ne.return);var ye=ne.stateNode;if(typeof ye.componentWillUnmount=="function"){c=ne,i=ne.return;try{n=c,ye.props=n.memoizedProps,ye.state=n.memoizedState,ye.componentWillUnmount()}catch(be){Je(c,i,be)}}break;case 5:yo(ne,ne.return);break;case 22:if(ne.memoizedState!==null){Vp(ae);continue}}ve!==null?(ve.return=ne,xe=ve):Vp(ae)}oe=oe.sibling}e:for(oe=null,ae=e;;){if(ae.tag===5){if(oe===null){oe=ae;try{h=ae.stateNode,Y?(g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(A=ae.stateNode,P=ae.memoizedProps.style,w=P!=null&&P.hasOwnProperty("display")?P.display:null,A.style.display=Zr("display",w))}catch(be){Je(e,e.return,be)}}}else if(ae.tag===6){if(oe===null)try{ae.stateNode.nodeValue=Y?"":ae.memoizedProps}catch(be){Je(e,e.return,be)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===e)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===e)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===e)break e;oe===ae&&(oe=null),ae=ae.return}oe===ae&&(oe=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:yn(n,e),On(e),c&4&&Bp(e);break;case 21:break;default:yn(n,e),On(e)}}function On(e){var n=e.flags;if(n&2){try{e:{for(var i=e.return;i!==null;){if(Op(i)){var c=i;break e}i=i.return}throw Error(o(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(An(h,""),c.flags&=-33);var g=_p(e);rc(e,g,h);break;case 3:case 4:var w=c.stateNode.containerInfo,A=_p(e);nc(e,A,w);break;default:throw Error(o(161))}}catch(P){Je(e,e.return,P)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Sx(e,n,i){xe=e,$p(e)}function $p(e,n,i){for(var c=(e.mode&1)!==0;xe!==null;){var h=xe,g=h.child;if(h.tag===22&&c){var w=h.memoizedState!==null||Oi;if(!w){var A=h.alternate,P=A!==null&&A.memoizedState!==null||Dt;A=Oi;var Y=Dt;if(Oi=w,(Dt=P)&&!Y)for(xe=h;xe!==null;)w=xe,P=w.child,w.tag===22&&w.memoizedState!==null?Gp(h):P!==null?(P.return=w,xe=P):Gp(h);for(;g!==null;)xe=g,$p(g),g=g.sibling;xe=h,Oi=A,Dt=Y}zp(e)}else(h.subtreeFlags&8772)!==0&&g!==null?(g.return=h,xe=g):zp(e)}}function zp(e){for(;xe!==null;){var n=xe;if((n.flags&8772)!==0){var i=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Dt||_i(5,n);break;case 1:var c=n.stateNode;if(n.flags&4&&!Dt)if(i===null)c.componentDidMount();else{var h=n.elementType===n.type?i.memoizedProps:vn(n.type,i.memoizedProps);c.componentDidUpdate(h,i.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=n.updateQueue;g!==null&&Vf(n,g,c);break;case 3:var w=n.updateQueue;if(w!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}Vf(n,w,i)}break;case 5:var A=n.stateNode;if(i===null&&n.flags&4){i=A;var P=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&i.focus();break;case"img":P.src&&(i.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var Y=n.alternate;if(Y!==null){var oe=Y.memoizedState;if(oe!==null){var ae=oe.dehydrated;ae!==null&&Vo(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}Dt||n.flags&512&&tc(n)}catch(ne){Je(n,n.return,ne)}}if(n===e){xe=null;break}if(i=n.sibling,i!==null){i.return=n.return,xe=i;break}xe=n.return}}function Vp(e){for(;xe!==null;){var n=xe;if(n===e){xe=null;break}var i=n.sibling;if(i!==null){i.return=n.return,xe=i;break}xe=n.return}}function Gp(e){for(;xe!==null;){var n=xe;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{_i(4,n)}catch(P){Je(n,i,P)}break;case 1:var c=n.stateNode;if(typeof c.componentDidMount=="function"){var h=n.return;try{c.componentDidMount()}catch(P){Je(n,h,P)}}var g=n.return;try{tc(n)}catch(P){Je(n,g,P)}break;case 5:var w=n.return;try{tc(n)}catch(P){Je(n,w,P)}}}catch(P){Je(n,n.return,P)}if(n===e){xe=null;break}var A=n.sibling;if(A!==null){A.return=n.return,xe=A;break}xe=n.return}}var Ex=Math.ceil,Li=z.ReactCurrentDispatcher,oc=z.ReactCurrentOwner,an=z.ReactCurrentBatchConfig,Oe=0,ut=null,nt=null,vt=0,Qt=0,bo=lr(0),ot=0,ds=null,Fr=0,Bi=0,sc=0,fs=null,$t=null,ic=0,wo=1/0,Yn=null,Fi=!1,ac=null,hr=null,$i=!1,mr=null,zi=0,ps=0,lc=null,Vi=-1,Gi=0;function kt(){return(Oe&6)!==0?et():Vi!==-1?Vi:Vi=et()}function gr(e){return(e.mode&1)===0?1:(Oe&2)!==0&&vt!==0?vt&-vt:lx.transition!==null?(Gi===0&&(Gi=Od()),Gi):(e=$e,e!==0||(e=window.event,e=e===void 0?16:Hd(e.type)),e)}function bn(e,n,i,c){if(50<ps)throw ps=0,lc=null,Error(o(185));Lo(e,i,c),((Oe&2)===0||e!==ut)&&(e===ut&&((Oe&2)===0&&(Bi|=i),ot===4&&vr(e,vt)),zt(e,c),i===1&&Oe===0&&(n.mode&1)===0&&(wo=et()+500,vi&&ur()))}function zt(e,n){var i=e.callbackNode;l0(e,n);var c=Zs(e,e===ut?vt:0);if(c===0)i!==null&&Id(i),e.callbackNode=null,e.callbackPriority=0;else if(n=c&-c,e.callbackPriority!==n){if(i!=null&&Id(i),n===1)e.tag===0?ax(Up.bind(null,e)):Rf(Up.bind(null,e)),rx(function(){(Oe&6)===0&&ur()}),i=null;else{switch(_d(c)){case 1:i=za;break;case 4:i=Md;break;case 16:i=Ks;break;case 536870912:i=Td;break;default:i=Ks}i=Jp(i,Hp.bind(null,e))}e.callbackPriority=n,e.callbackNode=i}}function Hp(e,n){if(Vi=-1,Gi=0,(Oe&6)!==0)throw Error(o(327));var i=e.callbackNode;if(No()&&e.callbackNode!==i)return null;var c=Zs(e,e===ut?vt:0);if(c===0)return null;if((c&30)!==0||(c&e.expiredLanes)!==0||n)n=Hi(e,c);else{n=c;var h=Oe;Oe|=2;var g=qp();(ut!==e||vt!==n)&&(Yn=null,wo=et()+500,zr(e,n));do try{Ax();break}catch(A){Wp(e,A)}while(!0);Dl(),Li.current=g,Oe=h,nt!==null?n=0:(ut=null,vt=0,n=ot)}if(n!==0){if(n===2&&(h=Va(e),h!==0&&(c=h,n=cc(e,h))),n===1)throw i=ds,zr(e,0),vr(e,c),zt(e,et()),i;if(n===6)vr(e,c);else{if(h=e.current.alternate,(c&30)===0&&!Dx(h)&&(n=Hi(e,c),n===2&&(g=Va(e),g!==0&&(c=g,n=cc(e,g))),n===1))throw i=ds,zr(e,0),vr(e,c),zt(e,et()),i;switch(e.finishedWork=h,e.finishedLanes=c,n){case 0:case 1:throw Error(o(345));case 2:Vr(e,$t,Yn);break;case 3:if(vr(e,c),(c&130023424)===c&&(n=ic+500-et(),10<n)){if(Zs(e,0)!==0)break;if(h=e.suspendedLanes,(h&c)!==c){kt(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=ml(Vr.bind(null,e,$t,Yn),n);break}Vr(e,$t,Yn);break;case 4:if(vr(e,c),(c&4194240)===c)break;for(n=e.eventTimes,h=-1;0<c;){var w=31-hn(c);g=1<<w,w=n[w],w>h&&(h=w),c&=~g}if(c=h,c=et()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Ex(c/1960))-c,10<c){e.timeoutHandle=ml(Vr.bind(null,e,$t,Yn),c);break}Vr(e,$t,Yn);break;case 5:Vr(e,$t,Yn);break;default:throw Error(o(329))}}}return zt(e,et()),e.callbackNode===i?Hp.bind(null,e):null}function cc(e,n){var i=fs;return e.current.memoizedState.isDehydrated&&(zr(e,n).flags|=256),e=Hi(e,n),e!==2&&(n=$t,$t=i,n!==null&&uc(n)),e}function uc(e){$t===null?$t=e:$t.push.apply($t,e)}function Dx(e){for(var n=e;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var c=0;c<i.length;c++){var h=i[c],g=h.getSnapshot;h=h.value;try{if(!mn(g(),h))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function vr(e,n){for(n&=~sc,n&=~Bi,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var i=31-hn(n),c=1<<i;e[i]=-1,n&=~c}}function Up(e){if((Oe&6)!==0)throw Error(o(327));No();var n=Zs(e,0);if((n&1)===0)return zt(e,et()),null;var i=Hi(e,n);if(e.tag!==0&&i===2){var c=Va(e);c!==0&&(n=c,i=cc(e,c))}if(i===1)throw i=ds,zr(e,0),vr(e,n),zt(e,et()),i;if(i===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Vr(e,$t,Yn),zt(e,et()),null}function dc(e,n){var i=Oe;Oe|=1;try{return e(n)}finally{Oe=i,Oe===0&&(wo=et()+500,vi&&ur())}}function $r(e){mr!==null&&mr.tag===0&&(Oe&6)===0&&No();var n=Oe;Oe|=1;var i=an.transition,c=$e;try{if(an.transition=null,$e=1,e)return e()}finally{$e=c,an.transition=i,Oe=n,(Oe&6)===0&&ur()}}function fc(){Qt=bo.current,He(bo)}function zr(e,n){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,nx(i)),nt!==null)for(i=nt.return;i!==null;){var c=i;switch(wl(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&mi();break;case 3:vo(),He(Lt),He(Ct),Tl();break;case 5:Il(c);break;case 4:vo();break;case 13:He(Xe);break;case 19:He(Xe);break;case 10:jl(c.type._context);break;case 22:case 23:fc()}i=i.return}if(ut=e,nt=e=xr(e.current,null),vt=Qt=n,ot=0,ds=null,sc=Bi=Fr=0,$t=fs=null,_r!==null){for(n=0;n<_r.length;n++)if(i=_r[n],c=i.interleaved,c!==null){i.interleaved=null;var h=c.next,g=i.pending;if(g!==null){var w=g.next;g.next=h,c.next=w}i.pending=c}_r=null}return e}function Wp(e,n){do{var i=nt;try{if(Dl(),ji.current=ki,Ai){for(var c=Ze.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}Ai=!1}if(Br=0,ct=rt=Ze=null,ss=!1,is=0,oc.current=null,i===null||i.return===null){ot=1,ds=n,nt=null;break}e:{var g=e,w=i.return,A=i,P=n;if(n=vt,A.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var Y=P,oe=A,ae=oe.tag;if((oe.mode&1)===0&&(ae===0||ae===11||ae===15)){var ne=oe.alternate;ne?(oe.updateQueue=ne.updateQueue,oe.memoizedState=ne.memoizedState,oe.lanes=ne.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var ve=vp(w);if(ve!==null){ve.flags&=-257,xp(ve,w,A,g,n),ve.mode&1&&gp(g,Y,n),n=ve,P=Y;var ye=n.updateQueue;if(ye===null){var be=new Set;be.add(P),n.updateQueue=be}else ye.add(P);break e}else{if((n&1)===0){gp(g,Y,n),pc();break e}P=Error(o(426))}}else if(Ue&&A.mode&1){var tt=vp(w);if(tt!==null){(tt.flags&65536)===0&&(tt.flags|=256),xp(tt,w,A,g,n),Sl(xo(P,A));break e}}g=P=xo(P,A),ot!==4&&(ot=2),fs===null?fs=[g]:fs.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,n&=-n,g.lanes|=n;var U=hp(g,P,n);zf(g,U);break e;case 1:A=P;var I=g.type,q=g.stateNode;if((g.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(hr===null||!hr.has(q)))){g.flags|=65536,n&=-n,g.lanes|=n;var ce=mp(g,A,n);zf(g,ce);break e}}g=g.return}while(g!==null)}Yp(i)}catch(Ne){n=Ne,nt===i&&i!==null&&(nt=i=i.return);continue}break}while(!0)}function qp(){var e=Li.current;return Li.current=ki,e===null?ki:e}function pc(){(ot===0||ot===3||ot===2)&&(ot=4),ut===null||(Fr&268435455)===0&&(Bi&268435455)===0||vr(ut,vt)}function Hi(e,n){var i=Oe;Oe|=2;var c=qp();(ut!==e||vt!==n)&&(Yn=null,zr(e,n));do try{jx();break}catch(h){Wp(e,h)}while(!0);if(Dl(),Oe=i,Li.current=c,nt!==null)throw Error(o(261));return ut=null,vt=0,ot}function jx(){for(;nt!==null;)Kp(nt)}function Ax(){for(;nt!==null&&!Jv();)Kp(nt)}function Kp(e){var n=Zp(e.alternate,e,Qt);e.memoizedProps=e.pendingProps,n===null?Yp(e):nt=n,oc.current=null}function Yp(e){var n=e;do{var i=n.alternate;if(e=n.return,(n.flags&32768)===0){if(i=bx(i,n,Qt),i!==null){nt=i;return}}else{if(i=wx(i,n),i!==null){i.flags&=32767,nt=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ot=6,nt=null;return}}if(n=n.sibling,n!==null){nt=n;return}nt=n=e}while(n!==null);ot===0&&(ot=5)}function Vr(e,n,i){var c=$e,h=an.transition;try{an.transition=null,$e=1,Px(e,n,i,c)}finally{an.transition=h,$e=c}return null}function Px(e,n,i,c){do No();while(mr!==null);if((Oe&6)!==0)throw Error(o(327));i=e.finishedWork;var h=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var g=i.lanes|i.childLanes;if(c0(e,g),e===ut&&(nt=ut=null,vt=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||$i||($i=!0,Jp(Ks,function(){return No(),null})),g=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||g){g=an.transition,an.transition=null;var w=$e;$e=1;var A=Oe;Oe|=4,oc.current=null,Cx(e,i),Fp(i,e),Y0(pl),ti=!!fl,pl=fl=null,e.current=i,Sx(i),e0(),Oe=A,$e=w,an.transition=g}else e.current=i;if($i&&($i=!1,mr=e,zi=h),g=e.pendingLanes,g===0&&(hr=null),r0(i.stateNode),zt(e,et()),n!==null)for(c=e.onRecoverableError,i=0;i<n.length;i++)h=n[i],c(h.value,{componentStack:h.stack,digest:h.digest});if(Fi)throw Fi=!1,e=ac,ac=null,e;return(zi&1)!==0&&e.tag!==0&&No(),g=e.pendingLanes,(g&1)!==0?e===lc?ps++:(ps=0,lc=e):ps=0,ur(),null}function No(){if(mr!==null){var e=_d(zi),n=an.transition,i=$e;try{if(an.transition=null,$e=16>e?16:e,mr===null)var c=!1;else{if(e=mr,mr=null,zi=0,(Oe&6)!==0)throw Error(o(331));var h=Oe;for(Oe|=4,xe=e.current;xe!==null;){var g=xe,w=g.child;if((xe.flags&16)!==0){var A=g.deletions;if(A!==null){for(var P=0;P<A.length;P++){var Y=A[P];for(xe=Y;xe!==null;){var oe=xe;switch(oe.tag){case 0:case 11:case 15:us(8,oe,g)}var ae=oe.child;if(ae!==null)ae.return=oe,xe=ae;else for(;xe!==null;){oe=xe;var ne=oe.sibling,ve=oe.return;if(Tp(oe),oe===Y){xe=null;break}if(ne!==null){ne.return=ve,xe=ne;break}xe=ve}}}var ye=g.alternate;if(ye!==null){var be=ye.child;if(be!==null){ye.child=null;do{var tt=be.sibling;be.sibling=null,be=tt}while(be!==null)}}xe=g}}if((g.subtreeFlags&2064)!==0&&w!==null)w.return=g,xe=w;else e:for(;xe!==null;){if(g=xe,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:us(9,g,g.return)}var U=g.sibling;if(U!==null){U.return=g.return,xe=U;break e}xe=g.return}}var I=e.current;for(xe=I;xe!==null;){w=xe;var q=w.child;if((w.subtreeFlags&2064)!==0&&q!==null)q.return=w,xe=q;else e:for(w=I;xe!==null;){if(A=xe,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:_i(9,A)}}catch(Ne){Je(A,A.return,Ne)}if(A===w){xe=null;break e}var ce=A.sibling;if(ce!==null){ce.return=A.return,xe=ce;break e}xe=A.return}}if(Oe=h,ur(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(Ys,e)}catch{}c=!0}return c}finally{$e=i,an.transition=n}}return!1}function Qp(e,n,i){n=xo(i,n),n=hp(e,n,1),e=fr(e,n,1),n=kt(),e!==null&&(Lo(e,1,n),zt(e,n))}function Je(e,n,i){if(e.tag===3)Qp(e,e,i);else for(;n!==null;){if(n.tag===3){Qp(n,e,i);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(hr===null||!hr.has(c))){e=xo(i,e),e=mp(n,e,1),n=fr(n,e,1),e=kt(),n!==null&&(Lo(n,1,e),zt(n,e));break}}n=n.return}}function Rx(e,n,i){var c=e.pingCache;c!==null&&c.delete(n),n=kt(),e.pingedLanes|=e.suspendedLanes&i,ut===e&&(vt&i)===i&&(ot===4||ot===3&&(vt&130023424)===vt&&500>et()-ic?zr(e,0):sc|=i),zt(e,n)}function Xp(e,n){n===0&&((e.mode&1)===0?n=1:(n=Xs,Xs<<=1,(Xs&130023424)===0&&(Xs=4194304)));var i=kt();e=Wn(e,n),e!==null&&(Lo(e,n,i),zt(e,i))}function kx(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Xp(e,i)}function Ix(e,n){var i=0;switch(e.tag){case 13:var c=e.stateNode,h=e.memoizedState;h!==null&&(i=h.retryLane);break;case 19:c=e.stateNode;break;default:throw Error(o(314))}c!==null&&c.delete(n),Xp(e,i)}var Zp;Zp=function(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps||Lt.current)Ft=!0;else{if((e.lanes&i)===0&&(n.flags&128)===0)return Ft=!1,yx(e,n,i);Ft=(e.flags&131072)!==0}else Ft=!1,Ue&&(n.flags&1048576)!==0&&kf(n,yi,n.index);switch(n.lanes=0,n.tag){case 2:var c=n.type;Ti(e,n),e=n.pendingProps;var h=co(n,Ct.current);go(n,i),h=Ll(null,n,c,e,h,i);var g=Bl();return n.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Bt(c)?(g=!0,gi(n)):g=!1,n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Rl(n),h.updater=Ii,n.stateNode=h,h._reactInternals=n,Hl(n,c,e,i),n=Kl(null,n,c,!0,g,i)):(n.tag=0,Ue&&g&&bl(n),Rt(null,n,h,i),n=n.child),n;case 16:c=n.elementType;e:{switch(Ti(e,n),e=n.pendingProps,h=c._init,c=h(c._payload),n.type=c,h=n.tag=Tx(c),e=vn(c,e),h){case 0:n=ql(null,n,c,e,i);break e;case 1:n=Sp(null,n,c,e,i);break e;case 11:n=yp(null,n,c,e,i);break e;case 14:n=bp(null,n,c,vn(c.type,e),i);break e}throw Error(o(306,c,""))}return n;case 0:return c=n.type,h=n.pendingProps,h=n.elementType===c?h:vn(c,h),ql(e,n,c,h,i);case 1:return c=n.type,h=n.pendingProps,h=n.elementType===c?h:vn(c,h),Sp(e,n,c,h,i);case 3:e:{if(Ep(n),e===null)throw Error(o(387));c=n.pendingProps,g=n.memoizedState,h=g.element,$f(e,n),Ei(n,c,null,i);var w=n.memoizedState;if(c=w.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){h=xo(Error(o(423)),n),n=Dp(e,n,c,i,h);break e}else if(c!==h){h=xo(Error(o(424)),n),n=Dp(e,n,c,i,h);break e}else for(Yt=ar(n.stateNode.containerInfo.firstChild),Kt=n,Ue=!0,gn=null,i=Bf(n,null,c,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(po(),c===h){n=Kn(e,n,i);break e}Rt(e,n,c,i)}n=n.child}return n;case 5:return Gf(n),e===null&&Cl(n),c=n.type,h=n.pendingProps,g=e!==null?e.memoizedProps:null,w=h.children,hl(c,h)?w=null:g!==null&&hl(c,g)&&(n.flags|=32),Cp(e,n),Rt(e,n,w,i),n.child;case 6:return e===null&&Cl(n),null;case 13:return jp(e,n,i);case 4:return kl(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=ho(n,null,c,i):Rt(e,n,c,i),n.child;case 11:return c=n.type,h=n.pendingProps,h=n.elementType===c?h:vn(c,h),yp(e,n,c,h,i);case 7:return Rt(e,n,n.pendingProps,i),n.child;case 8:return Rt(e,n,n.pendingProps.children,i),n.child;case 12:return Rt(e,n,n.pendingProps.children,i),n.child;case 10:e:{if(c=n.type._context,h=n.pendingProps,g=n.memoizedProps,w=h.value,Ve(Ni,c._currentValue),c._currentValue=w,g!==null)if(mn(g.value,w)){if(g.children===h.children&&!Lt.current){n=Kn(e,n,i);break e}}else for(g=n.child,g!==null&&(g.return=n);g!==null;){var A=g.dependencies;if(A!==null){w=g.child;for(var P=A.firstContext;P!==null;){if(P.context===c){if(g.tag===1){P=qn(-1,i&-i),P.tag=2;var Y=g.updateQueue;if(Y!==null){Y=Y.shared;var oe=Y.pending;oe===null?P.next=P:(P.next=oe.next,oe.next=P),Y.pending=P}}g.lanes|=i,P=g.alternate,P!==null&&(P.lanes|=i),Al(g.return,i,n),A.lanes|=i;break}P=P.next}}else if(g.tag===10)w=g.type===n.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(o(341));w.lanes|=i,A=w.alternate,A!==null&&(A.lanes|=i),Al(w,i,n),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===n){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}Rt(e,n,h.children,i),n=n.child}return n;case 9:return h=n.type,c=n.pendingProps.children,go(n,i),h=on(h),c=c(h),n.flags|=1,Rt(e,n,c,i),n.child;case 14:return c=n.type,h=vn(c,n.pendingProps),h=vn(c.type,h),bp(e,n,c,h,i);case 15:return wp(e,n,n.type,n.pendingProps,i);case 17:return c=n.type,h=n.pendingProps,h=n.elementType===c?h:vn(c,h),Ti(e,n),n.tag=1,Bt(c)?(e=!0,gi(n)):e=!1,go(n,i),fp(n,c,h),Hl(n,c,h,i),Kl(null,n,c,!0,e,i);case 19:return Pp(e,n,i);case 22:return Np(e,n,i)}throw Error(o(156,n.tag))};function Jp(e,n){return kd(e,n)}function Mx(e,n,i,c){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(e,n,i,c){return new Mx(e,n,i,c)}function hc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tx(e){if(typeof e=="function")return hc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===k)return 11;if(e===te)return 14}return 2}function xr(e,n){var i=e.alternate;return i===null?(i=ln(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Ui(e,n,i,c,h,g){var w=2;if(c=e,typeof e=="function")hc(e)&&(w=1);else if(typeof e=="string")w=5;else e:switch(e){case R:return Gr(i.children,h,g,n);case F:w=8,h|=8;break;case X:return e=ln(12,i,n,h|2),e.elementType=X,e.lanes=g,e;case O:return e=ln(13,i,n,h),e.elementType=O,e.lanes=g,e;case G:return e=ln(19,i,n,h),e.elementType=G,e.lanes=g,e;case se:return Wi(i,h,g,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ee:w=10;break e;case ie:w=9;break e;case k:w=11;break e;case te:w=14;break e;case J:w=16,c=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return n=ln(w,i,n,h),n.elementType=e,n.type=c,n.lanes=g,n}function Gr(e,n,i,c){return e=ln(7,e,c,n),e.lanes=i,e}function Wi(e,n,i,c){return e=ln(22,e,c,n),e.elementType=se,e.lanes=i,e.stateNode={isHidden:!1},e}function mc(e,n,i){return e=ln(6,e,null,n),e.lanes=i,e}function gc(e,n,i){return n=ln(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Ox(e,n,i,c,h){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ga(0),this.expirationTimes=Ga(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ga(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function vc(e,n,i,c,h,g,w,A,P){return e=new Ox(e,n,i,A,P),n===1?(n=1,g===!0&&(n|=8)):n=0,g=ln(3,null,null,n),e.current=g,g.stateNode=e,g.memoizedState={element:c,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rl(g),e}function _x(e,n,i){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:c==null?null:""+c,children:e,containerInfo:n,implementation:i}}function eh(e){if(!e)return cr;e=e._reactInternals;e:{if(kr(e)!==e||e.tag!==1)throw Error(o(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Bt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(o(171))}if(e.tag===1){var i=e.type;if(Bt(i))return Af(e,i,n)}return n}function th(e,n,i,c,h,g,w,A,P){return e=vc(i,c,!0,e,h,g,w,A,P),e.context=eh(null),i=e.current,c=kt(),h=gr(i),g=qn(c,h),g.callback=n??null,fr(i,g,h),e.current.lanes=h,Lo(e,h,c),zt(e,c),e}function qi(e,n,i,c){var h=n.current,g=kt(),w=gr(h);return i=eh(i),n.context===null?n.context=i:n.pendingContext=i,n=qn(g,w),n.payload={element:e},c=c===void 0?null:c,c!==null&&(n.callback=c),e=fr(h,n,w),e!==null&&(bn(e,h,w,g),Si(e,h,w)),w}function Ki(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function nh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function xc(e,n){nh(e,n),(e=e.alternate)&&nh(e,n)}function Lx(){return null}var rh=typeof reportError=="function"?reportError:function(e){console.error(e)};function yc(e){this._internalRoot=e}Yi.prototype.render=yc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));qi(e,n,null,null)},Yi.prototype.unmount=yc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;$r(function(){qi(null,e,null,null)}),n[Vn]=null}};function Yi(e){this._internalRoot=e}Yi.prototype.unstable_scheduleHydration=function(e){if(e){var n=Fd();e={blockedOn:null,target:e,priority:n};for(var i=0;i<or.length&&n!==0&&n<or[i].priority;i++);or.splice(i,0,e),i===0&&Vd(e)}};function bc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function oh(){}function Bx(e,n,i,c,h){if(h){if(typeof c=="function"){var g=c;c=function(){var Y=Ki(w);g.call(Y)}}var w=th(n,c,e,0,null,!1,!1,"",oh);return e._reactRootContainer=w,e[Vn]=w.current,Xo(e.nodeType===8?e.parentNode:e),$r(),w}for(;h=e.lastChild;)e.removeChild(h);if(typeof c=="function"){var A=c;c=function(){var Y=Ki(P);A.call(Y)}}var P=vc(e,0,!1,null,null,!1,!1,"",oh);return e._reactRootContainer=P,e[Vn]=P.current,Xo(e.nodeType===8?e.parentNode:e),$r(function(){qi(n,P,i,c)}),P}function Xi(e,n,i,c,h){var g=i._reactRootContainer;if(g){var w=g;if(typeof h=="function"){var A=h;h=function(){var P=Ki(w);A.call(P)}}qi(n,w,e,h)}else w=Bx(i,n,e,h,c);return Ki(w)}Ld=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var i=_o(n.pendingLanes);i!==0&&(Ha(n,i|1),zt(n,et()),(Oe&6)===0&&(wo=et()+500,ur()))}break;case 13:$r(function(){var c=Wn(e,1);if(c!==null){var h=kt();bn(c,e,1,h)}}),xc(e,1)}},Ua=function(e){if(e.tag===13){var n=Wn(e,134217728);if(n!==null){var i=kt();bn(n,e,134217728,i)}xc(e,134217728)}},Bd=function(e){if(e.tag===13){var n=gr(e),i=Wn(e,n);if(i!==null){var c=kt();bn(i,e,n,c)}xc(e,n)}},Fd=function(){return $e},$d=function(e,n){var i=$e;try{return $e=e,n()}finally{$e=i}},er=function(e,n,i){switch(n){case"input":if(Tt(e,i),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var c=i[n];if(c!==e&&c.form===e.form){var h=hi(c);if(!h)throw Error(o(90));ge(c),Tt(c,h)}}}break;case"textarea":Ar(e,i);break;case"select":n=i.value,n!=null&&bt(e,!!i.multiple,n,!1)}},_e=dc,Be=$r;var Fx={usingClientEntryPoint:!1,Events:[es,ao,hi,he,Pe,dc]},hs={findFiberByHostInstance:Ir,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$x={bundleType:hs.bundleType,version:hs.version,rendererPackageName:hs.rendererPackageName,rendererConfig:hs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Pd(e),e===null?null:e.stateNode},findFiberByHostInstance:hs.findFiberByHostInstance||Lx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zi.isDisabled&&Zi.supportsFiber)try{Ys=Zi.inject($x),kn=Zi}catch{}}return Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fx,Vt.createPortal=function(e,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bc(n))throw Error(o(200));return _x(e,n,null,i)},Vt.createRoot=function(e,n){if(!bc(e))throw Error(o(299));var i=!1,c="",h=rh;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),n=vc(e,1,!1,null,null,i,!1,c,h),e[Vn]=n.current,Xo(e.nodeType===8?e.parentNode:e),new yc(n)},Vt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=Pd(n),e=e===null?null:e.stateNode,e},Vt.flushSync=function(e){return $r(e)},Vt.hydrate=function(e,n,i){if(!Qi(n))throw Error(o(200));return Xi(null,e,n,!0,i)},Vt.hydrateRoot=function(e,n,i){if(!bc(e))throw Error(o(405));var c=i!=null&&i.hydratedSources||null,h=!1,g="",w=rh;if(i!=null&&(i.unstable_strictMode===!0&&(h=!0),i.identifierPrefix!==void 0&&(g=i.identifierPrefix),i.onRecoverableError!==void 0&&(w=i.onRecoverableError)),n=th(n,null,e,1,i??null,h,!1,g,w),e[Vn]=n.current,Xo(e),c)for(e=0;e<c.length;e++)i=c[e],h=i._getVersion,h=h(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,h]:n.mutableSourceEagerHydrationData.push(i,h);return new Yi(n)},Vt.render=function(e,n,i){if(!Qi(n))throw Error(o(200));return Xi(null,e,n,!1,i)},Vt.unmountComponentAtNode=function(e){if(!Qi(e))throw Error(o(40));return e._reactRootContainer?($r(function(){Xi(null,null,e,!1,function(){e._reactRootContainer=null,e[Vn]=null})}),!0):!1},Vt.unstable_batchedUpdates=dc,Vt.unstable_renderSubtreeIntoContainer=function(e,n,i,c){if(!Qi(i))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return Xi(e,n,i,!1,c)},Vt.version="18.3.1-next-f1338f8080-20240426",Vt}var fh;function eg(){if(fh)return Cc.exports;fh=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),Cc.exports=Kx(),Cc.exports}var ph;function Yx(){if(ph)return ea;ph=1;var t=eg();return ea.createRoot=t.createRoot,ea.hydrateRoot=t.hydrateRoot,ea}var Qx=Yx();const Xx=Dr(Qx);var Dc,hh;function Zx(){if(hh)return Dc;hh=1,Dc=t;function t(r,o,s){if(r!=null&&typeof r!="number")throw new Error("start must be a number or null");if(o!=null&&typeof o!="number")throw new Error("stop must be a number or null");if(s!=null&&typeof s!="number")throw new Error("step must be a number or null");o==null&&(o=r||0,r=0),s==null&&(s=o>r?1:-1);for(var a=[],l=r<o;l?r<o:r>o;r+=s)a.push(r);return a}return Dc}var Jx=Zx();const Tu=Dr(Jx);var jc={exports:{}},Ac,mh;function ey(){if(mh)return Ac;mh=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ac=t,Ac}var Pc,gh;function ty(){if(gh)return Pc;gh=1;var t=ey();function r(){}function o(){}return o.resetWarningCache=r,Pc=function(){function s(d,f,p,m,x,v){if(v!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}s.isRequired=s;function a(){return s}var l={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:a,element:s,elementType:s,instanceOf:a,node:s,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:o,resetWarningCache:r};return l.PropTypes=l,l},Pc}var vh;function ny(){return vh||(vh=1,jc.exports=ty()()),jc.exports}var ry=ny();const Se=Dr(ry);var Rc={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var xh;function oy(){return xh||(xh=1,function(t){(function(){var r={}.hasOwnProperty;function o(){for(var l="",d=0;d<arguments.length;d++){var f=arguments[d];f&&(l=a(l,s(f)))}return l}function s(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return o.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var d="";for(var f in l)r.call(l,f)&&l[f]&&(d=a(d,f));return d}function a(l,d){return d?l?l+" "+d:l+d:l}t.exports?(o.default=o,t.exports=o):window.classNames=o})()}(Rc)),Rc.exports}var sy=oy();const jt=Dr(sy);var kc,yh;function iy(){if(yh)return kc;yh=1;var t=200,r="__lodash_hash_undefined__",o=9007199254740991,s="[object Arguments]",a="[object Function]",l="[object GeneratorFunction]",d=/[\\^$.*+?()[\]{}|]/g,f=/^\[object .+?Constructor\]$/,p=typeof Ji=="object"&&Ji&&Ji.Object===Object&&Ji,m=typeof self=="object"&&self&&self.Object===Object&&self,x=p||m||Function("return this")();function v(L,Z,he){switch(he.length){case 0:return L.call(Z);case 1:return L.call(Z,he[0]);case 2:return L.call(Z,he[0],he[1]);case 3:return L.call(Z,he[0],he[1],he[2])}return L.apply(Z,he)}function y(L,Z){var he=L?L.length:0;return!!he&&j(L,Z,0)>-1}function N(L,Z){for(var he=-1,Pe=Z.length,_e=L.length;++he<Pe;)L[_e+he]=Z[he];return L}function S(L,Z,he,Pe){for(var _e=L.length,Be=he+-1;++Be<_e;)if(Z(L[Be],Be,L))return Be;return-1}function j(L,Z,he){if(Z!==Z)return S(L,E,he);for(var Pe=he-1,_e=L.length;++Pe<_e;)if(L[Pe]===Z)return Pe;return-1}function E(L){return L!==L}function W(L,Z){return L.has(Z)}function V(L,Z){return L?.[Z]}function B(L){var Z=!1;if(L!=null&&typeof L.toString!="function")try{Z=!!(L+"")}catch{}return Z}var z=Array.prototype,T=Function.prototype,$=Object.prototype,R=x["__core-js_shared__"],F=function(){var L=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||"");return L?"Symbol(src)_1."+L:""}(),X=T.toString,ee=$.hasOwnProperty,ie=$.toString,k=RegExp("^"+X.call(ee).replace(d,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),O=x.Symbol,G=$.propertyIsEnumerable,te=z.splice,J=O?O.isConcatSpreadable:void 0,se=Math.max,Q=Ht(x,"Map"),H=Ht(Object,"create");function _(L){var Z=-1,he=L?L.length:0;for(this.clear();++Z<he;){var Pe=L[Z];this.set(Pe[0],Pe[1])}}function D(){this.__data__=H?H(null):{}}function C(L){return this.has(L)&&delete this.__data__[L]}function K(L){var Z=this.__data__;if(H){var he=Z[L];return he===r?void 0:he}return ee.call(Z,L)?Z[L]:void 0}function re(L){var Z=this.__data__;return H?Z[L]!==void 0:ee.call(Z,L)}function pe(L,Z){var he=this.__data__;return he[L]=H&&Z===void 0?r:Z,this}_.prototype.clear=D,_.prototype.delete=C,_.prototype.get=K,_.prototype.has=re,_.prototype.set=pe;function me(L){var Z=-1,he=L?L.length:0;for(this.clear();++Z<he;){var Pe=L[Z];this.set(Pe[0],Pe[1])}}function Ee(){this.__data__=[]}function le(L){var Z=this.__data__,he=bt(Z,L);if(he<0)return!1;var Pe=Z.length-1;return he==Pe?Z.pop():te.call(Z,he,1),!0}function de(L){var Z=this.__data__,he=bt(Z,L);return he<0?void 0:Z[he][1]}function ue(L){return bt(this.__data__,L)>-1}function Re(L,Z){var he=this.__data__,Pe=bt(he,L);return Pe<0?he.push([L,Z]):he[Pe][1]=Z,this}me.prototype.clear=Ee,me.prototype.delete=le,me.prototype.get=de,me.prototype.has=ue,me.prototype.set=Re;function ge(L){var Z=-1,he=L?L.length:0;for(this.clear();++Z<he;){var Pe=L[Z];this.set(Pe[0],Pe[1])}}function Te(){this.__data__={hash:new _,map:new(Q||me),string:new _}}function qe(L){return Bn(this,L).delete(L)}function Ke(L){return Bn(this,L).get(L)}function at(L){return Bn(this,L).has(L)}function Tt(L,Z){return Bn(this,L).set(L,Z),this}ge.prototype.clear=Te,ge.prototype.delete=qe,ge.prototype.get=Ke,ge.prototype.has=at,ge.prototype.set=Tt;function en(L){var Z=-1,he=L?L.length:0;for(this.__data__=new ge;++Z<he;)this.add(L[Z])}function tn(L){return this.__data__.set(L,r),this}function lt(L){return this.__data__.has(L)}en.prototype.add=en.prototype.push=tn,en.prototype.has=lt;function bt(L,Z){for(var he=L.length;he--;)if(Zr(L[he][0],Z))return he;return-1}function Dn(L,Z,he,Pe){var _e=-1,Be=y,Ye=!0,Pt=L.length,ze=[],Ot=Z.length;if(!Pt)return ze;Z.length>=t&&(Be=W,Ye=!1,Z=new en(Z));e:for(;++_e<Pt;){var Qe=L[_e],Nt=Qe;if(Qe=Qe!==0?Qe:0,Ye&&Nt===Nt){for(var _t=Ot;_t--;)if(Z[_t]===Nt)continue e;ze.push(Qe)}else Be(Z,Nt,Pe)||ze.push(Qe)}return ze}function jr(L,Z,he,Pe,_e){var Be=-1,Ye=L.length;for(he||(he=Ut),_e||(_e=[]);++Be<Ye;){var Pt=L[Be];he(Pt)&&N(_e,Pt)}return _e}function Ar(L){if(!er(L)||An(L))return!1;var Z=$n(L)||B(L)?k:f;return Z.test(wt(L))}function Qr(L,Z){return Z=se(Z===void 0?L.length-1:Z,0),function(){for(var he=arguments,Pe=-1,_e=se(he.length-Z,0),Be=Array(_e);++Pe<_e;)Be[Pe]=he[Z+Pe];Pe=-1;for(var Ye=Array(Z+1);++Pe<Z;)Ye[Pe]=he[Pe];return Ye[Z]=Be,v(L,this,Ye)}}function Bn(L,Z){var he=L.__data__;return jn(Z)?he[typeof Z=="string"?"string":"hash"]:he.map}function Ht(L,Z){var he=V(L,Z);return Ar(he)?he:void 0}function Ut(L){return Pr(L)||Jr(L)||!!(J&&L&&L[J])}function jn(L){var Z=typeof L;return Z=="string"||Z=="number"||Z=="symbol"||Z=="boolean"?L!=="__proto__":L===null}function An(L){return!!F&&F in L}function wt(L){if(L!=null){try{return X.call(L)}catch{}try{return L+""}catch{}}return""}var Xr=Qr(function(L,Z){return Fn(L)?Dn(L,jr(Z,1,Fn)):[]});function Zr(L,Z){return L===Z||L!==L&&Z!==Z}function Jr(L){return Fn(L)&&ee.call(L,"callee")&&(!G.call(L,"callee")||ie.call(L)==s)}var Pr=Array.isArray;function Jn(L){return L!=null&&Rr(L.length)&&!$n(L)}function Fn(L){return Pn(L)&&Jn(L)}function $n(L){var Z=er(L)?ie.call(L):"";return Z==a||Z==l}function Rr(L){return typeof L=="number"&&L>-1&&L%1==0&&L<=o}function er(L){var Z=typeof L;return!!L&&(Z=="object"||Z=="function")}function Pn(L){return!!L&&typeof L=="object"}return kc=Xr,kc}var ay=iy();const bh=Dr(ay);function Da(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function ly(t,r){for(var o=0;o<r.length;o++){var s=r[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function ja(t,r,o){return r&&ly(t.prototype,r),t}function We(t,r,o){return r in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,t}function pu(){return pu=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},pu.apply(this,arguments)}function Aa(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),r&&hu(t,r)}function So(t){return So=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},So(t)}function hu(t,r){return hu=Object.setPrototypeOf||function(s,a){return s.__proto__=a,s},hu(t,r)}function cy(t,r){if(t==null)return{};var o={},s=Object.keys(t),a,l;for(l=0;l<s.length;l++)a=s[l],!(r.indexOf(a)>=0)&&(o[a]=t[a]);return o}function uy(t,r){if(t==null)return{};var o=cy(t,r),s,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)s=l[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(o[s]=t[s])}return o}function ft(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pa(t,r){return r&&(typeof r=="object"||typeof r=="function")?r:ft(t)}function dy(t,r){return fy(t)||py(t,r)||hy()}function fy(t){if(Array.isArray(t))return t}function py(t,r){var o=[],s=!0,a=!1,l=void 0;try{for(var d=t[Symbol.iterator](),f;!(s=(f=d.next()).done)&&(o.push(f.value),!(r&&o.length===r));s=!0);}catch(p){a=!0,l=p}finally{try{!s&&d.return!=null&&d.return()}finally{if(a)throw l}}return o}function hy(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var my=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],gy=["Db","Eb","Gb","Ab","Bb"],vy={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},ca=12,Ou=ca,_u=127,xy=/([a-g])([#b]?)(\d+)/,mu=12;function yy(t){if(!t)throw Error("Invalid note argument");var r=xy.exec(t.toLowerCase());if(!r)throw Error("Invalid note argument");var o=dy(r,4),s=o[1],a=o[2],l=o[3],d="".concat(s.toUpperCase()).concat(a),f=vy[d];if(f==null)throw Error("Invalid note argument");return ca+f+mu*parseInt(l,10)}function by(t){var r=(t-ca)%mu,o=Math.floor((t-ca)/mu),s=my[r];return{note:"".concat(s).concat(o),pitchName:s,octave:o,midiNumber:t,isAccidental:gy.includes(s)}}function wy(){return Tu(Ou,_u+1).reduce(function(t,r){return t[r]=by(r),t},{})}var Ny=wy();function tg(t){var r=Ny[t];if(!r)throw Error("Invalid MIDI number");return r}var Cy=Tu(Ou,_u+1).filter(function(t){return!tg(t).isAccidental}),At={fromNote:yy,getAttributes:tg,MIN_MIDI_NUMBER:Ou,MAX_MIDI_NUMBER:_u,NATURAL_MIDI_NUMBERS:Cy},Lu=function(t){Aa(r,t);function r(){var o,s;Da(this,r);for(var a=arguments.length,l=new Array(a),d=0;d<a;d++)l[d]=arguments[d];return s=Pa(this,(o=So(r)).call.apply(o,[this].concat(l))),We(ft(s),"onPlayNoteInput",function(){s.props.onPlayNoteInput(s.props.midiNumber)}),We(ft(s),"onStopNoteInput",function(){s.props.onStopNoteInput(s.props.midiNumber)}),s}return ja(r,[{key:"getAbsoluteKeyPosition",value:function(s){var a=7,l=At.getAttributes(s),d=l.octave,f=l.pitchName,p=this.props.pitchPositions[f],m=a*d;return p+m}},{key:"getRelativeKeyPosition",value:function(s){return this.getAbsoluteKeyPosition(s)-this.getAbsoluteKeyPosition(this.props.noteRange.first)}},{key:"render",value:function(){var s=this.props,a=s.naturalKeyWidth,l=s.accidentalWidthRatio,d=s.midiNumber,f=s.gliss,p=s.useTouchEvents,m=s.accidental,x=s.active,v=s.disabled,y=s.children;return we.createElement("div",{className:jt("ReactPiano__Key",{"ReactPiano__Key--accidental":m,"ReactPiano__Key--natural":!m,"ReactPiano__Key--disabled":v,"ReactPiano__Key--active":x}),style:{left:wh(this.getRelativeKeyPosition(d)*a),width:wh(m?l*a:a)},onMouseDown:p?null:this.onPlayNoteInput,onMouseUp:p?null:this.onStopNoteInput,onMouseEnter:f?this.onPlayNoteInput:null,onMouseLeave:this.onStopNoteInput,onTouchStart:p?this.onPlayNoteInput:null,onTouchCancel:p?this.onStopNoteInput:null,onTouchEnd:p?this.onStopNoteInput:null},we.createElement("div",{className:"ReactPiano__NoteLabelContainer"},y))}}]),r}(we.Component);We(Lu,"propTypes",{midiNumber:Se.number.isRequired,naturalKeyWidth:Se.number.isRequired,gliss:Se.bool.isRequired,useTouchEvents:Se.bool.isRequired,accidental:Se.bool.isRequired,active:Se.bool.isRequired,disabled:Se.bool.isRequired,onPlayNoteInput:Se.func.isRequired,onStopNoteInput:Se.func.isRequired,accidentalWidthRatio:Se.number.isRequired,pitchPositions:Se.object.isRequired,children:Se.node});We(Lu,"defaultProps",{accidentalWidthRatio:.65,pitchPositions:{C:0,Db:.55,D:1,Eb:1.8,E:2,F:3,Gb:3.5,G:4,Ab:4.7,A:5,Bb:5.85,B:6}});function wh(t){return"".concat(t*100,"%")}var Bu=function(t){Aa(r,t);function r(){return Da(this,r),Pa(this,So(r).apply(this,arguments))}return ja(r,[{key:"getMidiNumbers",value:function(){return Tu(this.props.noteRange.first,this.props.noteRange.last+1)}},{key:"getNaturalKeyCount",value:function(){return this.getMidiNumbers().filter(function(s){var a=At.getAttributes(s),l=a.isAccidental;return!l}).length}},{key:"getNaturalKeyWidth",value:function(){return 1/this.getNaturalKeyCount()}},{key:"getWidth",value:function(){return this.props.width?this.props.width:"100%"}},{key:"getHeight",value:function(){if(!this.props.width)return"100%";var s=this.props.width*this.getNaturalKeyWidth();return"".concat(s/this.props.keyWidthToHeight,"px")}},{key:"render",value:function(){var s=this,a=this.getNaturalKeyWidth();return we.createElement("div",{className:jt("ReactPiano__Keyboard",this.props.className),style:{width:this.getWidth(),height:this.getHeight()}},this.getMidiNumbers().map(function(l){var d=At.getAttributes(l);d.note;var f=d.isAccidental,p=!s.props.disabled&&s.props.activeNotes.includes(l);return we.createElement(Lu,{naturalKeyWidth:a,midiNumber:l,noteRange:s.props.noteRange,active:p,accidental:f,disabled:s.props.disabled,onPlayNoteInput:s.props.onPlayNoteInput,onStopNoteInput:s.props.onStopNoteInput,gliss:s.props.gliss,useTouchEvents:s.props.useTouchEvents,key:l},s.props.disabled?null:s.props.renderNoteLabel({isActive:p,isAccidental:f,midiNumber:l}))}))}}]),r}(we.Component);We(Bu,"propTypes",{noteRange:Sy,activeNotes:Se.arrayOf(Se.number),onPlayNoteInput:Se.func.isRequired,onStopNoteInput:Se.func.isRequired,renderNoteLabel:Se.func.isRequired,keyWidthToHeight:Se.number.isRequired,className:Se.string,disabled:Se.bool,gliss:Se.bool,useTouchEvents:Se.bool,width:Se.number});We(Bu,"defaultProps",{disabled:!1,gliss:!1,useTouchEvents:!1,keyWidthToHeight:.33,renderNoteLabel:function(){}});function Nh(t){return typeof t!="number"?!1:At.NATURAL_MIDI_NUMBERS.includes(t)}function Sy(t,r,o){var s=t[r],a=s.first,l=s.last;if(!a||!l)return new Error("Invalid prop ".concat(r," supplied to ").concat(o,". ").concat(r," must be an object with .first and .last values."));if(!Nh(a)||!Nh(l))return new Error("Invalid prop ".concat(r," supplied to ").concat(o,". ").concat(r," values must be valid MIDI numbers, and should not be accidentals (sharp or flat notes)."));if(a>=l)return new Error("Invalid prop ".concat(r," supplied to ").concat(o,". ").concat(r,".first must be smaller than ").concat(r,".last."))}var Fu=function(t){Aa(r,t);function r(){var o,s;Da(this,r);for(var a=arguments.length,l=new Array(a),d=0;d<a;d++)l[d]=arguments[d];return s=Pa(this,(o=So(r)).call.apply(o,[this].concat(l))),We(ft(s),"state",{isMouseDown:!1,useTouchEvents:!1}),We(ft(s),"handleNoteChanges",function(f){var p=f.prevActiveNotes,m=f.nextActiveNotes;if(!s.props.disabled){var x=bh(p,m),v=bh(m,p);v.forEach(function(y){s.props.playNote(y)}),x.forEach(function(y){s.props.stopNote(y)})}}),We(ft(s),"getMidiNumberForKey",function(f){if(!s.props.keyboardShortcuts)return null;var p=s.props.keyboardShortcuts.find(function(m){return m.key===f});return p&&p.midiNumber}),We(ft(s),"getKeyForMidiNumber",function(f){if(!s.props.keyboardShortcuts)return null;var p=s.props.keyboardShortcuts.find(function(m){return m.midiNumber===f});return p&&p.key}),We(ft(s),"onKeyDown",function(f){if(!(f.ctrlKey||f.metaKey||f.shiftKey)){var p=s.getMidiNumberForKey(f.key);p&&s.onPlayNoteInput(p)}}),We(ft(s),"onKeyUp",function(f){var p=s.getMidiNumberForKey(f.key);p&&s.onStopNoteInput(p)}),We(ft(s),"onPlayNoteInput",function(f){s.props.disabled||s.props.onPlayNoteInput(f,s.props.activeNotes)}),We(ft(s),"onStopNoteInput",function(f){s.props.disabled||s.props.onStopNoteInput(f,s.props.activeNotes)}),We(ft(s),"onMouseDown",function(){s.setState({isMouseDown:!0})}),We(ft(s),"onMouseUp",function(){s.setState({isMouseDown:!1})}),We(ft(s),"onTouchStart",function(){s.setState({useTouchEvents:!0})}),We(ft(s),"renderNoteLabel",function(f){var p=f.midiNumber,m=f.isActive,x=f.isAccidental,v=s.getKeyForMidiNumber(p);return s.props.renderNoteLabel({keyboardShortcut:v,midiNumber:p,isActive:m,isAccidental:x})}),s}return ja(r,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)}},{key:"componentDidUpdate",value:function(s,a){this.props.activeNotes!==s.activeNotes&&this.handleNoteChanges({prevActiveNotes:s.activeNotes||[],nextActiveNotes:this.props.activeNotes||[]})}},{key:"render",value:function(){return we.createElement("div",{style:{width:"100%",height:"100%"},onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchStart:this.onTouchStart,"data-testid":"container"},we.createElement(Bu,{noteRange:this.props.noteRange,onPlayNoteInput:this.onPlayNoteInput,onStopNoteInput:this.onStopNoteInput,activeNotes:this.props.activeNotes,className:this.props.className,disabled:this.props.disabled,width:this.props.width,keyWidthToHeight:this.props.keyWidthToHeight,gliss:this.state.isMouseDown,useTouchEvents:this.state.useTouchEvents,renderNoteLabel:this.renderNoteLabel}))}}]),r}(we.Component);We(Fu,"propTypes",{noteRange:Se.object.isRequired,activeNotes:Se.arrayOf(Se.number.isRequired).isRequired,playNote:Se.func.isRequired,stopNote:Se.func.isRequired,onPlayNoteInput:Se.func.isRequired,onStopNoteInput:Se.func.isRequired,renderNoteLabel:Se.func.isRequired,className:Se.string,disabled:Se.bool,width:Se.number,keyWidthToHeight:Se.number,keyboardShortcuts:Se.arrayOf(Se.shape({key:Se.string.isRequired,midiNumber:Se.number.isRequired}))});We(Fu,"defaultProps",{renderNoteLabel:function(r){var o=r.keyboardShortcut;r.midiNumber;var s=r.isActive,a=r.isAccidental;return o?we.createElement("div",{className:jt("ReactPiano__NoteLabel",{"ReactPiano__NoteLabel--active":s,"ReactPiano__NoteLabel--accidental":a,"ReactPiano__NoteLabel--natural":!a})},o):null}});var $u=function(t){Aa(r,t);function r(){var o,s;Da(this,r);for(var a=arguments.length,l=new Array(a),d=0;d<a;d++)l[d]=arguments[d];return s=Pa(this,(o=So(r)).call.apply(o,[this].concat(l))),We(ft(s),"state",{activeNotes:s.props.activeNotes||[]}),We(ft(s),"handlePlayNoteInput",function(f){s.setState(function(p){return s.props.onPlayNoteInput&&s.props.onPlayNoteInput(f,{prevActiveNotes:p.activeNotes}),p.activeNotes.includes(f)?null:{activeNotes:p.activeNotes.concat(f)}})}),We(ft(s),"handleStopNoteInput",function(f){s.setState(function(p){return s.props.onStopNoteInput&&s.props.onStopNoteInput(f,{prevActiveNotes:s.state.activeNotes}),{activeNotes:p.activeNotes.filter(function(m){return f!==m})}})}),s}return ja(r,[{key:"componentDidUpdate",value:function(s){s.activeNotes!==this.props.activeNotes&&this.state.activeNotes!==this.props.activeNotes&&this.setState({activeNotes:this.props.activeNotes||[]})}},{key:"render",value:function(){var s=this.props;s.activeNotes,s.onPlayNoteInput,s.onStopNoteInput;var a=uy(s,["activeNotes","onPlayNoteInput","onStopNoteInput"]);return we.createElement(Fu,pu({activeNotes:this.state.activeNotes,onPlayNoteInput:this.handlePlayNoteInput,onStopNoteInput:this.handleStopNoteInput},a))}}]),r}(we.Component);We($u,"propTypes",{noteRange:Se.object.isRequired,activeNotes:Se.arrayOf(Se.number.isRequired),playNote:Se.func.isRequired,stopNote:Se.func.isRequired,onPlayNoteInput:Se.func,onStopNoteInput:Se.func,renderNoteLabel:Se.func,className:Se.string,disabled:Se.bool,width:Se.number,keyWidthToHeight:Se.number,keyboardShortcuts:Se.arrayOf(Se.shape({key:Se.string.isRequired,midiNumber:Se.number.isRequired}))});function Ey(t){for(var r=t.firstNote,o=t.lastNote,s=t.keyboardConfig,a=r,l=0,d=[];l<s.length&&a<=o;){var f=s[l],p=At.getAttributes(a),m=p.isAccidental;m?d.push({key:f.flat,midiNumber:a}):(d.push({key:f.natural,midiNumber:a}),l+=1),a+=1}return d}var Ch={create:Ey,BOTTOM_ROW:[{natural:"z",flat:"a",sharp:"s"},{natural:"x",flat:"s",sharp:"d"},{natural:"c",flat:"d",sharp:"f"},{natural:"v",flat:"f",sharp:"g"},{natural:"b",flat:"g",sharp:"h"},{natural:"n",flat:"h",sharp:"j"},{natural:"m",flat:"j",sharp:"k"},{natural:",",flat:"k",sharp:"l"},{natural:".",flat:"l",sharp:";"},{natural:"/",flat:";",sharp:"'"}],HOME_ROW:[{natural:"a",flat:"q",sharp:"w"},{natural:"s",flat:"w",sharp:"e"},{natural:"d",flat:"e",sharp:"r"},{natural:"f",flat:"r",sharp:"t"},{natural:"g",flat:"t",sharp:"y"},{natural:"h",flat:"y",sharp:"u"},{natural:"j",flat:"u",sharp:"i"},{natural:"k",flat:"i",sharp:"o"},{natural:"l",flat:"o",sharp:"p"},{natural:";",flat:"p",sharp:"["},{natural:"'",flat:"[",sharp:"]"}],QWERTY_ROW:[{natural:"q",flat:"1",sharp:"2"},{natural:"w",flat:"2",sharp:"3"},{natural:"e",flat:"3",sharp:"4"},{natural:"r",flat:"4",sharp:"5"},{natural:"t",flat:"5",sharp:"6"},{natural:"y",flat:"6",sharp:"7"},{natural:"u",flat:"7",sharp:"8"},{natural:"i",flat:"8",sharp:"9"},{natural:"o",flat:"9",sharp:"0"},{natural:"p",flat:"0",sharp:"-"},{natural:"[",flat:"-",sharp:"="}]};const Sh=t=>{let r;const o=new Set,s=(m,x)=>{const v=typeof m=="function"?m(r):m;if(!Object.is(v,r)){const y=r;r=x??(typeof v!="object"||v===null)?v:Object.assign({},r,v),o.forEach(N=>N(r,y))}},a=()=>r,f={setState:s,getState:a,getInitialState:()=>p,subscribe:m=>(o.add(m),()=>o.delete(m))},p=r=t(s,a,f);return f},Dy=t=>t?Sh(t):Sh,jy=t=>t;function Ay(t,r=jy){const o=we.useSyncExternalStore(t.subscribe,we.useCallback(()=>r(t.getState()),[t,r]),we.useCallback(()=>r(t.getInitialState()),[t,r]));return we.useDebugValue(o),o}const Eh=t=>{const r=Dy(t),o=s=>Ay(r,s);return Object.assign(o,r),o},zs=t=>t?Eh(t):Eh;class Dh extends Error{constructor(r,o,s){super(s),this.name="ApiError",this.url=o.url,this.status=o.status,this.statusText=o.statusText,this.body=o.body,this.request=r}}class Py extends Error{constructor(r){super(r),this.name="CancelError"}get isCancelled(){return!0}}class Ry{#t;#n;#e;#r;#s;#i;#o;constructor(r){this.#t=!1,this.#n=!1,this.#e=!1,this.#r=[],this.#s=new Promise((o,s)=>{this.#i=o,this.#o=s;const a=f=>{this.#t||this.#n||this.#e||(this.#t=!0,this.#i&&this.#i(f))},l=f=>{this.#t||this.#n||this.#e||(this.#n=!0,this.#o&&this.#o(f))},d=f=>{this.#t||this.#n||this.#e||this.#r.push(f)};return Object.defineProperty(d,"isResolved",{get:()=>this.#t}),Object.defineProperty(d,"isRejected",{get:()=>this.#n}),Object.defineProperty(d,"isCancelled",{get:()=>this.#e}),r(a,l,d)})}get[Symbol.toStringTag](){return"Cancellable Promise"}then(r,o){return this.#s.then(r,o)}catch(r){return this.#s.catch(r)}finally(r){return this.#s.finally(r)}cancel(){if(!(this.#t||this.#n||this.#e)){if(this.#e=!0,this.#r.length)try{for(const r of this.#r)r()}catch(r){console.warn("Cancellation threw an error",r);return}this.#r.length=0,this.#o&&this.#o(new Py("Request aborted"))}}get isCancelled(){return this.#e}}const zu={BASE:"http://localhost:8080",VERSION:"0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0},Vu=t=>t!=null,Vs=t=>typeof t=="string",Ic=t=>Vs(t)&&t!=="",Gu=t=>typeof t=="object"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.arrayBuffer=="function"&&typeof t.constructor=="function"&&typeof t.constructor.name=="string"&&/^(Blob|File)$/.test(t.constructor.name)&&/^(Blob|File)$/.test(t[Symbol.toStringTag]),ng=t=>t instanceof FormData,ky=t=>{try{return btoa(t)}catch{return Buffer.from(t).toString("base64")}},Iy=t=>{const r=[],o=(a,l)=>{r.push(`${encodeURIComponent(a)}=${encodeURIComponent(String(l))}`)},s=(a,l)=>{Vu(l)&&(Array.isArray(l)?l.forEach(d=>{s(a,d)}):typeof l=="object"?Object.entries(l).forEach(([d,f])=>{s(`${a}[${d}]`,f)}):o(a,l))};return Object.entries(t).forEach(([a,l])=>{s(a,l)}),r.length>0?`?${r.join("&")}`:""},My=(t,r)=>{const o=encodeURI,s=r.url.replace("{api-version}",t.VERSION).replace(/{(.*?)}/g,(l,d)=>r.path?.hasOwnProperty(d)?o(String(r.path[d])):l),a=`${t.BASE}${s}`;return r.query?`${a}${Iy(r.query)}`:a},Ty=t=>{if(t.formData){const r=new FormData,o=(s,a)=>{Vs(a)||Gu(a)?r.append(s,a):r.append(s,JSON.stringify(a))};return Object.entries(t.formData).filter(([s,a])=>Vu(a)).forEach(([s,a])=>{Array.isArray(a)?a.forEach(l=>o(s,l)):o(s,a)}),r}},ta=async(t,r)=>r,Oy=async(t,r)=>{const[o,s,a,l]=await Promise.all([ta(r,t.TOKEN),ta(r,t.USERNAME),ta(r,t.PASSWORD),ta(r,t.HEADERS)]),d=Object.entries({Accept:"application/json",...l,...r.headers}).filter(([f,p])=>Vu(p)).reduce((f,[p,m])=>({...f,[p]:String(m)}),{});if(Ic(o)&&(d.Authorization=`Bearer ${o}`),Ic(s)&&Ic(a)){const f=ky(`${s}:${a}`);d.Authorization=`Basic ${f}`}return r.body&&(r.mediaType?d["Content-Type"]=r.mediaType:Gu(r.body)?d["Content-Type"]=r.body.type||"application/octet-stream":Vs(r.body)?d["Content-Type"]="text/plain":ng(r.body)||(d["Content-Type"]="application/json")),new Headers(d)},_y=t=>{if(t.body!==void 0)return t.mediaType?.includes("/json")?JSON.stringify(t.body):Vs(t.body)||Gu(t.body)||ng(t.body)?t.body:JSON.stringify(t.body)},Ly=async(t,r,o,s,a,l,d)=>{const f=new AbortController,p={headers:l,body:s??a,method:r.method,signal:f.signal};return d(()=>f.abort()),await fetch(o,p)},By=(t,r)=>{if(r){const o=t.headers.get(r);if(Vs(o))return o}},Fy=async t=>{if(t.status!==204)try{const r=t.headers.get("Content-Type");if(r)return["application/json","application/problem+json"].some(a=>r.toLowerCase().startsWith(a))?await t.json():await t.text()}catch(r){console.error(r)}},$y=(t,r)=>{const s={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...t.errors}[r.status];if(s)throw new Dh(t,r,s);if(!r.ok){const a=r.status??"unknown",l=r.statusText??"unknown",d=(()=>{try{return JSON.stringify(r.body,null,2)}catch{return}})();throw new Dh(t,r,`Generic Error: status: ${a}; status text: ${l}; body: ${d}`)}},Hu=(t,r)=>new Ry(async(o,s,a)=>{try{const l=My(t,r),d=Ty(r),f=_y(r),p=await Oy(t,r);if(!a.isCancelled){const m=await Ly(t,r,l,f,d,p,a),x=await Fy(m),v=By(m,r.responseHeader),y={url:l,ok:m.ok,status:m.status,statusText:m.statusText,body:v??x};$y(r,y),o(y.body)}}catch(l){s(l)}});class jh{static getModeKeyChords(r,o){return Hu(zu,{method:"GET",url:"/api/chords",query:{key:r,mode:o}})}}class Mc{static getModes(){return Hu(zu,{method:"GET",url:"/api/modes"})}}class zy{static getScaleNotes(r,o){return Hu(zu,{method:"GET",url:"/api/scales",query:{key:r,mode:o}})}}class Vy{constructor(){this.baseUrl="/data",this.indexCache=null,this.modesCache=null,this.chordsCache=new Map,this.scalesCache=new Map,this.distinctChordsCache=null}normalizeKey(r){const o=r.trim();return o.length===0?"":o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()}async loadIndex(){if(this.indexCache)return this.indexCache;try{const r=await fetch(`${this.baseUrl}/index.json`);if(!r.ok)throw new Error(`Failed to load index: ${r.statusText}`);return this.indexCache=await r.json(),this.indexCache}catch(r){throw console.error("Error loading static data index:",r),new Error("Failed to load static data. Please ensure the data generation completed successfully.")}}async getModes(){if(this.modesCache)return this.modesCache;try{const r=await fetch(`${this.baseUrl}/modes.json`);if(!r.ok)throw new Error(`Failed to load modes: ${r.statusText}`);return this.modesCache=await r.json(),this.modesCache}catch(r){throw console.error("Error loading modes from static data:",r),r}}async getModeKeyChords(r,o){try{const s=this.normalizeKey(r),l=(await this.loadIndex()).modes.find(m=>m.name===o);if(!l||!l.id)throw new Error(`Mode "${o}" not found`);const d=l.id.toString();if(this.chordsCache.has(d))return this.chordsCache.get(d).filter(x=>x.keyName===s);const f=await fetch(`${this.baseUrl}/chords-mode-${d}.json`);if(!f.ok)throw new Error(`Failed to load chords for mode ${o}: ${f.statusText}`);const p=await f.json();return this.chordsCache.set(d,p),p.filter(m=>m.keyName===s)}catch(s){throw console.error("Error loading chords from static data:",s),s}}async getScaleNotes(r,o){try{const s=this.normalizeKey(r),l=(await this.loadIndex()).modes.find(m=>m.name===o);if(!l||!l.id)throw new Error(`Mode "${o}" not found`);const d=l.id.toString();if(this.scalesCache.has(d))return this.scalesCache.get(d)[s]||[];const f=await fetch(`${this.baseUrl}/scales-mode-${d}.json`);if(!f.ok)throw new Error(`Failed to load scales for mode ${o}: ${f.statusText}`);const p=await f.json();return this.scalesCache.set(d,p),p[s]||[]}catch(s){throw console.error("Error loading scale notes from static data:",s),s}}async getAllDistinctChords(){if(this.distinctChordsCache)return this.distinctChordsCache;try{const r=await this.loadIndex(),o=[];for(const s of r.modes){if(!s.id)continue;const a=s.id.toString();try{if(this.chordsCache.has(a))o.push(...this.chordsCache.get(a));else{const l=await fetch(`${this.baseUrl}/chords-mode-${a}.json`);if(!l.ok){console.warn(`Failed to load chords for mode ${s.name} (ID: ${a}): ${l.statusText}`);continue}const d=await l.json();this.chordsCache.set(a,d),o.push(...d)}}catch(l){console.warn(`Error loading chords for mode ${s.name}:`,l)}}return this.distinctChordsCache=this.deduplicateChords(o),this.distinctChordsCache}catch(r){throw console.error("Error loading all distinct chords from static data:",r),r}}deduplicateChords(r){const o=new Map;for(const s of r){let a;a=s.chordName.trim(),o.has(a)||o.set(a,s)}return Array.from(o.values())}async getMetadata(){const r=await this.loadIndex();return{generatedAt:r.generated_at,modesCount:r.modes.length}}clearCache(){this.indexCache=null,this.modesCache=null,this.chordsCache.clear(),this.scalesCache.clear(),this.distinctChordsCache=null}}const Hr=new Vy,Gy={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080",VITE_USE_STATIC_DATA:"true"};function Hy(){try{return Gy||{}}catch{return console.warn("Failed to access import.meta.env, using fallbacks"),{}}}const Uy=Hy();function Ah(t,r=""){const o=Uy[t];return typeof o=="string"?o:r}class Wy{constructor(){const r=Ah("VITE_USE_STATIC_DATA","true");console.log("Initializing DataService with environment:",{useStaticData:r}),this.config={useStaticData:r.toLowerCase()!=="false",apiBaseUrl:Ah("VITE_API_BASE_URL","http://localhost:8080")},console.log("DataService initialized with config:",this.config)}async getModes(){return this.config.useStaticData?(console.log("Loading modes from static data"),Hr.getModes()):(console.log("Loading modes from API"),Mc.getModes())}async getModeKeyChords(r,o){return this.config.useStaticData?Hr.getModeKeyChords(r,o):jh.getModeKeyChords(r,o)}async getScaleNotes(r,o){return this.config.useStaticData?Hr.getScaleNotes(r,o):zy.getScaleNotes(r,o)}async getAllDistinctChords(){if(this.config.useStaticData)return console.log("Loading all distinct chords from static data"),Hr.getAllDistinctChords();{console.log("Loading all distinct chords from API");const r=await Mc.getModes(),o=gu,s=[];for(const a of r)for(const l of o)try{const d=await jh.getModeKeyChords(l,a.name);s.push(...d)}catch(d){console.warn(`Failed to load chords for ${a.name} in ${l}:`,d)}return this.deduplicateChords(s)}}deduplicateChords(r){const o=new Map;for(const s of r){let a;if(s.chordName&&s.chordName.trim()!=="")a=s.chordName.trim();else if(s.chordNoteNames&&s.chordNoteNames.trim()!=="")a=s.chordNoteNames.trim();else if(s.chordTypeId!==void 0&&s.chordNoteName)a=`${s.chordNoteName}_type_${s.chordTypeId}`;else if(s.chordNotes&&s.chordNotes.trim()!=="")a=s.chordNotes.trim();else{const l=[];s.chordNote!==void 0&&l.push(`note_${s.chordNote}`),s.chordTypeId!==void 0&&l.push(`type_${s.chordTypeId}`),s.chordNoteName&&l.push(s.chordNoteName),a=l.length>0?l.join("_"):JSON.stringify(s)}o.has(a)||o.set(a,s)}return Array.from(o.values())}getConfig(){return{...this.config}}updateConfig(r){this.config={...this.config,...r},console.log("DataService configuration updated:",this.config),r.useStaticData!==void 0&&Hr.clearCache()}async getDataSourceInfo(){if(this.config.useStaticData)try{return{source:"static",metadata:await Hr.getMetadata()}}catch{return{source:"static",metadata:{error:"Failed to load metadata"}}}else return{source:"api",metadata:{baseUrl:this.config.apiBaseUrl}}}async testConnection(){const r=Date.now();try{return this.config.useStaticData?await Hr.getModes():await Mc.getModes(),{success:!0,responseTime:Date.now()-r}}catch(o){return{success:!1,error:o instanceof Error?o.message:"Unknown error",responseTime:Date.now()-r}}}}const bs=new Wy,qy={"C##":"D","D##":"E","E#":"F","F##":"G","G##":"A","A##":"B","B#":"C",Cb:"B",Db:"C#",Eb:"D#",Fb:"E",Gb:"F#",Ab:"G#",Bb:"A#",Dbb:"C",Ebb:"D",Fbb:"E",Gbb:"F",Abb:"G",Bbb:"A",Cbb:"B"},qr=t=>{if(t)return qy[t]||t},Nn=zs((t,r)=>({chords:void 0,scaleNotes:[],key:"C",mode:"Ionian",modes:[],loadingChords:!1,normalizedScaleNotes:[],allDistinctChords:void 0,loadingAllChords:!1,showAllChords:!1,setKey:o=>{t({key:o}),r().fetchMusicData(o,r().mode)},setMode:o=>{t({mode:o}),r().fetchMusicData(r().key,o)},setModes:o=>{t({modes:o});const{key:s,mode:a,chords:l}=r();!l&&s&&a&&r().fetchMusicData(s,a)},setKeyAndMode:(o,s)=>{t({key:o,mode:s}),r().fetchMusicData(o,s)},fetchMusicData:async(o,s)=>{if(!(!o||!s)){t({loadingChords:!0});try{const[a,l]=await Promise.all([bs.getModeKeyChords(o,s),bs.getScaleNotes(o,s)]),d=l.map(f=>f.noteName?qr(f.noteName):null).filter(Boolean);t({chords:a,scaleNotes:l,normalizedScaleNotes:d,loadingChords:!1})}catch(a){console.error("Error fetching music data:",a),t({loadingChords:!1})}}},initialize:async()=>{const{key:o,mode:s}=r();await r().fetchMusicData(o,s)},fetchAllDistinctChords:async()=>{const{allDistinctChords:o}=r();if(!o){t({loadingAllChords:!0});try{const s=await bs.getAllDistinctChords();t({allDistinctChords:s,loadingAllChords:!1})}catch(s){console.error("Error fetching all distinct chords:",s),t({loadingAllChords:!1})}}},toggleShowAllChords:()=>{const{showAllChords:o,allDistinctChords:s}=r(),a=!o;t({showAllChords:a}),a&&!s&&r().fetchAllDistinctChords()},setShowAllChords:o=>{t({showAllChords:o}),o&&!r().allDistinctChords&&r().fetchAllDistinctChords()}})),Ky=["electric_piano_1","acoustic_grand_piano","bright_acoustic_piano","electric_grand_piano","honkytonk_piano","electric_piano_2","harpsichord","clavinet"],Yy=()=>({instrumentName:"electric_piano_1",cutOffPreviousNotes:!0,eq:{bass:0,mid:0,treble:0},octaveOffset:0,reverbLevel:0,noteDuration:.8,volume:.8,chorusLevel:0,delayLevel:0}),ws=zs((t,r)=>({pianoSettings:Yy(),availableInstruments:Ky,updatePianoSettings:o=>t(s=>({pianoSettings:{...s.pianoSettings,...o}})),setPianoInstrument:o=>r().updatePianoSettings({instrumentName:o}),setCutOffPreviousNotes:o=>r().updatePianoSettings({cutOffPreviousNotes:o}),setEq:o=>r().updatePianoSettings({eq:o}),setOctaveOffset:o=>r().updatePianoSettings({octaveOffset:o}),setReverbLevel:o=>r().updatePianoSettings({reverbLevel:o}),setNoteDuration:o=>r().updatePianoSettings({noteDuration:o}),setVolume:o=>r().updatePianoSettings({volume:o}),setChorusLevel:o=>r().updatePianoSettings({chorusLevel:o}),setDelayLevel:o=>r().updatePianoSettings({delayLevel:o}),setAvailableInstruments:o=>t({availableInstruments:o})})),Sr=zs((t,r)=>({activeNotes:[],activeChordIndex:null,highlightedChordIndex:null,addedChords:[],temporaryChord:null,isPlayingScale:!1,scalePlaybackTimeouts:[],setActiveNotes:o=>t({activeNotes:o}),setAddedChords:o=>t({addedChords:o}),setActiveChordIndex:o=>t({activeChordIndex:o}),setHighlightedChordIndex:o=>t({highlightedChordIndex:o}),setTemporaryChord:o=>t({temporaryChord:o}),setIsPlayingScale:o=>t({isPlayingScale:o}),addChord:(o,s,a,l,d)=>t(f=>({addedChords:[...f.addedChords,{name:o,notes:s,pattern:[...a],originalKey:l,originalMode:d,originalNotes:s}]})),updateChord:(o,s)=>t(a=>{const l=[...a.addedChords];return l[o]={...s},{addedChords:l}}),removeChord:o=>t(s=>{const a=s.addedChords.filter((d,f)=>f!==o);let l=s.activeChordIndex;return s.activeChordIndex===o?l=null:s.activeChordIndex!==null&&s.activeChordIndex>o&&(l=s.activeChordIndex-1),{addedChords:a,activeChordIndex:l}}),clearAllChords:()=>t({addedChords:[],activeChordIndex:null,temporaryChord:null}),updateChordPattern:(o,s)=>t(a=>{const l=[...a.addedChords];return l[o]={...l[o],pattern:[...s]},{addedChords:l}}),playNotes:o=>{t({activeNotes:[]}),setTimeout(()=>t({activeNotes:o}),10)},handleFetchOriginalChord:async(o,s,a)=>{try{const l=await bs.getModeKeyChords(s,a);console.log("Fetching original chord for",o,"in",s,a),console.log("Fetched modeKeyChords from dataService:",l);const d=l.find(f=>f.chordName===o);return console.log("Fetched original chord from dataService:",d),d?.chordNoteNames||null}catch(l){return console.error("Failed to fetch original chord:",l),null}},addScalePlaybackTimeout:o=>t(s=>({scalePlaybackTimeouts:[...s.scalePlaybackTimeouts,o]})),clearScalePlaybackTimeouts:()=>{const{scalePlaybackTimeouts:o}=r();o.forEach(clearTimeout),t({scalePlaybackTimeouts:[]})}})),Ao=zs((t,r)=>({globalPatternState:{currentPattern:["1","2","3","4"],isPlaying:!1,bpm:120,subdivision:.25,swing:0,currentStep:0,repeat:!0,lastChordChangeTime:0,globalClockStartTime:0},currentlyActivePattern:["1","2","3","4"],setGlobalPatternState:o=>t(s=>({globalPatternState:{...s.globalPatternState,...o}})),setCurrentlyActivePattern:o=>t({currentlyActivePattern:o}),togglePlayback:()=>{const{globalPatternState:o}=r(),s=!o.isPlaying;t(a=>({globalPatternState:{...a.globalPatternState,isPlaying:s}}))},updatePattern:o=>{t(s=>({globalPatternState:{...s.globalPatternState,...o}}))}})),rg=zs(t=>({isDeleteMode:!1,isLiveMode:!1,showPatternSystem:!1,setIsDeleteMode:r=>t({isDeleteMode:r}),setIsLiveMode:r=>t({isLiveMode:r}),setShowPatternSystem:r=>t({showPatternSystem:r}),toggleDeleteMode:()=>t(r=>({isDeleteMode:!r.isDeleteMode})),toggleLiveMode:()=>t(r=>({isLiveMode:!r.isLiveMode})),togglePatternSystem:()=>t(r=>({showPatternSystem:!r.showPatternSystem}))}));function Qy(){const[t,r]=b.useState(),[o,s]=b.useState(null);return b.useEffect(()=>{(async()=>{try{const l=await bs.getModes();r(l.map(d=>d.name))}catch(l){s(l),console.error("Error fetching modes:",l)}})()},[]),{modes:t,error:o}}const Ph=["C","D","E","F","G","A","B"],ua=(t,r,o)=>{const s=o.split(", ");let a=Ph.indexOf(qr(s[0])[0]),l=t;return s.map((d,f)=>{const p=qr(d),m=Ph.indexOf(p[0]);return m<a&&f>0&&l++,l>r&&(l=r),a=m,{note:p,octave:l}})},xt=t=>Math.max(0,Math.round(t)).toString(36),st=t=>parseInt(t,36)||0,Xy=(t,r,o,s,a,l,d,f,p,m,x,v,y,N)=>{if(!N?.length||!x.length||!v.length)return"";try{const S="v7",j=x.indexOf(t),E=xt(Math.max(0,j)),W=v.indexOf(r),V=xt(Math.max(0,W)),B=s.slice(0,16).map(de=>de.replace(/[xX]/gi,"0")).join("."),z=Math.max(60,Math.min(200,a)),T=xt(z-60),R={.125:"0",.25:"1",.5:"2",1:"3",2:"4"}[l]||"1",F=Math.max(0,Math.min(50,d)),X=xt(F),ee=(f?2:0)+(p?1:0),ie=xt(ee),k=`${T}|${R}|${X}|${ie}`,O=y.indexOf(m.instrumentName),G=xt(Math.max(0,O)),te=m.cutOffPreviousNotes?"1":"0",J=xt(Math.round(m.eq.bass)+24),se=xt(Math.round(m.eq.mid)+24),Q=xt(Math.round(m.eq.treble)+24),H=xt(m.octaveOffset+3),_=xt(Math.round(m.reverbLevel*35)),D=xt(Math.max(0,Math.round(m.noteDuration*10)-1)),C=xt(Math.round(m.volume*35)),K=xt(Math.round(m.chorusLevel*35)),re=xt(Math.round(m.delayLevel*35)),pe=`${G}|${te}|${J}|${se}|${Q}|${H}|${_}|${D}|${C}|${K}|${re}`,Ee=o.map(de=>{const ue=encodeURIComponent(de.name),Re=encodeURIComponent(de.notes);let ge=`${ue}~${Re}`;if(de.originalKey&&de.originalMode){const Ke=x.indexOf(de.originalKey),at=v.indexOf(de.originalMode);Ke>=0&&at>=0&&(ge+=`@${xt(Ke)}${xt(at)}`)}const Te=de.pattern.map(Ke=>Ke.replace(/[xX]/gi,"0")).join("."),qe=s.map(Ke=>Ke.replace(/[xX]/gi,"0")).join(".");if(Te===qe)return ge;{const Ke=de.pattern.slice(0,16).map(at=>at.replace(/[xX]/gi,"0")).join(".");return`${ge}:${Ke}`}}).filter(Boolean).join("|");return`${S}_${E}_${V}_${B}_${k}_${pe}_${Ee}`}catch(S){return console.error("Failed to encode state:",S),""}},Zy=(t,r,o,s,a)=>{if(console.log("Decoding state:",t),!t||!a?.length||!r.length||!o.length)return console.log("Cannot decode - missing data"),null;try{const l=t.split("_"),d=l[0];if(!["v2","v3","v4","v5","v6","v7"].includes(d)||l.length<6)return console.log("Invalid state format or version"),null;const f=st(l[1]||"0"),p=r[f]||r[0],m=st(l[2]||"0"),x=o[m]||o[0],v=l[3]||(d==="v4"||d==="v5"||d==="v6"||d==="v7"?"1.2.3.4":"1234"),y=d==="v4"||d==="v5"||d==="v6"||d==="v7"?v.split(".").map(k=>k==="0"?"x":k):v.split("").map(k=>k==="0"?"x":k),N=(l[4]||"").split("|"),S=st(N[0]||"60")+60,E={0:.125,1:.25,2:.5,3:1,4:2}[N[1]||"1"]||.25,W=st(N[2]||"0"),V=st(N[3]||"0"),B=(V&2)!==0,z=(V&1)!==0,T=(l[5]||"").split("|"),R={volume:.8,chorusLevel:0,delayLevel:0},F={instrumentName:s[st(T[0]||"0")]||s[0]||"electric_piano_1",cutOffPreviousNotes:(T[1]||"1")==="1",eq:{bass:st(T[2]||"o")-24,mid:st(T[3]||"o")-24,treble:st(T[4]||"o")-24},octaveOffset:st(T[5]||"3")-3,reverbLevel:st(T[6]||"0")/35,noteDuration:(st(T[7]||"7")+1)/10,volume:d==="v6"||d==="v7"?st(T[8]||Math.round(R.volume*35).toString(36))/35:R.volume,chorusLevel:d==="v6"||d==="v7"?st(T[9]||"0")/35:R.chorusLevel,delayLevel:d==="v6"||d==="v7"?st(T[10]||"0")/35:R.delayLevel},X=[],ee=l[6]||"";if(ee){const k=ee.split("|").filter(Boolean);for(const O of k)if(d==="v5"||d==="v6"||d==="v7"){const[G,te]=O.split(":");let J=G,se,Q;if(d==="v7"&&G.includes("@")){const[D,C]=G.split("@");if(J=D,C.length>=2){const K=st(C[0]),re=st(C[1]);se=r[K],Q=o[re]}}const[H,_]=J.split("~");if(H&&_){const D=decodeURIComponent(H),C=decodeURIComponent(_);let K;te?K=te.split(".").map(pe=>pe==="0"?"x":pe):K=[...y];const re={name:D,notes:C,pattern:K,originalKey:se||p,originalMode:Q,originalNotes:C};X.push(re)}else console.warn("Invalid chord format:",O)}else{let G,te;if(O.includes(":")){const[se,Q]=O.split(":");G=st(se),te=d==="v4"?Q.split(".").map(H=>H==="0"?"x":H):Q.split("").map(H=>H==="0"?"x":H)}else G=st(O),te=[...y];let J;if(d==="v3"||d==="v4")J=a[G];else{const se=O.includes(":")?O.split(":")[0]:O;J=a.find(Q=>Q.chordName&&Jy(Q.chordName)===se)}J?.chordName&&J?.chordNoteNames?X.push({name:J.chordName,notes:J.chordNoteNames,pattern:te,originalKey:p,originalMode:x,originalNotes:J.chordNoteNames}):console.warn("Could not find chord at index/name:",d==="v3"||d==="v4"?G:O)}}return{key:p,mode:x,pattern:y,bpm:S,subdivision:E,swing:W,showPattern:B,liveMode:z,addedChords:X,pianoSettings:F}}catch(l){return console.error("Failed to decode state:",l),null}},Jy=t=>t.replace(/[^a-zA-Z0-9]/g,"").substring(0,8),eb=(t,r="s")=>{if(t){const o=new URL(window.location.href);o.searchParams.set(r,t),window.history.replaceState({},"",o.toString())}},tb=(t="s")=>new URL(window.location.href).searchParams.get(t),nb=(t,r,o,s,a,l,d,f,p,m,x,v,y,N,S="s")=>{const j=Xy(t,r,o,s,a,l,d,f,p,m,x,v,y,N);eb(j,S)},rb=(t,r,o,s,a="s")=>{const l=tb(a);return l?Zy(l,t,r,o,s):null},Rh=4,kh=7,gu=["C","C#","Db","D","Eb","E","F","F#","G","Gb","G#","A","Ab","A#","B"],ob=(t,r)=>{if(!t||t.length===0)return!0;const o=t[r%t.length];return o!=="x"&&o!=="X"},Ih=(t,r,o,s)=>t?s:r!==null&&o[r]?o[r].pattern:s,sb=()=>{const t=Nn(),r=ws(),o=Sr(),s=Ao(),a=rg(),{modes:l}=Qy(),d=b.useRef(null),f=b.useRef(0),p=b.useRef(0),m=b.useRef(0),x=b.useRef(!1),v=b.useRef(null),y=b.useRef(!0),N=b.useRef(!1);b.useEffect(()=>{l&&!N.current&&(N.current=!0,t.setModes(l),t.chords||t.initialize())},[l]);const S=b.useMemo(()=>6e4/s.globalPatternState.bpm*s.globalPatternState.subdivision,[s.globalPatternState.bpm,s.globalPatternState.subdivision]),j=b.useCallback(k=>{if(s.globalPatternState.swing===0)return S;const O=k%2===1,G=1+s.globalPatternState.swing/100;return O?S*G:S/G},[S,s.globalPatternState.swing]),E=b.useCallback(()=>Ih(o.temporaryChord,o.activeChordIndex,o.addedChords,s.currentlyActivePattern),[o.temporaryChord,o.activeChordIndex,o.addedChords,s.currentlyActivePattern]),W=b.useCallback(()=>{t.chords?.length&&l?.length&&!y.current&&nb(t.key,t.mode,o.addedChords,s.globalPatternState.currentPattern,s.globalPatternState.bpm,s.globalPatternState.subdivision,s.globalPatternState.swing,a.showPatternSystem,a.isLiveMode,r.pianoSettings,gu,l,r.availableInstruments,t.chords)},[t.key,t.mode,t.chords,o.addedChords,s.globalPatternState,a.showPatternSystem,a.isLiveMode,r.pianoSettings,r.availableInstruments,l]),V=b.useCallback(()=>{if(t.chords?.length){const k=rb(gu,l||[],r.availableInstruments,t.chords);k&&(t.setKey(k.key),t.setMode(k.mode),o.clearAllChords(),k.addedChords.forEach(O=>{o.addChord(O.name,O.notes,O.pattern||["1","2","3","4"],O.originalKey||k.key,O.originalMode||k.mode)}),s.setGlobalPatternState({currentPattern:k.pattern,bpm:k.bpm,subdivision:k.subdivision,swing:k.swing}),a.setShowPatternSystem(k.showPattern),a.setIsLiveMode(k.liveMode),r.updatePianoSettings(k.pianoSettings))}},[t.chords,l,r.availableInstruments]),B=b.useCallback((k,O,G)=>{if(a.isDeleteMode&&O!==void 0){o.removeChord(O);return}const te=ua(Rh,kh,k);O!==void 0?(o.setTemporaryChord(null),o.setActiveChordIndex(O),s.globalPatternState.isPlaying||o.playNotes(te),o.setHighlightedChordIndex(O),setTimeout(()=>o.setHighlightedChordIndex(null),150)):(G&&o.setTemporaryChord({name:G,notes:k}),s.globalPatternState.isPlaying||o.playNotes(te))},[a.isDeleteMode,s.globalPatternState.isPlaying]),z=b.useCallback((k,O,G,te)=>{o.addChord(k,O,s.currentlyActivePattern,G,te)},[s.currentlyActivePattern,t.key,t.mode]),T=b.useCallback((k,O)=>{const G={name:O.name,notes:O.notes,pattern:O.pattern||["1","2","3","4"],originalKey:O.originalKey||t.key,originalMode:O.originalMode||t.mode,originalNotes:O.originalNotes||O.notes};o.updateChord(k,G)},[t.key,t.mode]),$=b.useCallback((k,O)=>{const G=Array.from(o.addedChords),[te]=G.splice(k,1);G.splice(O,0,te),o.setAddedChords(G);const{activeChordIndex:J}=o;if(J===null)return;let se=J;J===k?se=O:k<J&&O>=J?se=J-1:k>J&&O<=J&&(se=J+1),se!==J&&o.setActiveChordIndex(se)},[o]),R=b.useCallback(()=>{o.clearAllChords(),s.setGlobalPatternState({isPlaying:!1}),a.setIsLiveMode(!1)},[]),F=b.useCallback(k=>{s.updatePattern(k),k.hasOwnProperty("isPlaying")&&k.isPlaying&&(f.current=0,p.current=Date.now(),m.current=Date.now()),k.hasOwnProperty("currentStep")&&k.currentStep===0&&(f.current=0,p.current=Date.now(),m.current=Date.now())},[]),X=b.useCallback(()=>{const k=!s.globalPatternState.isPlaying;s.setGlobalPatternState({isPlaying:k}),k&&(f.current=0,p.current=Date.now(),m.current=Date.now())},[s.globalPatternState.isPlaying]),ee=b.useCallback(()=>{if(o.isPlayingScale){o.clearScalePlaybackTimeouts(),o.setActiveNotes([]),o.setIsPlayingScale(!1);return}if(!t.scaleNotes?.length)return;o.setIsPlayingScale(!0);const k=s.globalPatternState.isPlaying;k&&s.setGlobalPatternState({isPlaying:!1}),o.setActiveNotes([]);const G=6e4/s.globalPatternState.bpm*.8;let te=100,J=4,se=0;const Q=[...t.scaleNotes];t.scaleNotes[0]?.noteName&&Q.push({noteName:t.scaleNotes[0].noteName}),Q.forEach(_=>{if(!_.noteName)return;const D=setTimeout(()=>{const C=qr(_.noteName);if(!C)return;let K=At.fromNote(C+J);K<=se&&(J++,K=At.fromNote(C+J)),se=K;const re=At.getAttributes(K),pe=re.note.slice(0,-1),me=parseInt(re.note.slice(-1),10);o.setActiveNotes([{note:pe,octave:me}])},te);o.addScalePlaybackTimeout(D),te+=G});const H=setTimeout(()=>{o.setActiveNotes([]),o.setIsPlayingScale(!1),o.clearScalePlaybackTimeouts(),k&&s.setGlobalPatternState({isPlaying:!0})},te+G);o.addScalePlaybackTimeout(H)},[t.scaleNotes,o.isPlayingScale,s.globalPatternState.bpm,s.globalPatternState.isPlaying]),ie=b.useCallback(k=>{if(k.target instanceof HTMLInputElement)return;if(k.key.toLowerCase()==="p"){a.togglePatternSystem();return}if(k.key.toLowerCase()==="l"){a.toggleLiveMode();return}if(k.key===" "){k.preventDefault(),X();return}const O=k.key==="0"?9:parseInt(k.key,10)-1;if(!isNaN(O)&&O>=0&&O<o.addedChords.length){const G=o.addedChords[O];G&&(o.setTemporaryChord(null),B(G.notes,O))}},[o.addedChords,B,X]);return b.useEffect(()=>{o.activeChordIndex!==null&&o.addedChords[o.activeChordIndex]?s.setCurrentlyActivePattern([...o.addedChords[o.activeChordIndex].pattern]):s.setCurrentlyActivePattern([...s.globalPatternState.currentPattern])},[o.activeChordIndex,o.addedChords,s.globalPatternState.currentPattern]),b.useEffect(()=>{if(s.globalPatternState.isPlaying){if(!d.current){p.current=Date.now(),m.current=Date.now(),f.current=0,s.setGlobalPatternState({currentStep:0});const k=()=>{const O=Date.now();if(O>=m.current){f.current++;const G=j(f.current);m.current=O+G,s.setGlobalPatternState({currentStep:f.current})}d.current=setTimeout(k,5)};k()}}else d.current&&(clearTimeout(d.current),d.current=null);return()=>{d.current&&(clearTimeout(d.current),d.current=null)}},[s.globalPatternState.isPlaying,j]),b.useEffect(()=>{if(s.globalPatternState.isPlaying){let k=null;if(o.temporaryChord?k=o.temporaryChord:o.activeChordIndex!==null&&o.addedChords[o.activeChordIndex]&&(k=o.addedChords[o.activeChordIndex]),k){const O=Ih(o.temporaryChord,o.activeChordIndex,o.addedChords,s.currentlyActivePattern),G=s.globalPatternState.currentStep%O.length;if(ob(O,G)){const te=ua(Rh,kh,k.notes);o.setActiveNotes(te)}else o.setActiveNotes([])}}},[s.globalPatternState.isPlaying,s.globalPatternState.currentStep,o.temporaryChord,o.activeChordIndex,o.addedChords,s.currentlyActivePattern]),b.useEffect(()=>{t.chords?.length&&!x.current&&(x.current=!0,y.current=!0,V(),setTimeout(()=>{y.current=!1},100))},[t.chords,V]),b.useEffect(()=>(t.chords?.length&&l?.length&&!y.current&&(v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{W()},100)),()=>{v.current&&clearTimeout(v.current)}),[t.key,t.mode,o.addedChords,s.globalPatternState,a.showPatternSystem,a.isLiveMode,r.pianoSettings,t.chords?.length,l?.length,W]),b.useEffect(()=>(document.addEventListener("keydown",ie),()=>document.removeEventListener("keydown",ie)),[ie]),{chords:t.chords,key:t.key,mode:t.mode,modes:t.modes,activeNotes:o.activeNotes,activeChordIndex:o.activeChordIndex,highlightedChordIndex:o.highlightedChordIndex,addedChords:o.addedChords,loadingChords:t.loadingChords,isDeleteMode:a.isDeleteMode,isPlayingScale:o.isPlayingScale,isLiveMode:a.isLiveMode,globalPatternState:s.globalPatternState,currentlyActivePattern:s.currentlyActivePattern,temporaryChord:o.temporaryChord,normalizedScaleNotes:t.normalizedScaleNotes,pianoSettings:r.pianoSettings,availableInstruments:r.availableInstruments,setKey:t.setKey,setMode:t.setMode,setIsDeleteMode:a.setIsDeleteMode,setIsLiveMode:a.setIsLiveMode,setAvailableInstruments:r.setAvailableInstruments,handleChordClick:B,addChordClick:z,updateChord:T,reorderChords:$,clearAllChords:R,updateChordPattern:o.updateChordPattern,toggleScalePlayback:ee,handlePatternChange:F,handleTogglePlayback:X,getCurrentPattern:E,handleFetchOriginalChord:o.handleFetchOriginalChord,setPianoInstrument:r.setPianoInstrument,setCutOffPreviousNotes:r.setCutOffPreviousNotes,setEq:r.setEq,setOctaveOffset:r.setOctaveOffset,setReverbLevel:r.setReverbLevel,setNoteDuration:r.setNoteDuration,setVolume:r.setVolume,setChorusLevel:r.setChorusLevel,setDelayLevel:r.setDelayLevel}};function ib({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{d:"M3.28 2.22a.75.75 0 0 0-1.06 1.06L5.44 6.5H2.75a.75.75 0 0 0 0 1.5h4.5A.75.75 0 0 0 8 7.25v-4.5a.75.75 0 0 0-1.5 0v2.69L3.28 2.22ZM13.5 2.75a.75.75 0 0 0-1.5 0v4.5c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-2.69l3.22-3.22a.75.75 0 0 0-1.06-1.06L13.5 5.44V2.75ZM3.28 17.78l3.22-3.22v2.69a.75.75 0 0 0 1.5 0v-4.5a.75.75 0 0 0-.75-.75h-4.5a.75.75 0 0 0 0 1.5h2.69l-3.22 3.22a.75.75 0 1 0 1.06 1.06ZM13.5 14.56l3.22 3.22a.75.75 0 1 0 1.06-1.06l-3.22-3.22h2.69a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0-.75.75v4.5a.75.75 0 0 0 1.5 0v-2.69Z"}))}const ab=b.forwardRef(ib);function lb({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{d:"m13.28 7.78 3.22-3.22v2.69a.75.75 0 0 0 1.5 0v-4.5a.75.75 0 0 0-.75-.75h-4.5a.75.75 0 0 0 0 1.5h2.69l-3.22 3.22a.75.75 0 0 0 1.06 1.06ZM2 17.25v-4.5a.75.75 0 0 1 1.5 0v2.69l3.22-3.22a.75.75 0 0 1 1.06 1.06L4.56 16.5h2.69a.75.75 0 0 1 0 1.5h-4.5a.747.747 0 0 1-.75-.75ZM12.22 13.28l3.22 3.22h-2.69a.75.75 0 0 0 0 1.5h4.5a.747.747 0 0 0 .75-.75v-4.5a.75.75 0 0 0-1.5 0v2.69l-3.22-3.22a.75.75 0 1 0-1.06 1.06ZM3.5 4.56l3.22 3.22a.75.75 0 0 0 1.06-1.06L4.56 3.5h2.69a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0-.75.75v4.5a.75.75 0 0 0 1.5 0V4.56Z"}))}const cb=b.forwardRef(lb);function ub({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const db=b.forwardRef(ub);function fb({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const Kr=b.forwardRef(fb);function pb({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{fillRule:"evenodd",d:"M11.78 5.22a.75.75 0 0 1 0 1.06L8.06 10l3.72 3.72a.75.75 0 1 1-1.06 1.06l-4.25-4.25a.75.75 0 0 1 0-1.06l4.25-4.25a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const hb=b.forwardRef(pb);function mb({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{fillRule:"evenodd",d:"M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const og=b.forwardRef(mb);function gb({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{fillRule:"evenodd",d:"M9.47 6.47a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 1 1-1.06 1.06L10 8.06l-3.72 3.72a.75.75 0 0 1-1.06-1.06l4.25-4.25Z",clipRule:"evenodd"}))}const js=b.forwardRef(gb);function vb({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{d:"M13.024 9.25c.47 0 .827-.433.637-.863a4 4 0 0 0-4.094-2.364c-.468.05-.665.576-.43.984l1.08 1.868a.75.75 0 0 0 .649.375h2.158ZM7.84 7.758c-.236-.408-.79-.5-1.068-.12A3.982 3.982 0 0 0 6 10c0 .884.287 1.7.772 2.363.278.38.832.287 1.068-.12l1.078-1.868a.75.75 0 0 0 0-.75L7.839 7.758ZM9.138 12.993c-.235.408-.039.934.43.984a4 4 0 0 0 4.094-2.364c.19-.43-.168-.863-.638-.863h-2.158a.75.75 0 0 0-.65.375l-1.078 1.868Z"}),b.createElement("path",{fillRule:"evenodd",d:"m14.13 4.347.644-1.117a.75.75 0 0 0-1.299-.75l-.644 1.116a6.954 6.954 0 0 0-2.081-.556V1.75a.75.75 0 0 0-1.5 0v1.29a6.954 6.954 0 0 0-2.081.556L6.525 2.48a.75.75 0 1 0-1.3.75l.645 1.117A7.04 7.04 0 0 0 4.347 5.87L3.23 5.225a.75.75 0 1 0-.75 1.3l1.116.644A6.954 6.954 0 0 0 3.04 9.25H1.75a.75.75 0 0 0 0 1.5h1.29c.078.733.27 1.433.556 2.081l-1.116.645a.75.75 0 1 0 .75 1.298l1.117-.644a7.04 7.04 0 0 0 1.523 1.523l-.645 1.117a.75.75 0 1 0 1.3.75l.644-1.116a6.954 6.954 0 0 0 2.081.556v1.29a.75.75 0 0 0 1.5 0v-1.29a6.954 6.954 0 0 0 2.081-.556l.645 1.116a.75.75 0 0 0 1.299-.75l-.645-1.117a7.042 7.042 0 0 0 1.523-1.523l1.117.644a.75.75 0 0 0 .75-1.298l-1.116-.645a6.954 6.954 0 0 0 .556-2.081h1.29a.75.75 0 0 0 0-1.5h-1.29a6.954 6.954 0 0 0-.556-2.081l1.116-.644a.75.75 0 0 0-.75-1.3l-1.117.645a7.04 7.04 0 0 0-1.524-1.523ZM10 4.5a5.475 5.475 0 0 0-2.781.754A5.527 5.527 0 0 0 5.22 7.277 5.475 5.475 0 0 0 4.5 10a5.475 5.475 0 0 0 .752 2.777 5.527 5.527 0 0 0 2.028 2.004c.802.458 1.73.719 2.72.719a5.474 5.474 0 0 0 2.78-.753 5.527 5.527 0 0 0 2.001-2.027c.458-.802.719-1.73.719-2.72a5.475 5.475 0 0 0-.753-2.78 5.528 5.528 0 0 0-2.028-2.002A5.475 5.475 0 0 0 10 4.5Z",clipRule:"evenodd"}))}const Tc=b.forwardRef(vb);function xb({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{d:"M10 3a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM10 8.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM11.5 15.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z"}))}const yb=b.forwardRef(xb);function bb({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-7-4a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM9 9a.75.75 0 0 0 0 1.5h.253a.25.25 0 0 1 .244.304l-.459 2.066A1.75 1.75 0 0 0 10.747 15H11a.75.75 0 0 0 0-1.5h-.253a.25.25 0 0 1-.244-.304l.459-2.066A1.75 1.75 0 0 0 9.253 9H9Z",clipRule:"evenodd"}))}const wb=b.forwardRef(bb);function Nb({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{fillRule:"evenodd",d:"M10 1a4.5 4.5 0 0 0-4.5 4.5V9H5a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2h-.5V5.5A4.5 4.5 0 0 0 10 1Zm3 8V5.5a3 3 0 1 0-6 0V9h6Z",clipRule:"evenodd"}))}const Mh=b.forwardRef(Nb);function Cb({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{fillRule:"evenodd",d:"M9 3.5a5.5 5.5 0 1 0 0 11 5.5 5.5 0 0 0 0-11ZM2 9a7 7 0 1 1 12.452 4.391l3.328 3.329a.75.75 0 1 1-1.06 1.06l-3.329-3.328A7 7 0 0 1 2 9Z",clipRule:"evenodd"}))}const Sb=b.forwardRef(Cb);function Eb({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{fillRule:"evenodd",d:"M4 10a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H4.75A.75.75 0 0 1 4 10Z",clipRule:"evenodd"}))}const Th=b.forwardRef(Eb);function Db({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{d:"M5.75 3a.75.75 0 0 0-.75.75v12.5c0 .414.336.75.75.75h1.5a.75.75 0 0 0 .75-.75V3.75A.75.75 0 0 0 7.25 3h-1.5ZM12.75 3a.75.75 0 0 0-.75.75v12.5c0 .414.336.75.75.75h1.5a.75.75 0 0 0 .75-.75V3.75a.75.75 0 0 0-.75-.75h-1.5Z"}))}const As=b.forwardRef(Db);function jb({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{fillRule:"evenodd",d:"M2 10a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm6.39-2.908a.75.75 0 0 1 .766.027l3.5 2.25a.75.75 0 0 1 0 1.262l-3.5 2.25A.75.75 0 0 1 8 12.25v-4.5a.75.75 0 0 1 .39-.658Z",clipRule:"evenodd"}))}const Ps=b.forwardRef(jb);function Ab({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{d:"M6.3 2.84A1.5 1.5 0 0 0 4 4.11v11.78a1.5 1.5 0 0 0 2.3 1.27l9.344-5.891a1.5 1.5 0 0 0 0-2.538L6.3 2.841Z"}))}const sg=b.forwardRef(Ab);function Pb({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm.75-11.25a.75.75 0 0 0-1.5 0v2.5h-2.5a.75.75 0 0 0 0 1.5h2.5v2.5a.75.75 0 0 0 1.5 0v-2.5h2.5a.75.75 0 0 0 0-1.5h-2.5v-2.5Z",clipRule:"evenodd"}))}const Rb=b.forwardRef(Pb);function kb({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{d:"M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z"}))}const Oh=b.forwardRef(kb);function Ib({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0ZM8.94 6.94a.75.75 0 1 1-1.061-1.061 3 3 0 1 1 2.871 5.026v.345a.75.75 0 0 1-1.5 0v-.5c0-.72.57-1.172 1.081-1.287A1.5 1.5 0 1 0 8.94 6.94ZM10 15a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",clipRule:"evenodd"}))}const ig=b.forwardRef(Ib);function Mb({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 0 0 6 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 1 0 .23 1.482l.149-.022.841 10.518A2.75 2.75 0 0 0 7.596 19h4.807a2.75 2.75 0 0 0 2.742-2.53l.841-10.52.149.023a.75.75 0 0 0 .23-1.482A41.03 41.03 0 0 0 14 4.193V3.75A2.75 2.75 0 0 0 11.25 1h-2.5ZM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4ZM8.58 7.72a.75.75 0 0 0-1.5.06l.3 7.5a.75.75 0 1 0 1.5-.06l-.3-7.5Zm4.34.06a.75.75 0 1 0-1.5-.06l-.3 7.5a.75.75 0 1 0 1.5.06l.3-7.5Z",clipRule:"evenodd"}))}const _h=b.forwardRef(Mb);function Tb({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16ZM8.28 7.22a.75.75 0 0 0-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 1 0 1.06 1.06L10 11.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L11.06 10l1.72-1.72a.75.75 0 0 0-1.06-1.06L10 8.94 8.28 7.22Z",clipRule:"evenodd"}))}const vu=b.forwardRef(Tb);function Ob({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{d:"M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"}))}const _b=b.forwardRef(Ob),ag=b.memo(({chord:t,index:r,isExpanded:o,isPlaying:s,isAdding:a,onChordPlay:l,onChordAdd:d,onToggleExpansion:f})=>{const p=b.useCallback(()=>{l(t.chordNoteNames,r,t.chordName)},[l,t.chordNoteNames,t.chordName,r]),m=b.useCallback(v=>{v.stopPropagation(),d(r,t.chordName,t.chordNoteNames,t.keyName,t.modeId)},[d,r,t.chordName,t.chordNoteNames,t.keyName,t.modeId]),x=b.useCallback(v=>{v.stopPropagation(),f(r)},[f,r]);return u.jsxs("div",{className:`bg-[#3d434f] rounded-lg border border-gray-600 hover:border-blue-500 hover:bg-[#444b59] transition-all duration-200 overflow-hidden cursor-pointer group relative ${s?"chord-playing z-50":""} ${a?"chord-adding z-40":""}`,onClick:p,children:[u.jsx("div",{className:"p-3 sm:p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 flex-1 min-w-0",children:[u.jsx(Ps,{className:`h-5 w-5 sm:h-6 sm:w-6 transition-colors flex-shrink-0 ${s?"text-blue-400":"text-gray-400 group-hover:text-blue-300"}`}),u.jsx("h3",{className:`text-base sm:text-lg font-bold transition-colors truncate ${s?"text-blue-200":"text-white group-hover:text-blue-200"}`,children:t.chordName})]}),u.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0 ml-2",children:[u.jsx("button",{onClick:m,className:`p-1 sm:p-2 rounded-md transition-colors ${a?"bg-green-600 text-white":"hover:bg-green-600 text-gray-400 hover:text-white"}`,title:"Add to sequence",children:u.jsx(Rb,{className:"h-5 w-5 sm:h-4 sm:w-4"})}),u.jsx("button",{onClick:x,className:"p-1.5 sm:p-2 rounded-md hover:bg-[#555] text-gray-400 hover:text-white transition-colors",title:o?"Hide notes":"Show notes",children:o?u.jsx(js,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}):u.jsx(Kr,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})})]})]})}),o&&u.jsx("div",{className:"px-3 pb-3 pt-0 sm:px-4 sm:pb-4",children:u.jsxs("div",{className:"bg-gray-800 rounded-md p-2 sm:p-3 border-t border-gray-600",children:[u.jsx("div",{className:"text-xs font-medium text-gray-400 uppercase tracking-wide mb-1",children:"Notes"}),u.jsx("div",{className:"text-sm text-gray-200 font-mono",children:t.chordNoteNames})]})})]})});ag.displayName="ChordCard";const Lb=({onChordClick:t,addChordClick:r})=>{const[o,s]=b.useState("All"),[a,l]=b.useState(""),[d,f]=b.useState(new Set),[p,m]=b.useState(new Set),[x,v]=b.useState(new Set),[y,N]=b.useState(1),S=Nn(),{chords:j,loadingChords:E,allDistinctChords:W,loadingAllChords:V,showAllChords:B,toggleShowAllChords:z,key:T,mode:$}=S,R=B?W:j,F=B?V:E;b.useEffect(()=>{const C=()=>{const K=window.innerWidth;K>=1280?N(3):K>=640?N(2):N(1)};return C(),window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]);const X=b.useCallback(C=>Math.floor(C/y),[y]),ee=b.useCallback(C=>C?C.length>=2&&(C[1]==="b"||C[1]==="#")?C.substring(0,2):C[0]||"":"",[]),ie=b.useMemo(()=>R?R.filter(C=>C.chordName&&C.chordNoteNames&&C.chordName.trim()!==""&&C.chordNoteNames.trim()!==""):[],[R]),k=b.useMemo(()=>{const C=new Set;return ie.forEach(K=>{const re=ee(K.chordName);re&&C.add(re)}),Array.from(C).sort()},[ie,ee]),O=b.useMemo(()=>{const C={};return ie.forEach(K=>{const re=ee(K.chordName);re&&(C[re]=(C[re]||0)+1)}),C},[ie,ee]),G=b.useMemo(()=>{let C=ie;if(o!=="All"&&(C=C.filter(K=>ee(K.chordName)===o)),a.trim()){const K=a.toLowerCase().trim();C=C.filter(re=>re.chordName?.toLowerCase().includes(K)||re.chordNoteNames?.toLowerCase().includes(K))}return C.sort((K,re)=>{const pe=K.chordName?.toLowerCase()||"",me=re.chordName?.toLowerCase()||"";return pe.localeCompare(me)})},[ie,o,a,ee]);b.useEffect(()=>{f(new Set)},[y,G]);const te=b.useCallback((C,K,re)=>{m(me=>new Set(me).add(K)),t(C,void 0,re);const pe=setTimeout(()=>{m(me=>{const Ee=new Set(me);return Ee.delete(K),Ee})},800);return()=>clearTimeout(pe)},[t]),J=b.useCallback((C,K,re,pe,me)=>{v(de=>new Set(de).add(C));const Ee=S.modes[me-1];r?.(K,re,pe,Ee);const le=setTimeout(()=>{v(de=>{const ue=new Set(de);return ue.delete(C),ue})},600);return()=>clearTimeout(le)},[r,S.modes]),se=b.useCallback(C=>{const K=X(C);f(re=>{const pe=new Set(re);return pe.has(K)?pe.delete(K):pe.add(K),pe})},[X]),Q=b.useCallback(()=>{z(),s("All"),l(""),f(new Set)},[z]),H=b.useCallback(()=>{l(""),s("All")},[]),_=b.useCallback(C=>{l(C.target.value)},[]),D=b.useMemo(()=>u.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-transparent px-1",children:[u.jsxs("button",{onClick:()=>s("All"),className:`flex-shrink-0 px-3 py-2 rounded-full text-sm font-medium transition-colors ${o==="All"?"bg-blue-600 text-white":"bg-[#444b59] text-gray-300 hover:bg-[#525a6b] hover:text-white"}`,children:["All (",ie.length,")"]}),k.map(C=>u.jsxs("button",{onClick:()=>s(C),className:`flex-shrink-0 px-3 py-2 rounded-full text-sm font-medium transition-colors ${o===C?"bg-blue-600 text-white":"bg-[#444b59] text-gray-300 hover:bg-[#525a6b] hover:text-white"}`,children:[C," (",O[C]||0,")"]},C))]}),[o,ie.length,k,O]);return u.jsxs("div",{className:"w-full max-w-7xl mx-auto px-2",children:[u.jsx("div",{className:"bg-[#3d434f] border border-gray-600 rounded-lg overflow-hidden mb-4",children:u.jsxs("div",{className:"px-4 py-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-sm font-bold text-slate-300 uppercase tracking-wider",children:"Chord Explorer"}),u.jsxs("div",{className:"text-sm text-gray-400",children:[G.length," of ",ie.length," chords"]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-3 bg-[#444b59] rounded-lg border border-gray-600",children:[u.jsxs("div",{className:"flex flex-col text-left",children:[u.jsx("span",{className:"text-sm font-medium text-gray-300 text-left",children:"Show All Chords"}),u.jsx("span",{className:"text-xs text-gray-400",children:B?W?`${W?.length} chords`:"Loading...":`Showing chords in ${T} ${$}`})]}),u.jsx("button",{onClick:Q,disabled:F,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-800 ${B?"bg-blue-600":"bg-gray-600"} ${F?"opacity-50 cursor-not-allowed":""}`,role:"switch","aria-checked":B,"aria-label":"Toggle between current mode chords and all distinct chords",children:u.jsx("span",{"aria-hidden":"true",className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${B?"translate-x-5":"translate-x-0"}`})})]}),u.jsxs("div",{className:"relative",children:[u.jsx(Sb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"Search chords or notes...",value:a,onChange:_,className:"w-full pl-10 pr-4 py-2 bg-[#444b59] border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-blue-500 focus:outline-none transition-colors !text-sm"})]})]}),u.jsx("div",{className:"lg:hidden mt-4",children:D})]})}),u.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 lg:gap-4",children:[u.jsx("div",{className:"hidden lg:block lg:w-48 flex-shrink-0",children:u.jsxs("div",{className:"bg-[#3d434f] rounded-lg h-fit",children:[u.jsx("div",{className:"px-4 py-3 border-b border-gray-600",children:u.jsx("h3",{className:"text-sm font-medium text-gray-200 uppercase tracking-wide",children:"Filter by Root"})}),u.jsxs("div",{className:"p-2",children:[u.jsx("button",{onClick:()=>s("All"),className:`w-full px-3 py-2 text-left transition-colors rounded-md border-l-4 ${o==="All"?"bg-[#4a5262] border-l-blue-500 text-white":"hover:bg-[#444b59] border-l-transparent text-gray-300 hover:text-white"}`,children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm font-medium",children:"All Notes"}),u.jsx("span",{className:"text-xs text-gray-400 bg-gray-700 px-2 py-1 rounded",children:ie.length})]})}),k.map(C=>u.jsx("button",{onClick:()=>s(C),className:`w-full px-3 py-2 text-left transition-colors rounded-md border-l-4 mt-1 ${o===C?"bg-[#4a5262] border-l-blue-500 text-white":"hover:bg-[#444b59] border-l-transparent text-gray-300 hover:text-white"}`,children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm font-medium",children:C}),u.jsx("span",{className:"text-xs text-gray-400 bg-gray-700 px-2 py-1 rounded",children:O[C]||0})]})},C))]})]})}),u.jsxs("div",{className:"flex-1",children:[F?u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[u.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-current border-r-transparent text-blue-500"}),u.jsx("span",{className:"text-sm text-gray-400",children:B?"Loading all distinct chords...":"Loading chords..."})]})}):G.length?u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-2 sm:gap-3",children:G.map((C,K)=>u.jsx(ag,{chord:C,index:K,isExpanded:d.has(X(K)),isPlaying:p.has(K),isAdding:x.has(K),onChordPlay:te,onChordAdd:J,onToggleExpansion:se},`chord-${C.chordName}-${K}`))}):u.jsx("div",{className:"flex justify-center items-center h-64 bg-[#3d434f] rounded-lg",children:u.jsxs("div",{className:"text-center space-y-3",children:[u.jsx("div",{className:"text-gray-500 text-4xl",children:""}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"text-sm text-gray-400",children:a.trim()?`No chords found matching "${a}"`:o==="All"?B?"No distinct chords available":"No chords available":`No chords found for root note "${o}"`}),(a.trim()||o!=="All")&&u.jsx("button",{onClick:H,className:"text-sm text-blue-400 hover:text-blue-300 underline transition-colors",children:"Clear filters"})]})]})}),G.length>0&&u.jsx("div",{className:"mt-4 text-center",children:u.jsxs("div",{className:"text-xs text-gray-400",children:["Tap any chord to play ",u.jsx("span",{className:"text-gray-300 mx-1",children:"+"})," to add to sequence ",u.jsx(Kr,{className:"inline h-3 w-3 mx-1"})," to show notes for entire row",B&&u.jsx("span",{className:"block mt-1 text-blue-400",children:"Currently showing all distinct chords across all modes and keys (sorted alphabetically)"})]})})]})]})]})},Ed=class Ed extends b.Component{constructor(){super(...arguments),this.state={instrumentList:null},this.loadInstrumentList=()=>{fetch(`${this.props.hostname}/${this.props.soundfont}/names.json`).then(r=>r.json()).then(r=>{this.setState({instrumentList:r})})}}componentDidMount(){this.loadInstrumentList()}render(){return this.props.render(this.state.instrumentList)}};Ed.defaultProps={soundfont:"MusyngKite"};let da=Ed;function Bb({title:t,titleId:r,...o},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?b.createElement("title",{id:r},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Fb=b.forwardRef(Bb);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zb=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,o,s)=>s?s.toUpperCase():o.toLowerCase()),Lh=t=>{const r=zb(t);return r.charAt(0).toUpperCase()+r.slice(1)},lg=(...t)=>t.filter((r,o,s)=>!!r&&r.trim()!==""&&s.indexOf(r)===o).join(" ").trim(),Vb=t=>{for(const r in t)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=b.forwardRef(({color:t="currentColor",size:r=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:d,...f},p)=>b.createElement("svg",{ref:p,...Gb,width:r,height:r,stroke:t,strokeWidth:s?Number(o)*24/Number(r):o,className:lg("lucide",a),...!l&&!Vb(f)&&{"aria-hidden":"true"},...f},[...d.map(([m,x])=>b.createElement(m,x)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=(t,r)=>{const o=b.forwardRef(({className:s,...a},l)=>b.createElement(Hb,{ref:l,iconNode:r,className:lg(`lucide-${$b(Lh(t))}`,`lucide-${t}`,s),...a}));return o.displayName=Lh(t),o};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Wb=cg("chevron-down",Ub);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Kb=cg("search",qb);var Xn=eg();const Yb=Dr(Xn),wn=({value:t,onChange:r,options:o,className:s="",menuClassName:a="",showSearch:l=!1,buttonClassName:d=""})=>{const[f,p]=b.useState(!1),[m,x]=b.useState(!1),[v,y]=b.useState(""),N=b.useRef(null),S=b.useRef(null),j=b.useRef(null),E=b.useRef(null),[W,V]=b.useState({top:0,left:0,width:0,maxHeight:320}),B=o.filter(R=>v?.length?R.toLowerCase().includes(v.toLowerCase()):!0),z=()=>{if(N.current){const R=N.current.getBoundingClientRect(),F=window.innerHeight-R.bottom,X=Math.min(F-10,320);V({top:R.bottom+window.scrollY,left:R.left+window.scrollX,width:R.width,maxHeight:X}),x(!0)}};b.useEffect(()=>{const R=X=>{N.current&&!N.current.contains(X.target)&&S.current&&!S.current.contains(X.target)&&(p(!1),y(""),x(!1))},F=X=>{X.key==="Escape"&&(p(!1),y(""),x(!1))};return f&&(document.addEventListener("mousedown",R),document.addEventListener("keydown",F)),()=>{document.removeEventListener("mousedown",R),document.removeEventListener("keydown",F)}},[f]),b.useEffect(()=>{f&&m&&E.current&&j.current&&E.current.scrollIntoView({block:"nearest",behavior:"instant"})},[f,m]);const T=()=>{f?(p(!1),x(!1)):(z(),requestAnimationFrame(()=>{p(!0)}))},$=R=>{r(R),p(!1),y(""),x(!1)};return u.jsxs("div",{className:`relative inline-block text-left text-lg ${s}`,children:[u.jsxs("button",{ref:N,onClick:T,className:`
          inline-flex w-full justify-between items-center gap-x-2 rounded-lg
          bg-[#3d434f] border
          px-4 py-2.5 text-sm font-medium
          text-slate-200 
          ${f?"border-blue-500 bg-[#4a5262]":"border-gray-600 hover:bg-[#4a5262] hover:border-gray-500"}
          focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:ring-offset-2 focus:ring-offset-[#2a2f38]
          transition-all duration-200 ease-out
          ${d.includes("h-")?"":"h-10"}
          ${d}
        `,children:[u.jsx("span",{className:"truncate text-left flex-1 font-medium tracking-wide",children:t}),u.jsx(Wb,{className:`
            h-4 w-4 text-slate-400 flex-shrink-0
            transition-all duration-200
            ${f?"rotate-180 text-slate-200":"group-hover:text-slate-200"}
          `,"aria-hidden":"true"})]}),f&&m&&Xn.createPortal(u.jsx("div",{ref:S,style:{position:"absolute",top:`${W.top+4}px`,left:`${W.left}px`,minWidth:`${W.width}px`,maxWidth:`${W.width}px`,zIndex:9999},className:"origin-top dropdown-enter",children:u.jsx("div",{style:{maxHeight:`${W.maxHeight}px`,minWidth:`${W.width}px`},className:"dropdown-menu rounded-lg shadow-2xl ring-1 ring-black/30 overflow-hidden",children:u.jsxs("div",{className:"bg-[#3d434f] border border-gray-600 rounded-lg overflow-hidden shadow-2xl",children:[l&&u.jsx("div",{className:"p-3 border-b border-gray-600 bg-[#444b59]",children:u.jsxs("div",{className:"relative",children:[u.jsx(Kb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),u.jsx("input",{type:"text",className:`w-full text-slate-200 pl-9 pr-3 py-2 text-sm font-normal 
                        bg-[#2a2f38] border border-gray-600 rounded-md 
                        focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 
                        placeholder-slate-500 
                        transition-all duration-200
                        hover:bg-[#333844] hover:border-gray-500`,placeholder:"Search options...",value:v,onChange:R=>y(R.target.value),autoFocus:!0})]})}),u.jsx("div",{ref:j,className:`py-1.5 overflow-y-auto ${a}`,style:{maxHeight:l?`${W.maxHeight-60}px`:`${W.maxHeight}px`},children:B.length>0?B.map((R,F)=>u.jsxs("button",{ref:t===R?E:null,onClick:()=>$(R),className:`
                        relative block w-full px-4 py-2.5 text-left text-sm font-medium 
                        transition-all duration-200
                        text-slate-300 hover:text-slate-100
                        hover:bg-[#4a5262]
                        border-l-2 border-l-transparent hover:border-l-blue-400
                      `,children:[u.jsx("span",{className:"relative truncate block tracking-wide",children:R}),t===R&&u.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-1.5 h-1.5 bg-blue-400 rounded-full"})]},F)):u.jsx("div",{className:"px-4 py-3 text-sm text-slate-500 italic text-center",children:"No options found"})})]})})}),document.body)]})},Qb=t=>u.jsx("label",{className:jt("mr-[1em] flex-1 text-right text-sm font-medium text-slate-400",t.className),children:t.value}),Xb=({isOpen:t,cutOffPreviousNotes:r,setCutOffPreviousNotes:o,eq:s,setEq:a,octaveOffset:l,setOctaveOffset:d,reverbLevel:f,setReverbLevel:p,noteDuration:m,setNoteDuration:x,volume:v,setVolume:y,chorusLevel:N,setChorusLevel:S,delayLevel:j,setDelayLevel:E})=>{const W=V=>{const{name:B,value:z}=V.target;a({...s,[B]:parseFloat(z)})};return u.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden px-2 ${t?"max-h-[600px] opacity-100 mt-6":"max-h-0 opacity-0"}`,children:u.jsxs("div",{className:"bg-[#3d434f] border border-gray-600 rounded-lg overflow-hidden w-full max-w-7xl mx-auto",children:[u.jsx("div",{className:"px-4 py-3 border-b border-gray-600",children:u.jsx("h3",{className:"text-sm font-medium text-slate-200 uppercase tracking-wider",children:"Piano Settings"})}),u.jsx("div",{className:"p-6 bg-[#444b59]",children:u.jsxs("div",{className:"grid grid-cols-2 gap-x-8",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Volume",u.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",Math.round(v*100),"%)"]})]}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"range",min:"0",max:"1.0",step:"0.05",value:v,onChange:V=>y(parseFloat(V.target.value)),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:"Octave Shift"}),u.jsxs("div",{className:"flex items-center justify-between bg-[#3d434f] border border-gray-600 rounded-md p-1.5",children:[u.jsx("button",{onClick:()=>d(Math.max(-3,l-1)),className:"w-6 h-6 flex items-center justify-center text-slate-300 hover:text-slate-200 hover:bg-[#4a5262] rounded transition-colors",disabled:l<=-3,children:""}),u.jsx("span",{className:"font-mono !text-xs text-slate-200 px-2",children:l===0?"Normal":`${l>0?"+":""}${l} octave${Math.abs(l)>1?"s":""}`}),u.jsx("button",{onClick:()=>d(Math.min(3,l+1)),className:"w-6 h-6 flex items-center justify-center text-slate-300 hover:text-slate-200 hover:bg-[#4a5262] rounded transition-colors",disabled:l>=3,children:"+"})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Reverb",u.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",Math.round(f*100),"%)"]})]}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"range",min:"0",max:"1.0",step:"0.05",value:f,onChange:V=>p(parseFloat(V.target.value)),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Note Duration",u.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",Math.round(m*100),"%)"]})]}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"range",min:"0.1",max:"1.0",step:"0.05",value:m,onChange:V=>x(parseFloat(V.target.value)),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})})]}),u.jsx("div",{children:u.jsxs("label",{className:"flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",className:"w-3.5 h-3.5 text-blue-600 bg-[#3d434f] border-gray-600 rounded focus:ring-blue-500 focus:ring-1",checked:r,onChange:V=>o(V.target.checked)}),u.jsx("span",{className:"ml-2 text-xs text-slate-300 uppercase tracking-wide",children:"Cut off previous notes"})]})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:"Equalizer"}),u.jsx("div",{className:"space-y-3",children:[{label:"Bass",key:"bass"},{label:"Mid",key:"mid"},{label:"Treble",key:"treble"}].map(({label:V,key:B})=>u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wide",children:V}),u.jsxs("span",{className:"text-xs text-slate-400 font-mono",children:[s[B]>0?"+":"",s[B].toFixed(1),"dB"]})]}),u.jsx("input",{type:"range",name:B,min:"-24",max:"24",step:"0.5",value:s[B],onChange:W,className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})]},B))})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Chorus",u.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",Math.round(N*100),"%)"]})]}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"range",min:"0",max:"1.0",step:"0.05",value:N,onChange:V=>S(parseFloat(V.target.value)),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Delay",u.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",Math.round(j*100),"%)"]})]}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"range",min:"0",max:"1.0",step:"0.05",value:j,onChange:V=>E(parseFloat(V.target.value)),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})})]})]})]})]})})]})})},Cn=({children:t,onClick:r,className:o="",variant:s="primary",size:a="md",disabled:l=!1,active:d=!1,"aria-label":f,"aria-expanded":p,type:m="button",title:x})=>{const v=`
    inline-flex justify-center items-center gap-x-2 rounded-sm
    font-medium border
    focus:outline-none
    transition-all duration-200 ease-out
    disabled:opacity-50 disabled:cursor-not-allowed
    relative overflow-hidden
  `,y=`
    focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#2a2f38]
  `,N={sm:"px-3 py-1.5 text-xs h-8",md:"px-4 py-2.5 text-sm h-10",lg:"px-6 py-3 text-base h-12",icon:"w-8 h-8 flex items-center justify-center p-0"},S={primary:`
      ${d?"bg-[#525a6b] border-gray-500 text-slate-100":"bg-[#3d434f] border-gray-600 text-slate-200 hover:bg-[#4a5262] hover:border-gray-500"}
      focus:ring-blue-500/50
    `,secondary:`
      ${d?"bg-[#525a6b] border-gray-500 text-slate-100":"bg-[#4a5262] border-gray-500 text-slate-200 hover:bg-[#525a6b] hover:border-gray-400"}
      focus:ring-gray-400/50
    `,success:`
      ${d?"bg-green-600 border-green-500 text-green-100":"bg-green-700 border-green-600 text-green-100 hover:bg-green-600 hover:border-green-500"}
      focus:ring-green-500/50
    `,danger:`
      ${d?"bg-red-600 border-red-500 text-red-100":"bg-red-700 border-red-600 text-red-100 hover:bg-red-600 hover:border-red-500"}
      focus:ring-red-500/50
    `,icon:`
      ${d?"bg-[#525a6b] border-gray-500 text-slate-200":"bg-[#3d434f] border-gray-600 text-slate-400 hover:bg-[#4a5262] hover:border-gray-500 hover:text-slate-200"}
      focus:ring-gray-500/50
    `,"play-stop":`
      ${d?"bg-red-700 hover:bg-red-600 border-red-600 text-white":"bg-green-600 hover:bg-green-500 border-green-500 text-white"}
      font-medium uppercase tracking-wide text-sm w-[7em] px-4 py-2
      focus:ring-green-500/50
    `};return u.jsx("button",{type:m,onClick:r,disabled:l,"aria-label":f,"aria-expanded":p,title:x,className:jt(v,y,N[a],S[s],o),children:u.jsx("span",{className:jt("flex items-center gap-x-2 tracking-wide","relative"),children:t})})},Zb=({children:t,onClick:r,onTouchStart:o,onTouchEnd:s,className:a="",variant:l="primary",size:d="md",disabled:f=!1,active:p=!1,"aria-label":m,"aria-expanded":x,type:v="button",title:y,style:N})=>{const S=`
    font-medium transition-all duration-200 rounded-md border
    focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#2a2f38]
    disabled:opacity-50 disabled:cursor-not-allowed
    flex items-center justify-center gap-1
  `,j={sm:"py-1 px-3 text-xs",md:"py-2 px-4 text-sm",lg:"py-3 px-6 text-base"},E={primary:p?"bg-blue-600 border-blue-500 text-white focus:ring-blue-500":"bg-blue-700 border-blue-600 hover:bg-blue-600 hover:border-blue-500 text-white focus:ring-blue-500",secondary:p?"bg-[#525a6b] border-gray-500 text-white focus:ring-gray-500":"bg-[#4a5262] border-gray-600 hover:bg-[#525a6b] hover:border-gray-500 text-white focus:ring-gray-500",danger:p?"bg-red-600 border-red-500 text-white focus:ring-red-500":"bg-red-700 border-red-600 hover:bg-red-600 hover:border-red-500 text-white focus:ring-red-500",success:p?"bg-green-600 border-green-500 text-white focus:ring-green-500":"bg-green-700 border-green-600 hover:bg-green-600 hover:border-green-500 text-white focus:ring-green-500"};return u.jsx("button",{type:v,onClick:r,onTouchStart:o,onTouchEnd:s,disabled:f,"aria-label":m,"aria-expanded":x,title:y,style:N,className:jt(S,j[d],E[l],a),children:t})};class Jb extends b.Component{constructor(r){super(r),this.handleKeyDown=o=>{const{noteRange:s,keyboardShortcutOffset:a}=this.props.config;if(!s)return;const l=s.last-s.first+1,d=0,f=l-this.props.keyboardShortcuts.length;if(o.key==="ArrowLeft"){const p=a-1;p>=d&&this.props.setConfig({keyboardShortcutOffset:p})}else if(o.key==="ArrowRight"){const p=a+1;p<=f&&this.props.setConfig({keyboardShortcutOffset:p})}},this.onChangeFirstNote=o=>{this.props.setConfig({noteRange:{first:parseInt(o.target.value,10),last:this.props.config.noteRange.last}})},this.onChangeLastNote=o=>{this.props.setConfig({noteRange:{first:this.props.config.noteRange.first,last:parseInt(o.target.value,10)}})},this.onChangeInstrument=o=>{const s=o.replaceAll(" ","_");this.props.setConfig({instrumentName:s}),this.props.onInstrumentChange(s)},this.state={settingsOpen:!1}}componentDidMount(){window.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown)}render(){const{noteRange:r,instrumentName:o}=this.props.config;return u.jsxs("div",{children:[u.jsx("div",{className:"flex justify-center",children:u.jsxs("div",{className:"inline-flex items-center gap-2",children:[u.jsx("div",{className:"inline-block",children:u.jsx(Qb,{value:"voice"})}),u.jsx("div",{className:"inline-block",children:u.jsx(wn,{className:"form-control h-10",value:this.props.config.instrumentName.replaceAll("_"," ")||o.replaceAll("_"," "),onChange:this.onChangeInstrument,options:this.props.instrumentList.map(s=>s.replaceAll("_"," ")),showSearch:!0})}),u.jsx("div",{className:"inline-block",children:u.jsx(Cn,{onClick:()=>this.setState({settingsOpen:!this.state.settingsOpen}),active:this.state.settingsOpen,"aria-label":"Sound Settings","aria-expanded":this.state.settingsOpen,size:"sm",className:"h-10 ",children:u.jsx(Fb,{className:"h-5 w-5 text-slate-400 group-hover:text-slate-300 transition-colors duration-200 flex-shrink-0"})})})]})}),u.jsx("div",{className:"flex justify-center",children:u.jsx(Xb,{isOpen:this.state.settingsOpen,cutOffPreviousNotes:this.props.cutOffPreviousNotes,setCutOffPreviousNotes:this.props.setCutOffPreviousNotes,eq:this.props.eq,setEq:this.props.setEq,octaveOffset:this.props.octaveOffset,setOctaveOffset:this.props.setOctaveOffset,reverbLevel:this.props.reverbLevel,setReverbLevel:this.props.setReverbLevel,noteDuration:this.props.noteDuration,setNoteDuration:this.props.setNoteDuration,volume:this.props.volume,setVolume:this.props.setVolume,chorusLevel:this.props.chorusLevel,setChorusLevel:this.props.setChorusLevel,delayLevel:this.props.delayLevel,setDelayLevel:this.props.setDelayLevel})})]})}}var Oc={exports:{}},_c={exports:{}},Lc,Bh;function e1(){if(Bh)return Lc;Bh=1;function t(o){return o>64&&o<91?o-65:o>96&&o<123?o-71:o>47&&o<58?o+4:o===43?62:o===47?63:0}function r(o,s){for(var a=o.replace(/[^A-Za-z0-9\+\/]/g,""),l=a.length,d=s?Math.ceil((l*3+1>>2)/s)*s:l*3+1>>2,f=new Uint8Array(d),p,m,x=0,v=0,y=0;y<l;y++)if(m=y&3,x|=t(a.charCodeAt(y))<<18-6*m,m===3||l-y===1){for(p=0;p<3&&v<d;p++,v++)f[v]=x>>>(16>>>p&24)&255;x=0}return f}return Lc={decode:r},Lc}var Bc,Fh;function t1(){return Fh||(Fh=1,Bc=function(t,r){return new Promise(function(o,s){var a=new XMLHttpRequest;r&&(a.responseType=r),a.open("GET",t),a.onload=function(){a.status===200?o(a.response):s(Error(a.statusText))},a.onerror=function(){s(Error("Network Error"))},a.send()})}),Bc}var $h;function n1(){return $h||($h=1,function(t){var r=e1(),o=t1();function s(R){return function(F){return typeof F=="string"&&R.test(F)}}function a(R,F){return typeof R=="string"?R+F:typeof R=="function"?R(F):F}function l(R,F,X,ee){var ie=d(F)?f:p(F)?m:x(F)?v:y(F)?N:S(F)?j:E(F)?W:V(F)?B:z(F)?T:null,k=X||{};return ie?ie(R,F,k):ee?Promise.resolve(ee):Promise.reject("Source not valid ("+F+")")}l.fetch=o;function d(R){return R instanceof ArrayBuffer}function f(R,F,X){return new Promise(function(ee,ie){R.decodeAudioData(F,function(k){ee(k)},function(){ie("Can't decode audio data ("+F.slice(0,30)+"...)")})})}var p=s(/\.(mp3|wav|ogg)(\?.*)?$/i);function m(R,F,X){var ee=a(X.from,F);return l(R,l.fetch(ee,"arraybuffer"),X)}function x(R){return R&&typeof R.then=="function"}function v(R,F,X){return F.then(function(ee){return l(R,ee,X)})}var y=Array.isArray;function N(R,F,X){return Promise.all(F.map(function(ee){return l(R,ee,X,ee)}))}function S(R){return R&&typeof R=="object"}function j(R,F,X){var ee={},ie=Object.keys(F).map(function(k){if(X.only&&X.only.indexOf(k)===-1)return null;var O=F[k];return l(R,O,X,O).then(function(G){ee[k]=G})});return Promise.all(ie).then(function(){return ee})}var E=s(/\.json(\?.*)?$/i);function W(R,F,X){var ee=a(X.from,F);return l(R,l.fetch(ee,"text").then(JSON.parse),X)}var V=s(/^data:audio/);function B(R,F,X){var ee=F.indexOf(",");return l(R,r.decode(F.slice(ee+1)).buffer,X)}var z=s(/\.js(\?.*)?$/i);function T(R,F,X){var ee=a(X.from,F);return l(R,l.fetch(ee,"text").then($),X)}function $(R){var F=R.indexOf("MIDI.Soundfont.");if(F<0)throw Error("Invalid MIDI.js Soundfont format");F=R.indexOf("=",F)+2;var X=R.lastIndexOf(",");return JSON.parse(R.slice(F,X)+"}")}t.exports&&(t.exports=l),typeof window<"u"&&(window.loadAudio=l)}(_c)),_c.exports}var Fc={exports:{}},$c,zh;function r1(){if(zh)return $c;zh=1,$c=t;function t(f){var p=f.createGain(),m=p._voltage=s(f),x=a(m),v=a(m),y=a(m);return p._startAmount=a(v),p._endAmount=a(y),p._multiplier=a(x),p._multiplier.connect(p),p._startAmount.connect(p),p._endAmount.connect(p),p.value=x.gain,p.startValue=v.gain,p.endValue=y.gain,p.startValue.value=0,p.endValue.value=0,Object.defineProperties(p,r),p}var r={attack:{value:0,writable:!0},decay:{value:0,writable:!0},sustain:{value:1,writable:!0},release:{value:0,writable:!0},getReleaseDuration:{value:function(){return this.release}},start:{value:function(f){var p=this._multiplier.gain,m=this._startAmount.gain,x=this._endAmount.gain;this._voltage.start(f),this._decayFrom=this._decayFrom=f+this.attack,this._startedAt=f;var v=this.sustain;p.cancelScheduledValues(f),m.cancelScheduledValues(f),x.cancelScheduledValues(f),x.setValueAtTime(0,f),this.attack?(p.setValueAtTime(0,f),p.linearRampToValueAtTime(1,f+this.attack),m.setValueAtTime(1,f),m.linearRampToValueAtTime(0,f+this.attack)):(p.setValueAtTime(1,f),m.setValueAtTime(0,f)),this.decay&&p.setTargetAtTime(v,this._decayFrom,l(this.decay))}},stop:{value:function(f,p){p&&(f=f-this.release);var m=f+this.release;if(this.release){var x=this._multiplier.gain,v=this._startAmount.gain,y=this._endAmount.gain;x.cancelScheduledValues(f),v.cancelScheduledValues(f),y.cancelScheduledValues(f);var N=l(this.release);if(this.attack&&f<this._decayFrom){var S=d(0,1,this._startedAt,this._decayFrom,f);x.linearRampToValueAtTime(S,f),v.linearRampToValueAtTime(1-S,f),v.setTargetAtTime(0,f,N)}y.setTargetAtTime(1,f,N),x.setTargetAtTime(0,f,N)}return this._voltage.stop(m),m}},onended:{get:function(){return this._voltage.onended},set:function(f){this._voltage.onended=f}}},o=new Float32Array([1,1]);function s(f){var p=f.createBufferSource(),m=f.createBuffer(1,2,f.sampleRate);return m.getChannelData(0).set(o),p.buffer=m,p.loop=!0,p}function a(f){var p=f.context.createGain();return f.connect(p),p}function l(f){return Math.log(f+1)/Math.log(100)}function d(f,p,m,x,v){var y=p-f,N=x-m,S=v-m,j=S/N,E=f+j*y;return E<=f&&(E=f),E>=p&&(E=p),E}return $c}var zc,Vh;function o1(){if(Vh)return zc;Vh=1;var t=r1(),r={},o={gain:1,attack:.01,decay:.1,sustain:.9,release:.3,loop:!1,cents:0,loopStart:0,loopEnd:0};function s(p,m,x){var v=!1,y=0,N={},S=p.createGain();S.gain.value=1;var j=Object.assign({},o,x),E={context:p,out:S,opts:j};return m instanceof AudioBuffer?E.buffer=m:E.buffers=m,E.start=function(B,z,T){if(E.buffer&&B!==null)return E.start(null,B,z);var $=B?E.buffers[B]:E.buffer;if($){if(!v){console.warn("SamplePlayer not connected to any node.");return}}else{console.warn("Buffer "+B+" not found.");return}var R=T||r;z=Math.max(p.currentTime,z||0),E.emit("start",z,B,R);var F=V(B,$,R);return F.id=W(B,F),F.env.start(z),F.source.start(z),E.emit("started",z,F.id,F),R.duration&&F.stop(z+R.duration),F},E.play=function(B,z,T){return E.start(B,z,T)},E.stop=function(B,z){var T;return z=z||Object.keys(N),z.map(function($){return T=N[$],T?(T.stop(B),T.id):null})},E.connect=function(B){return v=!0,S.connect(B),E},E.emit=function(B,z,T,$){E.onevent&&E.onevent(B,z,T,$);var R=E["on"+B];R&&R(z,T,$)},E;function W(B,z){return z.id=y++,N[z.id]=z,z.source.onended=function(){var T=p.currentTime;z.source.disconnect(),z.env.disconnect(),z.disconnect(),E.emit("ended",T,z.id,z)},z.id}function V(B,z,T){var $=p.createGain();return $.gain.value=0,$.connect(S),$.env=d(p,T,j),$.env.connect($.gain),$.source=p.createBufferSource(),$.source.buffer=z,$.source.connect($),$.source.loop=T.loop||j.loop,$.source.playbackRate.value=f(T.cents||j.cents),$.source.loopStart=T.loopStart||j.loopStart,$.source.loopEnd=T.loopEnd||j.loopEnd,$.stop=function(R){var F=R||p.currentTime;E.emit("stop",F,B);var X=$.env.stop(F);$.source.stop(X)},$}}function a(p){return typeof p=="number"}var l=["attack","decay","sustain","release"];function d(p,m,x){var v=t(p),y=m.adsr||x.adsr;return l.forEach(function(N,S){y?v[N]=y[S]:v[N]=m[N]||x[N]}),v.value.value=a(m.gain)?m.gain:a(x.gain)?x.gain:1,v}function f(p){return p?Math.pow(2,p/1200):1}return zc=s,zc}var Vc,Gh;function s1(){if(Gh)return Vc;Gh=1,Vc=function(r){return r.on=function(o,s){if(arguments.length===1&&typeof o=="function")return r.on("event",o);var a="on"+o,l=r[a];return r[a]=l?t(l,s):s,r},r};function t(r,o){return function(s,a,l,d){r(s,a,l,d),o(s,a,l,d)}}return Vc}var Gc,Hh;function i1(){if(Hh)return Gc;Hh=1;var t=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;function r(){return t}var o=[0,2,4,5,7,9,11];function s(f,p,m){if(typeof f!="string")return null;var x=t.exec(f);if(!x||!p&&x[4])return null;var v={letter:x[1].toUpperCase(),acc:x[2].replace(/x/g,"##")};return v.pc=v.letter+v.acc,v.step=(v.letter.charCodeAt(0)+3)%7,v.alt=v.acc[0]==="b"?-v.acc.length:v.acc.length,v.chroma=o[v.step]+v.alt,x[3]&&(v.oct=+x[3],v.midi=v.chroma+12*(v.oct+1),v.freq=a(v.midi,m)),p&&(v.tonicOf=x[4]),v}function a(f,p){return Math.pow(2,(f-69)/12)*(p||440)}var l={parse:s,regex:r,midiToFreq:a},d=["letter","acc","pc","step","alt","chroma","oct","midi","freq"];return d.forEach(function(f){l[f]=function(p){var m=s(p);return m&&typeof m[f]<"u"?m[f]:null}}),Gc=l,Gc}var Hc,Uh;function a1(){if(Uh)return Hc;Uh=1;var t=i1(),r=function(a){return a!==null&&a!==[]&&a>=0&&a<129},o=function(a){return r(a)?+a:t.midi(a)};Hc=function(a){if(a.buffers){var l=a.opts.map,d=typeof l=="function"?l:o,f=function(m){return m?d(m)||m:null};a.buffers=s(a.buffers,f);var p=a.start;a.start=function(m,x,v){var y=f(m),N=y%1;return N&&(y=Math.floor(y),v=Object.assign(v||{},{cents:Math.floor(N*100)})),p(y,x,v)}}return a};function s(a,l){return Object.keys(a).reduce(function(d,f){return d[l(f)]=a[f],d},{})}return Hc}var Uc,Wh;function l1(){if(Wh)return Uc;Wh=1;var t=Array.isArray,r=function(s){return s&&typeof s=="object"},o={};return Uc=function(s){return s.schedule=function(a,l){var d=s.context.currentTime,f=a<d?d:a;s.emit("schedule",f,l);var p,m,x,v;return l.map(function(y){if(y)t(y)?(p=y[0],m=y[1]):(p=y.time,m=y);else return null;return r(m)?(x=m.name||m.key||m.note||m.midi||null,v=m):(x=m,v=o),s.start(x,f+(p||0),v)})},s},Uc}function na(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Wc={exports:{}},qh;function c1(){return qh||(qh=1,function(t,r){(function(o){t.exports=o()})(function(){return function o(s,a,l){function d(m,x){if(!a[m]){if(!s[m]){var v=typeof na=="function"&&na;if(!x&&v)return v(m,!0);if(f)return f(m,!0);var y=new Error("Cannot find module '"+m+"'");throw y.code="MODULE_NOT_FOUND",y}var N=a[m]={exports:{}};s[m][0].call(N.exports,function(S){var j=s[m][1][S];return d(j||S)},N,N.exports,o,s,a,l)}return a[m].exports}for(var f=typeof na=="function"&&na,p=0;p<l.length;p++)d(l[p]);return d}({1:[function(o,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(l){function d(f){if(this._event=f,this._data=f.data,this.receivedTime=f.receivedTime,this._data&&this._data.length<2){console.warn("Illegal MIDI message of length",this._data.length);return}switch(this._messageCode=f.data[0]&240,this.channel=f.data[0]&15,this._messageCode){case 128:this.messageType="noteoff",this.key=f.data[1]&127,this.velocity=f.data[2]&127;break;case 144:this.messageType="noteon",this.key=f.data[1]&127,this.velocity=f.data[2]&127;break;case 160:this.messageType="keypressure",this.key=f.data[1]&127,this.pressure=f.data[2]&127;break;case 176:this.messageType="controlchange",this.controllerNumber=f.data[1]&127,this.controllerValue=f.data[2]&127,this.controllerNumber===120&&this.controllerValue===0?this.channelModeMessage="allsoundoff":this.controllerNumber===121?this.channelModeMessage="resetallcontrollers":this.controllerNumber===122?this.controllerValue===0?this.channelModeMessage="localcontroloff":this.channelModeMessage="localcontrolon":this.controllerNumber===123&&this.controllerValue===0?this.channelModeMessage="allnotesoff":this.controllerNumber===124&&this.controllerValue===0?this.channelModeMessage="omnimodeoff":this.controllerNumber===125&&this.controllerValue===0?this.channelModeMessage="omnimodeon":this.controllerNumber===126?this.channelModeMessage="monomodeon":this.controllerNumber===127&&(this.channelModeMessage="polymodeon");break;case 192:this.messageType="programchange",this.program=f.data[1];break;case 208:this.messageType="channelpressure",this.pressure=f.data[1]&127;break;case 224:this.messageType="pitchbendchange";var p=f.data[2]&127,m=f.data[1]&127;this.pitchBend=(p<<8)+m;break}}return new d(l)},s.exports=a.default},{}]},{},[1])(1)})}(Wc)),Wc.exports}var qc,Kh;function u1(){if(Kh)return qc;Kh=1;var t=c1();return qc=function(r){return r.listenToMidi=function(o,s){var a={},l=s||{},d=l.gain||function(f){return f/127};return o.onmidimessage=function(f){var p=f.messageType?f:t(f);if(p.messageType==="noteon"&&p.velocity===0&&(p.messageType="noteoff"),!(l.channel&&p.channel!==l.channel))switch(p.messageType){case"noteon":a[p.key]=r.play(p.key,0,{gain:d(p.velocity)});break;case"noteoff":a[p.key]&&(a[p.key].stop(),delete a[p.key]);break}},r},r},qc}var Yh;function d1(){return Yh||(Yh=1,function(t){var r=o1(),o=s1(),s=a1(),a=l1(),l=u1();function d(f,p,m){return l(a(s(o(r(f,p,m)))))}t.exports&&(t.exports=d),typeof window<"u"&&(window.SamplePlayer=d)}(Fc)),Fc.exports}function Qh(t,r){return Array(r+1).join(t)}function Uu(t){return typeof t=="number"}function f1(t){return typeof t=="string"}function p1(t){return typeof t<"u"}function ug(t,r){return Math.pow(2,(t-69)/12)*(r||440)}var dg=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;function h1(){return dg}var m1=[0,2,4,5,7,9,11];function Zn(t,r,o){if(typeof t!="string")return null;var s=dg.exec(t);if(!s||!r&&s[4])return null;var a={letter:s[1].toUpperCase(),acc:s[2].replace(/x/g,"##")};a.pc=a.letter+a.acc,a.step=(a.letter.charCodeAt(0)+3)%7,a.alt=a.acc[0]==="b"?-a.acc.length:a.acc.length;var l=m1[a.step]+a.alt;return a.chroma=l<0?12+l:l%12,s[3]&&(a.oct=+s[3],a.midi=l+12*(a.oct+1),a.freq=ug(a.midi,o)),r&&(a.tonicOf=s[4]),a}var g1="CDEFGAB";function v1(t){return Uu(t)?t<0?Qh("b",-t):Qh("#",t):""}function x1(t){return Uu(t)?""+t:""}function fg(t,r,o){return t===null||typeof t>"u"?null:t.step?fg(t.step,t.alt,t.oct):t<0||t>6?null:g1.charAt(t)+v1(r)+x1(o)}function pg(t){if((Uu(t)||f1(t))&&t>=0&&t<128)return+t;var r=Zn(t);return r&&p1(r.midi)?r.midi:null}function y1(t,r){var o=pg(t);return o===null?null:ug(o,r)}function b1(t){return(Zn(t)||{}).letter}function w1(t){return(Zn(t)||{}).acc}function N1(t){return(Zn(t)||{}).pc}function C1(t){return(Zn(t)||{}).step}function S1(t){return(Zn(t)||{}).alt}function E1(t){return(Zn(t)||{}).chroma}function D1(t){return(Zn(t)||{}).oct}const j1=Object.freeze(Object.defineProperty({__proto__:null,acc:w1,alt:S1,build:fg,chroma:E1,freq:y1,letter:b1,midi:pg,oct:D1,parse:Zn,pc:N1,regex:h1,step:C1},Symbol.toStringTag,{value:"Module"})),A1=Vx(j1);var Kc,Xh;function P1(){if(Xh)return Kc;Xh=1;var t=A1;function r(a,l){if(console.warn("new Soundfont() is deprected"),console.log("Please use Soundfont.instrument() instead of new Soundfont().instrument()"),!(this instanceof r))return new r(a);this.nameToUrl=l||r.nameToUrl,this.ctx=a,this.instruments={},this.promises=[]}r.prototype.onready=function(a){console.warn("deprecated API"),console.log("Please use Promise.all(Soundfont.instrument(), Soundfont.instrument()).then() instead of new Soundfont().onready()"),Promise.all(this.promises).then(a)},r.prototype.instrument=function(a,l){console.warn("new Soundfont().instrument() is deprecated."),console.log("Please use Soundfont.instrument() instead.");var d=this.ctx;if(a=a||"default",a in this.instruments)return this.instruments[a];var f={name:a,play:s(d,l)};if(this.instruments[a]=f,a!=="default"){var p=r.instrument(d,a,l).then(function(m){return f.play=m.play,f});this.promises.push(p),f.onready=function(m){console.warn("onready is deprecated. Use Soundfont.instrument().then()"),p.then(m)}}else f.onready=function(m){console.warn("onready is deprecated. Use Soundfont.instrument().then()"),m()};return f};function o(a,l,d){return console.warn("Soundfont.loadBuffers is deprecate."),console.log("Use Soundfont.instrument(..) and get buffers properties from the result."),r.instrument(a,l,d).then(function(f){return f.buffers})}r.loadBuffers=o;function s(a,l){return l=l||{},function(d,f,p,m){console.warn("The oscillator player is deprecated."),console.log("Starting with version 0.9.0 you will have to wait until the soundfont is loaded to play sounds.");var x=d>0&&d<129?+d:t.midi(d),v=x?t.midiToFreq(x,440):null;if(v){p=p||.2,m=m||{};var y=m.destination||l.destination||a.destination,N=m.vcoType||l.vcoType||"sine",S=m.gain||l.gain||.4,j=a.createOscillator();j.type=N,j.frequency.value=v;var E=a.createGain();return E.gain.value=S,j.connect(E),E.connect(y),j.start(f),p>0&&j.stop(f+p),j}}}return r.noteToMidi=t.midi,Kc=r,Kc}var Zh;function R1(){return Zh||(Zh=1,function(t){var r=n1(),o=d1();function s(f,p,m){if(arguments.length===1)return function(S,j){return s(f,S,j)};var x=m||{},v=x.isSoundfontURL||a,y=x.nameToUrl||l,N=v(p)?p:y(p,x.soundfont,x.format);return r(f,N,{only:x.only||x.notes}).then(function(S){var j=o(f,S,x).connect(x.destination?x.destination:f.destination);return j.url=N,j.name=p,j})}function a(f){return/\.js(\?.*)?$/i.test(f)}function l(f,p,m){return m=m==="ogg"?m:"mp3",p=p==="FluidR3_GM"?p:"MusyngKite","https://gleitz.github.io/midi-js-soundfonts/"+p+"/"+f+"-"+m+".js"}var d=P1();d.instrument=s,d.nameToUrl=l,t.exports&&(t.exports=d),typeof window<"u"&&(window.Soundfont=d)}(Oc)),Oc.exports}var k1=R1();const I1=Dr(k1),Dd=class Dd extends we.Component{constructor(r){super(r),this.setupAudioChain=()=>{const{audioContext:o,eq:s,reverbLevel:a,volume:l,chorusLevel:d,delayLevel:f}=this.props;this.effectsChain=o.createGain(),this.masterVolumeNode=o.createGain(),this.masterVolumeNode.gain.value=l,this.bassNode=o.createBiquadFilter(),this.midNode=o.createBiquadFilter(),this.trebleNode=o.createBiquadFilter(),this.bassNode.type="lowshelf",this.bassNode.frequency.value=320,this.bassNode.gain.value=s.bass,this.midNode.type="peaking",this.midNode.frequency.value=1e3,this.midNode.Q.value=1,this.midNode.gain.value=s.mid,this.trebleNode.type="highshelf",this.trebleNode.frequency.value=3200,this.trebleNode.gain.value=s.treble,this.chorusDelayNode=o.createDelay(.05),this.chorusDelayNode.delayTime.value=.015,this.chorusLFO=o.createOscillator(),this.chorusLFO.frequency.value=1.5,this.chorusLFO.type="sine",this.chorusLFOGain=o.createGain(),this.chorusLFOGain.gain.value=.005,this.chorusDryGain=o.createGain(),this.chorusWetGain=o.createGain(),this.chorusMixNode=o.createGain(),this.chorusLFO.connect(this.chorusLFOGain),this.chorusLFOGain.connect(this.chorusDelayNode.delayTime),this.chorusLFO.start(),this.delayNode=o.createDelay(1),this.delayNode.delayTime.value=.3,this.delayFeedbackGain=o.createGain(),this.delayFeedbackGain.gain.value=.4,this.delayDryGain=o.createGain(),this.delayWetGain=o.createGain(),this.delayMixNode=o.createGain(),this.delayNode.connect(this.delayFeedbackGain),this.delayFeedbackGain.connect(this.delayNode),this.convolverNode=o.createConvolver(),this.wetGainNode=o.createGain(),this.dryGainNode=o.createGain(),this.convolverNode.buffer=this.generateImpulseResponse(o),this.effectsChain.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.bassNode),this.bassNode.connect(this.midNode),this.midNode.connect(this.trebleNode),this.trebleNode.connect(this.chorusDryGain),this.trebleNode.connect(this.chorusDelayNode),this.chorusDelayNode.connect(this.chorusWetGain),this.chorusDryGain.connect(this.chorusMixNode),this.chorusWetGain.connect(this.chorusMixNode),this.chorusMixNode.connect(this.delayDryGain),this.chorusMixNode.connect(this.delayNode),this.delayNode.connect(this.delayWetGain),this.delayDryGain.connect(this.delayMixNode),this.delayWetGain.connect(this.delayMixNode),this.delayMixNode.connect(this.dryGainNode),this.delayMixNode.connect(this.convolverNode),this.convolverNode.connect(this.wetGainNode),this.dryGainNode.connect(o.destination),this.wetGainNode.connect(o.destination),this.updateReverbMix(a),this.updateChorusMix(d),this.updateDelayMix(f)},this.generateImpulseResponse=o=>{const s=o.sampleRate,a=3,l=1.5,d=o.createBuffer(2,a*s,s);for(let f=0;f<2;f++){const p=d.getChannelData(f);for(let m=0;m<d.length;m++){const x=m/d.length,v=Math.sin(x*Math.PI*20)*Math.exp(-x*3),y=(Math.random()*2-1)*Math.pow(1-x,l),N=Math.sin(x*Math.PI*100)*.1*Math.exp(-x*8);p[m]=(v*.3+y*.6+N*.1)*1.5,f===1&&(p[m]*=1+Math.sin(x*Math.PI*7)*.2)}}return d},this.updateReverbMix=o=>{const s=this.props.audioContext.currentTime,a=Math.pow(o,.7)*1.2,l=1-o*.6;this.dryGainNode.gain.setValueAtTime(l,s),this.wetGainNode.gain.setValueAtTime(a,s)},this.updateChorusMix=o=>{const s=this.props.audioContext.currentTime,a=o*.8,l=1-o*.3;this.chorusDryGain.gain.setValueAtTime(l,s),this.chorusWetGain.gain.setValueAtTime(a,s)},this.updateDelayMix=o=>{const s=this.props.audioContext.currentTime,a=o*.6,l=1-o*.2;this.delayDryGain.gain.setValueAtTime(l,s),this.delayWetGain.gain.setValueAtTime(a,s)},this.updateVolume=o=>{const s=this.props.audioContext.currentTime;this.masterVolumeNode.gain.setValueAtTime(o,s)},this.loadInstrument=o=>{this.setState({instrument:null}),I1.instrument(this.props.audioContext,o,{format:this.props.format,soundfont:this.props.soundfont,nameToUrl:(s,a,l)=>`${this.props.hostname}/${a}/${s}-${l}.js`,destination:this.effectsChain}).then(s=>{this.setState({instrument:s}),this.props.onLoad&&this.props.onLoad({playNote:this.playNote,stopNote:this.stopNote,stopAllNotes:this.stopAllNotes})})},this.playNote=o=>{this.resumeAudio().then(()=>{if(!this.state.instrument)return;const s=this.state.instrument.play(o.toString());this.setState(a=>({activeAudioNodes:{...a.activeAudioNodes,[o]:s}}))})},this.stopNote=o=>{this.resumeAudio().then(()=>{const s=this.state.activeAudioNodes[o];s&&(s.stop(),this.setState(a=>{const l={...a.activeAudioNodes};return delete l[o],{activeAudioNodes:l}}))})},this.resumeAudio=()=>this.props.audioContext.state==="suspended"?this.props.audioContext.resume():Promise.resolve(),this.stopAllNotes=()=>{this.resumeAudio().then(()=>{Object.values(this.state.activeAudioNodes).forEach(o=>{o&&o.stop()}),this.setState({activeAudioNodes:{}})})},this.state={activeAudioNodes:{},instrument:null},this.setupAudioChain()}componentDidMount(){this.loadInstrument(this.props.instrumentName)}componentDidUpdate(r){if(r.instrumentName!==this.props.instrumentName&&this.loadInstrument(this.props.instrumentName),JSON.stringify(r.eq)!==JSON.stringify(this.props.eq)){const o=this.props.audioContext.currentTime;this.bassNode.gain.setValueAtTime(this.props.eq.bass,o),this.midNode.gain.setValueAtTime(this.props.eq.mid,o),this.trebleNode.gain.setValueAtTime(this.props.eq.treble,o)}r.reverbLevel!==this.props.reverbLevel&&this.updateReverbMix(this.props.reverbLevel),r.volume!==this.props.volume&&this.updateVolume(this.props.volume),r.chorusLevel!==this.props.chorusLevel&&this.updateChorusMix(this.props.chorusLevel),r.delayLevel!==this.props.delayLevel&&this.updateDelayMix(this.props.delayLevel)}render(){return this.props.render?this.props.render({isLoading:!this.state.instrument,playNote:this.playNote,stopNote:this.stopNote,stopAllNotes:this.stopAllNotes}):null}};Dd.defaultProps={format:"mp3",soundfont:"MusyngKite",instrumentName:"acoustic_grand_piano",eq:{bass:0,mid:0,treble:0},reverbLevel:0,volume:.8,chorusLevel:0,delayLevel:0};let xu=Dd;const Jh=typeof window<"u"?new(window.AudioContext||window.webkitAudioContext):null,M1=4,T1=7,O1=({hideConfigControls:t=!1})=>{const r=Nn(),o=ws(),s=Sr(),a=Ao(),{activeNotes:l,activeChordIndex:d,addedChords:f}=s,{normalizedScaleNotes:p}=r,{currentlyActivePattern:m,globalPatternState:x}=a,{pianoSettings:v,availableInstruments:y,setPianoInstrument:N,setCutOffPreviousNotes:S,setEq:j,setOctaveOffset:E,setReverbLevel:W,setNoteDuration:V,setVolume:B,setChorusLevel:z,setDelayLevel:T,setAvailableInstruments:$}=o,R="https://d1pzp51pvbm36p.cloudfront.net",F=b.useRef(null),[X,ee]=b.useState([]),ie=b.useRef(-1),k=b.useRef(null),O=b.useRef(null),[G,te]=b.useState(500),J=b.useMemo(()=>{const le=G;return le<400?Math.max(320,le-40):le<768?Math.min(600,le-60):le<1200?Math.min(800,le-80):Math.min(1e3,le-100)},[G]);b.useEffect(()=>{const le=()=>{O.current&&te(O.current.offsetWidth)};le();const de=new ResizeObserver(()=>{le()});O.current&&de.observe(O.current);const ue=()=>{le()};return window.addEventListener("resize",ue),()=>{de.disconnect(),window.removeEventListener("resize",ue)}},[]);const{firstNote:se,lastNote:Q,keyboardShortcuts:H,midiOffset:_}=b.useMemo(()=>{const le="c",de=At.fromNote(`${le}${M1}`),ue=At.fromNote(`${le}${T1}`),Re=v.octaveOffset*12;return{firstNote:de,lastNote:ue,midiOffset:Re,keyboardShortcuts:Ch.create({firstNote:de,lastNote:ue,keyboardConfig:Ch.HOME_ROW})}},[v.octaveOffset]),[D,C]=b.useState({instrumentName:v.instrumentName});b.useEffect(()=>{C(le=>({...le,instrumentName:v.instrumentName}))},[v.instrumentName]),b.useEffect(()=>{if(k.current&&(clearTimeout(k.current),k.current=null),!x.isPlaying&&l.length>0){const le=l.map(({note:de,octave:ue=4})=>At.fromNote(`${qr(de)}${ue}`));ee(le),k.current=setTimeout(()=>{x.isPlaying||ee([])},2e3)}else!x.isPlaying&&l.length===0&&ee([]);return()=>{k.current&&(clearTimeout(k.current),k.current=null)}},[l,x.isPlaying]);const K=b.useCallback(()=>d!==null&&f[d]?f[d].pattern:m,[d,f,m]),re=b.useCallback((le,de)=>{if(le==="x"||le==="X")return null;const ue=le.includes("+"),Re=le.includes("-"),ge=parseInt(le.replace(/[+-]/g,""))-1;return ge>=0&&ge<de?{noteIndex:ge,octaveUp:ue,octaveDown:Re}:null},[]),pe=b.useCallback(()=>6e4/x.bpm*x.subdivision,[x.bpm,x.subdivision]);b.useEffect(()=>{const le=K();if(x.isPlaying&&l.length>0&&le?.length>0&&x.currentStep!==ie.current){ie.current=x.currentStep;const de=x.currentStep%le.length,ue=le[de],Re=re(ue,l.length);if(Re){const{noteIndex:ge,octaveUp:Te,octaveDown:qe}=Re,{note:Ke,octave:at=4}=l[ge];let Tt=at;Te&&(Tt+=1),qe&&(Tt-=1),Tt=Math.max(1,Math.min(8,Tt));const en=At.fromNote(`${Ke}${Tt}`);!v.cutOffPreviousNotes&&F.current&&F.current(),ee([en]);const tn=pe(),lt=Math.min(tn*v.noteDuration,tn-50);setTimeout(()=>{ee([])},lt)}else ee([])}else x.isPlaying||ie.current!==-1&&(ee([]),ie.current=-1)},[x.currentStep,x.isPlaying,l,v.cutOffPreviousNotes,v.noteDuration,pe,K,re]);const me=le=>de=>{!v.cutOffPreviousNotes&&F.current&&F.current(),le(de+_)},Ee=le=>de=>{le(de+_)};return Jh?u.jsx(xu,{instrumentName:v.instrumentName,audioContext:Jh,hostname:R,eq:v.eq,reverbLevel:v.reverbLevel,volume:v.volume,chorusLevel:v.chorusLevel,delayLevel:v.delayLevel,render:({isLoading:le,playNote:de,stopNote:ue,stopAllNotes:Re})=>(F.current=Re,u.jsxs(u.Fragment,{children:[u.jsx("div",{ref:O,className:"relative w-full",children:u.jsx("div",{className:"w-full flex justify-center overflow-x-auto",children:u.jsx($u,{noteRange:{first:se,last:Q},playNote:me(de),stopNote:Ee(ue),disabled:le,width:J,className:"mx-auto w-full",activeNotes:X,renderNoteLabel:({midiNumber:ge,isAccidental:Te})=>{const qe=At.getAttributes(ge).note.slice(0,-1);return p.includes(qr(qe))?u.jsx("div",{className:`mx-auto mb-2 w-2 h-2 rounded-full ${Te?"bg-blue-300":"bg-blue-500"}`}):null}})})}),!t&&u.jsx("div",{className:"mt-5",children:u.jsx(da,{hostname:R,render:ge=>(ge&&ge.length>0&&JSON.stringify(ge)!==JSON.stringify(y)&&$(ge),u.jsx(Jb,{config:D,setConfig:C,instrumentList:ge||y,keyboardShortcuts:H,cutOffPreviousNotes:v.cutOffPreviousNotes,setCutOffPreviousNotes:S,eq:v.eq,setEq:j,octaveOffset:v.octaveOffset,setOctaveOffset:E,reverbLevel:v.reverbLevel,setReverbLevel:W,noteDuration:v.noteDuration,setNoteDuration:V,volume:v.volume,setVolume:B,chorusLevel:v.chorusLevel,setChorusLevel:z,delayLevel:v.delayLevel,setDelayLevel:T,onInstrumentChange:N}))})}),u.jsx(da,{hostname:R,render:ge=>(ge&&ge.length>0&&JSON.stringify(ge)!==JSON.stringify(y)&&$(ge),u.jsx(u.Fragment,{}))})]}))}):u.jsx("div",{children:"Audio context is not available."})},Wu=({isOpen:t,onClose:r,children:o,className:s="",showCloseButton:a=!0,closeOnBackdropClick:l=!0,title:d,fixedHeader:f=!1})=>{if(!t)return null;const p=m=>{l&&m.target===m.currentTarget&&r()};return u.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4",children:[u.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:p}),u.jsxs("div",{className:`relative bg-[#3d434f] border border-gray-600 rounded-lg shadow-xl w-full animate-in fade-in-0 zoom-in-95 duration-200 ${f?"flex flex-col max-h-full":""} ${s}`,children:[(d||a)&&u.jsxs("div",{className:`flex items-center justify-between p-4 border-b border-gray-600 bg-[#3d434f] rounded-t-lg ${f?"flex-shrink-0":""}`,children:[d&&u.jsx("h3",{className:"text-sm font-semibold text-slate-200 uppercase tracking-wide",children:d}),a&&u.jsx("button",{onClick:r,className:"w-6 h-6 flex items-center justify-center rounded-full hover:bg-slate-600 text-slate-400 hover:text-slate-200 transition-colors ml-auto",children:u.jsx(_b,{className:"w-4 h-4"})})]}),f?u.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto",children:o}):o]})]})},_1=({className:t=""})=>{const[r,o]=b.useState(!1),s=()=>o(!0),a=()=>o(!1);return u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:s,className:`inline-flex items-center justify-center w-5 h-5 rounded-full bg-slate-600 hover:bg-slate-500 text-slate-300 hover:text-white transition-colors ${t}`,title:"Pattern notation help",children:u.jsx(ig,{className:"w-3 h-3"})}),u.jsxs(Wu,{isOpen:r,onClose:a,title:"Pattern Notation Guide",children:[u.jsxs("div",{className:"p-4 space-y-4",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("code",{className:"px-2 py-1 bg-slate-700 text-slate-200 rounded text-xs font-mono min-w-[2rem] text-center",children:"x"}),u.jsx("span",{className:"text-xs text-slate-300",children:"Rest (silence)"})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("code",{className:"px-2 py-1 bg-slate-700 text-slate-200 rounded text-xs font-mono min-w-[2rem] text-center",children:"1-8"}),u.jsx("span",{className:"text-xs text-slate-300",children:"Note index (1st, 2nd, 3rd note, etc.)"})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("code",{className:"px-2 py-1 bg-slate-700 text-slate-200 rounded text-xs font-mono min-w-[2rem] text-center",children:"1+"}),u.jsx("span",{className:"text-xs text-slate-300",children:"Note with octave up"})]})]}),u.jsxs("div",{className:"border-t border-gray-600 pt-4",children:[u.jsx("div",{className:"text-xs text-slate-400 mb-2",children:u.jsx("strong",{className:"text-slate-300",children:"Example:"})}),u.jsxs("div",{className:"bg-slate-700 rounded p-3",children:[u.jsx("code",{className:"text-xs font-mono text-slate-200",children:"1,x,3,2+"}),u.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Plays: 1st note  rest  3rd note  2nd note (octave up)"})]})]}),u.jsx("div",{className:"text-xs text-slate-500",children:"Separate values with commas. Use any combination to create your pattern."})]}),u.jsx("div",{className:"flex justify-end p-4 border-t border-gray-600",children:u.jsx("button",{onClick:a,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-xs font-medium rounded transition-colors uppercase tracking-wide",children:"Got it"})})]})]})},M={BASIC:"basic",RHYTHMIC:"rhythmic",ADVANCED:"advanced",GENRE:"genre",CUSTOM:"custom"},em=[{name:"Root Only",pattern:["1","x","1","x"],desc:"Simple root note emphasis",icon:"",category:M.BASIC},{name:"Root Bass",pattern:["1","x","x","x","1","x","x","x"],desc:"Steady root note bass line",icon:"",category:M.BASIC},{name:"Up Down",pattern:["1","2","3","4","3","2"],desc:"Classic ascending and descending",icon:"",category:M.BASIC},{name:"Broken Chord",pattern:["1","3","2","4"],desc:"Mixed chord tones",icon:"",category:M.BASIC},{name:"Octave Jump",pattern:["1","1+","1","1+"],desc:"Root note with octave jumps",icon:"",category:M.BASIC},{name:"Waltz",pattern:["1","2","3"],desc:"Three-beat waltz pattern",icon:"",category:M.BASIC},{name:"Alberti Bass",pattern:["1","3","2","3","1","3","2","3"],desc:"Classical broken chord accompaniment",icon:"",category:M.BASIC},{name:"Syncopated",pattern:["x","1","x","2","x","3","1","x"],desc:"Off-beat emphasis",icon:"",category:M.RHYTHMIC},{name:"Dotted Rhythm",pattern:["1","x","x","2","x","x"],desc:"Long-short rhythm pattern",icon:"",category:M.RHYTHMIC},{name:"Staccato",pattern:["1","x","2","x","3","x","4","x"],desc:"Short, detached notes",icon:"",category:M.RHYTHMIC},{name:"Legato Flow",pattern:["1","2","3","4","4","3","2","1"],desc:"Smooth, connected motion",icon:"",category:M.ADVANCED},{name:"Fifth Wheel",pattern:["1","2","3","4","5"],desc:"Simple ascent through 5-note chord",icon:"5",category:M.BASIC},{name:"Pentagon",pattern:["1","3","5","2","4","1"],desc:"Geometric pattern through 5 notes",icon:"",category:M.BASIC},{name:"Five Alive",pattern:["1","5","2","4","3","5","1","x"],desc:"Dynamic 5-note exploration",icon:"",category:M.ADVANCED},{name:"Jazz Walk",pattern:["1","2","3","4","5","4","3","2"],desc:"Walking bass with 5th extension",icon:"",category:M.ADVANCED},{name:"Quintet Roll",pattern:["1","x","2","3","x","4","5","x"],desc:"Rolled chord with gaps",icon:"",category:M.RHYTHMIC},{name:"High Five",pattern:["1","2+","3","4+","5","1+"],desc:"Mix of regular and high octave notes",icon:"",category:M.ADVANCED},{name:"Hexagon",pattern:["1","2","3","4","5","6"],desc:"Complete 6-note ascent",icon:"",category:M.BASIC},{name:"Six Pack",pattern:["1","6","2","5","3","4"],desc:"Outside-in pattern",icon:"",category:M.ADVANCED},{name:"Jazz Cascade",pattern:["1","3","5","6","4","2","1","x"],desc:"Complex jazz voicing pattern",icon:"",category:M.ADVANCED},{name:"Spiral Six",pattern:["1","4","2","5","3","6","1"],desc:"Spiraling through 6 notes",icon:"",category:M.ADVANCED},{name:"Double Triple",pattern:["1","2","3","4","5","6","6","5","4","3","2","1"],desc:"Up and down through all 6 notes",icon:"",category:M.ADVANCED},{name:"Sixth Sense",pattern:["1","x","3","x","5","x","6","x"],desc:"Selective 6-note chord tones",icon:"",category:M.RHYTHMIC},{name:"Polyrhythm",pattern:["1","x","x","2","x","3","x","x","1","x","3","x"],desc:"Complex rhythmic displacement",icon:"",category:M.RHYTHMIC},{name:"Bounce",pattern:["1","4","1","4","2","3","2","3"],desc:"Bouncing between chord tones",icon:"",category:M.ADVANCED},{name:"Cascade",pattern:["4+","3+","2+","1+","4","3","2","1"],desc:"Waterfall effect across octaves",icon:"",category:M.ADVANCED},{name:"Morse Code",pattern:["1","x","1","1","x","x","1","x","1","1","x"],desc:"Dot-dash rhythm pattern",icon:"",category:M.RHYTHMIC},{name:"Fibonacci",pattern:["1","1","2","3","2","1","3","4"],desc:"Based on Fibonacci sequence",icon:"",category:M.ADVANCED},{name:"Pendulum",pattern:["1","3","2","4","3","1","2","4","3","2"],desc:"Swinging motion through chord",icon:"",category:M.ADVANCED},{name:"Stutter Step",pattern:["1","1","x","2","2","x","3","3","x"],desc:"Repeated notes with rests",icon:"",category:M.RHYTHMIC},{name:"Call Response",pattern:["1","x","x","3","2","x","x","4"],desc:"Question and answer phrases",icon:"",category:M.RHYTHMIC},{name:"Spiral",pattern:["1","2","4","3","1","4","2","3"],desc:"Spiraling chord progression",icon:"",category:M.ADVANCED},{name:"Latin Clave",pattern:["1","x","x","1","x","1","x","x"],desc:"Based on Latin clave rhythm",icon:"",category:M.RHYTHMIC},{name:"Long Journey",pattern:["1","2","x","3","4","x","3","2","1","x","2","3","4","x","x","1"],desc:"Extended 16-step pattern",icon:"",category:M.ADVANCED},{name:"Minimalist",pattern:["1","x","x","x","x","x","x","x"],desc:"Sparse, contemplative",icon:"",category:M.BASIC},{name:"Maximalist",pattern:["1","2","3","4","1+","2+","3+","4+"],desc:"Dense, energetic pattern",icon:"",category:M.ADVANCED},{name:"Ghost Notes",pattern:["1","x","2","x","x","3","x","4","x","x"],desc:"Implied rhythm with spaces",icon:"",category:M.RHYTHMIC},{name:"Power Chord",pattern:["1","1","1+","1+"],desc:"Rock-style power chord emphasis",icon:"",category:M.BASIC},{name:"Bossa Nova",pattern:["1","x","2","x","3","x","4","2"],desc:"Brazilian bossa nova feel",icon:"",category:M.GENRE},{name:"Reggae Skank",pattern:["x","2","x","4","x","2","x","4"],desc:"Reggae upstroke pattern",icon:"",category:M.GENRE},{name:"Tango",pattern:["1","x","2","3","x","x","4","x"],desc:"Dramatic tango rhythm",icon:"",category:M.GENRE},{name:"Swing Feel",pattern:["1","x","3","x","2","x","4","x"],desc:"Jazz swing pattern",icon:"",category:M.GENRE},{name:"Folk Strum",pattern:["1","2","3","2","1","2","3","2"],desc:"Folk guitar strumming pattern",icon:"",category:M.GENRE},{name:"Extended Jazz",pattern:["1","3","5","6","5","3","1","x"],desc:"Jazz chord extensions",icon:"",category:M.ADVANCED},{name:"Full House",pattern:["1","2","3","4","5","6","x","x"],desc:"All chord tones, then rest",icon:"",category:M.BASIC},{name:"Polyrhythmic 6",pattern:["1","x","3","x","5","x","2","x","4","x","6","x"],desc:"Complex 6-note polyrhythm",icon:"",category:M.RHYTHMIC},{name:"Wave Function",pattern:["1","3","5","6","4","2","1","3","5","4","2","x"],desc:"Wave-like motion through extended chord",icon:"",category:M.ADVANCED},{name:"Grand Scale",pattern:["1","2","3","4","5","6","5","4","3","2","1"],desc:"Full scale ascent and descent",icon:"",category:M.BASIC},{name:"Step by Step",pattern:["1","2","1","3","2","4","3","5","4","6","5"],desc:"Gradual stepping pattern",icon:"",category:M.BASIC},{name:"Simple Sixes",pattern:["1","3","5","1","3","5","6","4","2","6","4","2"],desc:"Two three-note groups with extensions",icon:"",category:M.BASIC},{name:"Double Root",pattern:["1","1","2","3","4","1","1"],desc:"Root emphasis with ascent",icon:"",category:M.BASIC},{name:"Neighbor Tones",pattern:["1","2","1","3","2","3","4","3"],desc:"Step-wise neighboring motion",icon:"",category:M.BASIC},{name:"Triad Plus",pattern:["1","3","5","6","1","3","5","4"],desc:"Basic triad with extensions",icon:"",category:M.BASIC},{name:"Full Circle",pattern:["1","2","3","4","5","6","6","5","4","3","2","1","x","x"],desc:"Complete journey up and down",icon:"",category:M.BASIC},{name:"Building Blocks",pattern:["1","1","2","1","2","3","1","2","3","4"],desc:"Gradually building up the chord",icon:"",category:M.BASIC},{name:"Polymetric 5",pattern:["1","x","x","2","x","3","x","x","4","x","5","x","x","1","x"],desc:"Five-note pattern in complex meter",icon:"",category:M.RHYTHMIC},{name:"Shuffle Step",pattern:["1","x","2","3","x","x","4","x","5","6","x","x"],desc:"Shuffle rhythm through extended chord",icon:"",category:M.RHYTHMIC},{name:"Heartbeat",pattern:["1","1","x","x","2","2","x","x","3","3","x","x"],desc:"Pulse-like doubled pattern",icon:"",category:M.RHYTHMIC},{name:"Cross Rhythm",pattern:["1","x","x","2","x","x","3","x","4","x","x","5","x","x","6"],desc:"Pattern crossing metric boundaries",icon:"",category:M.RHYTHMIC},{name:"Breath Mark",pattern:["1","2","3","x","x","4","5","6","x","x","1","2","x","x"],desc:"Groups of notes with breathing spaces",icon:"",category:M.RHYTHMIC},{name:"Displacement",pattern:["x","1","x","2","x","3","1","x","2","x","3","x","4","x"],desc:"Rhythmically displaced chord tones",icon:"",category:M.RHYTHMIC},{name:"Echo Chamber",pattern:["1","x","1","x","x","2","x","2","x","x","3","x","3","x","x"],desc:"Each note echoes with delays",icon:"",category:M.RHYTHMIC},{name:"Odd Meter",pattern:["1","x","2","x","3","x","x","4","x","5","x","6","x","x"],desc:"Seven-beat groupings",icon:"7",category:M.RHYTHMIC},{name:"Metric Modulation",pattern:["1","2","x","3","4","x","x","5","6","x","1","x","x","2","x"],desc:"Changing rhythmic emphasis",icon:"",category:M.RHYTHMIC},{name:"Chromatic Walk",pattern:["1","2","3","4","5","6","5","4","3","2","1","2","3","4","5","6"],desc:"Extended chromatic voice leading",icon:"",category:M.ADVANCED},{name:"Voice Exchange",pattern:["1","6","2","5","3","4","4","3","5","2","6","1"],desc:"Voices trading positions",icon:"",category:M.ADVANCED},{name:"Nested Loops",pattern:["1","3","5","3","1","4","6","4","2","5","6","5","2","1"],desc:"Loops within loops structure",icon:"",category:M.ADVANCED},{name:"Golden Ratio",pattern:["1","2","3","5","6","4","1","3","5","6","2","4","1"],desc:"Based on mathematical proportions",icon:"",category:M.ADVANCED},{name:"Fractal Pattern",pattern:["1","3","2","1","4","6","5","4","1","3","2","1"],desc:"Self-similar pattern at different scales",icon:"",category:M.ADVANCED},{name:"Intervallic Series",pattern:["1","4","2","5","3","6","1","5","2","6","3","4"],desc:"Systematic interval exploration",icon:"",category:M.ADVANCED},{name:"Orbit",pattern:["1","3","5","2","4","6","3","5","1","4","6","2","5","1","6"],desc:"Circular motion through chord space",icon:"",category:M.ADVANCED},{name:"Double Helix",pattern:["1","6","2","5","3","4","3+","4+","2+","5+","1+","6+","1+"],desc:"Intertwining ascending and descending lines",icon:"",category:M.ADVANCED},{name:"Metamorphosis",pattern:["1","2","1","3","2","4","3","5","4","6","5","6","1+","2+"],desc:"Gradually transforming pattern",icon:"",category:M.ADVANCED},{name:"Tessellation",pattern:["1","3","6","4","2","5","1","4","6","3","2","5"],desc:"Interlocking geometric pattern",icon:"",category:M.ADVANCED},{name:"Prime Number",pattern:["1","x","2","x","x","3","x","x","x","x","5","x","x","x","x","x","x"],desc:"Based on prime number sequence",icon:"",category:M.ADVANCED},{name:"Matrix",pattern:["1","2","3","4+","5+","6+","6","5","4","3+","2+","1+"],desc:"Systematic octave displacement matrix",icon:"",category:M.ADVANCED},{name:"Mandala",pattern:["1","x","3","x","5","x","6","x","4","x","2","x","1","x"],desc:"Symmetric spiritual geometry",icon:"",category:M.ADVANCED},{name:"Infinity Loop",pattern:["1","2","3","4","5","6","5","4","3","2","1","6","5","4","3","2","1"],desc:"Never-ending loop pattern",icon:"",category:M.ADVANCED},{name:"Quantum Jump",pattern:["1","4+","2","5+","x","3","6+","x","1+","4","x","2+","5"],desc:"Unpredictable quantum-like leaps",icon:"",category:M.ADVANCED},{name:"Epic Journey",pattern:["1","2","3","4","5","6","6+","5+","4+","3+","2+","1+","6","5","4","3","2","1","x","x"],desc:"20-step odyssey through all chord tones",icon:"",category:M.ADVANCED},{name:"Full Spectrum",pattern:["1","x","2","x","3","x","4","x","5","x","6","x","1+","x","2+","x","3+","x"],desc:"Complete chord exploration with rests",icon:"",category:M.BASIC},{name:"Polyrhythmic Marathon",pattern:["1","x","x","2","x","3","x","x","4","x","5","x","x","6","x","1+","x","x","2+","x"],desc:"Extended polyrhythmic exploration",icon:"",category:M.RHYTHMIC},{name:"Dimensional Shift",pattern:["1","3","5","1+","3+","5+","6+","4+","2+","6","4","2","1","2","3","4","5","6"],desc:"Moving between octave dimensions",icon:"",category:M.ADVANCED},{name:"Quick Five",pattern:["1","2","3","4","5","1"],desc:"Efficient 5-note exploration",icon:"",category:M.BASIC},{name:"Hex Core",pattern:["1","3","5","2","4","6"],desc:"All 6 notes in compact form",icon:"",category:M.BASIC},{name:"Jazz Snap",pattern:["1","3","6","4","2","5"],desc:"Quick jazz chord exploration",icon:"",category:M.ADVANCED},{name:"Prism",pattern:["1","4","6","3","5","2"],desc:"Light refraction pattern",icon:"",category:M.ADVANCED},{name:"Star Map",pattern:["1","5","2","6","3","4"],desc:"Navigating chord constellation",icon:"",category:M.ADVANCED},{name:"Speed Dial",pattern:["1","2","4","5","6","3"],desc:"Quick access to extended tones",icon:"",category:M.BASIC},{name:"Kaleidoscope",pattern:["1","6","4","2","5","3"],desc:"Shifting colorful pattern",icon:"",category:M.ADVANCED},{name:"Magnetic",pattern:["1","3","5","6","4","2"],desc:"Attraction between chord tones",icon:"",category:M.ADVANCED},{name:"Quantum Six",pattern:["6","1","4","2","5","3"],desc:"Non-linear quantum exploration",icon:"",category:M.ADVANCED},{name:"Crystal",pattern:["1","4","2","5","3","6"],desc:"Crystalline structure pattern",icon:"",category:M.ADVANCED},{name:"Octagon",pattern:["1","2","3","4","5","6","5","4"],desc:"8-sided geometric exploration",icon:"",category:M.BASIC},{name:"Double Helix 6",pattern:["1","6","2","5","3","4","3+","1+"],desc:"DNA-like interweaving pattern",icon:"",category:M.ADVANCED},{name:"Infinity 5",pattern:["1","3","5","4","2","4","5","1"],desc:"Figure-8 through 5 chord tones",icon:"",category:M.ADVANCED},{name:"Compass Rose",pattern:["1","4","6","3","2","5","1","6"],desc:"Navigate all directions",icon:"",category:M.ADVANCED},{name:"Quick March",pattern:["1","2","3","4","5","6","1+","x"],desc:"Military precision through chord",icon:"",category:M.BASIC},{name:"Ripple Effect",pattern:["1","3","5","2","4","6","4","2"],desc:"Waves expanding outward",icon:"",category:M.ADVANCED},{name:"Spider Web",pattern:["1","4","2","6","3","5","1+","4"],desc:"Intricate connecting pattern",icon:"",category:M.ADVANCED},{name:"Gear Shift",pattern:["1","2","4","3","5","6","5","2"],desc:"Mechanical shifting motion",icon:"",category:M.ADVANCED},{name:"Phoenix Rise",pattern:["1","3","5","6","4","2","5+","1+"],desc:"Rising from ashes pattern",icon:"",category:M.ADVANCED},{name:"Molecule",pattern:["1","6","3","2","5","4","6+","1+"],desc:"Chemical bond structure",icon:"",category:M.ADVANCED},{name:"Time Warp",pattern:["1","5","2","4","6","3","1+","5"],desc:"Bending through chord space-time",icon:"",category:M.ADVANCED},{name:"Magic Square",pattern:["1","4","6","2","3","5","4+","1+"],desc:"Mathematical magic pattern",icon:"",category:M.ADVANCED},{name:"Synth Wave",pattern:["1","2","4","6","5","3","2+","1+"],desc:"Electronic wave synthesis",icon:"",category:M.ADVANCED},{name:"Butterfly",pattern:["1","3","6","4","2","5","3+","1+"],desc:"Graceful wing-like motion",icon:"",category:M.ADVANCED},{name:"Binary Code",pattern:["1","x","2","3","4","5","6","x"],desc:"Digital pattern with gaps",icon:"",category:M.RHYTHMIC},{name:"Vortex",pattern:["1","6","4","2","5","3","6+","1+"],desc:"Spiraling energy pattern",icon:"",category:M.ADVANCED},{name:"Lightning",pattern:["1","4","6","2","5","3","1+","x"],desc:"Zigzag electrical pattern",icon:"",category:M.ADVANCED},{name:"Honeycomb",pattern:["1","3","5","2","6","4","5+","1+"],desc:"Hexagonal bee pattern",icon:"",category:M.ADVANCED},{name:"Tidal Wave",pattern:["1","2","4","5","6","3","2+","1+"],desc:"Ocean wave crescendo",icon:"",category:M.ADVANCED},{name:"Satellite",pattern:["1","5","3","6","2","4","1+","5+"],desc:"Orbital motion pattern",icon:"",category:M.ADVANCED},{name:"Quad Core",pattern:["1","2","3","4","3","2"],desc:"4-note mountain shape",icon:"",category:M.BASIC},{name:"Square Dance",pattern:["1","3","2","4","1","3"],desc:"4-note folk pattern",icon:"",category:M.BASIC},{name:"Tetris Block",pattern:["1","4","2","3","4","1","2","3"],desc:"Interlocking 4-note pattern",icon:"",category:M.ADVANCED},{name:"Compass",pattern:["1","2","4","3","1","4"],desc:"4-direction navigation",icon:"",category:M.BASIC},{name:"Engine Cycle",pattern:["1","3","4","2","1","3","4","2"],desc:"Repeating 4-stroke pattern",icon:"",category:M.ADVANCED},{name:"Diamond",pattern:["1","2","4","3","2","1"],desc:"Diamond-shaped 4-note gem",icon:"",category:M.BASIC},{name:"Pentagon Path",pattern:["1","2","3","4","5","1"],desc:"5-sided geometric progression",icon:"",category:M.BASIC},{name:"Star Jump",pattern:["1","3","5","2","4","1"],desc:"5-pointed star navigation",icon:"",category:M.ADVANCED},{name:"High Five",pattern:["1","2","3","4","5","1+"],desc:"5-note celebration with octave",icon:"",category:M.BASIC},{name:"Flower Power",pattern:["1","3","2","5","4","1","3","5"],desc:"5-petal blooming pattern",icon:"",category:M.ADVANCED},{name:"Olympic Rings",pattern:["1","4","2","5","3","4"],desc:"Interlocking 5-note circles",icon:"",category:M.ADVANCED},{name:"Jazz Hand",pattern:["1","2","4","3","5","2","1","4"],desc:"5-finger jazz expression",icon:"",category:M.ADVANCED},{name:"Spiral Five",pattern:["1","3","5","4","2","3"],desc:"Spiraling 5-note motion",icon:"",category:M.ADVANCED},{name:"Power Plant",pattern:["1","5","3","2","4","1+"],desc:"Energy-generating 5-note pattern",icon:"",category:M.ADVANCED},{name:"Full House",pattern:["1","2","3","4","5","6"],desc:"Complete 6-note ascent",icon:"",category:M.BASIC},{name:"Hexagon Spin",pattern:["1","3","5","2","4","6"],desc:"6-sided rotating pattern",icon:"",category:M.BASIC},{name:"Rainbow Arc",pattern:["1","6","2","5","3","4"],desc:"6-color spectrum bridge",icon:"",category:M.ADVANCED},{name:"Dice Roll",pattern:["1","4","6","2","5","3"],desc:"Random 6-sided exploration",icon:"",category:M.ADVANCED},{name:"Spider Legs",pattern:["1","2","4","6","3","5","1","4"],desc:"8-legged 6-note crawl",icon:"",category:M.ADVANCED},{name:"Snowflake",pattern:["1","6","3","4","2","5"],desc:"6-sided crystalline beauty",icon:"",category:M.ADVANCED},{name:"Benzene Ring",pattern:["1","2","4","5","3","6","1","4"],desc:"Chemical 6-carbon structure",icon:"",category:M.ADVANCED},{name:"Clock Face",pattern:["1","3","6","4","2","5"],desc:"12-hour time navigation",icon:"",category:M.ADVANCED},{name:"Mandala Six",pattern:["1","4","2","6","3","5","1","6"],desc:"Sacred 6-fold geometry",icon:"",category:M.ADVANCED},{name:"Puzzle Piece",pattern:["1","5","2","4","6","3"],desc:"Interlocking 6-note solution",icon:"",category:M.ADVANCED},{name:"Rainbow Bridge",pattern:["1","2","3","4","5","6","1+"],desc:"Complete 7-tone spectrum",icon:"",category:M.BASIC},{name:"Lucky Seven",pattern:["1","3","5","6","4","2","1+","3+"],desc:"7-note fortune pattern",icon:"",category:M.ADVANCED},{name:"Chakra Flow",pattern:["1","2","3","4","5","6","1+"],desc:"7-energy center alignment",icon:"",category:M.ADVANCED},{name:"Week Days",pattern:["1","4","2","6","3","5","1+","4+"],desc:"7-day cycle pattern",icon:"",category:M.ADVANCED},{name:"Heptagon",pattern:["1","3","6","2","5","4","1+"],desc:"7-sided geometric form",icon:"",category:M.ADVANCED},{name:"Scale Heaven",pattern:["1","2","3","4","5","6","2+","1+"],desc:"7-note stairway to heaven",icon:"",category:M.ADVANCED},{name:"Prism Split",pattern:["1","6","4","2","5","3","1+"],desc:"Light splitting into 7 colors",icon:"",category:M.ADVANCED},{name:"Musical Bowl",pattern:["1","2","4","6","3","5","1+","4+"],desc:"7-tone singing bowl",icon:"",category:M.ADVANCED},{name:"Fusion Dance",pattern:["1","3","6","4","2","5"],desc:"6-note fusion choreography",icon:"",category:M.ADVANCED},{name:"Crystal Grid",pattern:["1","4","3","6","2","5","1+","4+"],desc:"6-point energy crystal matrix",icon:"",category:M.ADVANCED},{name:"Gear Train",pattern:["1","2","4","3","6","5"],desc:"Mechanical 6-gear system",icon:"",category:M.ADVANCED},{name:"DNA Strand",pattern:["1","5","2","6","3","4","1+","5+"],desc:"Double helix genetic code",icon:"",category:M.ADVANCED},{name:"Meteor Shower",pattern:["1","6","3","5","2","4"],desc:"6-streak cosmic display",icon:"",category:M.ADVANCED},{name:"Magic Circle",pattern:["1","3","2","6","4","5","1+"],desc:"7-point mystical protection",icon:"",category:M.ADVANCED},{name:"Tornado Spin",pattern:["1","4","6","3","2","5","1+","4+"],desc:"Spiraling 7-note vortex",icon:"",category:M.ADVANCED},{name:"Phoenix Wings",pattern:["1","2","5","6","3","4"],desc:"6-feather wing spread",icon:"",category:M.ADVANCED},{name:"Quad Echo",pattern:["1","2","1","3","2","4","3","4"],desc:"4-note echo chamber",icon:"",category:M.RHYTHMIC},{name:"Four Corners",pattern:["1","3","4","2","1","3","4","2"],desc:"Repeating 4-corner square",icon:"",category:M.BASIC},{name:"Heartbeat Quad",pattern:["1","1","2","3","3","4","2","4"],desc:"Pulsing 4-note rhythm",icon:"",category:M.RHYTHMIC},{name:"Compass Spin",pattern:["1","2","4","3","2","1","4","3"],desc:"4-direction circular motion",icon:"",category:M.ADVANCED},{name:"Engine Rev",pattern:["1","4","2","3","4","1","3","2"],desc:"4-cylinder engine pattern",icon:"",category:M.ADVANCED},{name:"Square Wave",pattern:["1","1","3","3","2","2","4","4"],desc:"Digital square wave form",icon:"",category:M.RHYTHMIC},{name:"Four Seasons",pattern:["1","2","3","4","2+","1","4","3"],desc:"Seasonal cycle pattern",icon:"",category:M.ADVANCED},{name:"Card Suit",pattern:["1","3","2","4","3+","1+","2","4"],desc:"Playing card 4-suit pattern",icon:"",category:M.ADVANCED},{name:"Quad Pulse",pattern:["1","2","2","3","3+","4+","4","1"],desc:"Doubled pulse pattern",icon:"",category:M.RHYTHMIC},{name:"Element Mix",pattern:["1","4","3","2","1","2","3","4"],desc:"4-element combination",icon:"",category:M.ADVANCED},{name:"Pentagon Echo",pattern:["1","2","3","4","5","1","3","5"],desc:"5-note with strategic repeats",icon:"",category:M.BASIC},{name:"Five Alive",pattern:["1","3","5","2","4","1","5","3"],desc:"Dynamic 5-note exploration",icon:"",category:M.ADVANCED},{name:"Star Circuit",pattern:["1","2","4","5","3","2","4","1"],desc:"5-pointed star electrical circuit",icon:"",category:M.ADVANCED},{name:"Olympic Flow",pattern:["1","3","2","5","4","3","1","5"],desc:"5-ring Olympic movement",icon:"",category:M.ADVANCED},{name:"Hand Jive",pattern:["1","2","3","4","5","2","4","3"],desc:"5-finger dance pattern",icon:"",category:M.RHYTHMIC},{name:"Jazz Fifth",pattern:["1","3","5","4","2","5","1","3"],desc:"Jazz 5-note improvisation",icon:"",category:M.ADVANCED},{name:"Flower Bloom",pattern:["1","2","4","3","5","4","2","1"],desc:"5-petal opening flower",icon:"",category:M.ADVANCED},{name:"Spiral Five",pattern:["1","5","3","2","4","5","3","1"],desc:"Spiraling 5-note motion",icon:"",category:M.ADVANCED},{name:"Pentagon March",pattern:["1","2","3","4","5","4","3","2"],desc:"Military 5-count march",icon:"",category:M.BASIC},{name:"Five Elements",pattern:["1","4","2","5","3","4","1+","5+"],desc:"Ancient 5-element cycle",icon:"",category:M.ADVANCED},{name:"Quintet Jam",pattern:["1","3","4","2","5","3","4","1"],desc:"5-piece band improvisation",icon:"",category:M.ADVANCED},{name:"Five Fold",pattern:["1","5","2","4","3","2","5","4"],desc:"5-fold symmetrical pattern",icon:"",category:M.ADVANCED},{name:"Hex Repeat",pattern:["1","2","3","4","5","6","1","4"],desc:"6-note with strategic repeats",icon:"",category:M.BASIC},{name:"Rainbow Fade",pattern:["1","6","2","5","3","4","6","1"],desc:"6-color spectrum fade",icon:"",category:M.ADVANCED},{name:"Snowflake Dance",pattern:["1","3","6","4","2","5","3","1"],desc:"6-sided crystal dance",icon:"",category:M.ADVANCED},{name:"Benzene Loop",pattern:["1","2","4","5","3","6","2","4"],desc:"Chemical 6-carbon ring",icon:"",category:M.ADVANCED},{name:"Dice Double",pattern:["1","4","6","2","5","3","4","6"],desc:"6-sided die double roll",icon:"",category:M.ADVANCED},{name:"Hexagon Twist",pattern:["1","3","5","2","4","6","3","5"],desc:"6-sided geometric twist",icon:"",category:M.ADVANCED},{name:"Clock Tick",pattern:["1","2","4","6","3","5","2","6"],desc:"6-hour time progression",icon:"",category:M.RHYTHMIC},{name:"Mandala Six",pattern:["1","4","2","6","3","5","4","2"],desc:"Sacred 6-fold pattern",icon:"",category:M.ADVANCED},{name:"Flower Power",pattern:["1","6","3","2","5","4","6","3"],desc:"6-petal power flower",icon:"",category:M.ADVANCED},{name:"Insect Walk",pattern:["1","2","4","3","6","5","2","4"],desc:"6-legged insect movement",icon:"",category:M.ADVANCED},{name:"Crystal Matrix",pattern:["1","5","3","6","2","4","5","3"],desc:"6-point crystal energy grid",icon:"",category:M.ADVANCED},{name:"Spinner Six",pattern:["1","3","6","2","4","5","3","6"],desc:"6-blade spinner pattern",icon:"",category:M.ADVANCED},{name:"Web Weave",pattern:["1","4","6","3","2","5","4","1"],desc:"6-strand web weaving",icon:"",category:M.ADVANCED},{name:"Honeycomb Flow",pattern:["1","2","5","6","3","4","2","5"],desc:"6-sided honeycomb flow",icon:"",category:M.ADVANCED},{name:"Gear Mesh",pattern:["1","6","4","2","5","3","6","4"],desc:"6-tooth gear meshing",icon:"",category:M.ADVANCED},{name:"Jazz Hexagon",pattern:["1","3+","5","6+","4","2+","3","5+"],desc:"6-note jazz with octave sophistication",icon:"",category:M.ADVANCED},{name:"Empty 4-Step",pattern:["x","x","x","x"],desc:"Let's do this!",icon:"",category:M.CUSTOM}],Yc=t=>new Set(t.filter(o=>o!=="x").map(o=>{const s=parseInt(o.replace("+",""));return isNaN(s)?null:s}).filter(o=>o!==null)).size,L1=(t,r)=>t.length!==r.length?!1:t.every((o,s)=>o===r[s]),B1=({chordNoteCount:t,maxAvailableNotes:r,hideFewerNotePatterns:o,currentPattern:s,onHideFewerNotePatternsChange:a,onApplyPreset:l,className:d=""})=>{const f=Sr(T=>T.addedChords),[p,m]=b.useState("all"),[x,v]=b.useState("all"),y=b.useRef(null),N=b.useRef({}),S=b.useMemo(()=>{const T=[],$=new Set;return em.forEach(R=>{$.add(R.pattern.join("|"))}),f.forEach((R,F)=>{const X=R.pattern.join("|");!$.has(X)&&X.trim()!==""&&($.add(X),Yc(R.pattern),T.push({name:`Custom ${T.length+1}`,pattern:[...R.pattern],desc:`Custom pattern from "${R.name}"`,icon:"",category:M.CUSTOM}))}),T},[f]),j=b.useMemo(()=>[...em,...S],[S]),E=b.useMemo(()=>{const T=new Set(j.map($=>$.pattern.length));return Array.from(T).sort(($,R)=>$-R)},[j]),W=b.useMemo(()=>j.filter(T=>{const $=Yc(T.pattern);return!($>t||o&&$<t||Math.max(...T.pattern.filter(F=>F!=="x").map(F=>{const X=parseInt(F.replace("+",""));return isNaN(X)?0:X}))>r||p!=="all"&&T.pattern.length!==parseInt(p)||x!=="all"&&T.category!==x)}),[j,t,o,r,p,x]),V=b.useMemo(()=>s?W.findIndex(T=>L1(T.pattern,s)):-1,[s,W]);b.useEffect(()=>{if(V>=0&&y.current){const T=y.current,$=N.current[V];if($){const R=T.getBoundingClientRect(),F=$.getBoundingClientRect(),X=F.top-R.top+T.scrollTop,ee=X+F.height,ie=T.clientHeight,k=T.scrollTop,O=k+ie;if(X<k||ee>O){const G=X-ie/2+F.height/2;T.scrollTo({top:Math.max(0,G),behavior:"instant"})}}}},[V,W]);const B=["All Steps",...E.map(T=>`${T} Steps`)],z=["All Categories","Basic","Rhythmic","Advanced","Genre","Custom"];return u.jsxs("div",{className:`space-y-4 ${d}`,children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:"Pattern Presets"}),u.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:o,onChange:T=>a(T.target.checked),className:"w-3 h-3 rounded border-gray-600 bg-[#3d434f] text-blue-600 focus:ring-blue-500 focus:ring-1"}),u.jsx("span",{className:"text-xs text-slate-200",children:"Hide patterns with fewer notes"})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[u.jsx(wn,{value:B[p==="all"?0:B.findIndex(T=>T===`${p} Steps`)],onChange:T=>{if(T==="All Steps")m("all");else{const $=T.replace(" Steps","");m($)}},options:B,className:"flex-1",buttonClassName:"w-full p-2 bg-[#3d434f] border border-gray-600 rounded text-slate-200 text-xs transition-colors hover:bg-[#4a5262]"}),u.jsx(wn,{value:z[x==="all"?0:z.findIndex(T=>T.toLowerCase()===x)],onChange:T=>{v(T==="All Categories"?"all":T.toLowerCase())},options:z,className:"flex-1",buttonClassName:"w-full p-2 bg-[#3d434f] border border-gray-600 rounded text-slate-200 text-xs transition-colors hover:bg-[#4a5262]"})]}),u.jsx("div",{ref:y,className:"grid grid-cols-1 gap-2 max-h-80 overflow-y-auto pr-2 custom-scrollbar",children:W.length>0?W.map((T,$)=>{const R=Yc(T.pattern),F=$===V;return u.jsxs("button",{ref:X=>{N.current[$]=X},onClick:()=>l(T),className:`p-2 rounded text-xs transition-colors text-left border ${F?"bg-blue-600/20 text-slate-100 border-blue-500 ring-1 ring-blue-500/50":"bg-[#3d434f] text-slate-300 hover:bg-[#4a5262] hover:text-slate-200 border-gray-600 hover:border-gray-500"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("span",{className:"font-medium uppercase tracking-wide",children:T.name}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsxs("span",{className:`text-xs ${F?"text-slate-300":"text-slate-500"}`,children:[R,"n  ",T.pattern.length,"s"]}),u.jsx("span",{children:T.icon})]})]}),u.jsx("div",{className:`text-xs opacity-60 ${F?"text-slate-400":"text-slate-500"}`,children:T.pattern.join("-")})]},$)}):u.jsx("div",{className:"p-3 text-xs text-slate-400 text-center",children:"No patterns found matching current filters"})})]})},gs=[{value:.125,symbol:"",name:"32nd notes"},{value:.25,symbol:"",name:"16th notes"},{value:.5,symbol:"",name:"8th notes"},{value:1,symbol:"",name:"Quarter notes"},{value:2,symbol:"",name:"Half notes"}],yu=b.memo(({stepIndex:t,stepValue:r,maxNotes:o,onStepChange:s})=>{const a=b.useMemo(()=>{const m=[""];for(let x=1;x<=o;x++)m.push(String(x)),m.push(`${x}`);return m},[o]),d=(()=>{if(r==="x")return"";const m=parseInt(r.replace("+",""));return!isNaN(m)&&m>o?"":r.replace("+","")})(),f=r!=="x"&&d==="",p=m=>{let x=m;m===""?x="x":m.includes("")&&(x=m.replace("","+")),s(t,x)};return u.jsx("div",{className:"relative",children:u.jsx(wn,{value:d,onChange:p,options:a,className:"w-full",buttonClassName:`w-full h-10 text-xs pl-2.5 ${r==="x"?"bg-[#3d434f] border-gray-700 text-slate-400":f?"bg-[#3d434f] border-gray-700 text-orange-400":"bg-[#3d434f] border-gray-600 text-slate-200 hover:bg-[#4a5262]"} border rounded transition-all duration-200`})})});yu.displayName="StepEditor";const F1=()=>{Nn();const t=Sr(),r=Ao(),{addedChords:o,activeChordIndex:s}=t,{currentlyActivePattern:a,globalPatternState:l}=r,[d,f]=b.useState(!1),[p,m]=b.useState(!0),[x,v]=b.useState("1,2,3,4"),[y,N]=b.useState(!1);b.useCallback(()=>s!==null&&o[s]?o[s].pattern:a,[s,o,a]);const{currentPattern:S,editingContext:j}=b.useMemo(()=>{if(s!==null&&o[s]){const G=o[s];return{currentPattern:G.pattern,editingContext:{type:"chord",title:`Pattern for "${G.name}"`,description:"Editing pattern for this specific chord",chordName:G.name}}}else return{currentPattern:l.currentPattern,editingContext:{type:"current",title:"Global Pattern",description:"Base pattern - becomes active when no chord is selected",chordName:null}}},[s,o,l.currentPattern]),E=b.useMemo(()=>{if(s!==null&&o[s]){const te=o[s].notes.split(",").map(se=>se.trim()).filter(se=>se);return new Set(te.map(se=>se.replace(/\d+$/,""))).size}return 4},[s,o]),W=b.useMemo(()=>{const G=Math.min(4,E);return Math.max(G,E)},[E]);b.useEffect(()=>{S&&v(S.join(","))},[S]);const V=b.useCallback(()=>{const G=!l.isPlaying;r.setGlobalPatternState({isPlaying:G})},[l.isPlaying]);b.useCallback(()=>{r.setGlobalPatternState({isPlaying:!1,currentStep:0})},[]);const B=b.useCallback(G=>{j.type==="current"?r.setGlobalPatternState({currentPattern:G}):j.type==="chord"&&s!==null&&t.updateChordPattern(s,G)},[j.type,s]),z=b.useCallback((G,te)=>{const J=[...S];J[G]=te,B(J)},[S,B]),T=b.useCallback(()=>{if(S.length<16){const G=[...S,"x"];B(G)}},[S,B]),$=b.useCallback(()=>{if(S.length>1){const G=S.slice(0,-1);B(G)}},[S,B]),R=b.useCallback(()=>{try{const G=x.split(",").map(te=>te.trim()).filter(te=>te);G.length>0&&B(G)}catch{console.error("Invalid pattern format")}},[x,B]),F=b.useCallback(G=>{B(G.pattern)},[B]),X=b.useCallback(G=>{r.updatePattern(G)},[]),ee=b.useMemo(()=>l.isPlaying?l.currentStep%S.length:-1,[l.isPlaying,l.currentStep,S.length]),ie=gs.map(G=>`${G.symbol} ${G.name}`),k=gs.find(G=>G.value===l.subdivision),O=k?`${k.symbol} ${k.name}`:`${gs[1].symbol} ${gs[1].name}`;return u.jsx("div",{className:"w-full max-w-7xl mx-auto px-2 mt-6",children:u.jsxs("div",{className:"bg-[#3d434f] border border-gray-600 rounded-lg overflow-hidden",children:[u.jsx("div",{className:"px-4 py-3",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-sm font-bold text-slate-300 uppercase tracking-wider",children:"Sequencer"}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("button",{onClick:()=>f(!d),className:"w-[7em] h-8 flex items-center space-x-2 px-3 py-1.5 text-xs text-slate-300 hover:text-slate-200 bg-[#4a5262] hover:bg-[#525a6b] border border-gray-600 rounded transition-all duration-200",children:d?u.jsxs(u.Fragment,{children:[u.jsx(js,{className:"w-3 h-3"}),u.jsx("span",{children:"Hide"})]}):u.jsxs(u.Fragment,{children:[u.jsx(Kr,{className:"w-3 h-3"}),u.jsx("span",{children:"Show"})]})}),u.jsx(Cn,{onClick:V,variant:"play-stop",size:"sm",active:l.isPlaying,className:"shadow-lg",children:l.isPlaying?u.jsxs(u.Fragment,{children:[u.jsx(As,{className:"w-6 h-6"}),u.jsx("span",{className:"hidden sm:inline",children:"Stop"})]}):u.jsxs(u.Fragment,{children:[u.jsx(Ps,{className:"w-6 h-6"}),u.jsx("span",{className:"hidden sm:inline",children:"Play"})]})})]})]})}),u.jsxs("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${d?" opacity-100":"max-h-0 opacity-0"}`,children:[u.jsxs("div",{className:"border-t border-gray-600 bg-[#444b59]",children:[u.jsxs("div",{className:"px-4 py-3 border-b border-gray-600 bg-[#3d434f]",children:[u.jsxs("div",{className:"flex items-center justify-between sm:hidden",children:[u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("button",{onClick:$,disabled:S.length<=1,className:"flex items-center justify-center w-7 h-7 bg-[#4a5262] hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed text-xs rounded transition-all duration-200 text-slate-200 hover:text-white disabled:hover:bg-[#4a5262] disabled:hover:text-slate-200",title:"Remove step",children:u.jsx(Th,{className:"w-3 h-3"})}),u.jsx("div",{className:"text-xs text-slate-300 font-mono w-8 text-center",children:S.length}),u.jsx("button",{onClick:T,disabled:S.length>=16,className:"flex items-center justify-center w-7 h-7 bg-[#4a5262] hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed text-xs rounded transition-all duration-200 text-slate-200 hover:text-white disabled:hover:bg-[#4a5262] disabled:hover:text-slate-200",title:"Add step",children:u.jsx(Oh,{className:"w-3 h-3"})})]}),u.jsx("div",{children:j.chordName?u.jsx("div",{className:"text-xs font-medium text-purple-300 bg-purple-900/30 px-2 py-1 rounded border border-purple-700/50",children:j.chordName}):u.jsx("div",{className:"text-xs text-cyan-300 bg-cyan-900/30 px-2 py-1 rounded border border-cyan-700/50",children:"Global Pattern"})})]}),u.jsxs("div",{className:"hidden sm:flex sm:items-center sm:justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("span",{className:"text-xs text-slate-400 font-medium",children:"Pattern:"}),u.jsxs("div",{className:"text-xs text-slate-300 font-mono bg-[#4a5262] px-2 py-1 rounded",children:[S.length," steps"]})]}),j.chordName&&u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-xs text-slate-400",children:"for"}),u.jsx("div",{className:"text-xs font-medium text-purple-300 bg-purple-900/30 px-2 py-1 rounded border border-purple-700/50",children:j.chordName})]}),!j.chordName&&u.jsx("div",{className:"text-xs text-cyan-300 bg-cyan-900/30 px-2 py-1 rounded border border-cyan-700/50",children:"Global Pattern"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-xs text-slate-400",children:"Steps:"}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("button",{onClick:$,disabled:S.length<=1,className:"flex items-center justify-center w-7 h-7 bg-[#4a5262] hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed text-xs rounded transition-all duration-200 text-slate-200 hover:text-white disabled:hover:bg-[#4a5262] disabled:hover:text-slate-200",title:"Remove step",children:u.jsx(Th,{className:"w-3 h-3"})}),u.jsx("div",{className:"text-xs text-slate-300 font-mono w-8 text-center",children:S.length}),u.jsx("button",{onClick:T,disabled:S.length>=16,className:"flex items-center justify-center w-7 h-7 bg-[#4a5262] hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed text-xs rounded transition-all duration-200 text-slate-200 hover:text-white disabled:hover:bg-[#4a5262] disabled:hover:text-slate-200",title:"Add step",children:u.jsx(Oh,{className:"w-3 h-3"})})]})]})]})]}),u.jsxs("div",{className:"p-6 px-3 sm:px-4",children:[u.jsx("div",{className:"block md:hidden",children:Array.from({length:Math.ceil(S.length/4)},(G,te)=>{const J=te*4,se=Math.min(J+4,S.length),Q=S.slice(J,se);return u.jsxs("div",{className:"mb-4 last:mb-0",children:[u.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[Q.map((H,_)=>{const D=J+_;return u.jsx(yu,{stepIndex:D,stepValue:H,maxNotes:W,onStepChange:z},`pattern-${j.type}-${s}-${D}`)}),Array.from({length:4-Q.length},(H,_)=>u.jsx("div",{},`empty-${_}`))]}),u.jsxs("div",{className:"grid grid-cols-4 gap-2 mt-2",children:[Q.map((H,_)=>{const D=J+_;return u.jsx("div",{className:"flex justify-center",children:u.jsx("div",{className:`transition-all duration-200 ${ee===D?"w-full h-1 bg-blue-400 rounded-full":"w-full h-1 bg-gray-600 rounded-full"}`})},`indicator-${D}`)}),Array.from({length:4-Q.length},(H,_)=>u.jsx("div",{},`empty-indicator-${_}`))]})]},`mobile-row-${te}`)})}),u.jsx("div",{className:"hidden md:block",children:Array.from({length:Math.ceil(S.length/8)},(G,te)=>{const J=te*8,se=Math.min(J+8,S.length),Q=S.slice(J,se);return u.jsxs("div",{className:"mb-4 last:mb-0",children:[u.jsxs("div",{className:"grid grid-cols-8 gap-2",children:[Q.map((H,_)=>{const D=J+_;return u.jsx(yu,{stepIndex:D,stepValue:H,maxNotes:W,onStepChange:z},`pattern-${j.type}-${s}-${D}`)}),Array.from({length:8-Q.length},(H,_)=>u.jsx("div",{},`empty-${_}`))]}),u.jsxs("div",{className:"grid grid-cols-8 gap-2 mt-2",children:[Q.map((H,_)=>{const D=J+_;return u.jsx("div",{className:"flex justify-center",children:u.jsx("div",{className:`transition-all duration-200 ${ee===D?"w-full h-1 bg-blue-400 rounded-full shadow-lg shadow-blue-400/50":"w-full h-1 bg-gray-600 rounded-full"}`})},`indicator-${D}`)}),Array.from({length:8-Q.length},(H,_)=>u.jsx("div",{},`empty-indicator-${_}`))]})]},`desktop-row-${te}`)})})]})]}),u.jsxs("div",{className:"bg-[#3d434f] border-t border-gray-600",children:[u.jsx("div",{className:"px-4 py-3 border-b border-gray-600",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-sm font-medium text-slate-200 uppercase tracking-wider",children:"Settings"}),u.jsx("button",{onClick:()=>m(!p),className:"w-[7em] h-8 flex items-center space-x-2 px-3 py-1.5 text-xs text-slate-300 hover:text-slate-200 bg-[#4a5262] hover:bg-[#525a6b] border border-gray-600 rounded transition-all duration-200",children:p?u.jsxs(u.Fragment,{children:[u.jsx(js,{className:"w-3 h-3"}),u.jsx("span",{children:"Hide"})]}):u.jsxs(u.Fragment,{children:[u.jsx(Kr,{className:"w-3 h-3"}),u.jsx("span",{children:"Show"})]})})]})}),u.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${p?" opacity-100":"max-h-0 opacity-0"}`,children:u.jsx("div",{className:"p-6 bg-[#444b59]",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-x-8 gap-y-6",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{children:u.jsx("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:"Timing"})}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["BPM",u.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",l.bpm,")"]})]}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"range",min:"60",max:"200",value:l.bpm,onChange:G=>X({bpm:parseInt(G.target.value)}),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})}),u.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-1",children:[u.jsx("span",{children:"60"}),u.jsx("span",{children:"200"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:"Subdivision"}),u.jsx(wn,{value:O,onChange:G=>{const te=gs.find(J=>`${J.symbol} ${J.name}`===G);te&&X({subdivision:te.value})},options:ie,className:"w-full",buttonClassName:"w-full p-3 bg-[#3d434f] border border-gray-600 rounded text-slate-200 text-xs focus:border-blue-500 transition-colors hover:bg-[#4a5262]"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Swing",u.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",l.swing,"%)"]})]}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"range",min:"0",max:"50",value:l.swing,onChange:G=>X({swing:parseInt(G.target.value)}),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})}),u.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-1",children:[u.jsx("span",{children:"0%"}),u.jsx("span",{children:"50%"})]})]})]}),u.jsx(B1,{chordNoteCount:E,maxAvailableNotes:W,hideFewerNotePatterns:y,onHideFewerNotePatternsChange:N,onApplyPreset:F,currentPattern:a}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("label",{className:"block text-xs font-medium text-slate-200 uppercase tracking-wide",children:"Custom"}),u.jsx(_1,{})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("input",{type:"text",value:x,onChange:G=>v(G.target.value),onKeyPress:G=>G.key==="Enter"&&R(),placeholder:"1,x,3,2+",className:"w-full p-2 bg-[#3d434f] border border-gray-600 rounded text-slate-200 text-xs focus:border-blue-500 transition-colors placeholder-slate-500"}),u.jsx("button",{onClick:R,className:"w-full px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded text-xs font-medium transition-colors uppercase tracking-wide",children:"Apply Pattern"})]})]})]})})})]})]})]})})};function Mt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var $1=typeof Symbol=="function"&&Symbol.observable||"@@observable",tm=$1,nm=()=>Math.random().toString(36).substring(7).split("").join("."),z1={INIT:`@@redux/INIT${nm()}`,REPLACE:`@@redux/REPLACE${nm()}`},rm=z1;function V1(t){if(typeof t!="object"||t===null)return!1;let r=t;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(t)===r||Object.getPrototypeOf(t)===null}function hg(t,r,o){if(typeof t!="function")throw new Error(Mt(2));if(typeof r=="function"&&typeof o=="function"||typeof o=="function"&&typeof arguments[3]=="function")throw new Error(Mt(0));if(typeof r=="function"&&typeof o>"u"&&(o=r,r=void 0),typeof o<"u"){if(typeof o!="function")throw new Error(Mt(1));return o(hg)(t,r)}let s=t,a=r,l=new Map,d=l,f=0,p=!1;function m(){d===l&&(d=new Map,l.forEach((E,W)=>{d.set(W,E)}))}function x(){if(p)throw new Error(Mt(3));return a}function v(E){if(typeof E!="function")throw new Error(Mt(4));if(p)throw new Error(Mt(5));let W=!0;m();const V=f++;return d.set(V,E),function(){if(W){if(p)throw new Error(Mt(6));W=!1,m(),d.delete(V),l=null}}}function y(E){if(!V1(E))throw new Error(Mt(7));if(typeof E.type>"u")throw new Error(Mt(8));if(typeof E.type!="string")throw new Error(Mt(17));if(p)throw new Error(Mt(9));try{p=!0,a=s(a,E)}finally{p=!1}return(l=d).forEach(V=>{V()}),E}function N(E){if(typeof E!="function")throw new Error(Mt(10));s=E,y({type:rm.REPLACE})}function S(){const E=v;return{subscribe(W){if(typeof W!="object"||W===null)throw new Error(Mt(11));function V(){const z=W;z.next&&z.next(x())}return V(),{unsubscribe:E(V)}},[tm](){return this}}}return y({type:rm.INIT}),{dispatch:y,subscribe:v,getState:x,replaceReducer:N,[tm]:S}}function om(t,r){return function(...o){return r(t.apply(this,o))}}function sm(t,r){if(typeof t=="function")return om(t,r);if(typeof t!="object"||t===null)throw new Error(Mt(16));const o={};for(const s in t){const a=t[s];typeof a=="function"&&(o[s]=om(a,r))}return o}function mg(...t){return t.length===0?r=>r:t.length===1?t[0]:t.reduce((r,o)=>(...s)=>r(o(...s)))}function G1(...t){return r=>(o,s)=>{const a=r(o,s);let l=()=>{throw new Error(Mt(15))};const d={getState:a.getState,dispatch:(p,...m)=>l(p,...m)},f=t.map(p=>p(d));return l=mg(...f)(a.dispatch),{...a,dispatch:l}}}var Qc={exports:{}},Xc={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var im;function H1(){if(im)return Xc;im=1;var t=Ea();function r(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var o=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,a=t.useRef,l=t.useEffect,d=t.useMemo,f=t.useDebugValue;return Xc.useSyncExternalStoreWithSelector=function(p,m,x,v,y){var N=a(null);if(N.current===null){var S={hasValue:!1,value:null};N.current=S}else S=N.current;N=d(function(){function E(T){if(!W){if(W=!0,V=T,T=v(T),y!==void 0&&S.hasValue){var $=S.value;if(y($,T))return B=$}return B=T}if($=B,o(V,T))return $;var R=v(T);return y!==void 0&&y($,R)?(V=T,$):(V=T,B=R)}var W=!1,V,B,z=x===void 0?null:x;return[function(){return E(m())},z===null?void 0:function(){return E(z())}]},[m,x,v,y]);var j=s(p,N[0],N[1]);return l(function(){S.hasValue=!0,S.value=j},[j]),f(j),j},Xc}var am;function U1(){return am||(am=1,Qc.exports=H1()),Qc.exports}U1();var W1=b.version.startsWith("19"),q1=Symbol.for(W1?"react.transitional.element":"react.element"),K1=Symbol.for("react.portal"),Y1=Symbol.for("react.fragment"),Q1=Symbol.for("react.strict_mode"),X1=Symbol.for("react.profiler"),Z1=Symbol.for("react.consumer"),J1=Symbol.for("react.context"),gg=Symbol.for("react.forward_ref"),ew=Symbol.for("react.suspense"),tw=Symbol.for("react.suspense_list"),qu=Symbol.for("react.memo"),nw=Symbol.for("react.lazy"),rw=gg,ow=qu;function sw(t){if(typeof t=="object"&&t!==null){const{$$typeof:r}=t;switch(r){case q1:switch(t=t.type,t){case Y1:case X1:case Q1:case ew:case tw:return t;default:switch(t=t&&t.$$typeof,t){case J1:case gg:case nw:case qu:return t;case Z1:return t;default:return r}}case K1:return r}}}function iw(t){return sw(t)===qu}function aw(t,r,o,s,{areStatesEqual:a,areOwnPropsEqual:l,areStatePropsEqual:d}){let f=!1,p,m,x,v,y;function N(V,B){return p=V,m=B,x=t(p,m),v=r(s,m),y=o(x,v,m),f=!0,y}function S(){return x=t(p,m),r.dependsOnOwnProps&&(v=r(s,m)),y=o(x,v,m),y}function j(){return t.dependsOnOwnProps&&(x=t(p,m)),r.dependsOnOwnProps&&(v=r(s,m)),y=o(x,v,m),y}function E(){const V=t(p,m),B=!d(V,x);return x=V,B&&(y=o(x,v,m)),y}function W(V,B){const z=!l(B,m),T=!a(V,p,B,m);return p=V,m=B,z&&T?S():z?j():T?E():y}return function(B,z){return f?W(B,z):N(B,z)}}function lw(t,{initMapStateToProps:r,initMapDispatchToProps:o,initMergeProps:s,...a}){const l=r(t,a),d=o(t,a),f=s(t,a);return aw(l,d,f,t,a)}function cw(t,r){const o={};for(const s in t){const a=t[s];typeof a=="function"&&(o[s]=(...l)=>r(a(...l)))}return o}function bu(t){return function(o){const s=t(o);function a(){return s}return a.dependsOnOwnProps=!1,a}}function lm(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function vg(t,r){return function(s,{displayName:a}){const l=function(f,p){return l.dependsOnOwnProps?l.mapToProps(f,p):l.mapToProps(f,void 0)};return l.dependsOnOwnProps=!0,l.mapToProps=function(f,p){l.mapToProps=t,l.dependsOnOwnProps=lm(t);let m=l(f,p);return typeof m=="function"&&(l.mapToProps=m,l.dependsOnOwnProps=lm(m),m=l(f,p)),m},l}}function Ku(t,r){return(o,s)=>{throw new Error(`Invalid value of type ${typeof t} for ${r} argument when connecting component ${s.wrappedComponentName}.`)}}function uw(t){return t&&typeof t=="object"?bu(r=>cw(t,r)):t?typeof t=="function"?vg(t):Ku(t,"mapDispatchToProps"):bu(r=>({dispatch:r}))}function dw(t){return t?typeof t=="function"?vg(t):Ku(t,"mapStateToProps"):bu(()=>({}))}function fw(t,r,o){return{...o,...t,...r}}function pw(t){return function(o,{displayName:s,areMergedPropsEqual:a}){let l=!1,d;return function(p,m,x){const v=t(p,m,x);return l?a(v,d)||(d=v):(l=!0,d=v),d}}}function hw(t){return t?typeof t=="function"?pw(t):Ku(t,"mergeProps"):()=>fw}function mw(t){t()}function gw(){let t=null,r=null;return{clear(){t=null,r=null},notify(){mw(()=>{let o=t;for(;o;)o.callback(),o=o.next})},get(){const o=[];let s=t;for(;s;)o.push(s),s=s.next;return o},subscribe(o){let s=!0;const a=r={callback:o,next:null,prev:r};return a.prev?a.prev.next=a:t=a,function(){!s||t===null||(s=!1,a.next?a.next.prev=a.prev:r=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var cm={notify(){},get:()=>[]};function xg(t,r){let o,s=cm,a=0,l=!1;function d(j){x();const E=s.subscribe(j);let W=!1;return()=>{W||(W=!0,E(),v())}}function f(){s.notify()}function p(){S.onStateChange&&S.onStateChange()}function m(){return l}function x(){a++,o||(o=r?r.addNestedSub(p):t.subscribe(p),s=gw())}function v(){a--,o&&a===0&&(o(),o=void 0,s.clear(),s=cm)}function y(){l||(l=!0,x())}function N(){l&&(l=!1,v())}const S={addNestedSub:d,notifyNestedSubs:f,handleChangeWrapper:p,isSubscribed:m,trySubscribe:y,tryUnsubscribe:N,getListeners:()=>s};return S}var vw=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xw=vw(),yw=()=>typeof navigator<"u"&&navigator.product==="ReactNative",bw=yw(),ww=()=>xw||bw?b.useLayoutEffect:b.useEffect,fa=ww();function um(t,r){return t===r?t!==0||r!==0||1/t===1/r:t!==t&&r!==r}function Zc(t,r){if(um(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;const o=Object.keys(t),s=Object.keys(r);if(o.length!==s.length)return!1;for(let a=0;a<o.length;a++)if(!Object.prototype.hasOwnProperty.call(r,o[a])||!um(t[o[a]],r[o[a]]))return!1;return!0}var Nw={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Cw={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Sw={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},yg={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ew={[rw]:Sw,[ow]:yg};function dm(t){return iw(t)?yg:Ew[t.$$typeof]||Nw}var Dw=Object.defineProperty,jw=Object.getOwnPropertyNames,fm=Object.getOwnPropertySymbols,Aw=Object.getOwnPropertyDescriptor,Pw=Object.getPrototypeOf,pm=Object.prototype;function wu(t,r){if(typeof r!="string"){if(pm){const l=Pw(r);l&&l!==pm&&wu(t,l)}let o=jw(r);fm&&(o=o.concat(fm(r)));const s=dm(t),a=dm(r);for(let l=0;l<o.length;++l){const d=o[l];if(!Cw[d]&&!(a&&a[d])&&!(s&&s[d])){const f=Aw(r,d);try{Dw(t,d,f)}catch{}}}}return t}var Rw=Symbol.for("react-redux-context"),kw=typeof globalThis<"u"?globalThis:{};function Iw(){if(!b.createContext)return{};const t=kw[Rw]??=new Map;let r=t.get(b.createContext);return r||(r=b.createContext(null),t.set(b.createContext,r)),r}var bg=Iw(),Mw=[null,null];function Tw(t,r,o){fa(()=>t(...r),o)}function Ow(t,r,o,s,a,l){t.current=s,o.current=!1,a.current&&(a.current=null,l())}function _w(t,r,o,s,a,l,d,f,p,m,x){if(!t)return()=>{};let v=!1,y=null;const N=()=>{if(v||!f.current)return;const j=r.getState();let E,W;try{E=s(j,a.current)}catch(V){W=V,y=V}W||(y=null),E===l.current?d.current||m():(l.current=E,p.current=E,d.current=!0,x())};return o.onStateChange=N,o.trySubscribe(),N(),()=>{if(v=!0,o.tryUnsubscribe(),o.onStateChange=null,y)throw y}}function Lw(t,r){return t===r}function Bw(t,r,o,{pure:s,areStatesEqual:a=Lw,areOwnPropsEqual:l=Zc,areStatePropsEqual:d=Zc,areMergedPropsEqual:f=Zc,forwardRef:p=!1,context:m=bg}={}){const x=m,v=dw(t),y=uw(r),N=hw(o),S=!!t;return E=>{const W=E.displayName||E.name||"Component",V=`Connect(${W})`,B={shouldHandleStateChanges:S,displayName:V,wrappedComponentName:W,WrappedComponent:E,initMapStateToProps:v,initMapDispatchToProps:y,initMergeProps:N,areStatesEqual:a,areStatePropsEqual:d,areOwnPropsEqual:l,areMergedPropsEqual:f};function z(R){const[F,X,ee]=b.useMemo(()=>{const{reactReduxForwardedRef:ge,...Te}=R;return[R.context,ge,Te]},[R]),ie=b.useMemo(()=>{let ge=x;return F?.Consumer,ge},[F,x]),k=b.useContext(ie),O=!!R.store&&!!R.store.getState&&!!R.store.dispatch,G=!!k&&!!k.store,te=O?R.store:k.store,J=G?k.getServerState:te.getState,se=b.useMemo(()=>lw(te.dispatch,B),[te]),[Q,H]=b.useMemo(()=>{if(!S)return Mw;const ge=xg(te,O?void 0:k.subscription),Te=ge.notifyNestedSubs.bind(ge);return[ge,Te]},[te,O,k]),_=b.useMemo(()=>O?k:{...k,subscription:Q},[O,k,Q]),D=b.useRef(void 0),C=b.useRef(ee),K=b.useRef(void 0),re=b.useRef(!1),pe=b.useRef(!1),me=b.useRef(void 0);fa(()=>(pe.current=!0,()=>{pe.current=!1}),[]);const Ee=b.useMemo(()=>()=>K.current&&ee===C.current?K.current:se(te.getState(),ee),[te,ee]),le=b.useMemo(()=>Te=>Q?_w(S,te,Q,se,C,D,re,pe,K,H,Te):()=>{},[Q]);Tw(Ow,[C,D,re,ee,K,H]);let de;try{de=b.useSyncExternalStore(le,Ee,J?()=>se(J(),ee):Ee)}catch(ge){throw me.current&&(ge.message+=`
The error may be correlated with this previous error:
${me.current.stack}

`),ge}fa(()=>{me.current=void 0,K.current=void 0,D.current=de});const ue=b.useMemo(()=>b.createElement(E,{...de,ref:X}),[X,E,de]);return b.useMemo(()=>S?b.createElement(ie.Provider,{value:_},ue):ue,[ie,ue,_])}const $=b.memo(z);if($.WrappedComponent=E,$.displayName=z.displayName=V,p){const F=b.forwardRef(function(ee,ie){return b.createElement($,{...ee,reactReduxForwardedRef:ie})});return F.displayName=V,F.WrappedComponent=E,wu(F,E)}return wu($,E)}}var wg=Bw;function Fw(t){const{children:r,context:o,serverState:s,store:a}=t,l=b.useMemo(()=>{const p=xg(a);return{store:a,subscription:p,getServerState:s?()=>s:void 0}},[a,s]),d=b.useMemo(()=>a.getState(),[a]);fa(()=>{const{subscription:p}=l;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),d!==a.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[l,d]);const f=o||bg;return b.createElement(f.Provider,{value:l},r)}var $w=Fw,zw="Invariant failed";function Vw(t,r){throw new Error(zw)}var Sn=function(r){var o=r.top,s=r.right,a=r.bottom,l=r.left,d=s-l,f=a-o,p={top:o,right:s,bottom:a,left:l,width:d,height:f,x:l,y:o,center:{x:(s+l)/2,y:(a+o)/2}};return p},Yu=function(r,o){return{top:r.top-o.top,left:r.left-o.left,bottom:r.bottom+o.bottom,right:r.right+o.right}},hm=function(r,o){return{top:r.top+o.top,left:r.left+o.left,bottom:r.bottom-o.bottom,right:r.right-o.right}},Gw=function(r,o){return{top:r.top+o.y,left:r.left+o.x,bottom:r.bottom+o.y,right:r.right+o.x}},Jc={top:0,right:0,bottom:0,left:0},Qu=function(r){var o=r.borderBox,s=r.margin,a=s===void 0?Jc:s,l=r.border,d=l===void 0?Jc:l,f=r.padding,p=f===void 0?Jc:f,m=Sn(Yu(o,a)),x=Sn(hm(o,d)),v=Sn(hm(x,p));return{marginBox:m,borderBox:Sn(o),paddingBox:x,contentBox:v,margin:a,border:d,padding:p}},cn=function(r){var o=r.slice(0,-2),s=r.slice(-2);if(s!=="px")return 0;var a=Number(o);return isNaN(a)&&Vw(),a},Hw=function(){return{x:window.pageXOffset,y:window.pageYOffset}},pa=function(r,o){var s=r.borderBox,a=r.border,l=r.margin,d=r.padding,f=Gw(s,o);return Qu({borderBox:f,border:a,margin:l,padding:d})},ha=function(r,o){return o===void 0&&(o=Hw()),pa(r,o)},Ng=function(r,o){var s={top:cn(o.marginTop),right:cn(o.marginRight),bottom:cn(o.marginBottom),left:cn(o.marginLeft)},a={top:cn(o.paddingTop),right:cn(o.paddingRight),bottom:cn(o.paddingBottom),left:cn(o.paddingLeft)},l={top:cn(o.borderTopWidth),right:cn(o.borderRightWidth),bottom:cn(o.borderBottomWidth),left:cn(o.borderLeftWidth)};return Qu({borderBox:r,margin:s,padding:a,border:l})},Cg=function(r){var o=r.getBoundingClientRect(),s=window.getComputedStyle(r);return Ng(o,s)},Rs=function(r){var o=[],s=null,a=function(){for(var d=arguments.length,f=new Array(d),p=0;p<d;p++)f[p]=arguments[p];o=f,!s&&(s=requestAnimationFrame(function(){s=null,r.apply(void 0,o)}))};return a.cancel=function(){s&&(cancelAnimationFrame(s),s=null)},a};function ma(){return ma=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var s in o)({}).hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},ma.apply(null,arguments)}function Sg(t,r){}Sg.bind(null,"warn");Sg.bind(null,"error");function Nr(){}function Uw(t,r){return{...t,...r}}function fn(t,r,o){const s=r.map(a=>{const l=Uw(o,a.options);return t.addEventListener(a.eventName,a.fn,l),function(){t.removeEventListener(a.eventName,a.fn,l)}});return function(){s.forEach(l=>{l()})}}const Ww="Invariant failed";class ga extends Error{}ga.prototype.toString=function(){return this.message};function fe(t,r){throw new ga(Ww)}class qw extends we.Component{constructor(...r){super(...r),this.callbacks=null,this.unbind=Nr,this.onWindowError=o=>{const s=this.getCallbacks();s.isDragging()&&s.tryAbort(),o.error instanceof ga&&o.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=o=>{this.callbacks=o}}componentDidMount(){this.unbind=fn(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(r){if(r instanceof ga){this.setState({});return}throw r}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const Kw=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,va=t=>t+1,Yw=t=>`
  You have lifted an item in position ${va(t.source.index)}
`,Eg=(t,r)=>{const o=t.droppableId===r.droppableId,s=va(t.index),a=va(r.index);return o?`
      You have moved the item from position ${s}
      to position ${a}
    `:`
    You have moved the item from position ${s}
    in list ${t.droppableId}
    to list ${r.droppableId}
    in position ${a}
  `},Dg=(t,r,o)=>r.droppableId===o.droppableId?`
      The item ${t}
      has been combined with ${o.draggableId}`:`
      The item ${t}
      in list ${r.droppableId}
      has been combined with ${o.draggableId}
      in list ${o.droppableId}
    `,Qw=t=>{const r=t.destination;if(r)return Eg(t.source,r);const o=t.combine;return o?Dg(t.draggableId,t.source,o):"You are over an area that cannot be dropped on"},mm=t=>`
  The item has returned to its starting position
  of ${va(t.index)}
`,Xw=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${mm(t.source)}
    `;const r=t.destination,o=t.combine;return r?`
      You have dropped the item.
      ${Eg(t.source,r)}
    `:o?`
      You have dropped the item.
      ${Dg(t.draggableId,t.source,o)}
    `:`
    The item has been dropped while not over a drop area.
    ${mm(t.source)}
  `},aa={dragHandleUsageInstructions:Kw,onDragStart:Yw,onDragUpdate:Qw,onDragEnd:Xw};function Zw(t,r){return!!(t===r||Number.isNaN(t)&&Number.isNaN(r))}function jg(t,r){if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(!Zw(t[o],r[o]))return!1;return!0}function Me(t,r){const o=b.useState(()=>({inputs:r,result:t()}))[0],s=b.useRef(!0),a=b.useRef(o),d=s.current||!!(r&&a.current.inputs&&jg(r,a.current.inputs))?a.current:{inputs:r,result:t()};return b.useEffect(()=>{s.current=!1,a.current=d},[d]),d.result}function Ce(t,r){return Me(()=>t,r)}const mt={x:0,y:0},yt=(t,r)=>({x:t.x+r.x,y:t.y+r.y}),Xt=(t,r)=>({x:t.x-r.x,y:t.y-r.y}),Cr=(t,r)=>t.x===r.x&&t.y===r.y,Po=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),Yr=(t,r,o=0)=>t==="x"?{x:r,y:o}:{x:o,y:r},ks=(t,r)=>Math.sqrt((r.x-t.x)**2+(r.y-t.y)**2),gm=(t,r)=>Math.min(...r.map(o=>ks(t,o))),Ag=t=>r=>({x:t(r.x),y:t(r.y)});var Jw=(t,r)=>{const o=Sn({top:Math.max(r.top,t.top),right:Math.min(r.right,t.right),bottom:Math.min(r.bottom,t.bottom),left:Math.max(r.left,t.left)});return o.width<=0||o.height<=0?null:o};const Gs=(t,r)=>({top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}),vm=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],eN={top:0,right:0,bottom:0,left:0},tN=(t,r)=>r?Gs(t,r.scroll.diff.displacement):t,nN=(t,r,o)=>o&&o.increasedBy?{...t,[r.end]:t[r.end]+o.increasedBy[r.line]}:t,rN=(t,r)=>r&&r.shouldClipSubject?Jw(r.pageMarginBox,t):Sn(t);var Eo=({page:t,withPlaceholder:r,axis:o,frame:s})=>{const a=tN(t.marginBox,s),l=nN(a,o,r),d=rN(l,s);return{page:t,withPlaceholder:r,active:d}},Xu=(t,r)=>{t.frame||fe();const o=t.frame,s=Xt(r,o.scroll.initial),a=Po(s),l={...o,scroll:{initial:o.scroll.initial,current:r,diff:{value:s,displacement:a},max:o.scroll.max}},d=Eo({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:l});return{...t,frame:l,subject:d}};function ht(t,r=jg){let o=null;function s(...a){if(o&&o.lastThis===this&&r(a,o.lastArgs))return o.lastResult;const l=t.apply(this,a);return o={lastResult:l,lastArgs:a,lastThis:this},l}return s.clear=function(){o=null},s}const Pg=ht(t=>t.reduce((r,o)=>(r[o.descriptor.id]=o,r),{})),Rg=ht(t=>t.reduce((r,o)=>(r[o.descriptor.id]=o,r),{})),Ra=ht(t=>Object.values(t)),oN=ht(t=>Object.values(t));var Ro=ht((t,r)=>oN(r).filter(s=>t===s.descriptor.droppableId).sort((s,a)=>s.descriptor.index-a.descriptor.index));function Zu(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function ka(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var Ia=ht((t,r)=>r.filter(o=>o.descriptor.id!==t.descriptor.id)),sN=({isMovingForward:t,draggable:r,destination:o,insideDestination:s,previousImpact:a})=>{if(!o.isCombineEnabled||!Zu(a))return null;function d(N){const S={type:"COMBINE",combine:{draggableId:N,droppableId:o.descriptor.id}};return{...a,at:S}}const f=a.displaced.all,p=f.length?f[0]:null;if(t)return p?d(p):null;const m=Ia(r,s);if(!p){if(!m.length)return null;const N=m[m.length-1];return d(N.descriptor.id)}const x=m.findIndex(N=>N.descriptor.id===p);x===-1&&fe();const v=x-1;if(v<0)return null;const y=m[v];return d(y.descriptor.id)},ko=(t,r)=>t.descriptor.droppableId===r.descriptor.id;const kg={point:mt,value:0},Is={invisible:{},visible:{},all:[]},iN={displaced:Is,displacedBy:kg,at:null};var pn=(t,r)=>o=>t<=o&&o<=r,Ig=t=>{const r=pn(t.top,t.bottom),o=pn(t.left,t.right);return s=>{if(r(s.top)&&r(s.bottom)&&o(s.left)&&o(s.right))return!0;const l=r(s.top)||r(s.bottom),d=o(s.left)||o(s.right);if(l&&d)return!0;const p=s.top<t.top&&s.bottom>t.bottom,m=s.left<t.left&&s.right>t.right;return p&&m?!0:p&&d||m&&l}},aN=t=>{const r=pn(t.top,t.bottom),o=pn(t.left,t.right);return s=>r(s.top)&&r(s.bottom)&&o(s.left)&&o(s.right)};const Ju={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Mg={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var lN=t=>r=>{const o=pn(r.top,r.bottom),s=pn(r.left,r.right);return a=>t===Ju?o(a.top)&&o(a.bottom):s(a.left)&&s(a.right)};const cN=(t,r)=>{const o=r.frame?r.frame.scroll.diff.displacement:mt;return Gs(t,o)},uN=(t,r,o)=>r.subject.active?o(r.subject.active)(t):!1,dN=(t,r,o)=>o(r)(t),ed=({target:t,destination:r,viewport:o,withDroppableDisplacement:s,isVisibleThroughFrameFn:a})=>{const l=s?cN(t,r):t;return uN(l,r,a)&&dN(l,o,a)},fN=t=>ed({...t,isVisibleThroughFrameFn:Ig}),Tg=t=>ed({...t,isVisibleThroughFrameFn:aN}),pN=t=>ed({...t,isVisibleThroughFrameFn:lN(t.destination.axis)}),hN=(t,r,o)=>{if(typeof o=="boolean")return o;if(!r)return!0;const{invisible:s,visible:a}=r;if(s[t])return!1;const l=a[t];return l?l.shouldAnimate:!0};function mN(t,r){const o=t.page.marginBox,s={top:r.point.y,right:0,bottom:0,left:r.point.x};return Sn(Yu(o,s))}function Ms({afterDragging:t,destination:r,displacedBy:o,viewport:s,forceShouldAnimate:a,last:l}){return t.reduce(function(f,p){const m=mN(p,o),x=p.descriptor.id;if(f.all.push(x),!fN({target:m,destination:r,viewport:s,withDroppableDisplacement:!0}))return f.invisible[p.descriptor.id]=!0,f;const y=hN(x,l,a),N={draggableId:x,shouldAnimate:y};return f.visible[x]=N,f},{all:[],visible:{},invisible:{}})}function gN(t,r){if(!t.length)return 0;const o=t[t.length-1].descriptor.index;return r.inHomeList?o:o+1}function xm({insideDestination:t,inHomeList:r,displacedBy:o,destination:s}){const a=gN(t,{inHomeList:r});return{displaced:Is,displacedBy:o,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:a}}}}function xa({draggable:t,insideDestination:r,destination:o,viewport:s,displacedBy:a,last:l,index:d,forceShouldAnimate:f}){const p=ko(t,o);if(d==null)return xm({insideDestination:r,inHomeList:p,displacedBy:a,destination:o});const m=r.find(S=>S.descriptor.index===d);if(!m)return xm({insideDestination:r,inHomeList:p,displacedBy:a,destination:o});const x=Ia(t,r),v=r.indexOf(m),y=x.slice(v);return{displaced:Ms({afterDragging:y,destination:o,displacedBy:a,last:l,viewport:s.frame,forceShouldAnimate:f}),displacedBy:a,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:d}}}}function Er(t,r){return!!r.effected[t]}var vN=({isMovingForward:t,destination:r,draggables:o,combine:s,afterCritical:a})=>{if(!r.isCombineEnabled)return null;const l=s.draggableId,f=o[l].descriptor.index;return Er(l,a)?t?f:f-1:t?f+1:f},xN=({isMovingForward:t,isInHomeList:r,insideDestination:o,location:s})=>{if(!o.length)return null;const a=s.index,l=t?a+1:a-1,d=o[0].descriptor.index,f=o[o.length-1].descriptor.index,p=r?f:f+1;return l<d||l>p?null:l},yN=({isMovingForward:t,isInHomeList:r,draggable:o,draggables:s,destination:a,insideDestination:l,previousImpact:d,viewport:f,afterCritical:p})=>{const m=d.at;if(m||fe(),m.type==="REORDER"){const v=xN({isMovingForward:t,isInHomeList:r,location:m.destination,insideDestination:l});return v==null?null:xa({draggable:o,insideDestination:l,destination:a,viewport:f,last:d.displaced,displacedBy:d.displacedBy,index:v})}const x=vN({isMovingForward:t,destination:a,displaced:d.displaced,draggables:s,combine:m.combine,afterCritical:p});return x==null?null:xa({draggable:o,insideDestination:l,destination:a,viewport:f,last:d.displaced,displacedBy:d.displacedBy,index:x})},bN=({displaced:t,afterCritical:r,combineWith:o,displacedBy:s})=>{const a=!!(t.visible[o]||t.invisible[o]);return Er(o,r)?a?mt:Po(s.point):a?s.point:mt},wN=({afterCritical:t,impact:r,draggables:o})=>{const s=ka(r);s||fe();const a=s.draggableId,l=o[a].page.borderBox.center,d=bN({displaced:r.displaced,afterCritical:t,combineWith:a,displacedBy:r.displacedBy});return yt(l,d)};const Og=(t,r)=>r.margin[t.start]+r.borderBox[t.size]/2,NN=(t,r)=>r.margin[t.end]+r.borderBox[t.size]/2,td=(t,r,o)=>r[t.crossAxisStart]+o.margin[t.crossAxisStart]+o.borderBox[t.crossAxisSize]/2,ym=({axis:t,moveRelativeTo:r,isMoving:o})=>Yr(t.line,r.marginBox[t.end]+Og(t,o),td(t,r.marginBox,o)),bm=({axis:t,moveRelativeTo:r,isMoving:o})=>Yr(t.line,r.marginBox[t.start]-NN(t,o),td(t,r.marginBox,o)),CN=({axis:t,moveInto:r,isMoving:o})=>Yr(t.line,r.contentBox[t.start]+Og(t,o),td(t,r.contentBox,o));var SN=({impact:t,draggable:r,draggables:o,droppable:s,afterCritical:a})=>{const l=Ro(s.descriptor.id,o),d=r.page,f=s.axis;if(!l.length)return CN({axis:f,moveInto:s.page,isMoving:d});const{displaced:p,displacedBy:m}=t,x=p.all[0];if(x){const y=o[x];if(Er(x,a))return bm({axis:f,moveRelativeTo:y.page,isMoving:d});const N=pa(y.page,m.point);return bm({axis:f,moveRelativeTo:N,isMoving:d})}const v=l[l.length-1];if(v.descriptor.id===r.descriptor.id)return d.borderBox.center;if(Er(v.descriptor.id,a)){const y=pa(v.page,Po(a.displacedBy.point));return ym({axis:f,moveRelativeTo:y,isMoving:d})}return ym({axis:f,moveRelativeTo:v.page,isMoving:d})},Nu=(t,r)=>{const o=t.frame;return o?yt(r,o.scroll.diff.displacement):r};const EN=({impact:t,draggable:r,droppable:o,draggables:s,afterCritical:a})=>{const l=r.page.borderBox.center,d=t.at;return!o||!d?l:d.type==="REORDER"?SN({impact:t,draggable:r,draggables:s,droppable:o,afterCritical:a}):wN({impact:t,draggables:s,afterCritical:a})};var Ma=t=>{const r=EN(t),o=t.droppable;return o?Nu(o,r):r},_g=(t,r)=>{const o=Xt(r,t.scroll.initial),s=Po(o);return{frame:Sn({top:r.y,bottom:r.y+t.frame.height,left:r.x,right:r.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:r,diff:{value:o,displacement:s}}}};function wm(t,r){return t.map(o=>r[o])}function DN(t,r){for(let o=0;o<r.length;o++){const s=r[o].visible[t];if(s)return s}return null}var jN=({impact:t,viewport:r,destination:o,draggables:s,maxScrollChange:a})=>{const l=_g(r,yt(r.scroll.current,a)),d=o.frame?Xu(o,yt(o.frame.scroll.current,a)):o,f=t.displaced,p=Ms({afterDragging:wm(f.all,s),destination:o,displacedBy:t.displacedBy,viewport:l.frame,last:f,forceShouldAnimate:!1}),m=Ms({afterDragging:wm(f.all,s),destination:d,displacedBy:t.displacedBy,viewport:r.frame,last:f,forceShouldAnimate:!1}),x={},v={},y=[f,p,m];return f.all.forEach(S=>{const j=DN(S,y);if(j){v[S]=j;return}x[S]=!0}),{...t,displaced:{all:f.all,invisible:x,visible:v}}},AN=(t,r)=>yt(t.scroll.diff.displacement,r),nd=({pageBorderBoxCenter:t,draggable:r,viewport:o})=>{const s=AN(o,t),a=Xt(s,r.page.borderBox.center);return yt(r.client.borderBox.center,a)},Lg=({draggable:t,destination:r,newPageBorderBoxCenter:o,viewport:s,withDroppableDisplacement:a,onlyOnMainAxis:l=!1})=>{const d=Xt(o,t.page.borderBox.center),p={target:Gs(t.page.borderBox,d),destination:r,withDroppableDisplacement:a,viewport:s};return l?pN(p):Tg(p)},PN=({isMovingForward:t,draggable:r,destination:o,draggables:s,previousImpact:a,viewport:l,previousPageBorderBoxCenter:d,previousClientSelection:f,afterCritical:p})=>{if(!o.isEnabled)return null;const m=Ro(o.descriptor.id,s),x=ko(r,o),v=sN({isMovingForward:t,draggable:r,destination:o,insideDestination:m,previousImpact:a})||yN({isMovingForward:t,isInHomeList:x,draggable:r,draggables:s,destination:o,insideDestination:m,previousImpact:a,viewport:l,afterCritical:p});if(!v)return null;const y=Ma({impact:v,draggable:r,droppable:o,draggables:s,afterCritical:p});if(Lg({draggable:r,destination:o,newPageBorderBoxCenter:y,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:nd({pageBorderBoxCenter:y,draggable:r,viewport:l}),impact:v,scrollJumpRequest:null};const S=Xt(y,d),j=jN({impact:v,viewport:l,destination:o,draggables:s,maxScrollChange:S});return{clientSelection:f,impact:j,scrollJumpRequest:S}};const It=t=>{const r=t.subject.active;return r||fe(),r};var RN=({isMovingForward:t,pageBorderBoxCenter:r,source:o,droppables:s,viewport:a})=>{const l=o.subject.active;if(!l)return null;const d=o.axis,f=pn(l[d.start],l[d.end]),p=Ra(s).filter(x=>x!==o).filter(x=>x.isEnabled).filter(x=>!!x.subject.active).filter(x=>Ig(a.frame)(It(x))).filter(x=>{const v=It(x);return t?l[d.crossAxisEnd]<v[d.crossAxisEnd]:v[d.crossAxisStart]<l[d.crossAxisStart]}).filter(x=>{const v=It(x),y=pn(v[d.start],v[d.end]);return f(v[d.start])||f(v[d.end])||y(l[d.start])||y(l[d.end])}).sort((x,v)=>{const y=It(x)[d.crossAxisStart],N=It(v)[d.crossAxisStart];return t?y-N:N-y}).filter((x,v,y)=>It(x)[d.crossAxisStart]===It(y[0])[d.crossAxisStart]);if(!p.length)return null;if(p.length===1)return p[0];const m=p.filter(x=>pn(It(x)[d.start],It(x)[d.end])(r[d.line]));return m.length===1?m[0]:m.length>1?m.sort((x,v)=>It(x)[d.start]-It(v)[d.start])[0]:p.sort((x,v)=>{const y=gm(r,vm(It(x))),N=gm(r,vm(It(v)));return y!==N?y-N:It(x)[d.start]-It(v)[d.start]})[0]};const Nm=(t,r)=>{const o=t.page.borderBox.center;return Er(t.descriptor.id,r)?Xt(o,r.displacedBy.point):o},kN=(t,r)=>{const o=t.page.borderBox;return Er(t.descriptor.id,r)?Gs(o,Po(r.displacedBy.point)):o};var IN=({pageBorderBoxCenter:t,viewport:r,destination:o,insideDestination:s,afterCritical:a})=>s.filter(d=>Tg({target:kN(d,a),destination:o,viewport:r.frame,withDroppableDisplacement:!0})).sort((d,f)=>{const p=ks(t,Nu(o,Nm(d,a))),m=ks(t,Nu(o,Nm(f,a)));return p<m?-1:m<p?1:d.descriptor.index-f.descriptor.index})[0]||null,Hs=ht(function(r,o){const s=o[r.line];return{value:s,point:Yr(r.line,s)}});const MN=(t,r,o)=>{const s=t.axis;if(t.descriptor.mode==="virtual")return Yr(s.line,r[s.line]);const a=t.subject.page.contentBox[s.size],p=Ro(t.descriptor.id,o).reduce((m,x)=>m+x.client.marginBox[s.size],0)+r[s.line]-a;return p<=0?null:Yr(s.line,p)},Bg=(t,r)=>({...t,scroll:{...t.scroll,max:r}}),Fg=(t,r,o)=>{const s=t.frame;ko(r,t)&&fe(),t.subject.withPlaceholder&&fe();const a=Hs(t.axis,r.displaceBy).point,l=MN(t,a,o),d={placeholderSize:a,increasedBy:l,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!s){const x=Eo({page:t.subject.page,withPlaceholder:d,axis:t.axis,frame:t.frame});return{...t,subject:x}}const f=l?yt(s.scroll.max,l):s.scroll.max,p=Bg(s,f),m=Eo({page:t.subject.page,withPlaceholder:d,axis:t.axis,frame:p});return{...t,subject:m,frame:p}},TN=t=>{const r=t.subject.withPlaceholder;r||fe();const o=t.frame;if(!o){const d=Eo({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:d}}const s=r.oldFrameMaxScroll;s||fe();const a=Bg(o,s),l=Eo({page:t.subject.page,axis:t.axis,frame:a,withPlaceholder:null});return{...t,subject:l,frame:a}};var ON=({previousPageBorderBoxCenter:t,moveRelativeTo:r,insideDestination:o,draggable:s,draggables:a,destination:l,viewport:d,afterCritical:f})=>{if(!r){if(o.length)return null;const v={displaced:Is,displacedBy:kg,at:{type:"REORDER",destination:{droppableId:l.descriptor.id,index:0}}},y=Ma({impact:v,draggable:s,droppable:l,draggables:a,afterCritical:f}),N=ko(s,l)?l:Fg(l,s,a);return Lg({draggable:s,destination:N,newPageBorderBoxCenter:y,viewport:d.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?v:null}const p=t[l.axis.line]<=r.page.borderBox.center[l.axis.line],m=(()=>{const v=r.descriptor.index;return r.descriptor.id===s.descriptor.id||p?v:v+1})(),x=Hs(l.axis,s.displaceBy);return xa({draggable:s,insideDestination:o,destination:l,viewport:d,displacedBy:x,last:Is,index:m})},_N=({isMovingForward:t,previousPageBorderBoxCenter:r,draggable:o,isOver:s,draggables:a,droppables:l,viewport:d,afterCritical:f})=>{const p=RN({isMovingForward:t,pageBorderBoxCenter:r,source:s,droppables:l,viewport:d});if(!p)return null;const m=Ro(p.descriptor.id,a),x=IN({pageBorderBoxCenter:r,viewport:d,destination:p,insideDestination:m,afterCritical:f}),v=ON({previousPageBorderBoxCenter:r,destination:p,draggable:o,draggables:a,moveRelativeTo:x,insideDestination:m,viewport:d,afterCritical:f});if(!v)return null;const y=Ma({impact:v,draggable:o,droppable:p,draggables:a,afterCritical:f});return{clientSelection:nd({pageBorderBoxCenter:y,draggable:o,viewport:d}),impact:v,scrollJumpRequest:null}},Zt=t=>{const r=t.at;return r?r.type==="REORDER"?r.destination.droppableId:r.combine.droppableId:null};const LN=(t,r)=>{const o=Zt(t);return o?r[o]:null};var BN=({state:t,type:r})=>{const o=LN(t.impact,t.dimensions.droppables),s=!!o,a=t.dimensions.droppables[t.critical.droppable.id],l=o||a,d=l.axis.direction,f=d==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||d==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(f&&!s)return null;const p=r==="MOVE_DOWN"||r==="MOVE_RIGHT",m=t.dimensions.draggables[t.critical.draggable.id],x=t.current.page.borderBoxCenter,{draggables:v,droppables:y}=t.dimensions;return f?PN({isMovingForward:p,previousPageBorderBoxCenter:x,draggable:m,destination:l,draggables:v,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):_N({isMovingForward:p,previousPageBorderBoxCenter:x,draggable:m,isOver:l,draggables:v,droppables:y,viewport:t.viewport,afterCritical:t.afterCritical})};function Wr(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function $g(t){const r=pn(t.top,t.bottom),o=pn(t.left,t.right);return function(a){return r(a.y)&&o(a.x)}}function FN(t,r){return t.left<r.right&&t.right>r.left&&t.top<r.bottom&&t.bottom>r.top}function $N({pageBorderBox:t,draggable:r,candidates:o}){const s=r.page.borderBox.center,a=o.map(l=>{const d=l.axis,f=Yr(l.axis.line,t.center[d.line],l.page.borderBox.center[d.crossAxisLine]);return{id:l.descriptor.id,distance:ks(s,f)}}).sort((l,d)=>d.distance-l.distance);return a[0]?a[0].id:null}function zN({pageBorderBox:t,draggable:r,droppables:o}){const s=Ra(o).filter(a=>{if(!a.isEnabled)return!1;const l=a.subject.active;if(!l||!FN(t,l))return!1;if($g(l)(t.center))return!0;const d=a.axis,f=l.center[d.crossAxisLine],p=t[d.crossAxisStart],m=t[d.crossAxisEnd],x=pn(l[d.crossAxisStart],l[d.crossAxisEnd]),v=x(p),y=x(m);return!v&&!y?!0:v?p<f:m>f});return s.length?s.length===1?s[0].descriptor.id:$N({pageBorderBox:t,draggable:r,candidates:s}):null}const zg=(t,r)=>Sn(Gs(t,r));var VN=(t,r)=>{const o=t.frame;return o?zg(r,o.scroll.diff.value):r};function Vg({displaced:t,id:r}){return!!(t.visible[r]||t.invisible[r])}function GN({draggable:t,closest:r,inHomeList:o}){return r?o&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var HN=({pageBorderBoxWithDroppableScroll:t,draggable:r,destination:o,insideDestination:s,last:a,viewport:l,afterCritical:d})=>{const f=o.axis,p=Hs(o.axis,r.displaceBy),m=p.value,x=t[f.start],v=t[f.end],N=Ia(r,s).find(j=>{const E=j.descriptor.id,W=j.page.borderBox.center[f.line],V=Er(E,d),B=Vg({displaced:a,id:E});return V?B?v<=W:x<W-m:B?v<=W+m:x<W})||null,S=GN({draggable:r,closest:N,inHomeList:ko(r,o)});return xa({draggable:r,insideDestination:s,destination:o,viewport:l,last:a,displacedBy:p,index:S})};const UN=4;var WN=({draggable:t,pageBorderBoxWithDroppableScroll:r,previousImpact:o,destination:s,insideDestination:a,afterCritical:l})=>{if(!s.isCombineEnabled)return null;const d=s.axis,f=Hs(s.axis,t.displaceBy),p=f.value,m=r[d.start],x=r[d.end],y=Ia(t,a).find(S=>{const j=S.descriptor.id,E=S.page.borderBox,V=E[d.size]/UN,B=Er(j,l),z=Vg({displaced:o.displaced,id:j});return B?z?x>E[d.start]+V&&x<E[d.end]-V:m>E[d.start]-p+V&&m<E[d.end]-p-V:z?x>E[d.start]+p+V&&x<E[d.end]+p-V:m>E[d.start]+V&&m<E[d.end]-V});return y?{displacedBy:f,displaced:o.displaced,at:{type:"COMBINE",combine:{draggableId:y.descriptor.id,droppableId:s.descriptor.id}}}:null},Gg=({pageOffset:t,draggable:r,draggables:o,droppables:s,previousImpact:a,viewport:l,afterCritical:d})=>{const f=zg(r.page.borderBox,t),p=zN({pageBorderBox:f,draggable:r,droppables:s});if(!p)return iN;const m=s[p],x=Ro(m.descriptor.id,o),v=VN(m,f);return WN({pageBorderBoxWithDroppableScroll:v,draggable:r,previousImpact:a,destination:m,insideDestination:x,afterCritical:d})||HN({pageBorderBoxWithDroppableScroll:v,draggable:r,destination:m,insideDestination:x,last:a.displaced,viewport:l,afterCritical:d})},rd=(t,r)=>({...t,[r.descriptor.id]:r});const qN=({previousImpact:t,impact:r,droppables:o})=>{const s=Zt(t),a=Zt(r);if(!s||s===a)return o;const l=o[s];if(!l.subject.withPlaceholder)return o;const d=TN(l);return rd(o,d)};var KN=({draggable:t,draggables:r,droppables:o,previousImpact:s,impact:a})=>{const l=qN({previousImpact:s,impact:a,droppables:o}),d=Zt(a);if(!d)return l;const f=o[d];if(ko(t,f)||f.subject.withPlaceholder)return l;const p=Fg(f,t,r);return rd(l,p)},Ns=({state:t,clientSelection:r,dimensions:o,viewport:s,impact:a,scrollJumpRequest:l})=>{const d=s||t.viewport,f=o||t.dimensions,p=r||t.current.client.selection,m=Xt(p,t.initial.client.selection),x={offset:m,selection:p,borderBoxCenter:yt(t.initial.client.borderBoxCenter,m)},v={selection:yt(x.selection,d.scroll.current),borderBoxCenter:yt(x.borderBoxCenter,d.scroll.current),offset:yt(x.offset,d.scroll.diff.value)},y={client:x,page:v};if(t.phase==="COLLECTING")return{...t,dimensions:f,viewport:d,current:y};const N=f.draggables[t.critical.draggable.id],S=a||Gg({pageOffset:v.offset,draggable:N,draggables:f.draggables,droppables:f.droppables,previousImpact:t.impact,viewport:d,afterCritical:t.afterCritical}),j=KN({draggable:N,impact:S,previousImpact:t.impact,draggables:f.draggables,droppables:f.droppables});return{...t,current:y,dimensions:{draggables:f.draggables,droppables:j},impact:S,viewport:d,scrollJumpRequest:l||null,forceShouldAnimate:l?!1:null}};function YN(t,r){return t.map(o=>r[o])}var Hg=({impact:t,viewport:r,draggables:o,destination:s,forceShouldAnimate:a})=>{const l=t.displaced,d=YN(l.all,o),f=Ms({afterDragging:d,destination:s,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:a,last:l});return{...t,displaced:f}},Ug=({impact:t,draggable:r,droppable:o,draggables:s,viewport:a,afterCritical:l})=>{const d=Ma({impact:t,draggable:r,draggables:s,droppable:o,afterCritical:l});return nd({pageBorderBoxCenter:d,draggable:r,viewport:a})},Wg=({state:t,dimensions:r,viewport:o})=>{t.movementMode!=="SNAP"&&fe();const s=t.impact,a=o||t.viewport,l=r||t.dimensions,{draggables:d,droppables:f}=l,p=d[t.critical.draggable.id],m=Zt(s);m||fe();const x=f[m],v=Hg({impact:s,viewport:a,destination:x,draggables:d}),y=Ug({impact:v,draggable:p,droppable:x,draggables:d,viewport:a,afterCritical:t.afterCritical});return Ns({impact:v,clientSelection:y,state:t,dimensions:l,viewport:a})},QN=t=>({index:t.index,droppableId:t.droppableId}),qg=({draggable:t,home:r,draggables:o,viewport:s})=>{const a=Hs(r.axis,t.displaceBy),l=Ro(r.descriptor.id,o),d=l.indexOf(t);d===-1&&fe();const f=l.slice(d+1),p=f.reduce((y,N)=>(y[N.descriptor.id]=!0,y),{}),m={inVirtualList:r.descriptor.mode==="virtual",displacedBy:a,effected:p};return{impact:{displaced:Ms({afterDragging:f,destination:r,displacedBy:a,last:null,viewport:s.frame,forceShouldAnimate:!1}),displacedBy:a,at:{type:"REORDER",destination:QN(t.descriptor)}},afterCritical:m}},XN=(t,r)=>({draggables:t.draggables,droppables:rd(t.droppables,r)}),ZN=({draggable:t,offset:r,initialWindowScroll:o})=>{const s=pa(t.client,r),a=ha(s,o);return{...t,placeholder:{...t.placeholder,client:s},client:s,page:a}},JN=t=>{const r=t.frame;return r||fe(),r},e2=({additions:t,updatedDroppables:r,viewport:o})=>{const s=o.scroll.diff.value;return t.map(a=>{const l=a.descriptor.droppableId,d=r[l],p=JN(d).scroll.diff.value,m=yt(s,p);return ZN({draggable:a,offset:m,initialWindowScroll:o.scroll.initial})})},t2=({state:t,published:r})=>{const o=r.modified.map(W=>{const V=t.dimensions.droppables[W.droppableId];return Xu(V,W.scroll)}),s={...t.dimensions.droppables,...Pg(o)},a=Rg(e2({additions:r.additions,updatedDroppables:s,viewport:t.viewport})),l={...t.dimensions.draggables,...a};r.removals.forEach(W=>{delete l[W]});const d={droppables:s,draggables:l},f=Zt(t.impact),p=f?d.droppables[f]:null,m=d.draggables[t.critical.draggable.id],x=d.droppables[t.critical.droppable.id],{impact:v,afterCritical:y}=qg({draggable:m,home:x,draggables:l,viewport:t.viewport}),N=p&&p.isCombineEnabled?t.impact:v,S=Gg({pageOffset:t.current.page.offset,draggable:d.draggables[t.critical.draggable.id],draggables:d.draggables,droppables:d.droppables,previousImpact:N,viewport:t.viewport,afterCritical:y}),j={...t,phase:"DRAGGING",impact:S,onLiftImpact:v,dimensions:d,afterCritical:y,forceShouldAnimate:!1};return t.phase==="COLLECTING"?j:{...j,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const Cu=t=>t.movementMode==="SNAP",eu=(t,r,o)=>{const s=XN(t.dimensions,r);return!Cu(t)||o?Ns({state:t,dimensions:s}):Wg({state:t,dimensions:s})};function tu(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const Cm={phase:"IDLE",completed:null,shouldFlush:!1};var n2=(t=Cm,r)=>{if(r.type==="FLUSH")return{...Cm,shouldFlush:!0};if(r.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&fe();const{critical:o,clientSelection:s,viewport:a,dimensions:l,movementMode:d}=r.payload,f=l.draggables[o.draggable.id],p=l.droppables[o.droppable.id],m={selection:s,borderBoxCenter:f.client.borderBox.center,offset:mt},x={client:m,page:{selection:yt(m.selection,a.scroll.initial),borderBoxCenter:yt(m.selection,a.scroll.initial),offset:yt(m.selection,a.scroll.diff.value)}},v=Ra(l.droppables).every(j=>!j.isFixedOnPage),{impact:y,afterCritical:N}=qg({draggable:f,home:p,draggables:l.draggables,viewport:a});return{phase:"DRAGGING",isDragging:!0,critical:o,movementMode:d,dimensions:l,initial:x,current:x,isWindowScrollAllowed:v,impact:y,afterCritical:N,onLiftImpact:y,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null}}if(r.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&fe(),{...t,phase:"COLLECTING"});if(r.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||fe(),t2({state:t,published:r.payload});if(r.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;Wr(t)||fe();const{client:o}=r.payload;return Cr(o,t.current.client.selection)?t:Ns({state:t,clientSelection:o,impact:Cu(t)?t.impact:null})}if(r.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return tu(t);Wr(t)||fe();const{id:o,newScroll:s}=r.payload,a=t.dimensions.droppables[o];if(!a)return t;const l=Xu(a,s);return eu(t,l,!1)}if(r.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;Wr(t)||fe();const{id:o,isEnabled:s}=r.payload,a=t.dimensions.droppables[o];a||fe(),a.isEnabled===s&&fe();const l={...a,isEnabled:s};return eu(t,l,!0)}if(r.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;Wr(t)||fe();const{id:o,isCombineEnabled:s}=r.payload,a=t.dimensions.droppables[o];a||fe(),a.isCombineEnabled===s&&fe();const l={...a,isCombineEnabled:s};return eu(t,l,!0)}if(r.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;Wr(t)||fe(),t.isWindowScrollAllowed||fe();const o=r.payload.newScroll;if(Cr(t.viewport.scroll.current,o))return tu(t);const s=_g(t.viewport,o);return Cu(t)?Wg({state:t,viewport:s}):Ns({state:t,viewport:s})}if(r.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Wr(t))return t;const o=r.payload.maxScroll;if(Cr(o,t.viewport.scroll.max))return t;const s={...t.viewport,scroll:{...t.viewport.scroll,max:o}};return{...t,viewport:s}}if(r.type==="MOVE_UP"||r.type==="MOVE_DOWN"||r.type==="MOVE_LEFT"||r.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&fe();const o=BN({state:t,type:r.type});return o?Ns({state:t,impact:o.impact,clientSelection:o.clientSelection,scrollJumpRequest:o.scrollJumpRequest}):t}if(r.type==="DROP_PENDING"){const o=r.payload.reason;return t.phase!=="COLLECTING"&&fe(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:o}}if(r.type==="DROP_ANIMATE"){const{completed:o,dropDuration:s,newHomeClientOffset:a}=r.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||fe(),{phase:"DROP_ANIMATING",completed:o,dropDuration:s,newHomeClientOffset:a,dimensions:t.dimensions}}if(r.type==="DROP_COMPLETE"){const{completed:o}=r.payload;return{phase:"IDLE",completed:o,shouldFlush:!1}}return t};function Fe(t,r){return t instanceof Object&&"type"in t&&t.type===r}const r2=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),o2=t=>({type:"LIFT",payload:t}),s2=t=>({type:"INITIAL_PUBLISH",payload:t}),i2=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),a2=()=>({type:"COLLECTION_STARTING",payload:null}),l2=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),c2=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),u2=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),Kg=t=>({type:"MOVE",payload:t}),d2=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),f2=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),p2=()=>({type:"MOVE_UP",payload:null}),h2=()=>({type:"MOVE_DOWN",payload:null}),m2=()=>({type:"MOVE_RIGHT",payload:null}),g2=()=>({type:"MOVE_LEFT",payload:null}),od=()=>({type:"FLUSH",payload:null}),v2=t=>({type:"DROP_ANIMATE",payload:t}),sd=t=>({type:"DROP_COMPLETE",payload:t}),Yg=t=>({type:"DROP",payload:t}),x2=t=>({type:"DROP_PENDING",payload:t}),Qg=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var y2=t=>({getState:r,dispatch:o})=>s=>a=>{if(!Fe(a,"LIFT")){s(a);return}const{id:l,clientSelection:d,movementMode:f}=a.payload,p=r();p.phase==="DROP_ANIMATING"&&o(sd({completed:p.completed})),r().phase!=="IDLE"&&fe(),o(od()),o(r2({draggableId:l,movementMode:f}));const x={draggableId:l,scrollOptions:{shouldPublishImmediately:f==="SNAP"}},{critical:v,dimensions:y,viewport:N}=t.startPublishing(x);o(s2({critical:v,dimensions:y,clientSelection:d,movementMode:f,viewport:N}))},b2=t=>()=>r=>o=>{Fe(o,"INITIAL_PUBLISH")&&t.dragging(),Fe(o,"DROP_ANIMATE")&&t.dropping(o.payload.completed.result.reason),(Fe(o,"FLUSH")||Fe(o,"DROP_COMPLETE"))&&t.resting(),r(o)};const id={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Ts={opacity:{drop:0,combining:.7},scale:{drop:.75}},Xg={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Ur=`${Xg.outOfTheWay}s ${id.outOfTheWay}`,Cs={fluid:`opacity ${Ur}`,snap:`transform ${Ur}, opacity ${Ur}`,drop:t=>{const r=`${t}s ${id.drop}`;return`transform ${r}, opacity ${r}`},outOfTheWay:`transform ${Ur}`,placeholder:`height ${Ur}, width ${Ur}, margin ${Ur}`},Sm=t=>Cr(t,mt)?void 0:`translate(${t.x}px, ${t.y}px)`,Su={moveTo:Sm,drop:(t,r)=>{const o=Sm(t);if(o)return r?`${o} scale(${Ts.scale.drop})`:o}},{minDropTime:Eu,maxDropTime:Zg}=Xg,w2=Zg-Eu,Em=1500,N2=.6;var C2=({current:t,destination:r,reason:o})=>{const s=ks(t,r);if(s<=0)return Eu;if(s>=Em)return Zg;const a=s/Em,l=Eu+w2*a,d=o==="CANCEL"?l*N2:l;return Number(d.toFixed(2))},S2=({impact:t,draggable:r,dimensions:o,viewport:s,afterCritical:a})=>{const{draggables:l,droppables:d}=o,f=Zt(t),p=f?d[f]:null,m=d[r.descriptor.droppableId],x=Ug({impact:t,draggable:r,draggables:l,afterCritical:a,droppable:p||m,viewport:s});return Xt(x,r.client.borderBox.center)},E2=({draggables:t,reason:r,lastImpact:o,home:s,viewport:a,onLiftImpact:l})=>!o.at||r!=="DROP"?{impact:Hg({draggables:t,impact:l,destination:s,viewport:a,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:o.at.type==="REORDER"?{impact:o,didDropInsideDroppable:!0}:{impact:{...o,displaced:Is},didDropInsideDroppable:!0};const D2=({getState:t,dispatch:r})=>o=>s=>{if(!Fe(s,"DROP")){o(s);return}const a=t(),l=s.payload.reason;if(a.phase==="COLLECTING"){r(x2({reason:l}));return}if(a.phase==="IDLE")return;a.phase==="DROP_PENDING"&&a.isWaiting&&fe(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||fe();const f=a.critical,p=a.dimensions,m=p.draggables[a.critical.draggable.id],{impact:x,didDropInsideDroppable:v}=E2({reason:l,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),y=v?Zu(x):null,N=v?ka(x):null,S={index:f.draggable.index,droppableId:f.droppable.id},j={draggableId:m.descriptor.id,type:m.descriptor.type,source:S,reason:l,mode:a.movementMode,destination:y,combine:N},E=S2({impact:x,draggable:m,dimensions:p,viewport:a.viewport,afterCritical:a.afterCritical}),W={critical:a.critical,afterCritical:a.afterCritical,result:j,impact:x};if(!(!Cr(a.current.client.offset,E)||!!j.combine)){r(sd({completed:W}));return}const B=C2({current:a.current.client.offset,destination:E,reason:l});r(v2({newHomeClientOffset:E,dropDuration:B,completed:W}))};var Jg=()=>({x:window.pageXOffset,y:window.pageYOffset});function j2(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:r=>{r.target!==window&&r.target!==window.document||t()}}}function A2({onWindowScroll:t}){function r(){t(Jg())}const o=Rs(r),s=j2(o);let a=Nr;function l(){return a!==Nr}function d(){l()&&fe(),a=fn(window,[s])}function f(){l()||fe(),o.cancel(),a(),a=Nr}return{start:d,stop:f,isActive:l}}const P2=t=>Fe(t,"DROP_COMPLETE")||Fe(t,"DROP_ANIMATE")||Fe(t,"FLUSH"),R2=t=>{const r=A2({onWindowScroll:o=>{t.dispatch(d2({newScroll:o}))}});return o=>s=>{!r.isActive()&&Fe(s,"INITIAL_PUBLISH")&&r.start(),r.isActive()&&P2(s)&&r.stop(),o(s)}};var k2=t=>{let r=!1,o=!1;const s=setTimeout(()=>{o=!0}),a=l=>{r||o||(r=!0,t(l),clearTimeout(s))};return a.wasCalled=()=>r,a},I2=()=>{const t=[],r=a=>{const l=t.findIndex(f=>f.timerId===a);l===-1&&fe();const[d]=t.splice(l,1);d.callback()};return{add:a=>{const l=setTimeout(()=>r(l)),d={timerId:l,callback:a};t.push(d)},flush:()=>{if(!t.length)return;const a=[...t];t.length=0,a.forEach(l=>{clearTimeout(l.timerId),l.callback()})}}};const M2=(t,r)=>t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index,T2=(t,r)=>t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId,O2=(t,r)=>{if(t===r)return!0;const o=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,s=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return o&&s},vs=(t,r)=>{r()},ra=(t,r)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r});function nu(t,r,o,s){if(!t){o(s(r));return}const a=k2(o);t(r,{announce:a}),a.wasCalled()||o(s(r))}var _2=(t,r)=>{const o=I2();let s=null;const a=(v,y)=>{s&&fe(),vs("onBeforeCapture",()=>{const N=t().onBeforeCapture;N&&N({draggableId:v,mode:y})})},l=(v,y)=>{s&&fe(),vs("onBeforeDragStart",()=>{const N=t().onBeforeDragStart;N&&N(ra(v,y))})},d=(v,y)=>{s&&fe();const N=ra(v,y);s={mode:y,lastCritical:v,lastLocation:N.source,lastCombine:null},o.add(()=>{vs("onDragStart",()=>nu(t().onDragStart,N,r,aa.onDragStart))})},f=(v,y)=>{const N=Zu(y),S=ka(y);s||fe();const j=!O2(v,s.lastCritical);j&&(s.lastCritical=v);const E=!M2(s.lastLocation,N);E&&(s.lastLocation=N);const W=!T2(s.lastCombine,S);if(W&&(s.lastCombine=S),!j&&!E&&!W)return;const V={...ra(v,s.mode),combine:S,destination:N};o.add(()=>{vs("onDragUpdate",()=>nu(t().onDragUpdate,V,r,aa.onDragUpdate))})},p=()=>{s||fe(),o.flush()},m=v=>{s||fe(),s=null,vs("onDragEnd",()=>nu(t().onDragEnd,v,r,aa.onDragEnd))};return{beforeCapture:a,beforeStart:l,start:d,update:f,flush:p,drop:m,abort:()=>{if(!s)return;const v={...ra(s.lastCritical,s.mode),combine:null,destination:null,reason:"CANCEL"};m(v)}}},L2=(t,r)=>{const o=_2(t,r);return s=>a=>l=>{if(Fe(l,"BEFORE_INITIAL_CAPTURE")){o.beforeCapture(l.payload.draggableId,l.payload.movementMode);return}if(Fe(l,"INITIAL_PUBLISH")){const f=l.payload.critical;o.beforeStart(f,l.payload.movementMode),a(l),o.start(f,l.payload.movementMode);return}if(Fe(l,"DROP_COMPLETE")){const f=l.payload.completed.result;o.flush(),a(l),o.drop(f);return}if(a(l),Fe(l,"FLUSH")){o.abort();return}const d=s.getState();d.phase==="DRAGGING"&&o.update(d.critical,d.impact)}};const B2=t=>r=>o=>{if(!Fe(o,"DROP_ANIMATION_FINISHED")){r(o);return}const s=t.getState();s.phase!=="DROP_ANIMATING"&&fe(),t.dispatch(sd({completed:s.completed}))},F2=t=>{let r=null,o=null;function s(){o&&(cancelAnimationFrame(o),o=null),r&&(r(),r=null)}return a=>l=>{if((Fe(l,"FLUSH")||Fe(l,"DROP_COMPLETE")||Fe(l,"DROP_ANIMATION_FINISHED"))&&s(),a(l),!Fe(l,"DROP_ANIMATE"))return;const d={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(Qg())}};o=requestAnimationFrame(()=>{o=null,r=fn(window,[d])})}};var $2=t=>()=>r=>o=>{(Fe(o,"DROP_COMPLETE")||Fe(o,"FLUSH")||Fe(o,"DROP_ANIMATE"))&&t.stopPublishing(),r(o)},z2=t=>{let r=!1;return()=>o=>s=>{if(Fe(s,"INITIAL_PUBLISH")){r=!0,t.tryRecordFocus(s.payload.critical.draggable.id),o(s),t.tryRestoreFocusRecorded();return}if(o(s),!!r){if(Fe(s,"FLUSH")){r=!1,t.tryRestoreFocusRecorded();return}if(Fe(s,"DROP_COMPLETE")){r=!1;const a=s.payload.completed.result;a.combine&&t.tryShiftRecord(a.draggableId,a.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const V2=t=>Fe(t,"DROP_COMPLETE")||Fe(t,"DROP_ANIMATE")||Fe(t,"FLUSH");var G2=t=>r=>o=>s=>{if(V2(s)){t.stop(),o(s);return}if(Fe(s,"INITIAL_PUBLISH")){o(s);const a=r.getState();a.phase!=="DRAGGING"&&fe(),t.start(a);return}o(s),t.scroll(r.getState())};const H2=t=>r=>o=>{if(r(o),!Fe(o,"PUBLISH_WHILE_DRAGGING"))return;const s=t.getState();s.phase==="DROP_PENDING"&&(s.isWaiting||t.dispatch(Yg({reason:s.reason})))},U2=mg;var W2=({dimensionMarshal:t,focusMarshal:r,styleMarshal:o,getResponders:s,announce:a,autoScroller:l})=>hg(n2,U2(G1(b2(o),$2(t),y2(t),D2,B2,F2,H2,G2(l),R2,z2(r),L2(s,a))));const ru=()=>({additions:{},removals:{},modified:{}});function q2({registry:t,callbacks:r}){let o=ru(),s=null;const a=()=>{s||(r.collectionStarting(),s=requestAnimationFrame(()=>{s=null;const{additions:p,removals:m,modified:x}=o,v=Object.keys(p).map(S=>t.draggable.getById(S).getDimension(mt)).sort((S,j)=>S.descriptor.index-j.descriptor.index),y=Object.keys(x).map(S=>{const E=t.droppable.getById(S).callbacks.getScrollWhileDragging();return{droppableId:S,scroll:E}}),N={additions:v,removals:Object.keys(m),modified:y};o=ru(),r.publish(N)}))};return{add:p=>{const m=p.descriptor.id;o.additions[m]=p,o.modified[p.descriptor.droppableId]=!0,o.removals[m]&&delete o.removals[m],a()},remove:p=>{const m=p.descriptor;o.removals[m.id]=!0,o.modified[m.droppableId]=!0,o.additions[m.id]&&delete o.additions[m.id],a()},stop:()=>{s&&(cancelAnimationFrame(s),s=null,o=ru())}}}var ev=({scrollHeight:t,scrollWidth:r,height:o,width:s})=>{const a=Xt({x:r,y:t},{x:s,y:o});return{x:Math.max(0,a.x),y:Math.max(0,a.y)}},tv=()=>{const t=document.documentElement;return t||fe(),t},nv=()=>{const t=tv();return ev({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},K2=()=>{const t=Jg(),r=nv(),o=t.y,s=t.x,a=tv(),l=a.clientWidth,d=a.clientHeight,f=s+l,p=o+d;return{frame:Sn({top:o,left:s,right:f,bottom:p}),scroll:{initial:t,current:t,max:r,diff:{value:mt,displacement:mt}}}},Y2=({critical:t,scrollOptions:r,registry:o})=>{const s=K2(),a=s.scroll.current,l=t.droppable,d=o.droppable.getAllByType(l.type).map(x=>x.callbacks.getDimensionAndWatchScroll(a,r)),f=o.draggable.getAllByType(t.draggable.type).map(x=>x.getDimension(a));return{dimensions:{draggables:Rg(f),droppables:Pg(d)},critical:t,viewport:s}};function Dm(t,r,o){return!(o.descriptor.id===r.id||o.descriptor.type!==r.type||t.droppable.getById(o.descriptor.droppableId).descriptor.mode!=="virtual")}var Q2=(t,r)=>{let o=null;const s=q2({callbacks:{publish:r.publishWhileDragging,collectionStarting:r.collectionStarting},registry:t}),a=(y,N)=>{t.droppable.exists(y)||fe(),o&&r.updateDroppableIsEnabled({id:y,isEnabled:N})},l=(y,N)=>{o&&(t.droppable.exists(y)||fe(),r.updateDroppableIsCombineEnabled({id:y,isCombineEnabled:N}))},d=(y,N)=>{o&&(t.droppable.exists(y)||fe(),r.updateDroppableScroll({id:y,newScroll:N}))},f=(y,N)=>{o&&t.droppable.getById(y).callbacks.scroll(N)},p=()=>{if(!o)return;s.stop();const y=o.critical.droppable;t.droppable.getAllByType(y.type).forEach(N=>N.callbacks.dragStopped()),o.unsubscribe(),o=null},m=y=>{o||fe();const N=o.critical.draggable;y.type==="ADDITION"&&Dm(t,N,y.value)&&s.add(y.value),y.type==="REMOVAL"&&Dm(t,N,y.value)&&s.remove(y.value)};return{updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:l,scrollDroppable:f,updateDroppableScroll:d,startPublishing:y=>{o&&fe();const N=t.draggable.getById(y.draggableId),S=t.droppable.getById(N.descriptor.droppableId),j={draggable:N.descriptor,droppable:S.descriptor},E=t.subscribe(m);return o={critical:j,unsubscribe:E},Y2({critical:j,registry:t,scrollOptions:y.scrollOptions})},stopPublishing:p}},rv=(t,r)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===r?!1:t.completed.result.reason==="DROP",X2=t=>{window.scrollBy(t.x,t.y)};const Z2=ht(t=>Ra(t).filter(r=>!(!r.isEnabled||!r.frame))),J2=(t,r)=>Z2(r).find(s=>(s.frame||fe(),$g(s.frame.pageMarginBox)(t)))||null;var eC=({center:t,destination:r,droppables:o})=>{if(r){const a=o[r];return a.frame?a:null}return J2(t,o)};const Os={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var tC=(t,r,o=()=>Os)=>{const s=o(),a=t[r.size]*s.startFromPercentage,l=t[r.size]*s.maxScrollAtPercentage;return{startScrollingFrom:a,maxScrollValueAt:l}},ov=({startOfRange:t,endOfRange:r,current:o})=>{const s=r-t;return s===0?0:(o-t)/s},ad=1,nC=(t,r,o=()=>Os)=>{const s=o();if(t>r.startScrollingFrom)return 0;if(t<=r.maxScrollValueAt)return s.maxPixelScroll;if(t===r.startScrollingFrom)return ad;const l=1-ov({startOfRange:r.maxScrollValueAt,endOfRange:r.startScrollingFrom,current:t}),d=s.maxPixelScroll*s.ease(l);return Math.ceil(d)},rC=(t,r,o)=>{const s=o(),a=s.durationDampening.accelerateAt,l=s.durationDampening.stopDampeningAt,d=r,f=l,m=Date.now()-d;if(m>=l)return t;if(m<a)return ad;const x=ov({startOfRange:a,endOfRange:f,current:m}),v=t*s.ease(x);return Math.ceil(v)},jm=({distanceToEdge:t,thresholds:r,dragStartTime:o,shouldUseTimeDampening:s,getAutoScrollerOptions:a})=>{const l=nC(t,r,a);return l===0?0:s?Math.max(rC(l,o,a),ad):l},Am=({container:t,distanceToEdges:r,dragStartTime:o,axis:s,shouldUseTimeDampening:a,getAutoScrollerOptions:l})=>{const d=tC(t,s,l);return r[s.end]<r[s.start]?jm({distanceToEdge:r[s.end],thresholds:d,dragStartTime:o,shouldUseTimeDampening:a,getAutoScrollerOptions:l}):-1*jm({distanceToEdge:r[s.start],thresholds:d,dragStartTime:o,shouldUseTimeDampening:a,getAutoScrollerOptions:l})},oC=({container:t,subject:r,proposedScroll:o})=>{const s=r.height>t.height,a=r.width>t.width;return!a&&!s?o:a&&s?null:{x:a?0:o.x,y:s?0:o.y}};const sC=Ag(t=>t===0?0:t);var sv=({dragStartTime:t,container:r,subject:o,center:s,shouldUseTimeDampening:a,getAutoScrollerOptions:l})=>{const d={top:s.y-r.top,right:r.right-s.x,bottom:r.bottom-s.y,left:s.x-r.left},f=Am({container:r,distanceToEdges:d,dragStartTime:t,axis:Ju,shouldUseTimeDampening:a,getAutoScrollerOptions:l}),p=Am({container:r,distanceToEdges:d,dragStartTime:t,axis:Mg,shouldUseTimeDampening:a,getAutoScrollerOptions:l}),m=sC({x:p,y:f});if(Cr(m,mt))return null;const x=oC({container:r,subject:o,proposedScroll:m});return x?Cr(x,mt)?null:x:null};const iC=Ag(t=>t===0?0:t>0?1:-1),ld=(()=>{const t=(r,o)=>r<0?r:r>o?r-o:0;return({current:r,max:o,change:s})=>{const a=yt(r,s),l={x:t(a.x,o.x),y:t(a.y,o.y)};return Cr(l,mt)?null:l}})(),iv=({max:t,current:r,change:o})=>{const s={x:Math.max(r.x,t.x),y:Math.max(r.y,t.y)},a=iC(o),l=ld({max:s,current:r,change:a});return!l||a.x!==0&&l.x===0||a.y!==0&&l.y===0},cd=(t,r)=>iv({current:t.scroll.current,max:t.scroll.max,change:r}),aC=(t,r)=>{if(!cd(t,r))return null;const o=t.scroll.max,s=t.scroll.current;return ld({current:s,max:o,change:r})},ud=(t,r)=>{const o=t.frame;return o?iv({current:o.scroll.current,max:o.scroll.max,change:r}):!1},lC=(t,r)=>{const o=t.frame;return!o||!ud(t,r)?null:ld({current:o.scroll.current,max:o.scroll.max,change:r})};var cC=({viewport:t,subject:r,center:o,dragStartTime:s,shouldUseTimeDampening:a,getAutoScrollerOptions:l})=>{const d=sv({dragStartTime:s,container:t.frame,subject:r,center:o,shouldUseTimeDampening:a,getAutoScrollerOptions:l});return d&&cd(t,d)?d:null},uC=({droppable:t,subject:r,center:o,dragStartTime:s,shouldUseTimeDampening:a,getAutoScrollerOptions:l})=>{const d=t.frame;if(!d)return null;const f=sv({dragStartTime:s,container:d.pageMarginBox,subject:r,center:o,shouldUseTimeDampening:a,getAutoScrollerOptions:l});return f&&ud(t,f)?f:null},Pm=({state:t,dragStartTime:r,shouldUseTimeDampening:o,scrollWindow:s,scrollDroppable:a,getAutoScrollerOptions:l})=>{const d=t.current.page.borderBoxCenter,p=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const v=t.viewport,y=cC({dragStartTime:r,viewport:v,subject:p,center:d,shouldUseTimeDampening:o,getAutoScrollerOptions:l});if(y){s(y);return}}const m=eC({center:d,destination:Zt(t.impact),droppables:t.dimensions.droppables});if(!m)return;const x=uC({dragStartTime:r,droppable:m,subject:p,center:d,shouldUseTimeDampening:o,getAutoScrollerOptions:l});x&&a(m.descriptor.id,x)},dC=({scrollWindow:t,scrollDroppable:r,getAutoScrollerOptions:o=()=>Os})=>{const s=Rs(t),a=Rs(r);let l=null;const d=m=>{l||fe();const{shouldUseTimeDampening:x,dragStartTime:v}=l;Pm({state:m,scrollWindow:s,scrollDroppable:a,dragStartTime:v,shouldUseTimeDampening:x,getAutoScrollerOptions:o})};return{start:m=>{l&&fe();const x=Date.now();let v=!1;const y=()=>{v=!0};Pm({state:m,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:y,scrollDroppable:y,getAutoScrollerOptions:o}),l={dragStartTime:x,shouldUseTimeDampening:v},v&&d(m)},stop:()=>{l&&(s.cancel(),a.cancel(),l=null)},scroll:d}},fC=({move:t,scrollDroppable:r,scrollWindow:o})=>{const s=(f,p)=>{const m=yt(f.current.client.selection,p);t({client:m})},a=(f,p)=>{if(!ud(f,p))return p;const m=lC(f,p);if(!m)return r(f.descriptor.id,p),null;const x=Xt(p,m);return r(f.descriptor.id,x),Xt(p,x)},l=(f,p,m)=>{if(!f||!cd(p,m))return m;const x=aC(p,m);if(!x)return o(m),null;const v=Xt(m,x);return o(v),Xt(m,v)};return f=>{const p=f.scrollJumpRequest;if(!p)return;const m=Zt(f.impact);m||fe();const x=a(f.dimensions.droppables[m],p);if(!x)return;const v=f.viewport,y=l(f.isWindowScrollAllowed,v,x);y&&s(f,y)}},pC=({scrollDroppable:t,scrollWindow:r,move:o,getAutoScrollerOptions:s})=>{const a=dC({scrollWindow:r,scrollDroppable:t,getAutoScrollerOptions:s}),l=fC({move:o,scrollWindow:r,scrollDroppable:t});return{scroll:p=>{if(!(s().disabled||p.phase!=="DRAGGING")){if(p.movementMode==="FLUID"){a.scroll(p);return}p.scrollJumpRequest&&l(p)}},start:a.start,stop:a.stop}};const Do="data-rfd",jo=(()=>{const t=`${Do}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),Du=(()=>{const t=`${Do}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),hC=(()=>{const t=`${Do}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),Rm={contextId:`${Do}-scroll-container-context-id`},mC=t=>r=>`[${r}="${t}"]`,xs=(t,r)=>t.map(o=>{const s=o.styles[r];return s?`${o.selector} { ${s} }`:""}).join(" "),gC="pointer-events: none;";var vC=t=>{const r=mC(t),o=(()=>{const f=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:r(jo.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:f,dragging:gC,dropAnimating:f}}})(),s=(()=>{const f=`
      transition: ${Cs.outOfTheWay};
    `;return{selector:r(Du.contextId),styles:{dragging:f,dropAnimating:f,userCancel:f}}})(),a={selector:r(hC.contextId),styles:{always:"overflow-anchor: none;"}},d=[s,o,a,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:xs(d,"always"),resting:xs(d,"resting"),dragging:xs(d,"dragging"),dropAnimating:xs(d,"dropAnimating"),userCancel:xs(d,"userCancel")}};const Jt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?b.useLayoutEffect:b.useEffect,ou=()=>{const t=document.querySelector("head");return t||fe(),t},km=t=>{const r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function xC(t,r){const o=Me(()=>vC(t),[t]),s=b.useRef(null),a=b.useRef(null),l=Ce(ht(v=>{const y=a.current;y||fe(),y.textContent=v}),[]),d=Ce(v=>{const y=s.current;y||fe(),y.textContent=v},[]);Jt(()=>{!s.current&&!a.current||fe();const v=km(r),y=km(r);return s.current=v,a.current=y,v.setAttribute(`${Do}-always`,t),y.setAttribute(`${Do}-dynamic`,t),ou().appendChild(v),ou().appendChild(y),d(o.always),l(o.resting),()=>{const N=S=>{const j=S.current;j||fe(),ou().removeChild(j),S.current=null};N(s),N(a)}},[r,d,l,o.always,o.resting,t]);const f=Ce(()=>l(o.dragging),[l,o.dragging]),p=Ce(v=>{if(v==="DROP"){l(o.dropAnimating);return}l(o.userCancel)},[l,o.dropAnimating,o.userCancel]),m=Ce(()=>{a.current&&l(o.resting)},[l,o.resting]);return Me(()=>({dragging:f,dropping:p,resting:m}),[f,p,m])}function av(t,r){return Array.from(t.querySelectorAll(r))}var lv=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function Ta(t){return t instanceof lv(t).HTMLElement}function yC(t,r){const o=`[${jo.contextId}="${t}"]`,s=av(document,o);if(!s.length)return null;const a=s.find(l=>l.getAttribute(jo.draggableId)===r);return!a||!Ta(a)?null:a}function bC(t){const r=b.useRef({}),o=b.useRef(null),s=b.useRef(null),a=b.useRef(!1),l=Ce(function(y,N){const S={id:y,focus:N};return r.current[y]=S,function(){const E=r.current;E[y]!==S&&delete E[y]}},[]),d=Ce(function(y){const N=yC(t,y);N&&N!==document.activeElement&&N.focus()},[t]),f=Ce(function(y,N){o.current===y&&(o.current=N)},[]),p=Ce(function(){s.current||a.current&&(s.current=requestAnimationFrame(()=>{s.current=null;const y=o.current;y&&d(y)}))},[d]),m=Ce(function(y){o.current=null;const N=document.activeElement;N&&N.getAttribute(jo.draggableId)===y&&(o.current=y)},[]);return Jt(()=>(a.current=!0,function(){a.current=!1;const y=s.current;y&&cancelAnimationFrame(y)}),[]),Me(()=>({register:l,tryRecordFocus:m,tryRestoreFocusRecorded:p,tryShiftRecord:f}),[l,m,p,f])}function wC(){const t={draggables:{},droppables:{}},r=[];function o(v){return r.push(v),function(){const N=r.indexOf(v);N!==-1&&r.splice(N,1)}}function s(v){r.length&&r.forEach(y=>y(v))}function a(v){return t.draggables[v]||null}function l(v){const y=a(v);return y||fe(),y}const d={register:v=>{t.draggables[v.descriptor.id]=v,s({type:"ADDITION",value:v})},update:(v,y)=>{const N=t.draggables[y.descriptor.id];N&&N.uniqueId===v.uniqueId&&(delete t.draggables[y.descriptor.id],t.draggables[v.descriptor.id]=v)},unregister:v=>{const y=v.descriptor.id,N=a(y);N&&v.uniqueId===N.uniqueId&&(delete t.draggables[y],t.droppables[v.descriptor.droppableId]&&s({type:"REMOVAL",value:v}))},getById:l,findById:a,exists:v=>!!a(v),getAllByType:v=>Object.values(t.draggables).filter(y=>y.descriptor.type===v)};function f(v){return t.droppables[v]||null}function p(v){const y=f(v);return y||fe(),y}const m={register:v=>{t.droppables[v.descriptor.id]=v},unregister:v=>{const y=f(v.descriptor.id);y&&v.uniqueId===y.uniqueId&&delete t.droppables[v.descriptor.id]},getById:p,findById:f,exists:v=>!!f(v),getAllByType:v=>Object.values(t.droppables).filter(y=>y.descriptor.type===v)};function x(){t.draggables={},t.droppables={},r.length=0}return{draggable:d,droppable:m,subscribe:o,clean:x}}function NC(){const t=Me(wC,[]);return b.useEffect(()=>function(){t.clean()},[t]),t}var dd=we.createContext(null),ya=()=>{const t=document.body;return t||fe(),t};const CC={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},SC=t=>`rfd-announcement-${t}`;function EC(t){const r=Me(()=>SC(t),[t]),o=b.useRef(null);return b.useEffect(function(){const l=document.createElement("div");return o.current=l,l.id=r,l.setAttribute("aria-live","assertive"),l.setAttribute("aria-atomic","true"),ma(l.style,CC),ya().appendChild(l),function(){setTimeout(function(){const p=ya();p.contains(l)&&p.removeChild(l),l===o.current&&(o.current=null)})}},[r]),Ce(a=>{const l=o.current;if(l){l.textContent=a;return}},[])}const DC={separator:"::"};function fd(t,r=DC){const o=we.useId();return Me(()=>`${t}${r.separator}${o}`,[r.separator,t,o])}function jC({contextId:t,uniqueId:r}){return`rfd-hidden-text-${t}-${r}`}function AC({contextId:t,text:r}){const o=fd("hidden-text",{separator:"-"}),s=Me(()=>jC({contextId:t,uniqueId:o}),[o,t]);return b.useEffect(function(){const l=document.createElement("div");return l.id=s,l.textContent=r,l.style.display="none",ya().appendChild(l),function(){const f=ya();f.contains(l)&&f.removeChild(l)}},[s,r]),s}var Oa=we.createContext(null);function cv(t){const r=b.useRef(t);return b.useEffect(()=>{r.current=t}),r}function PC(){let t=null;function r(){return!!t}function o(d){return d===t}function s(d){t&&fe();const f={abandon:d};return t=f,f}function a(){t||fe(),t=null}function l(){t&&(t.abandon(),a())}return{isClaimed:r,isActive:o,claim:s,release:a,tryAbandon:l}}function _s(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const RC=9,kC=13,pd=27,uv=32,IC=33,MC=34,TC=35,OC=36,_C=37,LC=38,BC=39,FC=40,$C={[kC]:!0,[RC]:!0};var dv=t=>{$C[t.keyCode]&&t.preventDefault()};const _a=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(s=>`on${s}`in document)||t})(),fv=0,Im=5;function zC(t,r){return Math.abs(r.x-t.x)>=Im||Math.abs(r.y-t.y)>=Im}const Mm={type:"IDLE"};function VC({cancel:t,completed:r,getPhase:o,setPhase:s}){return[{eventName:"mousemove",fn:a=>{const{button:l,clientX:d,clientY:f}=a;if(l!==fv)return;const p={x:d,y:f},m=o();if(m.type==="DRAGGING"){a.preventDefault(),m.actions.move(p);return}m.type!=="PENDING"&&fe();const x=m.point;if(!zC(x,p))return;a.preventDefault();const v=m.actions.fluidLift(p);s({type:"DRAGGING",actions:v})}},{eventName:"mouseup",fn:a=>{const l=o();if(l.type!=="DRAGGING"){t();return}a.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:a=>{o().type==="DRAGGING"&&a.preventDefault(),t()}},{eventName:"keydown",fn:a=>{if(o().type==="PENDING"){t();return}if(a.keyCode===pd){a.preventDefault(),t();return}dv(a)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{o().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:a=>{const l=o();if(l.type==="IDLE"&&fe(),l.actions.shouldRespectForcePress()){t();return}a.preventDefault()}},{eventName:_a,fn:t}]}function GC(t){const r=b.useRef(Mm),o=b.useRef(Nr),s=Me(()=>({eventName:"mousedown",fn:function(v){if(v.defaultPrevented||v.button!==fv||v.ctrlKey||v.metaKey||v.shiftKey||v.altKey)return;const y=t.findClosestDraggableId(v);if(!y)return;const N=t.tryGetLock(y,d,{sourceEvent:v});if(!N)return;v.preventDefault();const S={x:v.clientX,y:v.clientY};o.current(),m(N,S)}}),[t]),a=Me(()=>({eventName:"webkitmouseforcewillbegin",fn:x=>{if(x.defaultPrevented)return;const v=t.findClosestDraggableId(x);if(!v)return;const y=t.findOptionsForDraggable(v);y&&(y.shouldRespectForcePress||t.canGetLock(v)&&x.preventDefault())}}),[t]),l=Ce(function(){const v={passive:!1,capture:!0};o.current=fn(window,[a,s],v)},[a,s]),d=Ce(()=>{r.current.type!=="IDLE"&&(r.current=Mm,o.current(),l())},[l]),f=Ce(()=>{const x=r.current;d(),x.type==="DRAGGING"&&x.actions.cancel({shouldBlockNextClick:!0}),x.type==="PENDING"&&x.actions.abort()},[d]),p=Ce(function(){const v={capture:!0,passive:!1},y=VC({cancel:f,completed:d,getPhase:()=>r.current,setPhase:N=>{r.current=N}});o.current=fn(window,y,v)},[f,d]),m=Ce(function(v,y){r.current.type!=="IDLE"&&fe(),r.current={type:"PENDING",point:y,actions:v},p()},[p]);Jt(function(){return l(),function(){o.current()}},[l])}function HC(){}const UC={[MC]:!0,[IC]:!0,[OC]:!0,[TC]:!0};function WC(t,r){function o(){r(),t.cancel()}function s(){r(),t.drop()}return[{eventName:"keydown",fn:a=>{if(a.keyCode===pd){a.preventDefault(),o();return}if(a.keyCode===uv){a.preventDefault(),s();return}if(a.keyCode===FC){a.preventDefault(),t.moveDown();return}if(a.keyCode===LC){a.preventDefault(),t.moveUp();return}if(a.keyCode===BC){a.preventDefault(),t.moveRight();return}if(a.keyCode===_C){a.preventDefault(),t.moveLeft();return}if(UC[a.keyCode]){a.preventDefault();return}dv(a)}},{eventName:"mousedown",fn:o},{eventName:"mouseup",fn:o},{eventName:"click",fn:o},{eventName:"touchstart",fn:o},{eventName:"resize",fn:o},{eventName:"wheel",fn:o,options:{passive:!0}},{eventName:_a,fn:o}]}function qC(t){const r=b.useRef(HC),o=Me(()=>({eventName:"keydown",fn:function(l){if(l.defaultPrevented||l.keyCode!==uv)return;const d=t.findClosestDraggableId(l);if(!d)return;const f=t.tryGetLock(d,x,{sourceEvent:l});if(!f)return;l.preventDefault();let p=!0;const m=f.snapLift();r.current();function x(){p||fe(),p=!1,r.current(),s()}r.current=fn(window,WC(m,x),{capture:!0,passive:!1})}}),[t]),s=Ce(function(){const l={passive:!1,capture:!0};r.current=fn(window,[o],l)},[o]);Jt(function(){return s(),function(){r.current()}},[s])}const su={type:"IDLE"},KC=120,YC=.15;function QC({cancel:t,getPhase:r}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:o=>{o.preventDefault()}},{eventName:"keydown",fn:o=>{if(r().type!=="DRAGGING"){t();return}o.keyCode===pd&&o.preventDefault(),t()}},{eventName:_a,fn:t}]}function XC({cancel:t,completed:r,getPhase:o}){return[{eventName:"touchmove",options:{capture:!1},fn:s=>{const a=o();if(a.type!=="DRAGGING"){t();return}a.hasMoved=!0;const{clientX:l,clientY:d}=s.touches[0],f={x:l,y:d};s.preventDefault(),a.actions.move(f)}},{eventName:"touchend",fn:s=>{const a=o();if(a.type!=="DRAGGING"){t();return}s.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:s=>{if(o().type!=="DRAGGING"){t();return}s.preventDefault(),t()}},{eventName:"touchforcechange",fn:s=>{const a=o();a.type==="IDLE"&&fe();const l=s.touches[0];if(!l||!(l.force>=YC))return;const f=a.actions.shouldRespectForcePress();if(a.type==="PENDING"){f&&t();return}if(f){if(a.hasMoved){s.preventDefault();return}t();return}s.preventDefault()}},{eventName:_a,fn:t}]}function ZC(t){const r=b.useRef(su),o=b.useRef(Nr),s=Ce(function(){return r.current},[]),a=Ce(function(N){r.current=N},[]),l=Me(()=>({eventName:"touchstart",fn:function(N){if(N.defaultPrevented)return;const S=t.findClosestDraggableId(N);if(!S)return;const j=t.tryGetLock(S,f,{sourceEvent:N});if(!j)return;const E=N.touches[0],{clientX:W,clientY:V}=E,B={x:W,y:V};o.current(),v(j,B)}}),[t]),d=Ce(function(){const N={capture:!0,passive:!1};o.current=fn(window,[l],N)},[l]),f=Ce(()=>{const y=r.current;y.type!=="IDLE"&&(y.type==="PENDING"&&clearTimeout(y.longPressTimerId),a(su),o.current(),d())},[d,a]),p=Ce(()=>{const y=r.current;f(),y.type==="DRAGGING"&&y.actions.cancel({shouldBlockNextClick:!0}),y.type==="PENDING"&&y.actions.abort()},[f]),m=Ce(function(){const N={capture:!0,passive:!1},S={cancel:p,completed:f,getPhase:s},j=fn(window,XC(S),N),E=fn(window,QC(S),N);o.current=function(){j(),E()}},[p,s,f]),x=Ce(function(){const N=s();N.type!=="PENDING"&&fe();const S=N.actions.fluidLift(N.point);a({type:"DRAGGING",actions:S,hasMoved:!1})},[s,a]),v=Ce(function(N,S){s().type!=="IDLE"&&fe();const j=setTimeout(x,KC);a({type:"PENDING",point:S,actions:N,longPressTimerId:j}),m()},[m,s,a,x]);Jt(function(){return d(),function(){o.current();const S=s();S.type==="PENDING"&&(clearTimeout(S.longPressTimerId),a(su))}},[s,d,a]),Jt(function(){return fn(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const JC=["input","button","textarea","select","option","optgroup","video","audio"];function pv(t,r){if(r==null)return!1;if(JC.includes(r.tagName.toLowerCase()))return!0;const s=r.getAttribute("contenteditable");return s==="true"||s===""?!0:r===t?!1:pv(t,r.parentElement)}function eS(t,r){const o=r.target;return Ta(o)?pv(t,o):!1}var tS=t=>Sn(t.getBoundingClientRect()).center;function nS(t){return t instanceof lv(t).Element}const rS=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(s=>s in Element.prototype)||t})();function hv(t,r){return t==null?null:t[rS](r)?t:hv(t.parentElement,r)}function oS(t,r){return t.closest?t.closest(r):hv(t,r)}function sS(t){return`[${jo.contextId}="${t}"]`}function iS(t,r){const o=r.target;if(!nS(o))return null;const s=sS(t),a=oS(o,s);return!a||!Ta(a)?null:a}function aS(t,r){const o=iS(t,r);return o?o.getAttribute(jo.draggableId):null}function lS(t,r){const o=`[${Du.contextId}="${t}"]`,a=av(document,o).find(l=>l.getAttribute(Du.id)===r);return!a||!Ta(a)?null:a}function cS(t){t.preventDefault()}function oa({expected:t,phase:r,isLockActive:o,shouldWarn:s}){return!(!o()||t!==r)}function mv({lockAPI:t,store:r,registry:o,draggableId:s}){if(t.isClaimed())return!1;const a=o.draggable.findById(s);return!(!a||!a.options.isEnabled||!rv(r.getState(),s))}function uS({lockAPI:t,contextId:r,store:o,registry:s,draggableId:a,forceSensorStop:l,sourceEvent:d}){if(!mv({lockAPI:t,store:o,registry:s,draggableId:a}))return null;const p=s.draggable.getById(a),m=lS(r,p.descriptor.id);if(!m||d&&!p.options.canDragInteractiveElements&&eS(m,d))return null;const x=t.claim(l||Nr);let v="PRE_DRAG";function y(){return p.options.shouldRespectForcePress}function N(){return t.isActive(x)}function S(T,$){oa({expected:T,phase:v,isLockActive:N,shouldWarn:!0})&&o.dispatch($())}const j=S.bind(null,"DRAGGING");function E(T){function $(){t.release(),v="COMPLETED"}v!=="PRE_DRAG"&&($(),fe()),o.dispatch(o2(T.liftActionArgs)),v="DRAGGING";function R(F,X={shouldBlockNextClick:!1}){if(T.cleanup(),X.shouldBlockNextClick){const ee=fn(window,[{eventName:"click",fn:cS,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(ee)}$(),o.dispatch(Yg({reason:F}))}return{isActive:()=>oa({expected:"DRAGGING",phase:v,isLockActive:N,shouldWarn:!1}),shouldRespectForcePress:y,drop:F=>R("DROP",F),cancel:F=>R("CANCEL",F),...T.actions}}function W(T){const $=Rs(F=>{j(()=>Kg({client:F}))});return{...E({liftActionArgs:{id:a,clientSelection:T,movementMode:"FLUID"},cleanup:()=>$.cancel(),actions:{move:$}}),move:$}}function V(){const T={moveUp:()=>j(p2),moveRight:()=>j(m2),moveDown:()=>j(h2),moveLeft:()=>j(g2)};return E({liftActionArgs:{id:a,clientSelection:tS(m),movementMode:"SNAP"},cleanup:Nr,actions:T})}function B(){oa({expected:"PRE_DRAG",phase:v,isLockActive:N,shouldWarn:!0})&&t.release()}return{isActive:()=>oa({expected:"PRE_DRAG",phase:v,isLockActive:N,shouldWarn:!1}),shouldRespectForcePress:y,fluidLift:W,snapLift:V,abort:B}}const dS=[GC,qC,ZC];function fS({contextId:t,store:r,registry:o,customSensors:s,enableDefaultSensors:a}){const l=[...a?dS:[],...s||[]],d=b.useState(()=>PC())[0],f=Ce(function(E,W){_s(E)&&!_s(W)&&d.tryAbandon()},[d]);Jt(function(){let E=r.getState();return r.subscribe(()=>{const V=r.getState();f(E,V),E=V})},[d,r,f]),Jt(()=>d.tryAbandon,[d.tryAbandon]);const p=Ce(j=>mv({lockAPI:d,registry:o,store:r,draggableId:j}),[d,o,r]),m=Ce((j,E,W)=>uS({lockAPI:d,registry:o,contextId:t,store:r,draggableId:j,forceSensorStop:E||null,sourceEvent:W&&W.sourceEvent?W.sourceEvent:null}),[t,d,o,r]),x=Ce(j=>aS(t,j),[t]),v=Ce(j=>{const E=o.draggable.findById(j);return E?E.options:null},[o.draggable]),y=Ce(function(){d.isClaimed()&&(d.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(od()))},[d,r]),N=Ce(()=>d.isClaimed(),[d]),S=Me(()=>({canGetLock:p,tryGetLock:m,findClosestDraggableId:x,findOptionsForDraggable:v,tryReleaseLock:y,isLockClaimed:N}),[p,m,x,v,y,N]);for(let j=0;j<l.length;j++)l[j](S)}const pS=t=>({onBeforeCapture:r=>{const o=()=>{t.onBeforeCapture&&t.onBeforeCapture(r)};Xn.flushSync(o)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),hS=t=>({...Os,...t.autoScrollerOptions,durationDampening:{...Os.durationDampening,...t.autoScrollerOptions}});function ys(t){return t.current||fe(),t.current}function mS(t){const{contextId:r,setCallbacks:o,sensors:s,nonce:a,dragHandleUsageInstructions:l}=t,d=b.useRef(null),f=cv(t),p=Ce(()=>pS(f.current),[f]),m=Ce(()=>hS(f.current),[f]),x=EC(r),v=AC({contextId:r,text:l}),y=xC(r,a),N=Ce(ee=>{ys(d).dispatch(ee)},[]),S=Me(()=>sm({publishWhileDragging:i2,updateDroppableScroll:l2,updateDroppableIsEnabled:c2,updateDroppableIsCombineEnabled:u2,collectionStarting:a2},N),[N]),j=NC(),E=Me(()=>Q2(j,S),[j,S]),W=Me(()=>pC({scrollWindow:X2,scrollDroppable:E.scrollDroppable,getAutoScrollerOptions:m,...sm({move:Kg},N)}),[E.scrollDroppable,N,m]),V=bC(r),B=Me(()=>W2({announce:x,autoScroller:W,dimensionMarshal:E,focusMarshal:V,getResponders:p,styleMarshal:y}),[x,W,E,V,p,y]);d.current=B;const z=Ce(()=>{const ee=ys(d);ee.getState().phase!=="IDLE"&&ee.dispatch(od())},[]),T=Ce(()=>{const ee=ys(d).getState();return ee.phase==="DROP_ANIMATING"?!0:ee.phase==="IDLE"?!1:ee.isDragging},[]),$=Me(()=>({isDragging:T,tryAbort:z}),[T,z]);o($);const R=Ce(ee=>rv(ys(d).getState(),ee),[]),F=Ce(()=>Wr(ys(d).getState()),[]),X=Me(()=>({marshal:E,focus:V,contextId:r,canLift:R,isMovementAllowed:F,dragHandleUsageInstructionsId:v,registry:j}),[r,E,v,V,R,F,j]);return fS({contextId:r,store:B,registry:j,customSensors:s||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),b.useEffect(()=>z,[z]),we.createElement(Oa.Provider,{value:X},we.createElement($w,{context:dd,store:B},t.children))}function gS(){return we.useId()}function gv(t){const r=gS(),o=t.dragHandleUsageInstructions||aa.dragHandleUsageInstructions;return we.createElement(qw,null,s=>we.createElement(mS,{nonce:t.nonce,contextId:r,setCallbacks:s,dragHandleUsageInstructions:o,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const Tm={dragging:5e3,dropAnimating:4500},vS=(t,r)=>r?Cs.drop(r.duration):t?Cs.snap:Cs.fluid,xS=(t,r)=>{if(t)return r?Ts.opacity.drop:Ts.opacity.combining},yS=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function bS(t){const o=t.dimension.client,{offset:s,combineWith:a,dropping:l}=t,d=!!a,f=yS(t),p=!!l,m=p?Su.drop(s,d):Su.moveTo(s);return{position:"fixed",top:o.marginBox.top,left:o.marginBox.left,boxSizing:"border-box",width:o.borderBox.width,height:o.borderBox.height,transition:vS(f,l),transform:m,opacity:xS(d,p),zIndex:p?Tm.dropAnimating:Tm.dragging,pointerEvents:"none"}}function wS(t){return{transform:Su.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function NS(t){return t.type==="DRAGGING"?bS(t):wS(t)}function CS(t,r,o=mt){const s=window.getComputedStyle(r),a=r.getBoundingClientRect(),l=Ng(a,s),d=ha(l,o),f={client:l,tagName:r.tagName.toLowerCase(),display:s.display},p={x:l.marginBox.width,y:l.marginBox.height};return{descriptor:t,placeholder:f,displaceBy:p,client:l,page:d}}function SS(t){const r=fd("draggable"),{descriptor:o,registry:s,getDraggableRef:a,canDragInteractiveElements:l,shouldRespectForcePress:d,isEnabled:f}=t,p=Me(()=>({canDragInteractiveElements:l,shouldRespectForcePress:d,isEnabled:f}),[l,f,d]),m=Ce(N=>{const S=a();return S||fe(),CS(o,S,N)},[o,a]),x=Me(()=>({uniqueId:r,descriptor:o,options:p,getDimension:m}),[o,m,p,r]),v=b.useRef(x),y=b.useRef(!0);Jt(()=>(s.draggable.register(v.current),()=>s.draggable.unregister(v.current)),[s.draggable]),Jt(()=>{if(y.current){y.current=!1;return}const N=v.current;v.current=x,s.draggable.update(x,N)},[x,s.draggable])}var hd=we.createContext(null);function ba(t){const r=b.useContext(t);return r||fe(),r}function ES(t){t.preventDefault()}const DS=t=>{const r=b.useRef(null),o=Ce(($=null)=>{r.current=$},[]),s=Ce(()=>r.current,[]),{contextId:a,dragHandleUsageInstructionsId:l,registry:d}=ba(Oa),{type:f,droppableId:p}=ba(hd),m=Me(()=>({id:t.draggableId,index:t.index,type:f,droppableId:p}),[t.draggableId,t.index,f,p]),{children:x,draggableId:v,isEnabled:y,shouldRespectForcePress:N,canDragInteractiveElements:S,isClone:j,mapped:E,dropAnimationFinished:W}=t;if(!j){const $=Me(()=>({descriptor:m,registry:d,getDraggableRef:s,canDragInteractiveElements:S,shouldRespectForcePress:N,isEnabled:y}),[m,d,s,S,N,y]);SS($)}const V=Me(()=>y?{tabIndex:0,role:"button","aria-describedby":l,"data-rfd-drag-handle-draggable-id":v,"data-rfd-drag-handle-context-id":a,draggable:!1,onDragStart:ES}:null,[a,l,v,y]),B=Ce($=>{E.type==="DRAGGING"&&E.dropping&&$.propertyName==="transform"&&Xn.flushSync(W)},[W,E]),z=Me(()=>{const $=NS(E),R=E.type==="DRAGGING"&&E.dropping?B:void 0;return{innerRef:o,draggableProps:{"data-rfd-draggable-context-id":a,"data-rfd-draggable-id":v,style:$,onTransitionEnd:R},dragHandleProps:V}},[a,V,v,E,B,o]),T=Me(()=>({draggableId:m.id,type:m.type,source:{index:m.index,droppableId:m.droppableId}}),[m.droppableId,m.id,m.index,m.type]);return we.createElement(we.Fragment,null,x(z,E.snapshot,T))};var vv=(t,r)=>t===r,xv=t=>{const{combine:r,destination:o}=t;return o?o.droppableId:r?r.droppableId:null};const jS=t=>t.combine?t.combine.draggableId:null,AS=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function PS(){const t=ht((a,l)=>({x:a,y:l})),r=ht((a,l,d=null,f=null,p=null)=>({isDragging:!0,isClone:l,isDropAnimating:!!p,dropAnimation:p,mode:a,draggingOver:d,combineWith:f,combineTargetFor:null})),o=ht((a,l,d,f,p=null,m=null,x=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:p,combineWith:m,mode:l,offset:a,dimension:d,forceShouldAnimate:x,snapshot:r(l,f,p,m,null)}}));return(a,l)=>{if(_s(a)){if(a.critical.draggable.id!==l.draggableId)return null;const d=a.current.client.offset,f=a.dimensions.draggables[l.draggableId],p=Zt(a.impact),m=AS(a.impact),x=a.forceShouldAnimate;return o(t(d.x,d.y),a.movementMode,f,l.isClone,p,m,x)}if(a.phase==="DROP_ANIMATING"){const d=a.completed;if(d.result.draggableId!==l.draggableId)return null;const f=l.isClone,p=a.dimensions.draggables[l.draggableId],m=d.result,x=m.mode,v=xv(m),y=jS(m),S={duration:a.dropDuration,curve:id.drop,moveTo:a.newHomeClientOffset,opacity:y?Ts.opacity.drop:null,scale:y?Ts.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:p,dropping:S,draggingOver:v,combineWith:y,mode:x,forceShouldAnimate:null,snapshot:r(x,f,v,y,S)}}}return null}}function yv(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const RS={mapped:{type:"SECONDARY",offset:mt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:yv(null)}};function kS(){const t=ht((d,f)=>({x:d,y:f})),r=ht(yv),o=ht((d,f=null,p)=>({mapped:{type:"SECONDARY",offset:d,combineTargetFor:f,shouldAnimateDisplacement:p,snapshot:r(f)}})),s=d=>d?o(mt,d,!0):null,a=(d,f,p,m)=>{const x=p.displaced.visible[d],v=!!(m.inVirtualList&&m.effected[d]),y=ka(p),N=y&&y.draggableId===d?f:null;if(!x){if(!v)return s(N);if(p.displaced.invisible[d])return null;const E=Po(m.displacedBy.point),W=t(E.x,E.y);return o(W,N,!0)}if(v)return s(N);const S=p.displacedBy.point,j=t(S.x,S.y);return o(j,N,x.shouldAnimate)};return(d,f)=>{if(_s(d))return d.critical.draggable.id===f.draggableId?null:a(f.draggableId,d.critical.draggable.id,d.impact,d.afterCritical);if(d.phase==="DROP_ANIMATING"){const p=d.completed;return p.result.draggableId===f.draggableId?null:a(f.draggableId,p.result.draggableId,p.impact,p.afterCritical)}return null}}const IS=()=>{const t=PS(),r=kS();return(s,a)=>t(s,a)||r(s,a)||RS},MS={dropAnimationFinished:Qg},TS=wg(IS,MS,null,{context:dd,areStatePropsEqual:vv})(DS);function bv(t){return ba(hd).isUsingCloneFor===t.draggableId&&!t.isClone?null:we.createElement(TS,t)}function wv(t){const r=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,o=!!t.disableInteractiveElementBlocking,s=!!t.shouldRespectForcePress;return we.createElement(bv,ma({},t,{isClone:!1,isEnabled:r,canDragInteractiveElements:o,shouldRespectForcePress:s}))}const Nv=t=>r=>t===r,OS=Nv("scroll"),_S=Nv("auto"),Om=(t,r)=>r(t.overflowX)||r(t.overflowY),LS=t=>{const r=window.getComputedStyle(t),o={overflowX:r.overflowX,overflowY:r.overflowY};return Om(o,OS)||Om(o,_S)},BS=()=>!1,Cv=t=>t==null?null:t===document.body?BS()?t:null:t===document.documentElement?null:LS(t)?t:Cv(t.parentElement);var ju=t=>({x:t.scrollLeft,y:t.scrollTop});const Sv=t=>t?window.getComputedStyle(t).position==="fixed"?!0:Sv(t.parentElement):!1;var FS=t=>{const r=Cv(t),o=Sv(t);return{closestScrollable:r,isFixedOnPage:o}},$S=({descriptor:t,isEnabled:r,isCombineEnabled:o,isFixedOnPage:s,direction:a,client:l,page:d,closest:f})=>{const p=(()=>{if(!f)return null;const{scrollSize:y,client:N}=f,S=ev({scrollHeight:y.scrollHeight,scrollWidth:y.scrollWidth,height:N.paddingBox.height,width:N.paddingBox.width});return{pageMarginBox:f.page.marginBox,frameClient:N,scrollSize:y,shouldClipSubject:f.shouldClipSubject,scroll:{initial:f.scroll,current:f.scroll,max:S,diff:{value:mt,displacement:mt}}}})(),m=a==="vertical"?Ju:Mg,x=Eo({page:d,withPlaceholder:null,axis:m,frame:p});return{descriptor:t,isCombineEnabled:o,isFixedOnPage:s,axis:m,isEnabled:r,client:l,page:d,frame:p,subject:x}};const zS=(t,r)=>{const o=Cg(t);if(!r||t!==r)return o;const s=o.paddingBox.top-r.scrollTop,a=o.paddingBox.left-r.scrollLeft,l=s+r.scrollHeight,d=a+r.scrollWidth,p=Yu({top:s,right:d,bottom:l,left:a},o.border);return Qu({borderBox:p,margin:o.margin,border:o.border,padding:o.padding})};var VS=({ref:t,descriptor:r,env:o,windowScroll:s,direction:a,isDropDisabled:l,isCombineEnabled:d,shouldClipSubject:f})=>{const p=o.closestScrollable,m=zS(t,p),x=ha(m,s),v=(()=>{if(!p)return null;const N=Cg(p),S={scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth};return{client:N,page:ha(N,s),scroll:ju(p),scrollSize:S,shouldClipSubject:f}})();return $S({descriptor:r,isEnabled:!l,isCombineEnabled:d,isFixedOnPage:o.isFixedOnPage,direction:a,client:m,page:x,closest:v})};const GS={passive:!1},HS={passive:!0};var _m=t=>t.shouldPublishImmediately?GS:HS;const sa=t=>t&&t.env.closestScrollable||null;function US(t){const r=b.useRef(null),o=ba(Oa),s=fd("droppable"),{registry:a,marshal:l}=o,d=cv(t),f=Me(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),p=b.useRef(f),m=Me(()=>ht((z,T)=>{r.current||fe();const $={x:z,y:T};l.updateDroppableScroll(f.id,$)}),[f.id,l]),x=Ce(()=>{const z=r.current;return!z||!z.env.closestScrollable?mt:ju(z.env.closestScrollable)},[]),v=Ce(()=>{const z=x();m(z.x,z.y)},[x,m]),y=Me(()=>Rs(v),[v]),N=Ce(()=>{const z=r.current,T=sa(z);if(z&&T||fe(),z.scrollOptions.shouldPublishImmediately){v();return}y()},[y,v]),S=Ce((z,T)=>{r.current&&fe();const $=d.current,R=$.getDroppableRef();R||fe();const F=FS(R),X={ref:R,descriptor:f,env:F,scrollOptions:T};r.current=X;const ee=VS({ref:R,descriptor:f,env:F,windowScroll:z,direction:$.direction,isDropDisabled:$.isDropDisabled,isCombineEnabled:$.isCombineEnabled,shouldClipSubject:!$.ignoreContainerClipping}),ie=F.closestScrollable;return ie&&(ie.setAttribute(Rm.contextId,o.contextId),ie.addEventListener("scroll",N,_m(X.scrollOptions))),ee},[o.contextId,f,N,d]),j=Ce(()=>{const z=r.current,T=sa(z);return z&&T||fe(),ju(T)},[]),E=Ce(()=>{const z=r.current;z||fe();const T=sa(z);r.current=null,T&&(y.cancel(),T.removeAttribute(Rm.contextId),T.removeEventListener("scroll",N,_m(z.scrollOptions)))},[N,y]),W=Ce(z=>{const T=r.current;T||fe();const $=sa(T);$||fe(),$.scrollTop+=z.y,$.scrollLeft+=z.x},[]),V=Me(()=>({getDimensionAndWatchScroll:S,getScrollWhileDragging:j,dragStopped:E,scroll:W}),[E,S,j,W]),B=Me(()=>({uniqueId:s,descriptor:f,callbacks:V}),[V,f,s]);Jt(()=>(p.current=B.descriptor,a.droppable.register(B),()=>{r.current&&E(),a.droppable.unregister(B)}),[V,f,E,B,l,a.droppable]),Jt(()=>{r.current&&l.updateDroppableIsEnabled(p.current.id,!t.isDropDisabled)},[t.isDropDisabled,l]),Jt(()=>{r.current&&l.updateDroppableIsCombineEnabled(p.current.id,t.isCombineEnabled)},[t.isCombineEnabled,l])}function iu(){}const Lm={width:0,height:0,margin:eN},WS=({isAnimatingOpenOnMount:t,placeholder:r,animate:o})=>t||o==="close"?Lm:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin},qS=({isAnimatingOpenOnMount:t,placeholder:r,animate:o})=>{const s=WS({isAnimatingOpenOnMount:t,placeholder:r,animate:o});return{display:r.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:o!=="none"?Cs.placeholder:null}},KS=t=>{const r=b.useRef(null),o=Ce(()=>{r.current&&(clearTimeout(r.current),r.current=null)},[]),{animate:s,onTransitionEnd:a,onClose:l,contextId:d}=t,[f,p]=b.useState(t.animate==="open");b.useEffect(()=>f?s!=="open"?(o(),p(!1),iu):r.current?iu:(r.current=setTimeout(()=>{r.current=null,p(!1)}),o):iu,[s,f,o]);const m=Ce(v=>{v.propertyName==="height"&&(a(),s==="close"&&l())},[s,l,a]),x=qS({isAnimatingOpenOnMount:f,animate:t.animate,placeholder:t.placeholder});return we.createElement(t.placeholder.tagName,{style:x,"data-rfd-placeholder-context-id":d,onTransitionEnd:m,ref:t.innerRef})};var YS=we.memo(KS);class QS extends we.PureComponent{constructor(...r){super(...r),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(r,o){return r.shouldAnimate?r.on?{isVisible:!0,data:r.on,animate:"open"}:o.isVisible?{isVisible:!0,data:o.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!r.on,data:r.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const r={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(r)}}const XS=t=>{const r=b.useContext(Oa);r||fe();const{contextId:o,isMovementAllowed:s}=r,a=b.useRef(null),l=b.useRef(null),{children:d,droppableId:f,type:p,mode:m,direction:x,ignoreContainerClipping:v,isDropDisabled:y,isCombineEnabled:N,snapshot:S,useClone:j,updateViewportMaxScroll:E,getContainerForClone:W}=t,V=Ce(()=>a.current,[]),B=Ce((ie=null)=>{a.current=ie},[]);Ce(()=>l.current,[]);const z=Ce((ie=null)=>{l.current=ie},[]),T=Ce(()=>{s()&&E({maxScroll:nv()})},[s,E]);US({droppableId:f,type:p,mode:m,direction:x,isDropDisabled:y,isCombineEnabled:N,ignoreContainerClipping:v,getDroppableRef:V});const $=Me(()=>we.createElement(QS,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:ie,data:k,animate:O})=>we.createElement(YS,{placeholder:k,onClose:ie,innerRef:z,animate:O,contextId:o,onTransitionEnd:T})),[o,T,t.placeholder,t.shouldAnimatePlaceholder,z]),R=Me(()=>({innerRef:B,placeholder:$,droppableProps:{"data-rfd-droppable-id":f,"data-rfd-droppable-context-id":o}}),[o,f,$,B]),F=j?j.dragging.draggableId:null,X=Me(()=>({droppableId:f,type:p,isUsingCloneFor:F}),[f,F,p]);function ee(){if(!j)return null;const{dragging:ie,render:k}=j,O=we.createElement(bv,{draggableId:ie.draggableId,index:ie.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(G,te)=>k(G,te,ie));return Yb.createPortal(O,W())}return we.createElement(hd.Provider,{value:X},d(R,S),ee())};function ZS(){return document.body||fe(),document.body}const Bm={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:ZS},Ev=t=>{let r={...t},o;for(o in Bm)t[o]===void 0&&(r={...r,[o]:Bm[o]});return r},au=(t,r)=>t===r.droppable.type,Fm=(t,r)=>r.draggables[t.draggable.id],JS=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r={...t,shouldAnimatePlaceholder:!1},o=ht(l=>({draggableId:l.id,type:l.type,source:{index:l.index,droppableId:l.droppableId}})),s=ht((l,d,f,p,m,x)=>{const v=m.descriptor.id;if(m.descriptor.droppableId===l){const S=x?{render:x,dragging:o(m.descriptor)}:null,j={isDraggingOver:f,draggingOverWith:f?v:null,draggingFromThisWith:v,isUsingPlaceholder:!0};return{placeholder:m.placeholder,shouldAnimatePlaceholder:!1,snapshot:j,useClone:S}}if(!d)return r;if(!p)return t;const N={isDraggingOver:f,draggingOverWith:v,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:m.placeholder,shouldAnimatePlaceholder:!0,snapshot:N,useClone:null}});return(l,d)=>{const f=Ev(d),p=f.droppableId,m=f.type,x=!f.isDropDisabled,v=f.renderClone;if(_s(l)){const y=l.critical;if(!au(m,y))return r;const N=Fm(y,l.dimensions),S=Zt(l.impact)===p;return s(p,x,S,S,N,v)}if(l.phase==="DROP_ANIMATING"){const y=l.completed;if(!au(m,y.critical))return r;const N=Fm(y.critical,l.dimensions);return s(p,x,xv(y.result)===p,Zt(y.impact)===p,N,v)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){const y=l.completed;if(!au(m,y.critical))return r;const N=Zt(y.impact)===p,S=!!(y.impact.at&&y.impact.at.type==="COMBINE"),j=y.critical.droppable.id===p;return N?S?t:r:j?t:r}return r}},e4={updateViewportMaxScroll:f2},Dv=wg(JS,e4,(t,r,o)=>({...Ev(o),...t,...r}),{context:dd,areStatePropsEqual:vv})(XS);function t4(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return b.useMemo(()=>s=>{r.forEach(a=>a(s))},r)}const La=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Io(t){const r=Object.prototype.toString.call(t);return r==="[object Window]"||r==="[object global]"}function md(t){return"nodeType"in t}function Gt(t){var r,o;return t?Io(t)?t:md(t)&&(r=(o=t.ownerDocument)==null?void 0:o.defaultView)!=null?r:window:window}function gd(t){const{Document:r}=Gt(t);return t instanceof r}function Us(t){return Io(t)?!1:t instanceof Gt(t).HTMLElement}function jv(t){return t instanceof Gt(t).SVGElement}function Mo(t){return t?Io(t)?t.document:md(t)?gd(t)?t:Us(t)||jv(t)?t.ownerDocument:document:document:document}const Ln=La?b.useLayoutEffect:b.useEffect;function vd(t){const r=b.useRef(t);return Ln(()=>{r.current=t}),b.useCallback(function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return r.current==null?void 0:r.current(...s)},[])}function n4(){const t=b.useRef(null),r=b.useCallback((s,a)=>{t.current=setInterval(s,a)},[]),o=b.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[r,o]}function Ls(t,r){r===void 0&&(r=[t]);const o=b.useRef(t);return Ln(()=>{o.current!==t&&(o.current=t)},r),o}function Ws(t,r){const o=b.useRef();return b.useMemo(()=>{const s=t(o.current);return o.current=s,s},[...r])}function wa(t){const r=vd(t),o=b.useRef(null),s=b.useCallback(a=>{a!==o.current&&r?.(a,o.current),o.current=a},[]);return[o,s]}function Au(t){const r=b.useRef();return b.useEffect(()=>{r.current=t},[t]),r.current}let lu={};function qs(t,r){return b.useMemo(()=>{if(r)return r;const o=lu[t]==null?0:lu[t]+1;return lu[t]=o,t+"-"+o},[t,r])}function Av(t){return function(r){for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];return s.reduce((l,d)=>{const f=Object.entries(d);for(const[p,m]of f){const x=l[p];x!=null&&(l[p]=x+t*m)}return l},{...r})}}const Co=Av(1),Bs=Av(-1);function r4(t){return"clientX"in t&&"clientY"in t}function xd(t){if(!t)return!1;const{KeyboardEvent:r}=Gt(t.target);return r&&t instanceof r}function o4(t){if(!t)return!1;const{TouchEvent:r}=Gt(t.target);return r&&t instanceof r}function Pu(t){if(o4(t)){if(t.touches&&t.touches.length){const{clientX:r,clientY:o}=t.touches[0];return{x:r,y:o}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:r,clientY:o}=t.changedTouches[0];return{x:r,y:o}}}return r4(t)?{x:t.clientX,y:t.clientY}:null}const Fs=Object.freeze({Translate:{toString(t){if(!t)return;const{x:r,y:o}=t;return"translate3d("+(r?Math.round(r):0)+"px, "+(o?Math.round(o):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:r,scaleY:o}=t;return"scaleX("+r+") scaleY("+o+")"}},Transform:{toString(t){if(t)return[Fs.Translate.toString(t),Fs.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:r,duration:o,easing:s}=t;return r+" "+o+"ms "+s}}}),$m="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function s4(t){return t.matches($m)?t:t.querySelector($m)}const i4={display:"none"};function a4(t){let{id:r,value:o}=t;return we.createElement("div",{id:r,style:i4},o)}function l4(t){let{id:r,announcement:o,ariaLiveType:s="assertive"}=t;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return we.createElement("div",{id:r,style:a,role:"status","aria-live":s,"aria-atomic":!0},o)}function c4(){const[t,r]=b.useState("");return{announce:b.useCallback(s=>{s!=null&&r(s)},[]),announcement:t}}const Pv=b.createContext(null);function u4(t){const r=b.useContext(Pv);b.useEffect(()=>{if(!r)throw new Error("useDndMonitor must be used within a children of <DndContext>");return r(t)},[t,r])}function d4(){const[t]=b.useState(()=>new Set),r=b.useCallback(s=>(t.add(s),()=>t.delete(s)),[t]);return[b.useCallback(s=>{let{type:a,event:l}=s;t.forEach(d=>{var f;return(f=d[a])==null?void 0:f.call(d,l)})},[t]),r]}const f4={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},p4={onDragStart(t){let{active:r}=t;return"Picked up draggable item "+r.id+"."},onDragOver(t){let{active:r,over:o}=t;return o?"Draggable item "+r.id+" was moved over droppable area "+o.id+".":"Draggable item "+r.id+" is no longer over a droppable area."},onDragEnd(t){let{active:r,over:o}=t;return o?"Draggable item "+r.id+" was dropped over droppable area "+o.id:"Draggable item "+r.id+" was dropped."},onDragCancel(t){let{active:r}=t;return"Dragging was cancelled. Draggable item "+r.id+" was dropped."}};function h4(t){let{announcements:r=p4,container:o,hiddenTextDescribedById:s,screenReaderInstructions:a=f4}=t;const{announce:l,announcement:d}=c4(),f=qs("DndLiveRegion"),[p,m]=b.useState(!1);if(b.useEffect(()=>{m(!0)},[]),u4(b.useMemo(()=>({onDragStart(v){let{active:y}=v;l(r.onDragStart({active:y}))},onDragMove(v){let{active:y,over:N}=v;r.onDragMove&&l(r.onDragMove({active:y,over:N}))},onDragOver(v){let{active:y,over:N}=v;l(r.onDragOver({active:y,over:N}))},onDragEnd(v){let{active:y,over:N}=v;l(r.onDragEnd({active:y,over:N}))},onDragCancel(v){let{active:y,over:N}=v;l(r.onDragCancel({active:y,over:N}))}}),[l,r])),!p)return null;const x=we.createElement(we.Fragment,null,we.createElement(a4,{id:s,value:a.draggable}),we.createElement(l4,{id:f,announcement:d}));return o?Xn.createPortal(x,o):x}var it;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(it||(it={}));function Na(){}function cu(t,r){return b.useMemo(()=>({sensor:t,options:r??{}}),[t,r])}function m4(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return b.useMemo(()=>[...r].filter(s=>s!=null),[...r])}const En=Object.freeze({x:0,y:0});function Rv(t,r){return Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))}function kv(t,r){let{data:{value:o}}=t,{data:{value:s}}=r;return o-s}function g4(t,r){let{data:{value:o}}=t,{data:{value:s}}=r;return s-o}function zm(t){let{left:r,top:o,height:s,width:a}=t;return[{x:r,y:o},{x:r+a,y:o},{x:r,y:o+s},{x:r+a,y:o+s}]}function Iv(t,r){if(!t||t.length===0)return null;const[o]=t;return o[r]}function Vm(t,r,o){return r===void 0&&(r=t.left),o===void 0&&(o=t.top),{x:r+t.width*.5,y:o+t.height*.5}}const v4=t=>{let{collisionRect:r,droppableRects:o,droppableContainers:s}=t;const a=Vm(r,r.left,r.top),l=[];for(const d of s){const{id:f}=d,p=o.get(f);if(p){const m=Rv(Vm(p),a);l.push({id:f,data:{droppableContainer:d,value:m}})}}return l.sort(kv)},x4=t=>{let{collisionRect:r,droppableRects:o,droppableContainers:s}=t;const a=zm(r),l=[];for(const d of s){const{id:f}=d,p=o.get(f);if(p){const m=zm(p),x=a.reduce((y,N,S)=>y+Rv(m[S],N),0),v=Number((x/4).toFixed(4));l.push({id:f,data:{droppableContainer:d,value:v}})}}return l.sort(kv)};function y4(t,r){const o=Math.max(r.top,t.top),s=Math.max(r.left,t.left),a=Math.min(r.left+r.width,t.left+t.width),l=Math.min(r.top+r.height,t.top+t.height),d=a-s,f=l-o;if(s<a&&o<l){const p=r.width*r.height,m=t.width*t.height,x=d*f,v=x/(p+m-x);return Number(v.toFixed(4))}return 0}const b4=t=>{let{collisionRect:r,droppableRects:o,droppableContainers:s}=t;const a=[];for(const l of s){const{id:d}=l,f=o.get(d);if(f){const p=y4(f,r);p>0&&a.push({id:d,data:{droppableContainer:l,value:p}})}}return a.sort(g4)};function w4(t,r,o){return{...t,scaleX:r&&o?r.width/o.width:1,scaleY:r&&o?r.height/o.height:1}}function Mv(t,r){return t&&r?{x:t.left-r.left,y:t.top-r.top}:En}function N4(t){return function(o){for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return a.reduce((d,f)=>({...d,top:d.top+t*f.y,bottom:d.bottom+t*f.y,left:d.left+t*f.x,right:d.right+t*f.x}),{...o})}}const C4=N4(1);function S4(t){if(t.startsWith("matrix3d(")){const r=t.slice(9,-1).split(/, /);return{x:+r[12],y:+r[13],scaleX:+r[0],scaleY:+r[5]}}else if(t.startsWith("matrix(")){const r=t.slice(7,-1).split(/, /);return{x:+r[4],y:+r[5],scaleX:+r[0],scaleY:+r[3]}}return null}function E4(t,r,o){const s=S4(r);if(!s)return t;const{scaleX:a,scaleY:l,x:d,y:f}=s,p=t.left-d-(1-a)*parseFloat(o),m=t.top-f-(1-l)*parseFloat(o.slice(o.indexOf(" ")+1)),x=a?t.width/a:t.width,v=l?t.height/l:t.height;return{width:x,height:v,top:m,right:p+x,bottom:m+v,left:p}}const D4={ignoreTransform:!1};function To(t,r){r===void 0&&(r=D4);let o=t.getBoundingClientRect();if(r.ignoreTransform){const{transform:m,transformOrigin:x}=Gt(t).getComputedStyle(t);m&&(o=E4(o,m,x))}const{top:s,left:a,width:l,height:d,bottom:f,right:p}=o;return{top:s,left:a,width:l,height:d,bottom:f,right:p}}function Gm(t){return To(t,{ignoreTransform:!0})}function j4(t){const r=t.innerWidth,o=t.innerHeight;return{top:0,left:0,right:r,bottom:o,width:r,height:o}}function A4(t,r){return r===void 0&&(r=Gt(t).getComputedStyle(t)),r.position==="fixed"}function P4(t,r){r===void 0&&(r=Gt(t).getComputedStyle(t));const o=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const l=r[a];return typeof l=="string"?o.test(l):!1})}function Ba(t,r){const o=[];function s(a){if(r!=null&&o.length>=r||!a)return o;if(gd(a)&&a.scrollingElement!=null&&!o.includes(a.scrollingElement))return o.push(a.scrollingElement),o;if(!Us(a)||jv(a)||o.includes(a))return o;const l=Gt(t).getComputedStyle(a);return a!==t&&P4(a,l)&&o.push(a),A4(a,l)?o:s(a.parentNode)}return t?s(t):o}function Tv(t){const[r]=Ba(t,1);return r??null}function uu(t){return!La||!t?null:Io(t)?t:md(t)?gd(t)||t===Mo(t).scrollingElement?window:Us(t)?t:null:null}function Ov(t){return Io(t)?t.scrollX:t.scrollLeft}function _v(t){return Io(t)?t.scrollY:t.scrollTop}function Ru(t){return{x:Ov(t),y:_v(t)}}var pt;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(pt||(pt={}));function Lv(t){return!La||!t?!1:t===document.scrollingElement}function Bv(t){const r={x:0,y:0},o=Lv(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},s={x:t.scrollWidth-o.width,y:t.scrollHeight-o.height},a=t.scrollTop<=r.y,l=t.scrollLeft<=r.x,d=t.scrollTop>=s.y,f=t.scrollLeft>=s.x;return{isTop:a,isLeft:l,isBottom:d,isRight:f,maxScroll:s,minScroll:r}}const R4={x:.2,y:.2};function k4(t,r,o,s,a){let{top:l,left:d,right:f,bottom:p}=o;s===void 0&&(s=10),a===void 0&&(a=R4);const{isTop:m,isBottom:x,isLeft:v,isRight:y}=Bv(t),N={x:0,y:0},S={x:0,y:0},j={height:r.height*a.y,width:r.width*a.x};return!m&&l<=r.top+j.height?(N.y=pt.Backward,S.y=s*Math.abs((r.top+j.height-l)/j.height)):!x&&p>=r.bottom-j.height&&(N.y=pt.Forward,S.y=s*Math.abs((r.bottom-j.height-p)/j.height)),!y&&f>=r.right-j.width?(N.x=pt.Forward,S.x=s*Math.abs((r.right-j.width-f)/j.width)):!v&&d<=r.left+j.width&&(N.x=pt.Backward,S.x=s*Math.abs((r.left+j.width-d)/j.width)),{direction:N,speed:S}}function I4(t){if(t===document.scrollingElement){const{innerWidth:l,innerHeight:d}=window;return{top:0,left:0,right:l,bottom:d,width:l,height:d}}const{top:r,left:o,right:s,bottom:a}=t.getBoundingClientRect();return{top:r,left:o,right:s,bottom:a,width:t.clientWidth,height:t.clientHeight}}function Fv(t){return t.reduce((r,o)=>Co(r,Ru(o)),En)}function M4(t){return t.reduce((r,o)=>r+Ov(o),0)}function T4(t){return t.reduce((r,o)=>r+_v(o),0)}function O4(t,r){if(r===void 0&&(r=To),!t)return;const{top:o,left:s,bottom:a,right:l}=r(t);Tv(t)&&(a<=0||l<=0||o>=window.innerHeight||s>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const _4=[["x",["left","right"],M4],["y",["top","bottom"],T4]];class yd{constructor(r,o){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=Ba(o),a=Fv(s);this.rect={...r},this.width=r.width,this.height=r.height;for(const[l,d,f]of _4)for(const p of d)Object.defineProperty(this,p,{get:()=>{const m=f(s),x=a[l]-m;return this.rect[p]+x},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ss{constructor(r){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(o=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...o)})},this.target=r}add(r,o,s){var a;(a=this.target)==null||a.addEventListener(r,o,s),this.listeners.push([r,o,s])}}function L4(t){const{EventTarget:r}=Gt(t);return t instanceof r?t:Mo(t)}function du(t,r){const o=Math.abs(t.x),s=Math.abs(t.y);return typeof r=="number"?Math.sqrt(o**2+s**2)>r:"x"in r&&"y"in r?o>r.x&&s>r.y:"x"in r?o>r.x:"y"in r?s>r.y:!1}var dn;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(dn||(dn={}));function Hm(t){t.preventDefault()}function B4(t){t.stopPropagation()}var Ie;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Ie||(Ie={}));const $v={start:[Ie.Space,Ie.Enter],cancel:[Ie.Esc],end:[Ie.Space,Ie.Enter,Ie.Tab]},F4=(t,r)=>{let{currentCoordinates:o}=r;switch(t.code){case Ie.Right:return{...o,x:o.x+25};case Ie.Left:return{...o,x:o.x-25};case Ie.Down:return{...o,y:o.y+25};case Ie.Up:return{...o,y:o.y-25}}};class bd{constructor(r){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=r;const{event:{target:o}}=r;this.props=r,this.listeners=new Ss(Mo(o)),this.windowListeners=new Ss(Gt(o)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(dn.Resize,this.handleCancel),this.windowListeners.add(dn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(dn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:r,onStart:o}=this.props,s=r.node.current;s&&O4(s),o(En)}handleKeyDown(r){if(xd(r)){const{active:o,context:s,options:a}=this.props,{keyboardCodes:l=$v,coordinateGetter:d=F4,scrollBehavior:f="smooth"}=a,{code:p}=r;if(l.end.includes(p)){this.handleEnd(r);return}if(l.cancel.includes(p)){this.handleCancel(r);return}const{collisionRect:m}=s.current,x=m?{x:m.left,y:m.top}:En;this.referenceCoordinates||(this.referenceCoordinates=x);const v=d(r,{active:o,context:s.current,currentCoordinates:x});if(v){const y=Bs(v,x),N={x:0,y:0},{scrollableAncestors:S}=s.current;for(const j of S){const E=r.code,{isTop:W,isRight:V,isLeft:B,isBottom:z,maxScroll:T,minScroll:$}=Bv(j),R=I4(j),F={x:Math.min(E===Ie.Right?R.right-R.width/2:R.right,Math.max(E===Ie.Right?R.left:R.left+R.width/2,v.x)),y:Math.min(E===Ie.Down?R.bottom-R.height/2:R.bottom,Math.max(E===Ie.Down?R.top:R.top+R.height/2,v.y))},X=E===Ie.Right&&!V||E===Ie.Left&&!B,ee=E===Ie.Down&&!z||E===Ie.Up&&!W;if(X&&F.x!==v.x){const ie=j.scrollLeft+y.x,k=E===Ie.Right&&ie<=T.x||E===Ie.Left&&ie>=$.x;if(k&&!y.y){j.scrollTo({left:ie,behavior:f});return}k?N.x=j.scrollLeft-ie:N.x=E===Ie.Right?j.scrollLeft-T.x:j.scrollLeft-$.x,N.x&&j.scrollBy({left:-N.x,behavior:f});break}else if(ee&&F.y!==v.y){const ie=j.scrollTop+y.y,k=E===Ie.Down&&ie<=T.y||E===Ie.Up&&ie>=$.y;if(k&&!y.x){j.scrollTo({top:ie,behavior:f});return}k?N.y=j.scrollTop-ie:N.y=E===Ie.Down?j.scrollTop-T.y:j.scrollTop-$.y,N.y&&j.scrollBy({top:-N.y,behavior:f});break}}this.handleMove(r,Co(Bs(v,this.referenceCoordinates),N))}}}handleMove(r,o){const{onMove:s}=this.props;r.preventDefault(),s(o)}handleEnd(r){const{onEnd:o}=this.props;r.preventDefault(),this.detach(),o()}handleCancel(r){const{onCancel:o}=this.props;r.preventDefault(),this.detach(),o()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}bd.activators=[{eventName:"onKeyDown",handler:(t,r,o)=>{let{keyboardCodes:s=$v,onActivation:a}=r,{active:l}=o;const{code:d}=t.nativeEvent;if(s.start.includes(d)){const f=l.activatorNode.current;return f&&t.target!==f?!1:(t.preventDefault(),a?.({event:t.nativeEvent}),!0)}return!1}}];function Um(t){return!!(t&&"distance"in t)}function Wm(t){return!!(t&&"delay"in t)}class wd{constructor(r,o,s){var a;s===void 0&&(s=L4(r.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=r,this.events=o;const{event:l}=r,{target:d}=l;this.props=r,this.events=o,this.document=Mo(d),this.documentListeners=new Ss(this.document),this.listeners=new Ss(s),this.windowListeners=new Ss(Gt(d)),this.initialCoordinates=(a=Pu(l))!=null?a:En,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:r,props:{options:{activationConstraint:o,bypassActivationConstraint:s}}}=this;if(this.listeners.add(r.move.name,this.handleMove,{passive:!1}),this.listeners.add(r.end.name,this.handleEnd),r.cancel&&this.listeners.add(r.cancel.name,this.handleCancel),this.windowListeners.add(dn.Resize,this.handleCancel),this.windowListeners.add(dn.DragStart,Hm),this.windowListeners.add(dn.VisibilityChange,this.handleCancel),this.windowListeners.add(dn.ContextMenu,Hm),this.documentListeners.add(dn.Keydown,this.handleKeydown),o){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Wm(o)){this.timeoutId=setTimeout(this.handleStart,o.delay),this.handlePending(o);return}if(Um(o)){this.handlePending(o);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(r,o){const{active:s,onPending:a}=this.props;a(s,r,this.initialCoordinates,o)}handleStart(){const{initialCoordinates:r}=this,{onStart:o}=this.props;r&&(this.activated=!0,this.documentListeners.add(dn.Click,B4,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(dn.SelectionChange,this.removeTextSelection),o(r))}handleMove(r){var o;const{activated:s,initialCoordinates:a,props:l}=this,{onMove:d,options:{activationConstraint:f}}=l;if(!a)return;const p=(o=Pu(r))!=null?o:En,m=Bs(a,p);if(!s&&f){if(Um(f)){if(f.tolerance!=null&&du(m,f.tolerance))return this.handleCancel();if(du(m,f.distance))return this.handleStart()}if(Wm(f)&&du(m,f.tolerance))return this.handleCancel();this.handlePending(f,m);return}r.cancelable&&r.preventDefault(),d(p)}handleEnd(){const{onAbort:r,onEnd:o}=this.props;this.detach(),this.activated||r(this.props.active),o()}handleCancel(){const{onAbort:r,onCancel:o}=this.props;this.detach(),this.activated||r(this.props.active),o()}handleKeydown(r){r.code===Ie.Esc&&this.handleCancel()}removeTextSelection(){var r;(r=this.document.getSelection())==null||r.removeAllRanges()}}const $4={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Nd extends wd{constructor(r){const{event:o}=r,s=Mo(o.target);super(r,$4,s)}}Nd.activators=[{eventName:"onPointerDown",handler:(t,r)=>{let{nativeEvent:o}=t,{onActivation:s}=r;return!o.isPrimary||o.button!==0?!1:(s?.({event:o}),!0)}}];const z4={move:{name:"mousemove"},end:{name:"mouseup"}};var ku;(function(t){t[t.RightClick=2]="RightClick"})(ku||(ku={}));class V4 extends wd{constructor(r){super(r,z4,Mo(r.event.target))}}V4.activators=[{eventName:"onMouseDown",handler:(t,r)=>{let{nativeEvent:o}=t,{onActivation:s}=r;return o.button===ku.RightClick?!1:(s?.({event:o}),!0)}}];const fu={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class zv extends wd{constructor(r){super(r,fu)}static setup(){return window.addEventListener(fu.move.name,r,{capture:!1,passive:!1}),function(){window.removeEventListener(fu.move.name,r)};function r(){}}}zv.activators=[{eventName:"onTouchStart",handler:(t,r)=>{let{nativeEvent:o}=t,{onActivation:s}=r;const{touches:a}=o;return a.length>1?!1:(s?.({event:o}),!0)}}];var Es;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Es||(Es={}));var Ca;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ca||(Ca={}));function G4(t){let{acceleration:r,activator:o=Es.Pointer,canScroll:s,draggingRect:a,enabled:l,interval:d=5,order:f=Ca.TreeOrder,pointerCoordinates:p,scrollableAncestors:m,scrollableAncestorRects:x,delta:v,threshold:y}=t;const N=U4({delta:v,disabled:!l}),[S,j]=n4(),E=b.useRef({x:0,y:0}),W=b.useRef({x:0,y:0}),V=b.useMemo(()=>{switch(o){case Es.Pointer:return p?{top:p.y,bottom:p.y,left:p.x,right:p.x}:null;case Es.DraggableRect:return a}},[o,a,p]),B=b.useRef(null),z=b.useCallback(()=>{const $=B.current;if(!$)return;const R=E.current.x*W.current.x,F=E.current.y*W.current.y;$.scrollBy(R,F)},[]),T=b.useMemo(()=>f===Ca.TreeOrder?[...m].reverse():m,[f,m]);b.useEffect(()=>{if(!l||!m.length||!V){j();return}for(const $ of T){if(s?.($)===!1)continue;const R=m.indexOf($),F=x[R];if(!F)continue;const{direction:X,speed:ee}=k4($,F,V,r,y);for(const ie of["x","y"])N[ie][X[ie]]||(ee[ie]=0,X[ie]=0);if(ee.x>0||ee.y>0){j(),B.current=$,S(z,d),E.current=ee,W.current=X;return}}E.current={x:0,y:0},W.current={x:0,y:0},j()},[r,z,s,j,l,d,JSON.stringify(V),JSON.stringify(N),S,m,T,x,JSON.stringify(y)])}const H4={x:{[pt.Backward]:!1,[pt.Forward]:!1},y:{[pt.Backward]:!1,[pt.Forward]:!1}};function U4(t){let{delta:r,disabled:o}=t;const s=Au(r);return Ws(a=>{if(o||!s||!a)return H4;const l={x:Math.sign(r.x-s.x),y:Math.sign(r.y-s.y)};return{x:{[pt.Backward]:a.x[pt.Backward]||l.x===-1,[pt.Forward]:a.x[pt.Forward]||l.x===1},y:{[pt.Backward]:a.y[pt.Backward]||l.y===-1,[pt.Forward]:a.y[pt.Forward]||l.y===1}}},[o,r,s])}function W4(t,r){const o=r!=null?t.get(r):void 0,s=o?o.node.current:null;return Ws(a=>{var l;return r==null?null:(l=s??a)!=null?l:null},[s,r])}function q4(t,r){return b.useMemo(()=>t.reduce((o,s)=>{const{sensor:a}=s,l=a.activators.map(d=>({eventName:d.eventName,handler:r(d.handler,s)}));return[...o,...l]},[]),[t,r])}var $s;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})($s||($s={}));var Iu;(function(t){t.Optimized="optimized"})(Iu||(Iu={}));const qm=new Map;function K4(t,r){let{dragging:o,dependencies:s,config:a}=r;const[l,d]=b.useState(null),{frequency:f,measure:p,strategy:m}=a,x=b.useRef(t),v=E(),y=Ls(v),N=b.useCallback(function(W){W===void 0&&(W=[]),!y.current&&d(V=>V===null?W:V.concat(W.filter(B=>!V.includes(B))))},[y]),S=b.useRef(null),j=Ws(W=>{if(v&&!o)return qm;if(!W||W===qm||x.current!==t||l!=null){const V=new Map;for(let B of t){if(!B)continue;if(l&&l.length>0&&!l.includes(B.id)&&B.rect.current){V.set(B.id,B.rect.current);continue}const z=B.node.current,T=z?new yd(p(z),z):null;B.rect.current=T,T&&V.set(B.id,T)}return V}return W},[t,l,o,v,p]);return b.useEffect(()=>{x.current=t},[t]),b.useEffect(()=>{v||N()},[o,v]),b.useEffect(()=>{l&&l.length>0&&d(null)},[JSON.stringify(l)]),b.useEffect(()=>{v||typeof f!="number"||S.current!==null||(S.current=setTimeout(()=>{N(),S.current=null},f))},[f,v,N,...s]),{droppableRects:j,measureDroppableContainers:N,measuringScheduled:l!=null};function E(){switch(m){case $s.Always:return!1;case $s.BeforeDragging:return o;default:return!o}}}function Vv(t,r){return Ws(o=>t?o||(typeof r=="function"?r(t):t):null,[r,t])}function Y4(t,r){return Vv(t,r)}function Q4(t){let{callback:r,disabled:o}=t;const s=vd(r),a=b.useMemo(()=>{if(o||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(s)},[s,o]);return b.useEffect(()=>()=>a?.disconnect(),[a]),a}function Fa(t){let{callback:r,disabled:o}=t;const s=vd(r),a=b.useMemo(()=>{if(o||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(s)},[o]);return b.useEffect(()=>()=>a?.disconnect(),[a]),a}function X4(t){return new yd(To(t),t)}function Km(t,r,o){r===void 0&&(r=X4);const[s,a]=b.useState(null);function l(){a(p=>{if(!t)return null;if(t.isConnected===!1){var m;return(m=p??o)!=null?m:null}const x=r(t);return JSON.stringify(p)===JSON.stringify(x)?p:x})}const d=Q4({callback(p){if(t)for(const m of p){const{type:x,target:v}=m;if(x==="childList"&&v instanceof HTMLElement&&v.contains(t)){l();break}}}}),f=Fa({callback:l});return Ln(()=>{l(),t?(f?.observe(t),d?.observe(document.body,{childList:!0,subtree:!0})):(f?.disconnect(),d?.disconnect())},[t]),s}function Z4(t){const r=Vv(t);return Mv(t,r)}const Ym=[];function J4(t){const r=b.useRef(t),o=Ws(s=>t?s&&s!==Ym&&t&&r.current&&t.parentNode===r.current.parentNode?s:Ba(t):Ym,[t]);return b.useEffect(()=>{r.current=t},[t]),o}function e5(t){const[r,o]=b.useState(null),s=b.useRef(t),a=b.useCallback(l=>{const d=uu(l.target);d&&o(f=>f?(f.set(d,Ru(d)),new Map(f)):null)},[]);return b.useEffect(()=>{const l=s.current;if(t!==l){d(l);const f=t.map(p=>{const m=uu(p);return m?(m.addEventListener("scroll",a,{passive:!0}),[m,Ru(m)]):null}).filter(p=>p!=null);o(f.length?new Map(f):null),s.current=t}return()=>{d(t),d(l)};function d(f){f.forEach(p=>{const m=uu(p);m?.removeEventListener("scroll",a)})}},[a,t]),b.useMemo(()=>t.length?r?Array.from(r.values()).reduce((l,d)=>Co(l,d),En):Fv(t):En,[t,r])}function Qm(t,r){r===void 0&&(r=[]);const o=b.useRef(null);return b.useEffect(()=>{o.current=null},r),b.useEffect(()=>{const s=t!==En;s&&!o.current&&(o.current=t),!s&&o.current&&(o.current=null)},[t]),o.current?Bs(t,o.current):En}function t5(t){b.useEffect(()=>{if(!La)return;const r=t.map(o=>{let{sensor:s}=o;return s.setup==null?void 0:s.setup()});return()=>{for(const o of r)o?.()}},t.map(r=>{let{sensor:o}=r;return o}))}function n5(t,r){return b.useMemo(()=>t.reduce((o,s)=>{let{eventName:a,handler:l}=s;return o[a]=d=>{l(d,r)},o},{}),[t,r])}function Gv(t){return b.useMemo(()=>t?j4(t):null,[t])}const Xm=[];function r5(t,r){r===void 0&&(r=To);const[o]=t,s=Gv(o?Gt(o):null),[a,l]=b.useState(Xm);function d(){l(()=>t.length?t.map(p=>Lv(p)?s:new yd(r(p),p)):Xm)}const f=Fa({callback:d});return Ln(()=>{f?.disconnect(),d(),t.forEach(p=>f?.observe(p))},[t]),a}function o5(t){if(!t)return null;if(t.children.length>1)return t;const r=t.children[0];return Us(r)?r:t}function s5(t){let{measure:r}=t;const[o,s]=b.useState(null),a=b.useCallback(m=>{for(const{target:x}of m)if(Us(x)){s(v=>{const y=r(x);return v?{...v,width:y.width,height:y.height}:y});break}},[r]),l=Fa({callback:a}),d=b.useCallback(m=>{const x=o5(m);l?.disconnect(),x&&l?.observe(x),s(x?r(x):null)},[r,l]),[f,p]=wa(d);return b.useMemo(()=>({nodeRef:f,rect:o,setRef:p}),[o,f,p])}const i5=[{sensor:Nd,options:{}},{sensor:bd,options:{}}],a5={current:{}},la={draggable:{measure:Gm},droppable:{measure:Gm,strategy:$s.WhileDragging,frequency:Iu.Optimized},dragOverlay:{measure:To}};class Ds extends Map{get(r){var o;return r!=null&&(o=super.get(r))!=null?o:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(r=>{let{disabled:o}=r;return!o})}getNodeFor(r){var o,s;return(o=(s=this.get(r))==null?void 0:s.node.current)!=null?o:void 0}}const l5={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ds,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Na},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:la,measureDroppableContainers:Na,windowRect:null,measuringScheduled:!1},c5={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Na,draggableNodes:new Map,over:null,measureDroppableContainers:Na},$a=b.createContext(c5),Hv=b.createContext(l5);function u5(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ds}}}function d5(t,r){switch(r.type){case it.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:r.initialCoordinates,active:r.active}};case it.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:r.coordinates.x-t.draggable.initialCoordinates.x,y:r.coordinates.y-t.draggable.initialCoordinates.y}}};case it.DragEnd:case it.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case it.RegisterDroppable:{const{element:o}=r,{id:s}=o,a=new Ds(t.droppable.containers);return a.set(s,o),{...t,droppable:{...t.droppable,containers:a}}}case it.SetDroppableDisabled:{const{id:o,key:s,disabled:a}=r,l=t.droppable.containers.get(o);if(!l||s!==l.key)return t;const d=new Ds(t.droppable.containers);return d.set(o,{...l,disabled:a}),{...t,droppable:{...t.droppable,containers:d}}}case it.UnregisterDroppable:{const{id:o,key:s}=r,a=t.droppable.containers.get(o);if(!a||s!==a.key)return t;const l=new Ds(t.droppable.containers);return l.delete(o),{...t,droppable:{...t.droppable,containers:l}}}default:return t}}function f5(t){let{disabled:r}=t;const{active:o,activatorEvent:s,draggableNodes:a}=b.useContext($a),l=Au(s),d=Au(o?.id);return b.useEffect(()=>{if(!r&&!s&&l&&d!=null){if(!xd(l)||document.activeElement===l.target)return;const f=a.get(d);if(!f)return;const{activatorNode:p,node:m}=f;if(!p.current&&!m.current)return;requestAnimationFrame(()=>{for(const x of[p.current,m.current]){if(!x)continue;const v=s4(x);if(v){v.focus();break}}})}},[s,r,a,d,l]),null}function p5(t,r){let{transform:o,...s}=r;return t!=null&&t.length?t.reduce((a,l)=>l({transform:a,...s}),o):o}function h5(t){return b.useMemo(()=>({draggable:{...la.draggable,...t?.draggable},droppable:{...la.droppable,...t?.droppable},dragOverlay:{...la.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function m5(t){let{activeNode:r,measure:o,initialRect:s,config:a=!0}=t;const l=b.useRef(!1),{x:d,y:f}=typeof a=="boolean"?{x:a,y:a}:a;Ln(()=>{if(!d&&!f||!r){l.current=!1;return}if(l.current||!s)return;const m=r?.node.current;if(!m||m.isConnected===!1)return;const x=o(m),v=Mv(x,s);if(d||(v.x=0),f||(v.y=0),l.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const y=Tv(m);y&&y.scrollBy({top:v.y,left:v.x})}},[r,d,f,s,o])}const Uv=b.createContext({...En,scaleX:1,scaleY:1});var wr;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(wr||(wr={}));const g5=b.memo(function(r){var o,s,a,l;let{id:d,accessibility:f,autoScroll:p=!0,children:m,sensors:x=i5,collisionDetection:v=b4,measuring:y,modifiers:N,...S}=r;const j=b.useReducer(d5,void 0,u5),[E,W]=j,[V,B]=d4(),[z,T]=b.useState(wr.Uninitialized),$=z===wr.Initialized,{draggable:{active:R,nodes:F,translate:X},droppable:{containers:ee}}=E,ie=R!=null?F.get(R):null,k=b.useRef({initial:null,translated:null}),O=b.useMemo(()=>{var L;return R!=null?{id:R,data:(L=ie?.data)!=null?L:a5,rect:k}:null},[R,ie]),G=b.useRef(null),[te,J]=b.useState(null),[se,Q]=b.useState(null),H=Ls(S,Object.values(S)),_=qs("DndDescribedBy",d),D=b.useMemo(()=>ee.getEnabled(),[ee]),C=h5(y),{droppableRects:K,measureDroppableContainers:re,measuringScheduled:pe}=K4(D,{dragging:$,dependencies:[X.x,X.y],config:C.droppable}),me=W4(F,R),Ee=b.useMemo(()=>se?Pu(se):null,[se]),le=Pn(),de=Y4(me,C.draggable.measure);m5({activeNode:R!=null?F.get(R):null,config:le.layoutShiftCompensation,initialRect:de,measure:C.draggable.measure});const ue=Km(me,C.draggable.measure,de),Re=Km(me?me.parentElement:null),ge=b.useRef({activatorEvent:null,active:null,activeNode:me,collisionRect:null,collisions:null,droppableRects:K,draggableNodes:F,draggingNode:null,draggingNodeRect:null,droppableContainers:ee,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Te=ee.getNodeFor((o=ge.current.over)==null?void 0:o.id),qe=s5({measure:C.dragOverlay.measure}),Ke=(s=qe.nodeRef.current)!=null?s:me,at=$?(a=qe.rect)!=null?a:ue:null,Tt=!!(qe.nodeRef.current&&qe.rect),en=Z4(Tt?null:ue),tn=Gv(Ke?Gt(Ke):null),lt=J4($?Te??me:null),bt=r5(lt),Dn=p5(N,{transform:{x:X.x-en.x,y:X.y-en.y,scaleX:1,scaleY:1},activatorEvent:se,active:O,activeNodeRect:ue,containerNodeRect:Re,draggingNodeRect:at,over:ge.current.over,overlayNodeRect:qe.rect,scrollableAncestors:lt,scrollableAncestorRects:bt,windowRect:tn}),jr=Ee?Co(Ee,X):null,Ar=e5(lt),Qr=Qm(Ar),Bn=Qm(Ar,[ue]),Ht=Co(Dn,Qr),Ut=at?C4(at,Dn):null,jn=O&&Ut?v({active:O,collisionRect:Ut,droppableRects:K,droppableContainers:D,pointerCoordinates:jr}):null,An=Iv(jn,"id"),[wt,Xr]=b.useState(null),Zr=Tt?Dn:Co(Dn,Bn),Jr=w4(Zr,(l=wt?.rect)!=null?l:null,ue),Pr=b.useRef(null),Jn=b.useCallback((L,Z)=>{let{sensor:he,options:Pe}=Z;if(G.current==null)return;const _e=F.get(G.current);if(!_e)return;const Be=L.nativeEvent,Ye=new he({active:G.current,activeNode:_e,event:Be,options:Pe,context:ge,onAbort(ze){if(!F.get(ze))return;const{onDragAbort:Qe}=H.current,Nt={id:ze};Qe?.(Nt),V({type:"onDragAbort",event:Nt})},onPending(ze,Ot,Qe,Nt){if(!F.get(ze))return;const{onDragPending:Rn}=H.current,Wt={id:ze,constraint:Ot,initialCoordinates:Qe,offset:Nt};Rn?.(Wt),V({type:"onDragPending",event:Wt})},onStart(ze){const Ot=G.current;if(Ot==null)return;const Qe=F.get(Ot);if(!Qe)return;const{onDragStart:Nt}=H.current,_t={activatorEvent:Be,active:{id:Ot,data:Qe.data,rect:k}};Xn.unstable_batchedUpdates(()=>{Nt?.(_t),T(wr.Initializing),W({type:it.DragStart,initialCoordinates:ze,active:Ot}),V({type:"onDragStart",event:_t}),J(Pr.current),Q(Be)})},onMove(ze){W({type:it.DragMove,coordinates:ze})},onEnd:Pt(it.DragEnd),onCancel:Pt(it.DragCancel)});Pr.current=Ye;function Pt(ze){return async function(){const{active:Qe,collisions:Nt,over:_t,scrollAdjustedTranslate:Rn}=ge.current;let Wt=null;if(Qe&&Rn){const{cancelDrop:zn}=H.current;Wt={activatorEvent:Be,active:Qe,collisions:Nt,delta:Rn,over:_t},ze===it.DragEnd&&typeof zn=="function"&&await Promise.resolve(zn(Wt))&&(ze=it.DragCancel)}G.current=null,Xn.unstable_batchedUpdates(()=>{W({type:ze}),T(wr.Uninitialized),Xr(null),J(null),Q(null),Pr.current=null;const zn=ze===it.DragEnd?"onDragEnd":"onDragCancel";if(Wt){const Oo=H.current[zn];Oo?.(Wt),V({type:zn,event:Wt})}})}}},[F]),Fn=b.useCallback((L,Z)=>(he,Pe)=>{const _e=he.nativeEvent,Be=F.get(Pe);if(G.current!==null||!Be||_e.dndKit||_e.defaultPrevented)return;const Ye={active:Be};L(he,Z.options,Ye)===!0&&(_e.dndKit={capturedBy:Z.sensor},G.current=Pe,Jn(he,Z))},[F,Jn]),$n=q4(x,Fn);t5(x),Ln(()=>{ue&&z===wr.Initializing&&T(wr.Initialized)},[ue,z]),b.useEffect(()=>{const{onDragMove:L}=H.current,{active:Z,activatorEvent:he,collisions:Pe,over:_e}=ge.current;if(!Z||!he)return;const Be={active:Z,activatorEvent:he,collisions:Pe,delta:{x:Ht.x,y:Ht.y},over:_e};Xn.unstable_batchedUpdates(()=>{L?.(Be),V({type:"onDragMove",event:Be})})},[Ht.x,Ht.y]),b.useEffect(()=>{const{active:L,activatorEvent:Z,collisions:he,droppableContainers:Pe,scrollAdjustedTranslate:_e}=ge.current;if(!L||G.current==null||!Z||!_e)return;const{onDragOver:Be}=H.current,Ye=Pe.get(An),Pt=Ye&&Ye.rect.current?{id:Ye.id,rect:Ye.rect.current,data:Ye.data,disabled:Ye.disabled}:null,ze={active:L,activatorEvent:Z,collisions:he,delta:{x:_e.x,y:_e.y},over:Pt};Xn.unstable_batchedUpdates(()=>{Xr(Pt),Be?.(ze),V({type:"onDragOver",event:ze})})},[An]),Ln(()=>{ge.current={activatorEvent:se,active:O,activeNode:me,collisionRect:Ut,collisions:jn,droppableRects:K,draggableNodes:F,draggingNode:Ke,draggingNodeRect:at,droppableContainers:ee,over:wt,scrollableAncestors:lt,scrollAdjustedTranslate:Ht},k.current={initial:at,translated:Ut}},[O,me,jn,Ut,F,Ke,at,K,ee,wt,lt,Ht]),G4({...le,delta:X,draggingRect:Ut,pointerCoordinates:jr,scrollableAncestors:lt,scrollableAncestorRects:bt});const Rr=b.useMemo(()=>({active:O,activeNode:me,activeNodeRect:ue,activatorEvent:se,collisions:jn,containerNodeRect:Re,dragOverlay:qe,draggableNodes:F,droppableContainers:ee,droppableRects:K,over:wt,measureDroppableContainers:re,scrollableAncestors:lt,scrollableAncestorRects:bt,measuringConfiguration:C,measuringScheduled:pe,windowRect:tn}),[O,me,ue,se,jn,Re,qe,F,ee,K,wt,re,lt,bt,C,pe,tn]),er=b.useMemo(()=>({activatorEvent:se,activators:$n,active:O,activeNodeRect:ue,ariaDescribedById:{draggable:_},dispatch:W,draggableNodes:F,over:wt,measureDroppableContainers:re}),[se,$n,O,ue,W,_,F,wt,re]);return we.createElement(Pv.Provider,{value:B},we.createElement($a.Provider,{value:er},we.createElement(Hv.Provider,{value:Rr},we.createElement(Uv.Provider,{value:Jr},m)),we.createElement(f5,{disabled:f?.restoreFocus===!1})),we.createElement(h4,{...f,hiddenTextDescribedById:_}));function Pn(){const L=te?.autoScrollEnabled===!1,Z=typeof p=="object"?p.enabled===!1:p===!1,he=$&&!L&&!Z;return typeof p=="object"?{...p,enabled:he}:{enabled:he}}}),v5=b.createContext(null),Zm="button",x5="Draggable";function y5(t){let{id:r,data:o,disabled:s=!1,attributes:a}=t;const l=qs(x5),{activators:d,activatorEvent:f,active:p,activeNodeRect:m,ariaDescribedById:x,draggableNodes:v,over:y}=b.useContext($a),{role:N=Zm,roleDescription:S="draggable",tabIndex:j=0}=a??{},E=p?.id===r,W=b.useContext(E?Uv:v5),[V,B]=wa(),[z,T]=wa(),$=n5(d,r),R=Ls(o);Ln(()=>(v.set(r,{id:r,key:l,node:V,activatorNode:z,data:R}),()=>{const X=v.get(r);X&&X.key===l&&v.delete(r)}),[v,r]);const F=b.useMemo(()=>({role:N,tabIndex:j,"aria-disabled":s,"aria-pressed":E&&N===Zm?!0:void 0,"aria-roledescription":S,"aria-describedby":x.draggable}),[s,N,j,E,S,x.draggable]);return{active:p,activatorEvent:f,activeNodeRect:m,attributes:F,isDragging:E,listeners:s?void 0:$,node:V,over:y,setNodeRef:B,setActivatorNodeRef:T,transform:W}}function b5(){return b.useContext(Hv)}const w5="Droppable",N5={timeout:25};function C5(t){let{data:r,disabled:o=!1,id:s,resizeObserverConfig:a}=t;const l=qs(w5),{active:d,dispatch:f,over:p,measureDroppableContainers:m}=b.useContext($a),x=b.useRef({disabled:o}),v=b.useRef(!1),y=b.useRef(null),N=b.useRef(null),{disabled:S,updateMeasurementsFor:j,timeout:E}={...N5,...a},W=Ls(j??s),V=b.useCallback(()=>{if(!v.current){v.current=!0;return}N.current!=null&&clearTimeout(N.current),N.current=setTimeout(()=>{m(Array.isArray(W.current)?W.current:[W.current]),N.current=null},E)},[E]),B=Fa({callback:V,disabled:S||!d}),z=b.useCallback((F,X)=>{B&&(X&&(B.unobserve(X),v.current=!1),F&&B.observe(F))},[B]),[T,$]=wa(z),R=Ls(r);return b.useEffect(()=>{!B||!T.current||(B.disconnect(),v.current=!1,B.observe(T.current))},[T,B]),b.useEffect(()=>(f({type:it.RegisterDroppable,element:{id:s,key:l,disabled:o,node:T,rect:y,data:R}}),()=>f({type:it.UnregisterDroppable,key:l,id:s})),[s]),b.useEffect(()=>{o!==x.current.disabled&&(f({type:it.SetDroppableDisabled,id:s,key:l,disabled:o}),x.current.disabled=o)},[s,l,o,f]),{active:d,rect:y,isOver:p?.id===s,node:T,over:p,setNodeRef:$}}function Cd(t,r,o){const s=t.slice();return s.splice(o<0?s.length+o:o,0,s.splice(r,1)[0]),s}function S5(t,r){return t.reduce((o,s,a)=>{const l=r.get(s);return l&&(o[a]=l),o},Array(t.length))}function ia(t){return t!==null&&t>=0}function E5(t,r){if(t===r)return!0;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o]!==r[o])return!1;return!0}function D5(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const Sd=t=>{let{rects:r,activeIndex:o,overIndex:s,index:a}=t;const l=Cd(r,s,o),d=r[a],f=l[a];return!f||!d?null:{x:f.left-d.left,y:f.top-d.top,scaleX:f.width/d.width,scaleY:f.height/d.height}},Wv="Sortable",qv=we.createContext({activeIndex:-1,containerId:Wv,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Sd,disabled:{draggable:!1,droppable:!1}});function j5(t){let{children:r,id:o,items:s,strategy:a=Sd,disabled:l=!1}=t;const{active:d,dragOverlay:f,droppableRects:p,over:m,measureDroppableContainers:x}=b5(),v=qs(Wv,o),y=f.rect!==null,N=b.useMemo(()=>s.map($=>typeof $=="object"&&"id"in $?$.id:$),[s]),S=d!=null,j=d?N.indexOf(d.id):-1,E=m?N.indexOf(m.id):-1,W=b.useRef(N),V=!E5(N,W.current),B=E!==-1&&j===-1||V,z=D5(l);Ln(()=>{V&&S&&x(N)},[V,N,S,x]),b.useEffect(()=>{W.current=N},[N]);const T=b.useMemo(()=>({activeIndex:j,containerId:v,disabled:z,disableTransforms:B,items:N,overIndex:E,useDragOverlay:y,sortedRects:S5(N,p),strategy:a}),[j,v,z.draggable,z.droppable,B,N,E,p,y,a]);return we.createElement(qv.Provider,{value:T},r)}const A5=t=>{let{id:r,items:o,activeIndex:s,overIndex:a}=t;return Cd(o,s,a).indexOf(r)},P5=t=>{let{containerId:r,isSorting:o,wasDragging:s,index:a,items:l,newIndex:d,previousItems:f,previousContainerId:p,transition:m}=t;return!m||!s||f!==l&&a===d?!1:o?!0:d!==a&&r===p},R5={duration:200,easing:"ease"},Kv="transform",k5=Fs.Transition.toString({property:Kv,duration:0,easing:"linear"}),I5={roleDescription:"sortable"};function M5(t){let{disabled:r,index:o,node:s,rect:a}=t;const[l,d]=b.useState(null),f=b.useRef(o);return Ln(()=>{if(!r&&o!==f.current&&s.current){const p=a.current;if(p){const m=To(s.current,{ignoreTransform:!0}),x={x:p.left-m.left,y:p.top-m.top,scaleX:p.width/m.width,scaleY:p.height/m.height};(x.x||x.y)&&d(x)}}o!==f.current&&(f.current=o)},[r,o,s,a]),b.useEffect(()=>{l&&d(null)},[l]),l}function T5(t){let{animateLayoutChanges:r=P5,attributes:o,disabled:s,data:a,getNewIndex:l=A5,id:d,strategy:f,resizeObserverConfig:p,transition:m=R5}=t;const{items:x,containerId:v,activeIndex:y,disabled:N,disableTransforms:S,sortedRects:j,overIndex:E,useDragOverlay:W,strategy:V}=b.useContext(qv),B=O5(s,N),z=x.indexOf(d),T=b.useMemo(()=>({sortable:{containerId:v,index:z,items:x},...a}),[v,a,z,x]),$=b.useMemo(()=>x.slice(x.indexOf(d)),[x,d]),{rect:R,node:F,isOver:X,setNodeRef:ee}=C5({id:d,data:T,disabled:B.droppable,resizeObserverConfig:{updateMeasurementsFor:$,...p}}),{active:ie,activatorEvent:k,activeNodeRect:O,attributes:G,setNodeRef:te,listeners:J,isDragging:se,over:Q,setActivatorNodeRef:H,transform:_}=y5({id:d,data:T,attributes:{...I5,...o},disabled:B.draggable}),D=t4(ee,te),C=!!ie,K=C&&!S&&ia(y)&&ia(E),re=!W&&se,pe=re&&K?_:null,Ee=K?pe??(f??V)({rects:j,activeNodeRect:O,activeIndex:y,overIndex:E,index:z}):null,le=ia(y)&&ia(E)?l({id:d,items:x,activeIndex:y,overIndex:E}):z,de=ie?.id,ue=b.useRef({activeId:de,items:x,newIndex:le,containerId:v}),Re=x!==ue.current.items,ge=r({active:ie,containerId:v,isDragging:se,isSorting:C,id:d,index:z,items:x,newIndex:ue.current.newIndex,previousItems:ue.current.items,previousContainerId:ue.current.containerId,transition:m,wasDragging:ue.current.activeId!=null}),Te=M5({disabled:!ge,index:z,node:F,rect:R});return b.useEffect(()=>{C&&ue.current.newIndex!==le&&(ue.current.newIndex=le),v!==ue.current.containerId&&(ue.current.containerId=v),x!==ue.current.items&&(ue.current.items=x)},[C,le,v,x]),b.useEffect(()=>{if(de===ue.current.activeId)return;if(de!=null&&ue.current.activeId==null){ue.current.activeId=de;return}const Ke=setTimeout(()=>{ue.current.activeId=de},50);return()=>clearTimeout(Ke)},[de]),{active:ie,activeIndex:y,attributes:G,data:T,rect:R,index:z,newIndex:le,items:x,isOver:X,isSorting:C,isDragging:se,listeners:J,node:F,overIndex:E,over:Q,setNodeRef:D,setActivatorNodeRef:H,setDroppableNodeRef:ee,setDraggableNodeRef:te,transform:Te??Ee,transition:qe()};function qe(){if(Te||Re&&ue.current.newIndex===z)return k5;if(!(re&&!xd(k)||!m)&&(C||ge))return Fs.Transition.toString({...m,property:Kv})}}function O5(t,r){var o,s;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(o=t?.draggable)!=null?o:r.draggable,droppable:(s=t?.droppable)!=null?s:r.droppable}}function Sa(t){if(!t)return!1;const r=t.data.current;return!!(r&&"sortable"in r&&typeof r.sortable=="object"&&"containerId"in r.sortable&&"items"in r.sortable&&"index"in r.sortable)}const _5=[Ie.Down,Ie.Right,Ie.Up,Ie.Left],L5=(t,r)=>{let{context:{active:o,collisionRect:s,droppableRects:a,droppableContainers:l,over:d,scrollableAncestors:f}}=r;if(_5.includes(t.code)){if(t.preventDefault(),!o||!s)return;const p=[];l.getEnabled().forEach(v=>{if(!v||v!=null&&v.disabled)return;const y=a.get(v.id);if(y)switch(t.code){case Ie.Down:s.top<y.top&&p.push(v);break;case Ie.Up:s.top>y.top&&p.push(v);break;case Ie.Left:s.left>y.left&&p.push(v);break;case Ie.Right:s.left<y.left&&p.push(v);break}});const m=x4({collisionRect:s,droppableRects:a,droppableContainers:p});let x=Iv(m,"id");if(x===d?.id&&m.length>1&&(x=m[1].id),x!=null){const v=l.get(o.id),y=l.get(x),N=y?a.get(y.id):null,S=y?.node.current;if(S&&N&&v&&y){const E=Ba(S).some(($,R)=>f[R]!==$),W=Yv(v,y),V=B5(v,y),B=E||!W?{x:0,y:0}:{x:V?s.width-N.width:0,y:V?s.height-N.height:0},z={x:N.left,y:N.top};return B.x&&B.y?z:Bs(z,B)}}}};function Yv(t,r){return!Sa(t)||!Sa(r)?!1:t.data.current.sortable.containerId===r.data.current.sortable.containerId}function B5(t,r){return!Sa(t)||!Sa(r)||!Yv(t,r)?!1:t.data.current.sortable.index<r.data.current.sortable.index}function F5(t,r,o){const s={...t};return r.top+t.y<=o.top?s.y=o.top-r.top:r.bottom+t.y>=o.top+o.height&&(s.y=o.top+o.height-r.bottom),r.left+t.x<=o.left?s.x=o.left-r.left:r.right+t.x>=o.left+o.width&&(s.x=o.left+o.width-r.right),s}const $5=t=>{let{containerNodeRect:r,draggingNodeRect:o,transform:s}=t;return!o||!r?s:F5(s,o,r)},un=t=>t.split(",").map(r=>r.trim()),br=t=>t.join(", "),Mu=t=>t.trim()?/^[a-gA-G](##|#|bb|b)?(\d+)?$/.test(t.trim()):!0,Jm=t=>{if(!t.trim())return t;const r=t.trim();if(!Mu(r))return r;const o=r.match(/^([a-gA-G])(##|#|bb|b)?(\d*)$/);if(o){const[,s,a="",l]=o;return s.toUpperCase()+a.toLowerCase()+l}return r},z5=({chords:t,onUpdateChord:r,onFetchOriginalChord:o,onChordClick:s})=>{const[a,l]=b.useState(null),[d,f]=b.useState(null),[p,m]=b.useState(""),[x,v]=b.useState(""),[y,N]=b.useState(""),S=async k=>{const O=k.name.replace(/\/[A-G](##|#|bb|b)?\d*/,"");if(t){const G=t.find(te=>te.chordName===O);if(G?.chordNoteNames)return G.chordNoteNames}if(k.originalKey&&k.originalMode&&o)try{const G=await o(O,k.originalKey,k.originalMode);if(G)return G}catch(G){console.warn("Failed to fetch original chord:",G)}return k.originalNotes||null},j=k=>{if(!p.trim()||!x)return!1;const O=k.replace(/\d+/,""),G=p.trim().replace(/\d+/,"");return O===G?!un(x).some(se=>se.replace(/\d+/,"")===G):!1},E=async(k,O)=>{l(k),f({...O});try{const te=await S(O);v(te||O.notes)}catch(te){console.warn("Failed to load original chord, using current notes:",te),v(O.originalNotes||O.notes)}const G=O.name.match(/\/([A-G](##|#|bb|b)?\d*)/);m(G?G[1]:"")},W=()=>{if(a!==null&&d&&r){if(y)return;let k=d.name.replace(/\/[A-G](##|#|bb|b)?\d*/,""),O=d.notes;if(p.trim()){k+=`/${p.trim()}`;const te=un(O),J=p.trim();if(te.some(Q=>{const H=Q.replace(/\d+/,""),_=J.replace(/\d+/,"");return H===_})){const Q=te.filter(_=>{const D=_.replace(/\d+/,""),C=J.replace(/\d+/,"");return D!==C}),H=[J,...Q];O=br(H)}else{const Q=[J,...te];O=br(Q)}}const G={...d,name:k,notes:O,originalNotes:d.originalNotes||x};r(a,G)}V()},V=()=>{l(null),f(null),m(""),v(""),N("")},B=async k=>{if(!d||k===0)return;const O=un(d.notes);k===1&&j(O[0])||([O[k],O[k-1]]=[O[k-1],O[k]],f({...d,notes:br(O)}),await R(O))},z=async k=>{if(!d)return;const O=un(d.notes);k!==O.length-1&&(k===0&&j(O[0])||([O[k],O[k+1]]=[O[k+1],O[k]],f({...d,notes:br(O)}),await R(O)))},T=async()=>{if(m(""),d)try{console.log("Current editing chord:",d);const O=await S(d)||d.originalNotes||x;console.log("Reverting to original notes:",O),O?un(O).every(J=>/^[A-Ga-g]/.test(J.trim()))?f({...d,notes:O}):console.warn("Original notes appear to be in invalid format, keeping current notes:",O):console.warn("No original notes found, keeping current notes")}catch(k){console.warn("Failed to revert to original chord:",k);const O=d.originalNotes||x;O&&un(O).every(J=>/^[A-Ga-g]/.test(J.trim()))&&f({...d,notes:O})}},$=async k=>{if(d)try{const G=await S(d)||d.originalNotes||x;if(!G)return;if(!k.trim()){f({...d,notes:G});return}const te=un(G),J=k.trim(),se=te.some(H=>{const _=H.replace(/\d+/,""),D=J.replace(/\d+/,"");return _===D});let Q;if(se){const H=te.filter(D=>{const C=D.replace(/\d+/,""),K=J.replace(/\d+/,"");return C!==K}),_=te.find(D=>{const C=D.replace(/\d+/,""),K=J.replace(/\d+/,"");return C===K});Q=_?[_,...H]:[J,...H]}else Q=[J,...te];f({...d,notes:br(Q)})}catch(O){console.warn("Failed to update chord with slash note:",O);const G=d.originalNotes||x;if(!G)return;if(!k.trim()){f({...d,notes:G});return}const te=un(G),se=[k.trim(),...te];f({...d,notes:br(se)})}},R=async k=>{if(!(!d||k.length===0))try{const G=await S(d)||d.originalNotes||x;if(!G)return;const te=un(G),J=k[0],se=te[0];m(J!==se?J:"")}catch(O){console.warn("Failed to detect slash note from order:",O);const G=d.originalNotes||x;if(!G)return;const te=un(G),J=k[0],se=te[0];m(J!==se?J:"")}};return{editingChordIndex:a,editingChord:d,slashNote:p,originalChordNotes:x,slashNoteError:y,handleEditChord:E,handleSaveEdit:W,handleCancelEdit:V,moveNoteUp:B,moveNoteDown:z,removeSlashNote:T,handleSlashNoteChange:async k=>{const O=k.trim();if(!O){N(""),m(""),await $("");return}if(!Mu(O)){N("Invalid note. Use A-G with optional # or b (e.g., C, F#, Bb, D4)"),m(k);return}N("");const G=Jm(O);m(G),await $(G)},handleDragEnd:async k=>{if(!k.destination||!d||k.source.index===k.destination.index)return;const O=un(d.notes);if(k.source.index===0&&j(O[0])||k.destination.index===0&&j(O[0]))return;const[G]=O.splice(k.source.index,1);O.splice(k.destination.index,0,G),f({...d,notes:br(O)}),await R(O)},handlePreviewChord:()=>{d&&s(d.notes,-1)},isSlashNote:k=>{if(!p.trim())return!1;const O=k.replace(/\d+/,""),G=p.trim().replace(/\d+/,"");return O===G},isManualSlashNote:j,parseNotes:un,notesToString:br,formatNoteName:Jm,isValidNoteName:Mu}},V5=4,G5=8,H5=({activeMidiNotes:t})=>{const r=we.useRef(null),[o,s]=we.useState(400),a=we.useMemo(()=>o<400?Math.max(300,o-20):o<768?Math.min(500,o-40):Math.min(600,o-60),[o]);we.useEffect(()=>{const m=()=>{r.current&&s(r.current.offsetWidth)};m();const x=new ResizeObserver(()=>{m()});return r.current&&x.observe(r.current),()=>{x.disconnect()}},[]),we.useEffect(()=>{const m=document.createElement("style");return m.textContent=`
            /* Disable all pointer events on piano keys to prevent hover/click interference */
            .ReactPiano__Key {
                pointer-events: none !important;
            }
            
            /* Ultra-specific CSS to override react-piano styles */
            div[class*="ReactPiano"] .ReactPiano__Key--active,
            div[class*="ReactPiano"] .ReactPiano__Key--active.ReactPiano__Key--natural,
            div[class*="ReactPiano"] .ReactPiano__Key--active.ReactPiano__Key--accidental,
            .ReactPiano__Key--active[class*="ReactPiano__Key"],
            .ReactPiano__Key--active[class*="ReactPiano__Key"]:hover,
            .ReactPiano__Key--active[class*="ReactPiano__Key"]:active,
            .ReactPiano__Key--active[class*="ReactPiano__Key"]:focus {
                background: #3b82f6 !important;
                background-color: #3b82f6 !important;
                background-image: none !important;
                color: white !important;
                border-color: #2563eb !important;
                border-top-color: #2563eb !important;
                border-left-color: #2563eb !important;
                border-right-color: #2563eb !important;
                border-bottom-color: #2563eb !important;
                box-shadow: none !important;
                transition: none !important;
            }
            
            /* Force natural (white) keys to stay blue */
            div[class*="ReactPiano"] .ReactPiano__Key--active.ReactPiano__Key--natural,
            .ReactPiano__Key--active.ReactPiano__Key--natural[class*="ReactPiano__Key"],
            .ReactPiano__Key--active.ReactPiano__Key--natural[class*="ReactPiano__Key"]:hover,
            .ReactPiano__Key--active.ReactPiano__Key--natural[class*="ReactPiano__Key"]:active,
            .ReactPiano__Key--active.ReactPiano__Key--natural[class*="ReactPiano__Key"]:focus {
                background: linear-gradient(to bottom, #3b82f6 0%, #2563eb 100%) !important;
                background-color: #3b82f6 !important;
                color: white !important;
                border-top: 1px solid #2563eb !important;
                border-left: 1px solid #2563eb !important;
                border-right: 1px solid #2563eb !important;
                border-bottom: 1px solid #1e40af !important;
                box-shadow: 
                    inset 0 0 0 1px rgba(37, 99, 235, 0.3),
                    inset 0 -3px 6px rgba(0,0,0,0.1) !important;
            }
            
            /* Force accidental (black) keys to stay blue */
            div[class*="ReactPiano"] .ReactPiano__Key--active.ReactPiano__Key--accidental,
            .ReactPiano__Key--active.ReactPiano__Key--accidental[class*="ReactPiano__Key"],
            .ReactPiano__Key--active.ReactPiano__Key--accidental[class*="ReactPiano__Key"]:hover,
            .ReactPiano__Key--active.ReactPiano__Key--accidental[class*="ReactPiano__Key"]:active,
            .ReactPiano__Key--active.ReactPiano__Key--accidental[class*="ReactPiano__Key"]:focus {
                background: linear-gradient(to bottom, #1d4ed8 0%, #1e40af 100%) !important;
                background-color: #1d4ed8 !important;
                color: white !important;
                border: 1px solid #1e40af !important;
                box-shadow: 
                    inset 0 0 0 1px rgba(30, 64, 175, 0.4),
                    inset 0 -2px 4px rgba(0,0,0,0.2) !important;
            }
            
            /* Override any CSS animations or transitions */
            .ReactPiano__Key--active * {
                transition: none !important;
                animation: none !important;
            }
            
            /* Nuclear option - override any inline styles that might be applied */
            .ReactPiano__Key--active[style] {
                background: #3b82f6 !important;
                background-color: #3b82f6 !important;
            }
            
            .ReactPiano__Key--active.ReactPiano__Key--natural[style] {
                background: linear-gradient(to bottom, #3b82f6 0%, #2563eb 100%) !important;
            }
            
            .ReactPiano__Key--active.ReactPiano__Key--accidental[style] {
                background: linear-gradient(to bottom, #1d4ed8 0%, #1e40af 100%) !important;
            }
        `,document.head.appendChild(m),()=>{document.head.removeChild(m)}},[]);const l=4,d=7,f=At.fromNote(`c${l}`),p=At.fromNote(`c${d}`);return u.jsx("div",{ref:r,className:"w-full",children:u.jsx($u,{noteRange:{first:f,last:p},playNote:()=>{},stopNote:()=>{},disabled:!1,width:a,activeNotes:t,className:"mx-auto"})})},U5=({editingChordIndex:t,editingChord:r,totalChords:o,chords:s,onUpdateChord:a,onFetchOriginalChord:l,onChordClick:d,onClose:f,onNavigateToChord:p})=>{const{editingChord:m,slashNote:x,slashNoteError:v,handleEditChord:y,handleSaveEdit:N,handleCancelEdit:S,moveNoteUp:j,moveNoteDown:E,removeSlashNote:W,handleSlashNoteChange:V,handleDragEnd:B,handlePreviewChord:z,isSlashNote:T,isManualSlashNote:$,parseNotes:R}=z5({chords:s,onUpdateChord:a,onFetchOriginalChord:l,onChordClick:d});we.useEffect(()=>{y(t,r)},[t,r]);const F=()=>{N(),f()},X=()=>{S(),f()},ee=()=>{t>0&&p&&p(t-1)},ie=()=>{t<o-1&&p&&p(t+1)},k=we.useMemo(()=>{if(!m?.notes)return[];try{return ua(V5,G5,m.notes).map(({note:se,octave:Q})=>{try{return At.fromNote(`${se}${Q}`)}catch(H){return console.warn(`Failed to parse note: ${se}${Q}`,H),null}}).filter(Boolean)}catch(J){return console.warn("Failed to parse chord notes:",J),[]}},[m?.notes]);if(!m)return null;const O=R(m.notes),G=t>0,te=t<o-1;return u.jsxs("div",{className:"fixed inset-0 bg-[#1a1e24] bg-opacity-95 backdrop-blur-sm z-50 flex flex-col",children:[u.jsxs("div",{className:"flex-shrink-0 max-w-4xl mx-auto px-4 py-4 w-full",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[u.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-white truncate",children:["Edit: ",m.name.replace(/\/[A-G](##|#|bb|b)?\d*/,"")]}),u.jsxs("span",{className:"px-2 py-1 text-xs bg-slate-700 text-slate-300 rounded font-mono flex-shrink-0",children:[t+1," / ",o]})]}),u.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[u.jsxs(Cn,{onClick:F,variant:"primary",size:"sm",disabled:!!v,className:jt("bg-green-600 hover:bg-green-700",v&&"opacity-50 cursor-not-allowed"),title:v?"Fix slash note error before saving":"Save changes",children:[u.jsx(db,{className:"w-4 h-4 sm:mr-1"}),u.jsx("span",{className:"hidden sm:inline",children:"Save"})]}),u.jsxs(Cn,{onClick:X,variant:"secondary",size:"sm",children:[u.jsx("span",{className:"hidden sm:inline",children:"Cancel"}),u.jsx("span",{className:"sm:hidden",children:""})]})]})]}),u.jsx("div",{className:"flex items-center",children:p&&u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(Cn,{onClick:ee,variant:"secondary",size:"sm",disabled:!G,title:"Previous chord",className:"px-2",children:u.jsx(hb,{className:"w-4 h-4"})}),u.jsx(Cn,{onClick:ie,variant:"secondary",size:"sm",disabled:!te,title:"Next chord",className:"px-2",children:u.jsx(og,{className:"w-4 h-4"})})]})}),u.jsxs("div",{className:"p-3 bg-[#2a2f38] rounded-lg border border-gray-600 mb-4 mt-4",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Slash Note (Bass Note)"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"text",value:x,onChange:J=>V(J.target.value),onBlur:J=>V(J.target.value),onKeyDown:J=>{J.key==="Enter"&&V(J.currentTarget.value)},placeholder:"e.g., C4, F#, Bb3",className:jt("flex-1 px-3 py-2 bg-[#1a1e24] border rounded text-white placeholder-gray-400 focus:outline-none transition-colors text-sm",v?"border-red-500 focus:border-red-400":"border-gray-600 focus:border-blue-500")}),x.trim()&&!v&&u.jsx("button",{onClick:W,className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded transition-colors",title:"Remove slash note",children:u.jsx(vu,{className:"w-4 h-4"})})]}),v?u.jsxs("p",{className:"text-xs text-red-400 mt-1 flex items-center space-x-1",children:[u.jsx(vu,{className:"w-3 h-3 flex-shrink-0"}),u.jsx("span",{children:v})]}):u.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Add bass note (e.g., Cmaj7/E)"}),O.length>0&&$(O[0])&&!v&&u.jsx("div",{className:"mt-2 p-2 bg-amber-500/10 border border-amber-500/30 rounded text-xs text-amber-300",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Mh,{className:"w-3 h-3"}),u.jsx("span",{children:"Slash note locked in first position"})]})})]}),u.jsx("div",{className:"bg-[#2a2f38] rounded-lg border border-gray-600 p-3 mb-4",children:u.jsx("div",{className:"bg-[#1a1e24] rounded p-2 flex justify-center overflow-x-auto",children:u.jsx(H5,{activeMidiNotes:k})})})]}),u.jsx("div",{className:"flex-1 max-w-4xl mx-auto px-4 w-full overflow-hidden flex flex-col -mt-4",children:u.jsxs("div",{className:"bg-[#2a2f38] rounded-lg border border-gray-600 p-4 flex-1 flex flex-col min-h-0",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs(Cn,{onClick:z,variant:"secondary",size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",title:"Preview chord",children:[u.jsx(sg,{className:"w-4 h-4 sm:mr-1"}),u.jsx("span",{className:"hidden sm:inline",children:"Preview"})]}),u.jsxs("div",{className:"flex-1 text-center mx-4",children:[u.jsx("h3",{className:"text-lg font-medium text-white leading-tight",children:"Chord Notes"}),u.jsx("p",{className:"text-xs text-gray-400 leading-tight",children:"Drag to reorder"})]}),u.jsx("div",{className:"w-16 sm:w-20"})," "]}),u.jsx("div",{className:"flex-1 min-h-0",children:u.jsx(gv,{onDragEnd:B,children:u.jsx(Dv,{droppableId:"notes-list",children:(J,se)=>u.jsxs("div",{...J.droppableProps,ref:J.innerRef,className:jt("space-y-3 transition-colors duration-200 overflow-y-auto h-full",{"bg-blue-500/5 rounded-lg p-2":se.isDraggingOver}),children:[O.map((Q,H)=>{const _=T(Q),C=$(Q)&&H===0;return u.jsx(wv,{draggableId:`${Q}-${H}`,index:H,isDragDisabled:C,children:(K,re)=>u.jsxs("div",{ref:K.innerRef,...K.draggableProps,...K.dragHandleProps,className:jt("flex items-center space-x-3 p-3 rounded border transition-all duration-200",{"shadow-lg shadow-blue-500/20 border-blue-500 transform scale-105":re.isDragging,"cursor-grab":!re.isDragging&&!C,"cursor-grabbing":re.isDragging,"cursor-not-allowed":C,"bg-amber-500/10 border-amber-500/50":_&&!re.isDragging,"hover:border-amber-400/70":_&&!re.isDragging,"bg-amber-600/15 border-amber-600/60":C&&!re.isDragging,"bg-[#1a1e24] border-gray-600":!_&&!C&&!re.isDragging,"hover:border-gray-500":!_&&!C&&!re.isDragging}),style:K.draggableProps.style,children:[u.jsxs("div",{className:"flex-1 text-left",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("span",{className:"text-white font-mono text-lg font-semibold",children:Q}),u.jsxs("div",{className:"flex items-center space-x-2",children:[_&&u.jsx("span",{className:"px-2 py-1 text-xs bg-amber-500/20 text-amber-300 rounded border border-amber-500/30 font-medium",children:"SLASH"}),C&&u.jsxs("span",{className:"px-2 py-1 text-xs bg-amber-600/20 text-amber-200 rounded border border-amber-600/30 font-medium flex items-center space-x-1",children:[u.jsx(Mh,{className:"w-3 h-3"}),u.jsx("span",{children:"LOCKED"})]})]})]}),u.jsxs("div",{className:"text-xs text-slate-400 font-medium",children:["Note ",H+1]})]}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("span",{className:"text-xs text-slate-400 mr-2",children:"Order:"}),u.jsx("button",{onClick:pe=>{pe.stopPropagation(),j(H)},disabled:H===0||C||H===1&&$(O[0]),className:"p-1 text-slate-300 hover:text-white hover:bg-[#4a5262] rounded transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:C?"Cannot move locked slash note":H===1&&$(O[0])?"Cannot move past locked slash note":"Move up",children:u.jsx(js,{className:"w-4 h-4"})}),u.jsx("button",{onClick:pe=>{pe.stopPropagation(),E(H)},disabled:H===O.length-1||C,className:"p-1 text-slate-300 hover:text-white hover:bg-[#4a5262] rounded transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:C?"Cannot move locked slash note":"Move down",children:u.jsx(Kr,{className:"w-4 h-4"})})]})]})},`${Q}-${H}`)}),J.placeholder]})})})})]})}),u.jsx("div",{className:"flex-shrink-0 h-4"})]})},W5=4,q5=7,_n=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"ontouchstart"in window||navigator.maxTouchPoints>0,K5=({id:t,index:r,chord:o,onEdit:s,renderChordButton:a,getLiveItemWidth:l})=>{const{attributes:d,listeners:f,setNodeRef:p,transform:m,transition:x,isDragging:v}=T5({id:t}),y={transform:Fs.Transform.toString(m),transition:v?"none":x},N={...d,style:{touchAction:"none",userSelect:"none",WebkitUserSelect:"none",...y}};return u.jsx("div",{ref:p,...N,...f,className:"mobile-drag-item",children:a(o,r,v,s)})},Y5=()=>{const t=Nn(),r=Sr(),o=Ao(),s=rg(),{addedChords:a,activeChordIndex:l,highlightedChordIndex:d}=r,{isDeleteMode:f,isLiveMode:p}=s,{globalPatternState:m}=o,{chords:x}=t,[v,y]=b.useState(!1),[N,S]=b.useState(null);b.useEffect(()=>{if(p){const H=document.body.style.overflow,_=document.body.style.overscrollBehavior;return document.body.style.overflow="hidden",document.body.style.overscrollBehavior="none",()=>{document.body.style.overflow=H,document.body.style.overscrollBehavior=_}}},[p]);const j=m4(cu(Nd,{activationConstraint:_n()?{delay:200,tolerance:5}:{distance:8}}),cu(zv,{activationConstraint:{delay:250,tolerance:8}}),cu(bd,{coordinateGetter:L5})),E=H=>{const{containerNodeRect:_,draggingNodeRect:D,transform:C}=H;if(!_||!D)return C;const K=_n()?20:10,re=_.left+K,pe=_.right-K,me=_.top+K,Ee=_.bottom-K,le=D.left+C.x,de=D.right+C.x,ue=D.top+C.y,Re=D.bottom+C.y;let ge=C.x,Te=C.y;return le<re?ge=re-D.left:de>pe&&(ge=pe-D.right),ue<me?Te=me-D.top:Re>Ee&&(Te=Ee-D.bottom),{...C,x:ge,y:Te}},W=b.useCallback((H,_,D)=>{if(s.isDeleteMode&&_!==void 0){r.removeChord(_);return}const C=ua(W5,q5,H);_!==void 0?(r.setTemporaryChord(null),r.setActiveChordIndex(_),o.globalPatternState.isPlaying||r.playNotes(C),r.setHighlightedChordIndex(_),setTimeout(()=>r.setHighlightedChordIndex(null),150)):(D&&r.setTemporaryChord({name:D,notes:H}),o.globalPatternState.isPlaying||r.playNotes(C))},[s.isDeleteMode,o.globalPatternState.isPlaying,r]),V=b.useCallback(()=>{r.clearAllChords(),o.setGlobalPatternState({isPlaying:!1}),s.setIsLiveMode(!1)},[r,o,s]),B=b.useCallback(()=>{o.setGlobalPatternState({isPlaying:!m.isPlaying})},[m.isPlaying,o]),z=()=>s.setIsDeleteMode(!f),T=()=>s.setIsLiveMode(!p),$=(H,_)=>{const D={name:_.name,notes:_.notes,pattern:_.pattern||["1","2","3","4"],originalKey:_.originalKey||t.key,originalMode:_.originalMode||t.mode,originalNotes:_.originalNotes||_.notes};r.updateChord(H,D)},R=H=>S(H),F=()=>S(null),X=H=>{H>=0&&H<a.length&&S(H)},ee=()=>{document.body.classList.add("dragging"),_n()&&(document.body.style.overflow="hidden",document.body.style.overscrollBehavior="none")},ie=()=>{document.body.classList.remove("dragging"),_n()&&(document.body.style.overflow="",document.body.style.overscrollBehavior="")},k=H=>{const{active:_,over:D}=H;if(document.body.classList.remove("dragging"),_n()&&(document.body.style.overflow="",document.body.style.overscrollBehavior=""),console.log("Drag end event:",{active:_.id,over:D?.id}),D&&_.id!==D.id){const C=parseInt(_.id.toString().replace("chord-","")),K=parseInt(D.id.toString().replace("chord-",""));if(console.log("Moving from index",C,"to index",K),!isNaN(C)&&!isNaN(K)&&C>=0&&C<a.length&&K>=0&&K<a.length){const re=Cd(a,C,K);console.log("Reordered chords:",re.map(pe=>pe.name)),r.setAddedChords(re),l!==null&&(l===C?r.setActiveChordIndex(K):C<l&&K>=l?r.setActiveChordIndex(l-1):C>l&&K<=l&&r.setActiveChordIndex(l+1))}}},O=H=>{if(!H.destination)return;const _=H.source.index,D=H.destination.index;if(_===D)return;const C=Array.from(a),[K]=C.splice(_,1);C.splice(D,0,K),r.setAddedChords(C),l!==null&&(l===_?r.setActiveChordIndex(D):_<l&&D>=l?r.setActiveChordIndex(l-1):_>l&&D<=l&&r.setActiveChordIndex(l+1))};if(a.length===0)return null;const G=p?"fixed inset-0 bg-[#1a1e24] bg-opacity-95 backdrop-blur-sm z-50 flex flex-col":"fixed bottom-0 left-0 right-0 bg-[#2a2f38] border-t border-gray-600 shadow-2xl z-50";if(N!==null){const H=a[N];if(H)return u.jsx(U5,{editingChordIndex:N,editingChord:H,totalChords:a.length,chords:x,onUpdateChord:$,onFetchOriginalChord:r.handleFetchOriginalChord,onChordClick:W,onClose:F,onNavigateToChord:X})}const te=(H,_,D=!1,C)=>{const K=_===l,re=_===d,pe=le=>{console.log("Button clicked!",{isEditMode:v,hasOnEdit:!!C,index:_}),le.stopPropagation(),le.preventDefault(),v&&C?(console.log("Opening editor for chord",_),C(_)):v||(console.log("Playing chord",_),W(H.notes,_))},me=le=>{v||(le.currentTarget.style.transform="scale(0.95)")},Ee=le=>{v||(le.currentTarget.style.transform="")};return u.jsxs(Zb,{onClick:pe,onTouchStart:me,onTouchEnd:Ee,variant:f?"danger":v?"secondary":"primary",active:K&&!f&&!v,"aria-label":`Pattern: ${H.pattern.join("-")}`,className:jt("relative w-full h-full mobile-drag-item",{"py-8 px-6 text-lg min-h-[120px] flex flex-col items-center justify-center":p&&!_n(),"py-8 px-6 text-lg min-h-[140px] flex flex-col items-center justify-center":p&&_n(),"py-4 px-2 text-sm min-w-[85px] bottom-nav-button chord-button space-x-1 mt-1 min-h-[60px] !min-w-[70px] flex flex-col items-center justify-center":!p,transform:re,"shadow-xl":p,"border-blue-500 hover:border-blue-400":v,"cursor-grab active:cursor-grabbing":v&&!_n(),"opacity-80 shadow-2xl scale-105":D,"touch-none select-none":v}),style:{touchAction:v?"none":"auto"},children:[f&&u.jsx(vu,{className:`absolute top-1 right-1 text-white bg-red-500 rounded-full shadow-sm ${p?"h-6 w-6":"h-4 w-4"}`}),v&&u.jsx(Tc,{className:`absolute top-1 right-1 text-white bg-blue-500 rounded-full shadow-sm p-0.5 ${p?"h-6 w-6":"h-4 w-4"}`}),v&&u.jsxs(u.Fragment,{children:[u.jsx(Tc,{className:"absolute top-1 right-1 opacity-0 h-full w-full shadow-sm"}),_n()&&u.jsx("div",{className:"absolute inset-0 w-full bg-blue-500/5 border-2 border-blue-500/20 rounded-lg pointer-events-none"})]}),u.jsx("div",{className:`text-blue-200 font-bold ${p?"text-xl mb-2":"text-xs mb-1"}`,children:_+1}),u.jsx("div",{className:`leading-tight ${p?"text-base text-center text-white":"text-xs"}`,children:H.name}),p&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mt-4 text-xs text-center text-slate-300",children:H.notes.replace(/,/g,"  ")}),u.jsx("div",{className:"mt-1 font-mono text-xs text-center text-slate-300",children:H.pattern.join("-")})]})]},_)},J=u.jsx("button",{onClick:()=>y(!v),className:jt("flex items-center justify-center rounded-lg border-2 border-dashed transition-all duration-200 hover:scale-105",p?"w-full h-full min-h-[120px] py-8 px-6":"w-12 h-12",v?"border-blue-500 text-blue-400 bg-blue-500/10 hover:bg-blue-500/20":"border-gray-500 text-gray-400 hover:border-gray-400 hover:text-gray-300 hover:bg-gray-500/10"),title:v?"Exit edit mode":"Edit chords",style:{minHeight:p&&_n()?"140px":void 0},children:u.jsx(Tc,{className:`${p?"w-8 h-8":"w-6 h-6"} ${v?"animate-spin":""}`})}),se=p?u.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 auto-rows-max pt-0",children:[a.map((H,_)=>u.jsx("div",{children:te(H,_)},_)),u.jsx("div",{children:J})]}):u.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2 chord-sequence-scroll -mx-2 px-2",children:[a.map((H,_)=>u.jsx("div",{className:"flex-shrink-0",children:te(H,_)},_)),u.jsx("div",{className:"flex-shrink-0 py-4 px-2 min-w-[85px] min-h-[60px] mt-1 flex items-center justify-center",children:J})]}),Q=p?u.jsx(g5,{sensors:j,collisionDetection:v4,onDragStart:ee,onDragEnd:k,onDragCancel:ie,modifiers:[$5,E],children:u.jsx(j5,{items:a.map((H,_)=>`chord-${_}`),strategy:Sd,children:u.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 auto-rows-max pt-0",style:{gap:"1rem"},children:[a.map((H,_)=>u.jsx(K5,{id:`chord-${_}`,index:_,chord:H,onEdit:R,renderChordButton:te,getLiveItemWidth:()=>"w-full"},`${H.name}-${H.notes}-${_}`)),u.jsx("div",{children:J})]})})}):u.jsx(gv,{onDragEnd:O,children:u.jsx(Dv,{droppableId:"chord-list",direction:"horizontal",children:H=>u.jsxs("div",{ref:H.innerRef,...H.droppableProps,className:"flex pb-2 -mx-2 overflow-x-auto space-x-2 px-2 chord-sequence-scroll",children:[a.map((_,D)=>u.jsx(wv,{draggableId:`chord-${D}`,index:D,children:(C,K)=>u.jsx("div",{ref:C.innerRef,...C.draggableProps,...C.dragHandleProps,className:"flex-shrink-0",children:te(_,D,K.isDragging,R)})},`chord-${D}`)),H.placeholder,u.jsx("div",{className:"flex-shrink-0 py-4 px-2 min-w-[85px] min-h-[60px] mt-1 flex items-center justify-center",children:J})]})})});return u.jsxs("div",{className:G,children:[u.jsxs("div",{className:`${p?"flex-shrink-0":""} max-w-7xl mx-auto px-4 ${p?"pt-4 z-10":"pt-2"} w-full`,children:[u.jsxs("div",{className:`flex items-center justify-between ${p?"mb-3":"mb-2"}`,children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[!p&&u.jsx(Cn,{onClick:B,variant:"icon",size:"icon",active:m.isPlaying,title:m.isPlaying?"Stop":"Play",children:m.isPlaying?u.jsx(As,{className:"w-4 h-4"}):u.jsx(sg,{className:"w-4 h-4"})}),p&&u.jsx(Cn,{onClick:B,variant:"play-stop",size:"sm",active:m.isPlaying,className:"shadow-lg",children:m.isPlaying?u.jsxs(u.Fragment,{children:[u.jsx(As,{className:"w-4 h-4"})," Stop"]}):u.jsxs(u.Fragment,{children:[u.jsx(Ps,{className:"w-4 h-4"})," Play"]})})]}),u.jsxs("div",{className:"text-center sm:w-full sm:text-left sm:mx-4",children:[u.jsxs("div",{className:"hidden sm:block text-xs font-bold text-slate-300 uppercase tracking-wider",children:["chords ",v&&u.jsx("span",{className:"text-blue-400",children:"(drag to reorder)"})]}),u.jsxs("div",{className:"block sm:hidden text-xs text-slate-300 uppercase tracking-wider",children:["chords ",v&&u.jsx("span",{className:"text-blue-400",children:"(drag)"})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:T,className:jt("w-[7em] h-8 flex items-center space-x-2 px-3 py-1.5 text-xs border rounded transition-all duration-200",p?"text-slate-200 bg-[#4a5262] border-gray-600 hover:bg-[#525a6b]":"text-slate-300 hover:text-slate-200 bg-[#4a5262] hover:bg-[#525a6b] border-gray-600"),children:p?u.jsxs(u.Fragment,{children:[u.jsx(ab,{className:"h-3 w-3"}),u.jsx("span",{children:"Collapse"})]}):u.jsxs(u.Fragment,{children:[u.jsx(cb,{className:"h-3 w-3"}),u.jsx("span",{children:"Expand"})]})}),!p&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>{p&&T(),V()},className:"w-[5em] h-8 flex items-center justify-center px-3 py-1.5 text-xs text-slate-300 hover:text-slate-200 bg-[#4a5262] hover:bg-[#525a6b] border border-gray-600 rounded transition-all duration-200",children:"Clear"}),u.jsxs("button",{onClick:z,className:jt("w-[7em] h-8 flex items-center space-x-2 px-3 py-1.5 text-xs border rounded transition-all duration-200",f?"text-white bg-red-600 border-red-500 hover:bg-red-700":"text-slate-300 hover:text-slate-200 bg-[#4a5262] hover:bg-[#525a6b] border-gray-600"),children:[u.jsx(_h,{className:"h-3 w-3"}),u.jsx("span",{children:f?"Done":"Delete"})]})]})]})]}),p&&u.jsxs("div",{className:"mb-4 text-sm text-center text-slate-400",children:[u.jsxs("div",{children:["Use 1-",Math.min(a.length,9)," or click chords"]}),u.jsxs("div",{className:"mt-2 text-xs",children:[u.jsx("span",{className:"inline-block w-3 h-3 mr-2 bg-blue-500 rounded-full"})," Active Chord",v&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"mx-2",children:""}),u.jsx("span",{className:"text-blue-400",children:"Drag chords to reorder"})]})]})]})]}),u.jsx("div",{className:`flex-1 max-w-7xl mx-auto w-full ${p?"px-4 pb-8 pt-2 overflow-y-auto":"px-2 pb-1"}`,children:v?Q:se}),p&&u.jsx("div",{className:"flex-shrink-0 bg-[#2a2f38] border-t border-gray-600 px-4 py-3",children:u.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[u.jsxs("div",{className:"text-xs font-medium text-slate-400",children:[a.length," chord",a.length!==1?"s":""," loaded",v&&u.jsx("span",{className:"ml-2 text-blue-400",children:" Edit Mode: Click chords to edit"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:V,className:"w-[5em] h-8 flex items-center justify-center px-3 py-1.5 text-xs text-slate-300 hover:text-slate-200 bg-[#4a5262] hover:bg-[#525a6b] border border-gray-600 rounded transition-all duration-200",children:"Clear"}),u.jsxs("button",{onClick:z,className:jt("w-[7em] h-8 flex items-center space-x-2 px-3 py-1.5 text-xs border rounded transition-all duration-200",f?"text-white bg-red-600 border-red-500 hover:bg-red-700":"text-slate-300 hover:text-slate-200 bg-[#4a5262] hover:bg-[#525a6b] border-gray-600"),children:[u.jsx(_h,{className:"h-3 w-3"}),u.jsx("span",{children:f?"Done":"Delete"})]})]})]})})]})},Q5=(t,r=4)=>{const o={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11};return(r+1)*12+(o[t]??0)},X5=({className:t="",onKeyChange:r,onModeChange:o,onInstrumentChange:s})=>{const a=Nn(C=>C.key),l=Nn(C=>C.mode),d=Nn(C=>C.modes),f=Nn(C=>C.scaleNotes),p=ws(C=>C.pianoSettings),m=ws(C=>C.availableInstruments),x=Sr(C=>C.isPlayingScale),v=Ao(C=>C.globalPatternState),{setKey:y,setMode:N}=Nn(),{setPianoInstrument:S,setCutOffPreviousNotes:j,setEq:E,setOctaveOffset:W,setReverbLevel:V,setNoteDuration:B,setVolume:z,setChorusLevel:T,setDelayLevel:$}=ws(),{setIsPlayingScale:R,clearScalePlaybackTimeouts:F,setActiveNotes:X}=Sr(),[ee,ie]=b.useState(!1),k=b.useRef([]),O=b.useRef(!1),G=C=>{const K=C.replaceAll(" ","_");s?s(K):S(K)},te=C=>{r?r(C):y(C)},J=C=>{o?o(C):N(C)},se=b.useCallback(()=>{k.current.forEach(C=>clearTimeout(C)),k.current=[],O.current=!1},[]),Q=b.useCallback(C=>6e4/C/2,[]),H=b.useCallback(()=>{if(!f||f.length===0){console.warn("No scale notes available to play");return}se();const C=v?.bpm||120,K=Q(C);O.current=!0,R(!0);const re=[...f];if(f.length>0){const ue=f[0];re.push({...ue,seqNote:ue.seqNote?ue.seqNote+12:void 0})}const pe=re.map(ue=>{const Re=qr(ue.noteName)||"C",ge=4,Te=ue.seqNote?ue.seqNote:Q5(Re,ge);return{note:Re,octave:ge,sortValue:Te}}).sort((ue,Re)=>ue.sortValue-Re.sortValue),me=ue=>({C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11})[ue]??0,Ee=[];let le=4,de=-1;for(let ue=0;ue<pe.length;ue++){const Re=pe[ue],ge=me(Re.note);(de!==-1&&de===11&&ge<=11&&ge<de||de!==-1&&ge<de&&!(de===11&&ge===0))&&le++,Ee.push({note:Re.note,octave:le}),de=ge}Ee.forEach((ue,Re)=>{const ge=setTimeout(()=>{if(!O.current)return;console.log(ue),X([ue]);const Te=setTimeout(()=>{O.current&&X([])},K*.8);if(k.current.push(Te),Re===Ee.length-1){const qe=setTimeout(()=>{O.current&&_()},K);k.current.push(qe)}},Re*K);k.current.push(ge)})},[f,v,R,X,se,Q]),_=b.useCallback(()=>{se(),X([]),R(!1),F&&F()},[se,X,R,F]),D=b.useCallback(()=>{x||O.current?_():H()},[x,H,_]);return we.useEffect(()=>()=>{se()},[se]),u.jsx("div",{className:`w-full max-w-7xl mx-auto px-2 sm:mt-4 mt-0 mb-2 ${t}`,children:u.jsxs("div",{className:"bg-[#3d434f] border border-gray-600 rounded-lg overflow-hidden",children:[u.jsx("div",{className:"px-4 py-3 border-b border-gray-600",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-sm font-bold text-slate-300 uppercase tracking-wider",children:"Controls"}),u.jsx("button",{onClick:()=>ie(!ee),className:"w-[7em] h-8 flex items-center space-x-2 px-3 py-1.5 text-xs text-slate-300 hover:text-slate-200 bg-[#4a5262] hover:bg-[#525a6b] border border-gray-600 rounded transition-all duration-200",children:ee?u.jsxs(u.Fragment,{children:[u.jsx(js,{className:"w-3 h-3"}),u.jsx("span",{children:"Settings"})]}):u.jsxs(u.Fragment,{children:[u.jsx(Kr,{className:"w-3 h-3"}),u.jsx("span",{children:"Settings"})]})})]})}),u.jsx("div",{className:"p-6 py-4 bg-[#444b59]",children:u.jsxs("div",{className:"flex flex-col xl:flex-row xl:items-center xl:justify-center gap-6",children:[u.jsxs("div",{className:"hidden xl:flex items-center bg-[#3d434f]/30 border border-gray-600/30 rounded-lg px-6 py-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-sm text-slate-300 font-medium whitespace-nowrap",children:"Key:"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(wn,{value:a,className:"w-[5rem]",buttonClassName:"px-3 py-1.5 text-center font-medium text-xs h-10 flex items-center justify-center",menuClassName:"min-w-[5rem]",onChange:te,showSearch:!1,options:["C","C#","D","Eb","E","F","F#","G","G#","A","A#","B"]}),u.jsx(Cn,{onClick:D,variant:"play-stop",size:"icon",className:"!w-8 !h-8 flex items-center justify-center ml-1",active:x,title:x?"Stop scale":`Play ${a} ${l} scale`,disabled:!f||f.length===0,children:x?u.jsx(As,{className:"w-6 h-6"}):u.jsx(Ps,{className:"w-6 h-6"})})]})]}),u.jsx("div",{className:"w-px h-8 bg-gray-600/50 mx-8"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-sm text-slate-300 font-medium whitespace-nowrap",children:"Mode:"}),d&&u.jsx(wn,{value:l,className:"w-[11rem]",buttonClassName:"px-3 py-1.5 text-left font-medium text-xs h-10 flex items-center",menuClassName:"min-w-[11rem]",onChange:J,showSearch:!0,options:d})]}),u.jsx("div",{className:"w-px h-8 bg-gray-600/50 mx-8"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-sm text-slate-300 font-medium whitespace-nowrap",children:"Voice:"}),u.jsx(wn,{value:p.instrumentName.replaceAll("_"," "),className:"w-[14rem]",buttonClassName:"px-3 py-1.5 text-left font-medium text-xs h-10 flex items-center",menuClassName:"min-w-[11rem]",onChange:G,showSearch:!0,options:m.map(C=>C.replaceAll("_"," "))})]})]}),u.jsxs("div",{className:"xl:hidden space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-sm text-slate-300 font-medium whitespace-nowrap w-16 flex items-center",children:"Key:"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(wn,{value:a,className:"w-[6em]",buttonClassName:"px-3 py-1.5 text-center font-medium text-xs h-10 flex items-center justify-center",menuClassName:"min-w-[6rem]",onChange:te,showSearch:!1,options:["C","C#","D","Eb","E","F","F#","G","G#","A","A#","B"]}),u.jsx(Cn,{onClick:D,variant:"play-stop",size:"icon",className:"!w-8 !h-8 flex items-center justify-center ml-1",active:x,title:x?"Stop scale":`Play ${a} ${l} scale`,disabled:!f||f.length===0,children:x?u.jsx(As,{className:"w-6 h-6"}):u.jsx(Ps,{className:"w-6 h-6"})})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-sm text-slate-300 font-medium whitespace-nowrap w-16 flex items-center",children:"Mode:"}),d&&u.jsx(wn,{value:l,className:"w-[14rem]",buttonClassName:"px-3 py-1.5 text-left font-medium text-xs h-10 flex items-center",menuClassName:"min-w-[14rem]",onChange:J,showSearch:!0,options:d})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-sm text-slate-300 font-medium whitespace-nowrap w-16 flex items-center",children:"Voice:"}),u.jsx(wn,{value:p.instrumentName.replaceAll("_"," "),className:"w-[14rem]",buttonClassName:"px-3 py-1.5 text-left font-medium text-xs h-10 flex items-center",menuClassName:"min-w-[11rem]",onChange:G,showSearch:!0,options:m.map(C=>C.replaceAll("_"," "))})]})]})]})}),u.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${ee?" opacity-100":"max-h-0 opacity-0"}`,children:u.jsxs("div",{className:"border-t border-gray-600 bg-[#3d434f]",children:[u.jsx("div",{className:"px-4 py-3 border-b border-gray-600",children:u.jsx("h3",{className:"text-left text-sm font-medium text-slate-200 uppercase tracking-wider",children:"Piano Settings"})}),u.jsx("div",{className:"p-6 bg-[#444b59]",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-x-8",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Volume",u.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",Math.round(p.volume*100),"%)"]})]}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"range",min:"0",max:"1.0",step:"0.05",value:p.volume,onChange:C=>z(parseFloat(C.target.value)),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:"Octave Shift"}),u.jsxs("div",{className:"flex items-center justify-between bg-[#3d434f] border border-gray-600 rounded-md p-1.5",children:[u.jsx("button",{onClick:()=>W(Math.max(-3,p.octaveOffset-1)),className:"w-6 h-6 flex items-center justify-center text-slate-300 hover:text-slate-200 hover:bg-[#4a5262] rounded transition-colors",disabled:p.octaveOffset<=-3,children:""}),u.jsx("span",{className:"font-mono text-xs text-slate-200 px-2",children:p.octaveOffset===0?"Normal":`${p.octaveOffset>0?"+":""}${p.octaveOffset} octave${Math.abs(p.octaveOffset)>1?"s":""}`}),u.jsx("button",{onClick:()=>W(Math.min(3,p.octaveOffset+1)),className:"w-6 h-6 flex items-center justify-center text-slate-300 hover:text-slate-200 hover:bg-[#4a5262] rounded transition-colors",disabled:p.octaveOffset>=3,children:"+"})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Reverb",u.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",Math.round(p.reverbLevel*100),"%)"]})]}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"range",min:"0",max:"1.0",step:"0.05",value:p.reverbLevel,onChange:C=>V(parseFloat(C.target.value)),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Note Duration",u.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",Math.round(p.noteDuration*100),"%)"]})]}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"range",min:"0.1",max:"1.0",step:"0.05",value:p.noteDuration,onChange:C=>B(parseFloat(C.target.value)),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})})]}),u.jsx("div",{children:u.jsxs("label",{className:"flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",className:"w-3.5 h-3.5 text-blue-600 bg-[#3d434f] border-gray-600 rounded focus:ring-blue-500 focus:ring-1",checked:p.cutOffPreviousNotes,onChange:C=>j(C.target.checked)}),u.jsx("span",{className:"ml-2 text-xs text-slate-300 uppercase tracking-wide",children:"Cut off previous notes"})]})})]}),u.jsxs("div",{className:"space-y-4 mt-6 lg:mt-0",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:"Equalizer"}),u.jsx("div",{className:"space-y-3",children:[{label:"Bass",key:"bass"},{label:"Mid",key:"mid"},{label:"Treble",key:"treble"}].map(({label:C,key:K})=>u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wide",children:C}),u.jsxs("span",{className:"text-xs text-slate-400 font-mono",children:[p.eq[K]>0?"+":"",p.eq[K].toFixed(1),"dB"]})]}),u.jsx("input",{type:"range",name:K,min:"-24",max:"24",step:"0.5",value:p.eq[K],onChange:re=>{const pe={...p.eq,[K]:parseFloat(re.target.value)};E(pe)},className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})]},K))})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Chorus",u.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",Math.round(p.chorusLevel*100),"%)"]})]}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"range",min:"0",max:"1.0",step:"0.05",value:p.chorusLevel,onChange:C=>T(parseFloat(C.target.value)),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium text-slate-200 mb-2 uppercase tracking-wide",children:["Delay",u.jsxs("span",{className:"text-xs text-slate-400 ml-2 normal-case",children:["(",Math.round(p.delayLevel*100),"%)"]})]}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"range",min:"0",max:"1.0",step:"0.05",value:p.delayLevel,onChange:C=>$(parseFloat(C.target.value)),className:"w-full h-1.5 bg-[#3d434f] rounded appearance-none cursor-pointer slider-thumb"})})]})]})]})]})})]})})]})})},Z5=({isOpen:t,onClose:r,onOpenHelp:o})=>{const s=()=>{r(),o()};return u.jsx(Wu,{isOpen:t,onClose:r,title:"About",className:"max-w-2xl max-h-[85vh]",fixedHeader:!0,children:u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"bg-[#2a2f38] rounded-lg border border-gray-600 overflow-hidden",children:[u.jsx("div",{className:"bg-[#444b59] px-4 py-3 border-b border-gray-600",children:u.jsx("h4",{className:"text-sm font-semibold text-white uppercase tracking-wide",children:"Overview"})}),u.jsxs("div",{className:"p-4 text-sm leading-relaxed space-y-3 text-slate-300 text-left",children:[u.jsx("p",{children:"Modal Chord Buildr is a music learning, composition, and performance tool built with React. The app provides an intuitive interface for exploring musical scales and building chord progressions, while also offering basic synth and sequencer functionality."}),u.jsxs("p",{children:["For more details on how to use this app, please refer to the"," ",u.jsx("button",{onClick:s,className:"font-semibold text-blue-400 hover:text-blue-300 underline underline-offset-2 transition-colors cursor-pointer",children:"Help & Guide"})," ","documentation."]})]})]}),u.jsxs("div",{className:"bg-[#2a2f38] rounded-lg border border-gray-600 overflow-hidden",children:[u.jsx("div",{className:"bg-[#444b59] px-4 py-3 border-b border-gray-600",children:u.jsx("h4",{className:"text-sm font-semibold text-white uppercase tracking-wide",children:"Key Features"})}),u.jsx("div",{className:"p-4",children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded-md hover:bg-[#3d434f]/50 transition-colors",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),u.jsx("span",{className:"text-sm text-slate-300 text-left",children:"Interactive piano with multiple instruments and audio effects"})]}),u.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded-md hover:bg-[#3d434f]/50 transition-colors",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),u.jsx("span",{className:"text-sm text-slate-300 text-left",children:"Pattern sequencer with customizable rhythmic patterns"})]}),u.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded-md hover:bg-[#3d434f]/50 transition-colors",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),u.jsx("span",{className:"text-sm text-slate-300 text-left",children:"Extensive chord explorer with mode-based chord generation"})]}),u.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded-md hover:bg-[#3d434f]/50 transition-colors",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),u.jsx("span",{className:"text-sm text-slate-300 text-left",children:"Real-time visualization of scale notes and chord relationships"})]}),u.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded-md hover:bg-[#3d434f]/50 transition-colors",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),u.jsx("span",{className:"text-sm text-slate-300 text-left",children:"Live mode for performance and improvisation"})]})]})})]}),u.jsxs("div",{className:"bg-[#2a2f38] rounded-lg border border-gray-600 overflow-hidden",children:[u.jsx("div",{className:"bg-[#444b59] px-4 py-3 border-b border-gray-600",children:u.jsx("h4",{className:"text-sm font-semibold text-white uppercase tracking-wide",children:"Links"})}),u.jsxs("div",{className:"p-4 space-y-3",children:[u.jsxs("a",{href:"https://github.com/jekrch/chord-analyzr",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-3 rounded-lg bg-[#3d434f]/50 hover:bg-[#4a5262]/70 transition-all duration-200 group",children:[u.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-700 group-hover:bg-gray-600 transition-colors",children:u.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 0C4.477 0 0 4.484 0 10.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0110 4.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.203 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.942.359.31.678.921.678 1.856 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0020 10.017C20 4.484 15.522 0 10 0z",clipRule:"evenodd"})})}),u.jsxs("div",{className:"flex-1 text-left",children:[u.jsx("div",{className:"text-sm font-medium text-white group-hover:text-blue-200 transition-colors",children:"GitHub Repository"}),u.jsx("div",{className:"text-xs text-slate-400",children:"View source code and documentation"})]})]}),u.jsxs("a",{href:"https://jacobkrch.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-3 rounded-lg bg-[#3d434f]/50 hover:bg-[#4a5262]/70 transition-all duration-200 group",children:[u.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-blue-600 group-hover:bg-blue-500 transition-colors",children:u.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})}),u.jsx("div",{className:"flex-1 text-left",children:u.jsx("div",{className:"text-sm font-medium text-white group-hover:text-blue-200 transition-colors",children:"jacobkrch.com"})})]})]})]}),u.jsx("div",{className:"pt-4 border-t border-gray-600/50",children:u.jsx("p",{className:"text-xs text-slate-400 text-left",children:" 2025 Jacob Krch. All rights reserved."})})]})})},Qn=({title:t,children:r,defaultOpen:o=!1})=>{const[s,a]=b.useState(o);return u.jsxs("div",{className:"bg-[#2a2f38] rounded-lg border border-gray-600 overflow-hidden mb-4",children:[u.jsxs("button",{onClick:()=>a(!s),className:"w-full flex items-center justify-between p-4 text-left bg-[#444b59] border-b border-gray-600 hover:bg-[#4a5262] transition-all duration-200",children:[u.jsx("h4",{className:"text-sm font-semibold text-white uppercase tracking-wide",children:t}),s?u.jsx(Kr,{className:"w-4 h-4 text-slate-300 flex-shrink-0"}):u.jsx(og,{className:"w-4 h-4 text-slate-300 flex-shrink-0"})]}),s&&u.jsx("div",{className:"p-4 text-slate-300",children:r})]})},J5=({isOpen:t,onClose:r})=>u.jsx(Wu,{isOpen:t,onClose:r,title:"Help & Guide",className:"max-w-4xl max-h-[85vh]",fixedHeader:!0,children:u.jsxs("div",{className:"p-6 space-y-4",children:[u.jsx(Qn,{title:"Quick Start",defaultOpen:!0,children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-start space-x-4 p-3 rounded-lg bg-[#3d434f]/30 hover:bg-[#3d434f]/50 transition-colors",children:[u.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-blue-600 text-white text-sm font-bold flex-shrink-0",children:"1"}),u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-sm font-semibold text-white mb-1",children:"Choose a Key & Mode"}),u.jsx("div",{className:"text-sm text-slate-300",children:"Use the Controls section to select your musical key and mode (like C Ionian, D# Lydian, etc.)"})]})]}),u.jsxs("div",{className:"flex items-start space-x-4 p-3 rounded-lg bg-[#3d434f]/30 hover:bg-[#3d434f]/50 transition-colors",children:[u.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-blue-600 text-white text-sm font-bold flex-shrink-0",children:"2"}),u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-sm font-semibold text-white mb-1",children:"Explore Chords"}),u.jsx("div",{className:"text-sm text-slate-300",children:"Browse the Chord Explorer below to discover chords that fit your chosen key/mode"})]})]}),u.jsxs("div",{className:"flex items-start space-x-4 p-3 rounded-lg bg-[#3d434f]/30 hover:bg-[#3d434f]/50 transition-colors",children:[u.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-blue-600 text-white text-sm font-bold flex-shrink-0",children:"3"}),u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-sm font-semibold text-white mb-1",children:"Build Sequences"}),u.jsx("div",{className:"text-sm text-slate-300",children:"Click the + button on chords to add them to your sequence"})]})]}),u.jsxs("div",{className:"flex items-start space-x-4 p-3 rounded-lg bg-[#3d434f]/30 hover:bg-[#3d434f]/50 transition-colors",children:[u.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-blue-600 text-white text-sm font-bold flex-shrink-0",children:"4"}),u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-sm font-semibold text-white mb-1",children:"Create Patterns"}),u.jsx("div",{className:"text-sm text-slate-300",children:"Use the Sequencer to create rhythmic patterns for your chords"})]})]}),u.jsxs("div",{className:"flex items-start space-x-4 p-3 rounded-lg bg-[#3d434f]/30 hover:bg-[#3d434f]/50 transition-colors",children:[u.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-blue-600 text-white text-sm font-bold flex-shrink-0",children:"5"}),u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-sm font-semibold text-white mb-1",children:"Play & Perform"}),u.jsx("div",{className:"text-sm text-slate-300",children:"Hit Play to hear your creation, or use Live Mode for real-time performance"})]})]})]})}),u.jsx(Qn,{title:"Keyboard Shortcuts",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsx("h5",{className:"text-white font-semibold text-sm border-b border-gray-600 pb-2 text-left",children:"Playback Control"}),u.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md bg-[#3d434f]/30",children:[u.jsx("span",{className:"text-sm text-left",children:"Play/Pause sequencer"}),u.jsx("kbd",{className:"px-2 py-1 bg-gray-700 rounded text-xs font-mono",children:"Space"})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("h5",{className:"text-white font-semibold text-sm border-b border-gray-600 pb-2 text-left",children:"Navigation"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md bg-[#3d434f]/30",children:[u.jsx("span",{className:"text-sm text-left",children:"Expand chord buttons"}),u.jsx("kbd",{className:"px-2 py-1 bg-gray-700 rounded text-xs font-mono",children:"L"})]}),u.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md bg-[#3d434f]/30",children:[u.jsx("span",{className:"text-sm text-left",children:"Select chord from sequence"}),u.jsx("kbd",{className:"px-2 py-1 bg-gray-700 rounded text-xs font-mono",children:"1-9"})]})]})]})]})}),u.jsx(Qn,{title:"Piano & Audio Controls",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[u.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Piano Interaction"}),u.jsx("p",{className:"text-sm text-left",children:"Click piano keys to play individual notes. The piano highlights scale notes and chord tones based on your current selection."})]}),u.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[u.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Audio Settings"}),u.jsx("p",{className:"text-sm mb-3 text-left",children:"Access comprehensive audio controls through the Settings panel in the Controls section:"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-start space-x-2 text-sm",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),u.jsxs("div",{className:"text-left",children:[u.jsx("strong",{className:"text-white",children:"Voice:"})," ",u.jsx("span",{className:"text-slate-300",children:"Choose from multiple instrument sounds"})]})]}),u.jsxs("div",{className:"flex items-start space-x-2 text-sm",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),u.jsxs("div",{className:"text-left",children:[u.jsx("strong",{className:"text-white",children:"Volume & Octave:"})," ",u.jsx("span",{className:"text-slate-300",children:"Adjust overall volume and pitch range"})]})]}),u.jsxs("div",{className:"flex items-start space-x-2 text-sm",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),u.jsxs("div",{className:"text-left",children:[u.jsx("strong",{className:"text-white",children:"Effects:"})," ",u.jsx("span",{className:"text-slate-300",children:"Add reverb, chorus, and delay"})]})]}),u.jsxs("div",{className:"flex items-start space-x-2 text-sm",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),u.jsxs("div",{className:"text-left",children:[u.jsx("strong",{className:"text-white",children:"Equalizer:"})," ",u.jsx("span",{className:"text-slate-300",children:"Shape the sound with bass, mid, and treble controls"})]})]}),u.jsxs("div",{className:"flex items-start space-x-2 text-sm",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),u.jsxs("div",{className:"text-left",children:[u.jsx("strong",{className:"text-white",children:"Note Duration:"})," ",u.jsx("span",{className:"text-slate-300",children:"Control how long notes ring out"})]})]})]})]})]})}),u.jsx(Qn,{title:"Pattern Sequencer",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[u.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Understanding Patterns"}),u.jsx("p",{className:"text-sm mb-3 text-left",children:"Patterns control which chord tones play at different time steps. Each step can be:"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-md bg-[#2a2f38]",children:[u.jsx("code",{className:"px-2 py-1 bg-gray-700 rounded text-xs font-mono text-white min-w-[4rem] text-center",children:""}),u.jsx("span",{className:"text-sm text-slate-300 text-left",children:"Rest/silence"})]}),u.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-md bg-[#2a2f38]",children:[u.jsx("code",{className:"px-2 py-1 bg-gray-700 rounded text-xs font-mono text-white min-w-[4rem] text-center",children:"1, 2, 3..."}),u.jsx("span",{className:"text-sm text-slate-300 text-left",children:"Play the 1st, 2nd, 3rd... note of the chord"})]}),u.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-md bg-[#2a2f38]",children:[u.jsx("code",{className:"px-2 py-1 bg-gray-700 rounded text-xs font-mono text-white min-w-[4rem] text-center",children:"1, 2..."}),u.jsx("span",{className:"text-sm text-slate-300 text-left",children:"Play the note one octave higher"})]})]})]}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:u.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[u.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Pattern Controls"}),u.jsxs("div",{className:"space-y-2 text-sm text-left",children:[u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Add/Remove Steps:"})," Use the +/- buttons to change pattern length"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Pattern Presets:"})," Choose from pre-built patterns or create your own"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Timing:"})," Adjust BPM, subdivision, and swing feel"]})]})]})})]})}),u.jsx(Qn,{title:"Chord Explorer & Sequences",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[u.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Finding Chords"}),u.jsx("p",{className:"text-sm mb-3 text-left",children:"The Chord Explorer shows all chords that fit your selected key and mode. You can:"}),u.jsxs("div",{className:"space-y-2 text-sm text-left",children:[u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Filter by root note"})," to find specific chord types"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Search"})," for chord names or note combinations"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Click to preview"})," any chord"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Click "})," to see the individual notes in a chord"]})]})]}),u.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[u.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Building Sequences"}),u.jsxs("p",{className:"text-sm mb-3 text-left",children:["Add chords to your sequence using the ",u.jsx("span",{className:"text-green-400 font-bold",children:"+"})," button. Your chord sequence appears at the bottom where you can:"]}),u.jsxs("div",{className:"space-y-2 text-sm text-left",children:[u.jsx("div",{children:"Click any chord to play it immediately"}),u.jsx("div",{children:"Use numbers 1-9 to jump between chords"}),u.jsx("div",{children:"Toggle Delete mode to remove unwanted chords"}),u.jsx("div",{children:"Clear all chords to start fresh"}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-blue-400",children:"Click the gear icon"})," to enter Edit mode and modify chords"]})]})]})]})}),u.jsx(Qn,{title:"Chord Editing",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[u.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Edit Mode"}),u.jsxs("p",{className:"text-sm mb-3 text-left",children:["Click the ",u.jsx("span",{className:"text-blue-400 font-bold",children:"gear icon"})," next to your chord sequence to enter Edit Mode. In this mode, you can:"]}),u.jsxs("div",{className:"space-y-2 text-sm text-left",children:[u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Click any chord"})," to open the chord editor"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Modify chord voicings"})," by reordering notes"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Add slash chords"})," to change the bass note"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Preview changes"})," before saving them"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[u.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Slash Chords"}),u.jsx("p",{className:"text-sm mb-3 text-left",children:"Create slash chords (like C/E) by specifying a bass note:"}),u.jsxs("div",{className:"space-y-2 text-sm text-left",children:[u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Bass Note Field:"})," Enter a note name (e.g., E, Gb, C)"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Automatic Voicing:"})," The bass note moves to the lowest position"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Chord Name:"})," Updates to show the slash notation (C/E)"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Remove Bass:"})," Clear the field to return to original chord"]})]})]}),u.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[u.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Note Reordering"}),u.jsx("p",{className:"text-sm mb-3 text-left",children:"Change the order of chord notes for different voicings:"}),u.jsxs("div",{className:"space-y-2 text-sm text-left",children:[u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Drag & Drop:"})," Drag notes to reorder them"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Arrow Buttons:"})," Use up/down arrows to move notes"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Auto-Detection:"})," Slash note updates automatically when you change the bass"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Visual Feedback:"})," Slash notes are highlighted in amber"]})]})]})]}),u.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[u.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Editor Controls"}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2 text-sm text-left",children:[u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Preview:"})," Click the play button to hear your changes"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Save:"})," Green checkmark to confirm edits"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Cancel:"})," Discard changes and close editor"]})]}),u.jsxs("div",{className:"space-y-2 text-sm text-left",children:[u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Original Notes:"})," Editor preserves original chord voicing"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Real-time Updates:"})," Changes reflect immediately in the editor"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Full-screen:"})," Editor takes over the entire interface for focused editing"]})]})]})]})]})}),u.jsx(Qn,{title:"Live Mode",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[u.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Performance Mode"}),u.jsx("p",{className:"text-sm mb-3 text-left",children:"Live Mode expands your chord sequence into a full-screen performance interface perfect for:"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded-md bg-[#2a2f38]",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),u.jsxs("div",{className:"text-sm text-left",children:[u.jsx("strong",{className:"text-white",children:"Live performance:"})," ",u.jsx("span",{className:"text-slate-300",children:"Large, touch-friendly chord buttons"})]})]}),u.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded-md bg-[#2a2f38]",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),u.jsxs("div",{className:"text-sm text-left",children:[u.jsx("strong",{className:"text-white",children:"Practice sessions:"})," ",u.jsx("span",{className:"text-slate-300",children:"Easy chord switching with visual feedback"})]})]}),u.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded-md bg-[#2a2f38]",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),u.jsxs("div",{className:"text-sm text-left",children:[u.jsx("strong",{className:"text-white",children:"Composition:"})," ",u.jsx("span",{className:"text-slate-300",children:"Hear chord progressions in real-time"})]})]})]})]}),u.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[u.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Using Live Mode"}),u.jsxs("div",{className:"space-y-2 text-sm text-left",children:[u.jsx("div",{children:'Click "Expand" in the chord sequence to enter Live Mode'}),u.jsx("div",{children:"Use keyboard numbers 1-9 or click/tap chord buttons"}),u.jsx("div",{children:"The sequencer continues playing your patterns"}),u.jsx("div",{children:"Active chord is highlighted in blue"})]})]})]})}),u.jsxs(Qn,{title:"Interface Tips",children:[u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[u.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Navigation"}),u.jsxs("div",{className:"space-y-2 text-sm text-left",children:[u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Sequencer Header:"})," Click to show/hide the pattern editor"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Settings Panels:"})," Most sections have expandable settings"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Status Indicators:"})," Top bar shows current key, mode, and playback status"]})]})]})}),u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[u.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Visual Feedback"}),u.jsxs("div",{className:"space-y-2 text-sm text-left",children:[u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Piano Keys:"})," Scale notes are highlighted in blue"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Chord Tones:"})," Active chord notes show in brighter colors"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Step Indicator:"})," Shows current position in the pattern"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Animations:"})," Visual feedback for chord changes and playback"]})]})]})})]}),u.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30 mt-4",children:[u.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Responsive Design"}),u.jsx("p",{className:"text-sm text-left",children:"The interface adapts to different screen sizes. On mobile devices, some controls are simplified and touch-optimized for better usability."})]})]}),u.jsx(Qn,{title:"Troubleshooting",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[u.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Audio Issues"}),u.jsxs("div",{className:"space-y-2 text-sm text-left",children:[u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"No sound:"})," Check device volume and ensure audio isn't muted"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"iOS devices:"})," Tap any button first to initialize audio"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Distorted audio:"})," Lower the volume setting in piano controls"]})]})]}),u.jsxs("div",{className:"p-4 rounded-lg bg-[#3d434f]/30",children:[u.jsx("h5",{className:"text-white font-semibold mb-3 text-sm text-left",children:"Performance"}),u.jsxs("div",{className:"space-y-2 text-sm text-left",children:[u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Lag or glitches:"})," Close other browser tabs using audio"]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-white",children:"Mobile performance:"})," Use lower reverb/effect settings for better performance"]})]})]})]})}),u.jsx("div",{className:"mt-8 pt-6 border-t border-gray-600/50",children:u.jsx("p",{className:"text-xs text-slate-400 text-left",children:"Need more help? Check the GitHub repository for detailed documentation and examples."})})]})}),e3=()=>{const[t,r]=b.useState(!1),[o,s]=b.useState(!1),[a,l]=b.useState(!1),d=b.useRef(null),f=b.useRef(null),p=Nn(),{key:m,mode:x}=p;b.useEffect(()=>{const N=S=>{d.current&&f.current&&!d.current.contains(S.target)&&!f.current.contains(S.target)&&l(!1)};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]);const v=N=>{N(),l(!1)},y=()=>{s(!0)};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"bg-[#3d434f] border-b border-gray-600",children:u.jsx("div",{className:"relative",children:u.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"relative flex items-center mt-2",children:[u.jsx("div",{className:"relative w-12 h-12",children:u.jsxs("svg",{viewBox:"0 0 48 48",className:"w-12 h-12",children:[u.jsx("polygon",{points:"24,2 38,12 38,28 24,38 10,28 10,12",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-slate-300"}),u.jsx("circle",{cx:"18",cy:"20",r:"2",fill:"currentColor",className:"text-slate-400"}),u.jsx("circle",{cx:"30",cy:"20",r:"2",fill:"currentColor",className:"text-slate-400"}),u.jsx("circle",{cx:"24",cy:"28",r:"2",fill:"currentColor",className:"text-slate-400"}),u.jsx("line",{x1:"18",y1:"20",x2:"24",y2:"28",stroke:"currentColor",strokeWidth:"1.5",className:"text-slate-400"}),u.jsx("line",{x1:"30",y1:"20",x2:"24",y2:"28",stroke:"currentColor",strokeWidth:"1.5",className:"text-slate-400"}),u.jsx("line",{x1:"18",y1:"20",x2:"30",y2:"20",stroke:"currentColor",strokeWidth:"1.5",className:"text-slate-400"})]})}),u.jsx("div",{className:"absolute -top-1 -right-0 w-2 h-2 border border-slate-400 transform rotate-39"})]}),u.jsx("div",{className:"flex items-center space-x-3",children:u.jsxs("div",{className:"flex flex-col items-start",children:[u.jsx("h1",{className:"text-xl font-bold text-blue-500 tracking-tight leading-none",children:"modal"}),u.jsxs("div",{className:"flex items-center space-x-0.5",children:[u.jsx("span",{className:"text-xs text-slate-400 font-medium uppercase tracking-widest",children:"chord"}),u.jsx("div",{className:"w-1 h-1 mr-[0.2em] bg-slate-400"}),u.jsx("span",{className:"text-xs text-slate-400 font-medium uppercase tracking-widest",children:"buildr"})]})]})})]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"hidden sm:flex items-center space-x-2 text-sm",children:[u.jsx("div",{className:"px-2 py-0.5 bg-[#444b59] border border-gray-600 rounded text-slate-300 font-mono",children:m}),u.jsx("div",{className:"w-px h-4 bg-slate-600"}),u.jsx("div",{className:"px-2 py-1 bg-[#444b59] border border-gray-600 rounded text-slate-300 text-xs font-mono",children:x})]}),u.jsxs("div",{className:"relative",children:[u.jsx("button",{ref:f,onClick:()=>l(!a),className:"w-9 h-9 flex items-center justify-center text-slate-400 hover:text-slate-200 hover:bg-[#4a5262] rounded-lg transition-all duration-200 border border-transparent hover:border-gray-600",title:"Menu",children:u.jsx(yb,{className:"w-5 h-5"})}),a&&u.jsx("div",{ref:d,className:"absolute right-0 mt-2 w-64 bg-[#3d434f] border border-gray-600 rounded-lg shadow-xl z-50 overflow-hidden",children:u.jsxs("div",{className:"py-2",children:[u.jsxs("button",{onClick:()=>v(()=>r(!0)),className:"w-full px-4 py-2.5 text-left flex items-center space-x-3 text-slate-400 hover:text-slate-200 hover:bg-[#4a5262] transition-all duration-150",children:[u.jsx(wb,{className:"w-4 h-4 flex-shrink-0"}),u.jsx("span",{className:"text-sm font-medium",children:"About"})]}),u.jsxs("button",{onClick:()=>v(()=>s(!0)),className:"w-full px-4 py-2.5 text-left flex items-center space-x-3 text-slate-400 hover:text-slate-200 hover:bg-[#4a5262] transition-all duration-150",children:[u.jsx(ig,{className:"w-4 h-4 flex-shrink-0"}),u.jsx("span",{className:"text-sm font-medium",children:"Help"})]})]})})]})]})]})})}),u.jsx(Z5,{isOpen:t,onClose:()=>r(!1),onOpenHelp:y}),u.jsx(J5,{isOpen:o,onClose:()=>s(!1)})]})},t3=(t,r,o,s)=>t?s:r!==null&&o[r]?.pattern?o[r].pattern:s,n3=()=>{const{globalPatternState:t,currentlyActivePattern:r}=Ao(),{temporaryChord:o,activeChordIndex:s,addedChords:a}=Sr(),{isPlaying:l,bpm:d,currentStep:f}=t,p=b.useMemo(()=>t3(o,s,a,r),[o,s,a,r]);if(!l)return null;const m=p.length>0?p.length:1,x=f%m+1;return u.jsx("div",{className:"w-full px-2 mx-auto items-center",children:u.jsx("div",{className:"px-6 py-3 bg-green-900 bg-opacity-50 rounded-lg border border-green-700 w-full max-w-7xl mx-auto",children:u.jsxs("div",{className:"text-sm text-green-300 flex items-center justify-center space-x-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse mr-2"}),u.jsx("span",{className:"font-medium",children:"Sequencer Active"})]}),u.jsxs("div",{className:"text-xs opacity-80",children:["Pattern: ",p.join("-")," |",` ${d}`," BPM | Step ",x,"/",m,o&&u.jsxs("span",{className:"ml-2 text-yellow-300",children:[" ",o.name]}),!o&&s!==null&&u.jsxs("span",{className:"ml-2 text-purple-300",children:[" ",a[s]?.name]}),!o&&s===null&&u.jsx("span",{className:"ml-2 text-cyan-300",children:" Global pattern"})]})]})})})};function r3(){const{isLiveMode:t,handleChordClick:r,addChordClick:o}=sb(),s=b.useRef(null),a=b.useRef(!1),l=async()=>{if(!a.current)try{await s.current?.play(),a.current=!0,document.removeEventListener("touchstart",l),document.removeEventListener("mousedown",l),document.removeEventListener("click",l)}catch(d){console.error("failed to initialize audio:",d)}};return b.useEffect(()=>(document.addEventListener("touchstart",l),document.addEventListener("mousedown",l),document.addEventListener("click",l),()=>{document.removeEventListener("touchstart",l),document.removeEventListener("mousedown",l),document.removeEventListener("click",l)}),[]),u.jsxs("div",{className:"select-none text-center bg-[#282c34] min-h-screen h-full",children:[u.jsx("audio",{ref:s,preload:"auto",children:u.jsx("source",{src:"/silence.mp3",type:"audio/mp3"})}),u.jsx(e3,{}),u.jsxs("div",{className:`mt-2 flex flex-col items-center justify-start text-[calc(10px+2vmin)] text-white p-4 space-y-6 pb-24 ${t?"pointer-events-none opacity-30":""}`,children:[u.jsx("div",{className:"w-full max-w-7xl",children:u.jsx(O1,{hideConfigControls:!0})}),u.jsx(X5,{}),u.jsx(F1,{}),u.jsx(n3,{}),u.jsx("div",{className:"w-full max-w-7xl mb-20 mt-2",children:u.jsx(Lb,{onChordClick:r,addChordClick:o})})]}),u.jsx(Y5,{})]})}Xx.createRoot(document.getElementById("root")).render(u.jsx(we.StrictMode,{children:u.jsx(r3,{})}));
